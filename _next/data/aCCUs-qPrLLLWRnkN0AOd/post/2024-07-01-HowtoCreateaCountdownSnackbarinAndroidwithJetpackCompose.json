{"pageProps":{"post":{"title":"Jetpack Composeë¡œ ì•ˆë“œë¡œì´ë“œ ì¹´ìš´íŠ¸ë‹¤ìš´ ìŠ¤ë‚µë°” ë§Œë“œëŠ” ë°©ë²•","description":"","date":"2024-07-01 20:04","slug":"2024-07-01-HowtoCreateaCountdownSnackbarinAndroidwithJetpackCompose","content":"\n\ní™˜ì˜í•©ë‹ˆë‹¤ ğŸ‘‹\n\nì´ ê¸°ì‚¬ì—ì„œëŠ” ì ¯íŒ© ì½¤í¬ì¦ˆ(Jetpack Compose)ì—ì„œ ì¹´ìš´íŠ¸ë‹¤ìš´ ìŠ¤ë‚µë°”ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì‚¬ìš©ìê°€ ê³„ì •ì„ ì‚­ì œí•˜ëŠ” ë“± ì¤‘ìš”í•œ ì‘ì—…ì„ ë‹¤ì‹œ ìƒê°í•  ì‹œê°„ì„ ì œê³µí•˜ê¸°ì— ì•ˆì„±ë§ì¶¤ì…ë‹ˆë‹¤.\n\nê³„ì† ì£¼ëª©í•´ ì£¼ì‹œê³ , í•¨ê»˜ ì‹œì‘í•´ ë³´ê² ìŠµë‹ˆë‹¤! ğŸš€\n\n<img src=\"/assets/img/2024-07-01-HowtoCreateaCountdownSnackbarinAndroidwithJetpackCompose_0.png\" />\n\n<div class=\"content-ad\"></div>\n\n# ìŠ¤ë‚µë°” ì¹´ìš´íŠ¸ë‹¤ìš´ ìƒì„±í•˜ê¸°\n\në¨¼ì € ì‹œê°ì ìœ¼ë¡œ ì¹´ìš´íŠ¸ë‹¤ìš´ íƒ€ì´ë¨¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” SnackbarCountdown ì¡°í•© í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\n```js\n@Composable\nprivate fun SnackbarCountdown(\n    timerProgress: Float,\n    secondsRemaining: Int,\n    color: Color\n) {\n    Box(\n        modifier = Modifier.size(24.dp),\n        contentAlignment = Alignment.Center\n    ) {\n        Canvas(Modifier.matchParentSize()) {\n            // ìŠ¤íŠ¸ë¡œí¬ ì •ì˜\n            val strokeStyle = Stroke(\n                width = 3.dp.toPx(),\n                cap = StrokeCap.Round\n            )\n            // íŠ¸ë™ ê·¸ë¦¬ê¸°\n            drawCircle(\n                color = color.copy(alpha = 0.12f),\n                style = strokeStyle\n            )\n            // ì§„í–‰ ìƒí™© ê·¸ë¦¬ê¸°\n            drawArc(\n                color = color,\n                startAngle = -90f,\n                sweepAngle = (-360f * timerProgress),\n                useCenter = false,\n                style = strokeStyle\n            )\n        }\n        // ë‚¨ì€ ì´ˆ í‘œì‹œ\n        Text(\n            text = secondsRemaining.toString(),\n            style = LocalTextStyle.current.copy(\n                fontSize = 14.sp,\n                color = color\n            )\n        )\n    }\n}\n```\n\n# ì¹´ìš´íŠ¸ë‹¤ìš´Snackbar í•¨ìˆ˜ ì„¤ì •í•˜ê¸°\n\n<div class=\"content-ad\"></div>\n\nì´ì œ SnackbarCountdownì„ êµ¬ì„±í–ˆìœ¼ë‹ˆ CountdownSnackbarì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ composableì€ ì™¸ê´€ê³¼ ë™ì‘ì„ ì‚¬ìš©ì ì •ì˜í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤.\n\n```js\n@Composable\nfun CountdownSnackbar(\n    snackbarData: SnackbarData,\n    modifier: Modifier = Modifier,\n    durationInSeconds: Int = 5,\n    actionOnNewLine: Boolean = false,\n    shape: Shape = SnackbarDefaults.shape,\n    containerColor: Color = SnackbarDefaults.color,\n    contentColor: Color = SnackbarDefaults.contentColor,\n    actionColor: Color = SnackbarDefaults.actionColor,\n    actionContentColor: Color = SnackbarDefaults.actionContentColor,\n    dismissActionContentColor: Color = SnackbarDefaults.dismissActionContentColor,\n) {\n    // ì—¬ê¸°ì— êµ¬í˜„...\n}\n```\n\nâ³ snackbarData âœ Snackbarì„ ìœ„í•œ ë°ì´í„°.\n\nâ³ modifier âœ Snackbarì— ì ìš©í•  Modifier.\n\n<div class=\"content-ad\"></div>\n\nâ³ durationInSeconds âœ ì¹´ìš´íŠ¸ë‹¤ìš´ íƒ€ì´ë¨¸ì˜ ê¸°ê°„.\n\nâ³ actionOnNewLine âœ ë™ì‘ì„ ë³„ë„ì˜ ì¤„ì— í‘œì‹œí• ì§€ ì—¬ë¶€.\n\nâ³ shape âœ ìŠ¤ë‚µë°” ì»¨í…Œì´ë„ˆì˜ ëª¨ì–‘.\n\nâ³ containerColor, contentColor, actionColor, actionContentColor, dismissActionContentColor âœ ë‹¤ì–‘í•œ ìƒ‰ìƒ ìŠ¤íƒ€ì¼ë§ ë§¤ê°œë³€ìˆ˜.\n\n<div class=\"content-ad\"></div>\n\n# CountdownSnackbar êµ¬í˜„\n\n## ìŠ¤ë‚µë°”ì˜ ì§€ì† ì‹œê°„ ë° ìƒíƒœ ê´€ë¦¬\n\në‹¤ìŒìœ¼ë¡œ, ë°€ë¦¬ì´ˆë¡œ ì´ ì§€ì† ì‹œê°„ì„ ê³„ì‚°í•˜ê³  ìƒíƒœ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚¨ì€ ì‹œê°„ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. ë˜í•œ LaunchedEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ì¹´ìš´íŠ¸ë‹¤ìš´ì„ ì²˜ë¦¬í•˜ê³  ì‹œê°„ì´ ë‹¤ ë˜ë©´ ìŠ¤ë‚µë°”ë¥¼ í•´ì œí•©ë‹ˆë‹¤.\n\n```js\nval totalDuration = remember(durationInSeconds) { durationInSeconds * 1000 }\nvar millisRemaining by remember { mutableIntStateOf(totalDuration) }\n\nLaunchedEffect(snackbarData) {\n    while (millisRemaining > 0) {\n        delay(40)\n        millisRemaining -= 40\n    }\n    snackbarData.dismiss()\n}\n```\n\n<div class=\"content-ad\"></div>\n\n40ë°€ë¦¬ì´ˆ ê°„ê²©ì„ ì‚¬ìš©í•˜ë©´ ì¸ê°„ì˜ ëˆˆì— ë§¤ë„ëŸ¬ìš´ 25 FPS ì§„í–‰ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤. íŠ¹ì • ìš”êµ¬ ì‚¬í•­ì— ë§ê²Œ ì¡°ì •í•´ ì£¼ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.\n\n## ì‘ì—… ë° ë‹«ê¸° ë²„íŠ¼ ì²˜ë¦¬\n\nì‘ì—… ë° ë‹«ê¸° ë²„íŠ¼ì„ ë§Œë“¤ê¸° ìœ„í•´ snackbarDataì—ì„œ ì œê³µëœ ì •ë³´ë¥¼ í™œìš©í•©ë‹ˆë‹¤.\n\n```js\n// ì‘ì—… ë ˆì´ë¸”ì´ ì œê³µë˜ë©´ ì‘ì—… ë²„íŠ¼ ì •ì˜\nval actionLabel = snackbarData.visuals.actionLabel\nval actionComposable: (@Composable () -> Unit)? = if (actionLabel != null) {\n    @Composable {\n        TextButton(\n            colors = ButtonDefaults.textButtonColors(contentColor = actionColor),\n            onClick = { snackbarData.performAction() },\n            content = { Text(actionLabel) }\n        )\n    }\n} else {\n    null\n}\n\n// snackbarì— ë‹«ê¸° ì‘ì—…ì´ í¬í•¨ë˜ì–´ ìˆëŠ” ê²½ìš° ë‹«ê¸° ë²„íŠ¼ ì •ì˜\nval dismissActionComposable: (@Composable () -> Unit)? = if (snackbarData.visuals.withDismissAction) {\n    @Composable {\n        IconButton(\n            onClick = { snackbarData.dismiss() },\n            content = {\n                Icon(Icons.Rounded.Close, null)\n            }\n        )\n    }\n} else {\n    null\n}\n```\n\n<div class=\"content-ad\"></div>\n\n## Snackbar í‘œì‹œ\n\në§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë“  ê²ƒì„ í•¨ê»˜ ëª¨ì•„ Snackbarë¥¼ í‘œì‹œí•´ ë´…ì‹œë‹¤.\n\n```js\nSnackbar(\n    modifier = modifier.padding(12.dp), // Snackbar ì£¼ë³€ì— íŒ¨ë”© ì ìš©\n    action = actionComposable,\n    actionOnNewLine = actionOnNewLine,\n    dismissAction = dismissActionComposable,\n    dismissActionContentColor = dismissActionContentColor,\n    actionContentColor = actionContentColor,\n    containerColor = containerColor,\n    contentColor = contentColor,\n    shape = shape,\n) {\n    Row(\n        verticalAlignment = Alignment.CenterVertically,\n        horizontalArrangement = Arrangement.spacedBy(12.dp)\n    ) {\n        SnackbarCountdown(\n            // íƒ€ì´ë¨¸ ì§„í–‰ ìƒí™© ê³„ì‚°\n            timerProgress = millisRemaining.toFloat() / totalDuration.toFloat(),\n            // ë‚¨ì€ ì´ˆ ê³„ì‚°\n            secondsRemaining = (millisRemaining / 1000) + 1,\n            color = contentColor\n        )\n        // ë©”ì‹œì§€ í‘œì‹œ\n        Text(snackbarData.visuals.message)\n    }\n}\n```\n\nì¶•í•˜í•©ë‹ˆë‹¤ğŸ¥³! ì„±ê³µì ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤ğŸ‘. ì „ì²´ ì½”ë“œ êµ¬í˜„ì€ GitHub Gistì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ğŸ§‘â€ğŸ’». ì´ì œ ì´ë¥¼ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n## ê´‘ê³ \n\nì™¸êµ­ì–´ë¥¼ ë°°ìš°ë©´ì„œ ìƒˆë¡œìš´ ì–´íœ˜ì— ì–´ë ¤ì›€ì„ ê²ªê³  ê³„ì‹ ê°€ìš”? ê·¸ë ‡ë‹¤ë©´, ì—¬ëŸ¬ë¶„ì˜ í•™ìŠµ ì—¬ì •ì„ ì‰½ê³  í¸ë¦¬í•˜ê²Œ ë§Œë“¤ì–´ ì¤„ ì´ ë‹¨ì–´ í•™ìŠµ ì•±ì„ ê¼­ í™•ì¸í•´ë³´ì‹œê¸°ë¥¼ ê°•ë ¥íˆ ì¶”ì²œí•©ë‹ˆë‹¤!\n\n![ì´ë¯¸ì§€](/assets/img/2024-07-01-HowtoCreateaCountdownSnackbarinAndroidwithJetpackCompose_1.png)\n\n# ì‹¤ìš©ì ì¸ ì˜ˆì‹œ ğŸ’\n\n<div class=\"content-ad\"></div>\n\nì´ ë°©ë²•ì„ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ê³„ì •ì„ ì‚­ì œí•˜ê³  ì´ ê²°ì •ì„ 5ì´ˆ ë™ì•ˆ ì·¨ì†Œí•  ìˆ˜ ìˆëŠ” ì˜ˆì œë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.\n\n```kotlin\nBox(Modifier.fillMaxSize()) {\n    val context = LocalContext.current\n    val scope = rememberCoroutineScope()\n    // ìŠ¤ë‚µë°” ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” SnackbarHostStateë¥¼ ì •ì˜í•©ë‹ˆë‹¤\n    val snackbarHostState = remember { SnackbarHostState() }\n\n    Button(\n        modifier = Modifier.align(Alignment.Center),\n        onClick = {\n            scope.launch {\n                // ìŠ¤ë‚µë°”ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤\n                val result = snackbarHostState.showSnackbar(\n                    message = \"ì‚¬ìš©ì ê³„ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.\",\n                    actionLabel = \"ì·¨ì†Œ\",\n                    duration = SnackbarDuration.Indefinite\n                )\n                // ìŠ¤ë‚µë°” ê²°ê³¼ ì²˜ë¦¬\n                when (result) {\n                    SnackbarResult.Dismissed -> {\n                        Toast.makeText(context, \"ì˜êµ¬ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤\", Toast.LENGTH_SHORT).show()\n                    }\n                    SnackbarResult.ActionPerformed -> {\n                        Toast.makeText(context, \"ì‚­ì œ ì·¨ì†Œë¨\", Toast.LENGTH_SHORT).show()\n                    }\n                }\n            }\n        }\n    ) {\n        Text(\"ê³„ì • ì‚­ì œ\")\n    }\n\n    // ìŠ¤ë‚µë°”ë¥¼ í‘œì‹œí•˜ëŠ” SnackbarHostë¥¼ ìƒì„±í•©ë‹ˆë‹¤\n    SnackbarHost(\n        hostState = snackbarHostState,\n        modifier = Modifier.align(BottomCenter)\n    ) { data ->\n        // CountdownSnackbarë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤\n        CountdownSnackbar(data)\n    }\n}\n```\n\n## ê²°ê³¼:\n\n<img src=\"https://miro.medium.com/v2/resize:fit:1400/1*7-Q98heTXND5N7XbAEKBYQ.gif\" />\n\n\n<div class=\"content-ad\"></div>\n\nì•„ë˜ ë‚´ìš©ë„ ì¢‹ì•„í• ì§€ë„ìš” ğŸ‘‡\n\nì´ ê¸°ì‚¬ë¥¼ ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! â¤ï¸ ì¦ê²ê³  ê°€ì¹˜ ìˆê²Œ ì½ìœ¼ì…¨ê¸¸ ë°”ëë‹ˆë‹¤. ë§Œì•½ ì¢‹ì•˜ë‹¤ë©´ ë°•ìˆ˜ ë²„íŠ¼ğŸ‘ì„ ëˆŒëŸ¬ì„œ ê°ì‚¬ë¥¼ í‘œí˜„í•˜ê³  Kappdevë¥¼ íŒ”ë¡œìš°í•´ì„œ ë” ë§ì€ í¥ë¯¸ë¡œìš´ ê¸°ì‚¬ë¥¼ ì½ì–´ë³´ì„¸ìš” ğŸ˜Š\n\nì½”ë”© ì¦ê¸°ì„¸ìš”!\n\n![ì´ë¯¸ì§€](/assets/img/2024-07-01-HowtoCreateaCountdownSnackbarinAndroidwithJetpackCompose_2.png)","ogImage":{"url":"/assets/img/2024-07-01-HowtoCreateaCountdownSnackbarinAndroidwithJetpackCompose_0.png"},"coverImage":"/assets/img/2024-07-01-HowtoCreateaCountdownSnackbarinAndroidwithJetpackCompose_0.png","tag":["Tech"],"readingTime":7},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>í™˜ì˜í•©ë‹ˆë‹¤ ğŸ‘‹</p>\n<p>ì´ ê¸°ì‚¬ì—ì„œëŠ” ì ¯íŒ© ì½¤í¬ì¦ˆ(Jetpack Compose)ì—ì„œ ì¹´ìš´íŠ¸ë‹¤ìš´ ìŠ¤ë‚µë°”ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì‚¬ìš©ìê°€ ê³„ì •ì„ ì‚­ì œí•˜ëŠ” ë“± ì¤‘ìš”í•œ ì‘ì—…ì„ ë‹¤ì‹œ ìƒê°í•  ì‹œê°„ì„ ì œê³µí•˜ê¸°ì— ì•ˆì„±ë§ì¶¤ì…ë‹ˆë‹¤.</p>\n<p>ê³„ì† ì£¼ëª©í•´ ì£¼ì‹œê³ , í•¨ê»˜ ì‹œì‘í•´ ë³´ê² ìŠµë‹ˆë‹¤! ğŸš€</p>\n<img src=\"/assets/img/2024-07-01-HowtoCreateaCountdownSnackbarinAndroidwithJetpackCompose_0.png\">\n<div class=\"content-ad\"></div>\n<h1>ìŠ¤ë‚µë°” ì¹´ìš´íŠ¸ë‹¤ìš´ ìƒì„±í•˜ê¸°</h1>\n<p>ë¨¼ì € ì‹œê°ì ìœ¼ë¡œ ì¹´ìš´íŠ¸ë‹¤ìš´ íƒ€ì´ë¨¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” SnackbarCountdown ì¡°í•© í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">@<span class=\"hljs-title class_\">Composable</span>\nprivate fun <span class=\"hljs-title class_\">SnackbarCountdown</span>(\n    <span class=\"hljs-attr\">timerProgress</span>: <span class=\"hljs-title class_\">Float</span>,\n    <span class=\"hljs-attr\">secondsRemaining</span>: <span class=\"hljs-title class_\">Int</span>,\n    <span class=\"hljs-attr\">color</span>: <span class=\"hljs-title class_\">Color</span>\n) {\n    <span class=\"hljs-title class_\">Box</span>(\n        modifier = <span class=\"hljs-title class_\">Modifier</span>.<span class=\"hljs-title function_\">size</span>(<span class=\"hljs-number\">24.</span>dp),\n        contentAlignment = <span class=\"hljs-title class_\">Alignment</span>.<span class=\"hljs-property\">Center</span>\n    ) {\n        <span class=\"hljs-title class_\">Canvas</span>(<span class=\"hljs-title class_\">Modifier</span>.<span class=\"hljs-title function_\">matchParentSize</span>()) {\n            <span class=\"hljs-comment\">// ìŠ¤íŠ¸ë¡œí¬ ì •ì˜</span>\n            val strokeStyle = <span class=\"hljs-title class_\">Stroke</span>(\n                width = <span class=\"hljs-number\">3.</span>dp.<span class=\"hljs-title function_\">toPx</span>(),\n                cap = <span class=\"hljs-title class_\">StrokeCap</span>.<span class=\"hljs-property\">Round</span>\n            )\n            <span class=\"hljs-comment\">// íŠ¸ë™ ê·¸ë¦¬ê¸°</span>\n            <span class=\"hljs-title function_\">drawCircle</span>(\n                color = color.<span class=\"hljs-title function_\">copy</span>(alpha = <span class=\"hljs-number\">0.</span>12f),\n                style = strokeStyle\n            )\n            <span class=\"hljs-comment\">// ì§„í–‰ ìƒí™© ê·¸ë¦¬ê¸°</span>\n            <span class=\"hljs-title function_\">drawArc</span>(\n                color = color,\n                startAngle = -90f,\n                sweepAngle = (-360f * timerProgress),\n                useCenter = <span class=\"hljs-literal\">false</span>,\n                style = strokeStyle\n            )\n        }\n        <span class=\"hljs-comment\">// ë‚¨ì€ ì´ˆ í‘œì‹œ</span>\n        <span class=\"hljs-title class_\">Text</span>(\n            text = secondsRemaining.<span class=\"hljs-title function_\">toString</span>(),\n            style = <span class=\"hljs-title class_\">LocalTextStyle</span>.<span class=\"hljs-property\">current</span>.<span class=\"hljs-title function_\">copy</span>(\n                fontSize = <span class=\"hljs-number\">14.</span>sp,\n                color = color\n            )\n        )\n    }\n}\n</code></pre>\n<h1>ì¹´ìš´íŠ¸ë‹¤ìš´Snackbar í•¨ìˆ˜ ì„¤ì •í•˜ê¸°</h1>\n<div class=\"content-ad\"></div>\n<p>ì´ì œ SnackbarCountdownì„ êµ¬ì„±í–ˆìœ¼ë‹ˆ CountdownSnackbarì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ composableì€ ì™¸ê´€ê³¼ ë™ì‘ì„ ì‚¬ìš©ì ì •ì˜í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">@<span class=\"hljs-title class_\">Composable</span>\nfun <span class=\"hljs-title class_\">CountdownSnackbar</span>(\n    <span class=\"hljs-attr\">snackbarData</span>: <span class=\"hljs-title class_\">SnackbarData</span>,\n    <span class=\"hljs-attr\">modifier</span>: <span class=\"hljs-title class_\">Modifier</span> = <span class=\"hljs-title class_\">Modifier</span>,\n    <span class=\"hljs-attr\">durationInSeconds</span>: <span class=\"hljs-title class_\">Int</span> = <span class=\"hljs-number\">5</span>,\n    <span class=\"hljs-attr\">actionOnNewLine</span>: <span class=\"hljs-title class_\">Boolean</span> = <span class=\"hljs-literal\">false</span>,\n    <span class=\"hljs-attr\">shape</span>: <span class=\"hljs-title class_\">Shape</span> = <span class=\"hljs-title class_\">SnackbarDefaults</span>.<span class=\"hljs-property\">shape</span>,\n    <span class=\"hljs-attr\">containerColor</span>: <span class=\"hljs-title class_\">Color</span> = <span class=\"hljs-title class_\">SnackbarDefaults</span>.<span class=\"hljs-property\">color</span>,\n    <span class=\"hljs-attr\">contentColor</span>: <span class=\"hljs-title class_\">Color</span> = <span class=\"hljs-title class_\">SnackbarDefaults</span>.<span class=\"hljs-property\">contentColor</span>,\n    <span class=\"hljs-attr\">actionColor</span>: <span class=\"hljs-title class_\">Color</span> = <span class=\"hljs-title class_\">SnackbarDefaults</span>.<span class=\"hljs-property\">actionColor</span>,\n    <span class=\"hljs-attr\">actionContentColor</span>: <span class=\"hljs-title class_\">Color</span> = <span class=\"hljs-title class_\">SnackbarDefaults</span>.<span class=\"hljs-property\">actionContentColor</span>,\n    <span class=\"hljs-attr\">dismissActionContentColor</span>: <span class=\"hljs-title class_\">Color</span> = <span class=\"hljs-title class_\">SnackbarDefaults</span>.<span class=\"hljs-property\">dismissActionContentColor</span>,\n) {\n    <span class=\"hljs-comment\">// ì—¬ê¸°ì— êµ¬í˜„...</span>\n}\n</code></pre>\n<p>â³ snackbarData âœ Snackbarì„ ìœ„í•œ ë°ì´í„°.</p>\n<p>â³ modifier âœ Snackbarì— ì ìš©í•  Modifier.</p>\n<div class=\"content-ad\"></div>\n<p>â³ durationInSeconds âœ ì¹´ìš´íŠ¸ë‹¤ìš´ íƒ€ì´ë¨¸ì˜ ê¸°ê°„.</p>\n<p>â³ actionOnNewLine âœ ë™ì‘ì„ ë³„ë„ì˜ ì¤„ì— í‘œì‹œí• ì§€ ì—¬ë¶€.</p>\n<p>â³ shape âœ ìŠ¤ë‚µë°” ì»¨í…Œì´ë„ˆì˜ ëª¨ì–‘.</p>\n<p>â³ containerColor, contentColor, actionColor, actionContentColor, dismissActionContentColor âœ ë‹¤ì–‘í•œ ìƒ‰ìƒ ìŠ¤íƒ€ì¼ë§ ë§¤ê°œë³€ìˆ˜.</p>\n<div class=\"content-ad\"></div>\n<h1>CountdownSnackbar êµ¬í˜„</h1>\n<h2>ìŠ¤ë‚µë°”ì˜ ì§€ì† ì‹œê°„ ë° ìƒíƒœ ê´€ë¦¬</h2>\n<p>ë‹¤ìŒìœ¼ë¡œ, ë°€ë¦¬ì´ˆë¡œ ì´ ì§€ì† ì‹œê°„ì„ ê³„ì‚°í•˜ê³  ìƒíƒœ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚¨ì€ ì‹œê°„ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. ë˜í•œ LaunchedEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ì¹´ìš´íŠ¸ë‹¤ìš´ì„ ì²˜ë¦¬í•˜ê³  ì‹œê°„ì´ ë‹¤ ë˜ë©´ ìŠ¤ë‚µë°”ë¥¼ í•´ì œí•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">val totalDuration = <span class=\"hljs-title function_\">remember</span>(<span class=\"hljs-params\">durationInSeconds</span>) { durationInSeconds * <span class=\"hljs-number\">1000</span> }\n<span class=\"hljs-keyword\">var</span> millisRemaining by remember { <span class=\"hljs-title function_\">mutableIntStateOf</span>(totalDuration) }\n\n<span class=\"hljs-title class_\">LaunchedEffect</span>(snackbarData) {\n    <span class=\"hljs-keyword\">while</span> (millisRemaining > <span class=\"hljs-number\">0</span>) {\n        <span class=\"hljs-title function_\">delay</span>(<span class=\"hljs-number\">40</span>)\n        millisRemaining -= <span class=\"hljs-number\">40</span>\n    }\n    snackbarData.<span class=\"hljs-title function_\">dismiss</span>()\n}\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>40ë°€ë¦¬ì´ˆ ê°„ê²©ì„ ì‚¬ìš©í•˜ë©´ ì¸ê°„ì˜ ëˆˆì— ë§¤ë„ëŸ¬ìš´ 25 FPS ì§„í–‰ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤. íŠ¹ì • ìš”êµ¬ ì‚¬í•­ì— ë§ê²Œ ì¡°ì •í•´ ì£¼ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.</p>\n<h2>ì‘ì—… ë° ë‹«ê¸° ë²„íŠ¼ ì²˜ë¦¬</h2>\n<p>ì‘ì—… ë° ë‹«ê¸° ë²„íŠ¼ì„ ë§Œë“¤ê¸° ìœ„í•´ snackbarDataì—ì„œ ì œê³µëœ ì •ë³´ë¥¼ í™œìš©í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// ì‘ì—… ë ˆì´ë¸”ì´ ì œê³µë˜ë©´ ì‘ì—… ë²„íŠ¼ ì •ì˜</span>\nval actionLabel = snackbarData.<span class=\"hljs-property\">visuals</span>.<span class=\"hljs-property\">actionLabel</span>\nval <span class=\"hljs-attr\">actionComposable</span>: (@<span class=\"hljs-title class_\">Composable</span> () -> <span class=\"hljs-title class_\">Unit</span>)? = <span class=\"hljs-keyword\">if</span> (actionLabel != <span class=\"hljs-literal\">null</span>) {\n    @<span class=\"hljs-title class_\">Composable</span> {\n        <span class=\"hljs-title class_\">TextButton</span>(\n            colors = <span class=\"hljs-title class_\">ButtonDefaults</span>.<span class=\"hljs-title function_\">textButtonColors</span>(contentColor = actionColor),\n            onClick = { snackbarData.<span class=\"hljs-title function_\">performAction</span>() },\n            content = { <span class=\"hljs-title class_\">Text</span>(actionLabel) }\n        )\n    }\n} <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-literal\">null</span>\n}\n\n<span class=\"hljs-comment\">// snackbarì— ë‹«ê¸° ì‘ì—…ì´ í¬í•¨ë˜ì–´ ìˆëŠ” ê²½ìš° ë‹«ê¸° ë²„íŠ¼ ì •ì˜</span>\nval <span class=\"hljs-attr\">dismissActionComposable</span>: (@<span class=\"hljs-title class_\">Composable</span> () -> <span class=\"hljs-title class_\">Unit</span>)? = <span class=\"hljs-keyword\">if</span> (snackbarData.<span class=\"hljs-property\">visuals</span>.<span class=\"hljs-property\">withDismissAction</span>) {\n    @<span class=\"hljs-title class_\">Composable</span> {\n        <span class=\"hljs-title class_\">IconButton</span>(\n            onClick = { snackbarData.<span class=\"hljs-title function_\">dismiss</span>() },\n            content = {\n                <span class=\"hljs-title class_\">Icon</span>(<span class=\"hljs-title class_\">Icons</span>.<span class=\"hljs-property\">Rounded</span>.<span class=\"hljs-property\">Close</span>, <span class=\"hljs-literal\">null</span>)\n            }\n        )\n    }\n} <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-literal\">null</span>\n}\n</code></pre>\n<div class=\"content-ad\"></div>\n<h2>Snackbar í‘œì‹œ</h2>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë“  ê²ƒì„ í•¨ê»˜ ëª¨ì•„ Snackbarë¥¼ í‘œì‹œí•´ ë´…ì‹œë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-title class_\">Snackbar</span>(\n    modifier = modifier.<span class=\"hljs-title function_\">padding</span>(<span class=\"hljs-number\">12.</span>dp), <span class=\"hljs-comment\">// Snackbar ì£¼ë³€ì— íŒ¨ë”© ì ìš©</span>\n    action = actionComposable,\n    actionOnNewLine = actionOnNewLine,\n    dismissAction = dismissActionComposable,\n    dismissActionContentColor = dismissActionContentColor,\n    actionContentColor = actionContentColor,\n    containerColor = containerColor,\n    contentColor = contentColor,\n    shape = shape,\n) {\n    <span class=\"hljs-title class_\">Row</span>(\n        verticalAlignment = <span class=\"hljs-title class_\">Alignment</span>.<span class=\"hljs-property\">CenterVertically</span>,\n        horizontalArrangement = <span class=\"hljs-title class_\">Arrangement</span>.<span class=\"hljs-title function_\">spacedBy</span>(<span class=\"hljs-number\">12.</span>dp)\n    ) {\n        <span class=\"hljs-title class_\">SnackbarCountdown</span>(\n            <span class=\"hljs-comment\">// íƒ€ì´ë¨¸ ì§„í–‰ ìƒí™© ê³„ì‚°</span>\n            timerProgress = millisRemaining.<span class=\"hljs-title function_\">toFloat</span>() / totalDuration.<span class=\"hljs-title function_\">toFloat</span>(),\n            <span class=\"hljs-comment\">// ë‚¨ì€ ì´ˆ ê³„ì‚°</span>\n            secondsRemaining = (millisRemaining / <span class=\"hljs-number\">1000</span>) + <span class=\"hljs-number\">1</span>,\n            color = contentColor\n        )\n        <span class=\"hljs-comment\">// ë©”ì‹œì§€ í‘œì‹œ</span>\n        <span class=\"hljs-title class_\">Text</span>(snackbarData.<span class=\"hljs-property\">visuals</span>.<span class=\"hljs-property\">message</span>)\n    }\n}\n</code></pre>\n<p>ì¶•í•˜í•©ë‹ˆë‹¤ğŸ¥³! ì„±ê³µì ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤ğŸ‘. ì „ì²´ ì½”ë“œ êµ¬í˜„ì€ GitHub Gistì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ğŸ§‘â€ğŸ’». ì´ì œ ì´ë¥¼ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<h2>ê´‘ê³ </h2>\n<p>ì™¸êµ­ì–´ë¥¼ ë°°ìš°ë©´ì„œ ìƒˆë¡œìš´ ì–´íœ˜ì— ì–´ë ¤ì›€ì„ ê²ªê³  ê³„ì‹ ê°€ìš”? ê·¸ë ‡ë‹¤ë©´, ì—¬ëŸ¬ë¶„ì˜ í•™ìŠµ ì—¬ì •ì„ ì‰½ê³  í¸ë¦¬í•˜ê²Œ ë§Œë“¤ì–´ ì¤„ ì´ ë‹¨ì–´ í•™ìŠµ ì•±ì„ ê¼­ í™•ì¸í•´ë³´ì‹œê¸°ë¥¼ ê°•ë ¥íˆ ì¶”ì²œí•©ë‹ˆë‹¤!</p>\n<p><img src=\"/assets/img/2024-07-01-HowtoCreateaCountdownSnackbarinAndroidwithJetpackCompose_1.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<h1>ì‹¤ìš©ì ì¸ ì˜ˆì‹œ ğŸ’</h1>\n<div class=\"content-ad\"></div>\n<p>ì´ ë°©ë²•ì„ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ê³„ì •ì„ ì‚­ì œí•˜ê³  ì´ ê²°ì •ì„ 5ì´ˆ ë™ì•ˆ ì·¨ì†Œí•  ìˆ˜ ìˆëŠ” ì˜ˆì œë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.</p>\n<pre><code class=\"hljs language-kotlin\">Box(Modifier.fillMaxSize()) {\n    <span class=\"hljs-keyword\">val</span> context = LocalContext.current\n    <span class=\"hljs-keyword\">val</span> scope = rememberCoroutineScope()\n    <span class=\"hljs-comment\">// ìŠ¤ë‚µë°” ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” SnackbarHostStateë¥¼ ì •ì˜í•©ë‹ˆë‹¤</span>\n    <span class=\"hljs-keyword\">val</span> snackbarHostState = remember { SnackbarHostState() }\n\n    Button(\n        modifier = Modifier.align(Alignment.Center),\n        onClick = {\n            scope.launch {\n                <span class=\"hljs-comment\">// ìŠ¤ë‚µë°”ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤</span>\n                <span class=\"hljs-keyword\">val</span> result = snackbarHostState.showSnackbar(\n                    message = <span class=\"hljs-string\">\"ì‚¬ìš©ì ê³„ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.\"</span>,\n                    actionLabel = <span class=\"hljs-string\">\"ì·¨ì†Œ\"</span>,\n                    duration = SnackbarDuration.Indefinite\n                )\n                <span class=\"hljs-comment\">// ìŠ¤ë‚µë°” ê²°ê³¼ ì²˜ë¦¬</span>\n                <span class=\"hljs-keyword\">when</span> (result) {\n                    SnackbarResult.Dismissed -> {\n                        Toast.makeText(context, <span class=\"hljs-string\">\"ì˜êµ¬ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤\"</span>, Toast.LENGTH_SHORT).show()\n                    }\n                    SnackbarResult.ActionPerformed -> {\n                        Toast.makeText(context, <span class=\"hljs-string\">\"ì‚­ì œ ì·¨ì†Œë¨\"</span>, Toast.LENGTH_SHORT).show()\n                    }\n                }\n            }\n        }\n    ) {\n        Text(<span class=\"hljs-string\">\"ê³„ì • ì‚­ì œ\"</span>)\n    }\n\n    <span class=\"hljs-comment\">// ìŠ¤ë‚µë°”ë¥¼ í‘œì‹œí•˜ëŠ” SnackbarHostë¥¼ ìƒì„±í•©ë‹ˆë‹¤</span>\n    SnackbarHost(\n        hostState = snackbarHostState,\n        modifier = Modifier.align(BottomCenter)\n    ) { <span class=\"hljs-keyword\">data</span> ->\n        <span class=\"hljs-comment\">// CountdownSnackbarë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤</span>\n        CountdownSnackbar(<span class=\"hljs-keyword\">data</span>)\n    }\n}\n</code></pre>\n<h2>ê²°ê³¼:</h2>\n<img src=\"https://miro.medium.com/v2/resize:fit:1400/1*7-Q98heTXND5N7XbAEKBYQ.gif\">\n<div class=\"content-ad\"></div>\n<p>ì•„ë˜ ë‚´ìš©ë„ ì¢‹ì•„í• ì§€ë„ìš” ğŸ‘‡</p>\n<p>ì´ ê¸°ì‚¬ë¥¼ ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! â¤ï¸ ì¦ê²ê³  ê°€ì¹˜ ìˆê²Œ ì½ìœ¼ì…¨ê¸¸ ë°”ëë‹ˆë‹¤. ë§Œì•½ ì¢‹ì•˜ë‹¤ë©´ ë°•ìˆ˜ ë²„íŠ¼ğŸ‘ì„ ëˆŒëŸ¬ì„œ ê°ì‚¬ë¥¼ í‘œí˜„í•˜ê³  Kappdevë¥¼ íŒ”ë¡œìš°í•´ì„œ ë” ë§ì€ í¥ë¯¸ë¡œìš´ ê¸°ì‚¬ë¥¼ ì½ì–´ë³´ì„¸ìš” ğŸ˜Š</p>\n<p>ì½”ë”© ì¦ê¸°ì„¸ìš”!</p>\n<p><img src=\"/assets/img/2024-07-01-HowtoCreateaCountdownSnackbarinAndroidwithJetpackCompose_2.png\" alt=\"ì´ë¯¸ì§€\"></p>\n</body>\n</html>\n"},"__N_SSG":true}