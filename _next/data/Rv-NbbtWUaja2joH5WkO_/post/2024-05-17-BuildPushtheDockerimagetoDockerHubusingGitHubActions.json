{"pageProps":{"post":{"title":"Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  GitHub Actionsë¥¼ ì‚¬ìš©í•˜ì—¬ Docker Hubì— í‘¸ì‹œí•˜ê¸°","description":"","date":"2024-05-17 03:47","slug":"2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions","content":"\n\n<img src=\"/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_0.png\" />\n\nì—¬ê¸°ì„œëŠ” GitHub actions workflowë¥¼ ì‚¬ìš©í•˜ì—¬ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  ë„ì»¤ í—ˆë¸Œì— í‘¸ì‹œí•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\n## ë‹¨ê³„ 1: ë„ì»¤ íŒŒì¼ ë§Œë“¤ê¸°\n\n- ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë ¤ë©´ ë„ì»¤ íŒŒì¼ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.\n- ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ë§¤ìš° ê¸°ë³¸ì ì¸ ë„ì»¤ íŒŒì¼ì„ ë§Œë“¤ê³  í•´ë‹¹ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ê²ƒì…ë‹ˆë‹¤.\n- Dockerfileì„ ë§Œë“¤ê³  ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.\n\n<div class=\"content-ad\"></div>\n\n```js\n# Docker Hubì—ì„œ ê³µì‹ Apache HTTP ì„œë²„ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”\nFROM httpd:latest\n\n# í˜¸ìŠ¤íŒ…ì„ ìœ„í•´ ì‚¬ìš©ì ì •ì˜ 'index.html'ì„ Apache ì„œë²„ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ë³µì‚¬í•˜ì„¸ìš”\nCOPY ./index.html /usr/local/apache2/htdocs/\n```\n\n- ìœ„ì˜ ì½”ë“œëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ìƒì„±í•  ì‚¬ìš©ì ì •ì˜ index.htmlì„ ì‚¬ìš©í•˜ì—¬ Apache ì´ë¯¸ì§€ ìœ„ì— ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤.\n\n## ë‹¨ê³„ 2: index.html íŒŒì¼ ìƒì„±\n\n- index.html íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.\n\n<div class=\"content-ad\"></div>\n\n```js\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Hello World</title>\n</head>\n<body>\n    <h1>Hello, World!</h1>\n    <p>This is a simple HTML page served from an Apache server in a Docker container.</p>\n</body>\n</html>\n```\n\n### ë‹¨ê³„ 3: ë„ì»¤ í—ˆë¸Œ ìê²© ì¦ëª… ì €ì¥\n\n- ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë„ì»¤ í—ˆë¸Œë¡œ í‘¸ì‹œí•˜ë ¤ë©´ ë¨¼ì € ë„ì»¤ í—ˆë¸Œì— ë¡œê·¸ì¸í•´ì•¼ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ìê²© ì¦ëª…ì„ ì‹œí¬ë¦¿ì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.\n- ê·€í•˜ì˜ ì €ì¥ì†Œì—ì„œ ìê²© ì¦ëª…ì„ ì‹œí¬ë¦¿ì— ì €ì¥í•˜ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_1.png)\n  \n\n<div class=\"content-ad\"></div>\n\n## ë‹¨ê³„ 4: GitHub ì•¡ì…˜ ì›Œí¬í”Œë¡œìš° ìƒì„±í•˜ê¸°\n\n- ì´ì œ .github/workflow/image-build.yml íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.\n\n```js\nname: Build Docker Image\non:\n  push:\n    branches:\n      - main\njobs:\n    build:\n      name: push docker image to docker hub\n      runs-on: ubuntu-latest\n      steps:\n        - uses: actions/checkout@v2\n        - name: login to docker hub\n          id: docker-hub\n          env:\n            username: ${secrets.DOCKERHUB_USERNAME}\n            password: ${secrets.DOCKERHUB_PASSWORD}\n          run: |\n            docker login -u $username -p $password \n        - name: build the docker image\n          id: build-docker-image\n          run: |\n            ls -la \n            docker build . -f Dockerfile -t dhruvin30/demo-image-test:latest\n        - name: push the docker image\n          id: push-docker-image\n          run: docker push ${secrets.DOCKERHUB_USERNAME}/demo-image-test:latest\n```\n\n- ìœ„ ì›Œí¬í”Œë¡œìš°ëŠ” main ë¸Œëœì¹˜ì— ì»¤ë°‹í•  ë•Œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤.\n- ì›Œí¬í”Œë¡œìš°ëŠ” secrets(ì‚¬ìš©ì ì´ë¦„ ë° ë¹„ë°€ë²ˆí˜¸)ë¥¼ ì‚¬ìš©í•˜ì—¬ docker hubì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n## ë‹¨ê³„ 5: ì½”ë“œë¥¼ ì»¤ë°‹í•©ë‹ˆë‹¤\n\n- ì´ì œ ì½”ë“œë¥¼ GitHub ì €ì¥ì†Œì— ì»¤ë°‹í•˜ê³  ì»¤ë°‹í•˜ìë§ˆì ì›Œí¬í”Œë¡œê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_2.png)\n\n## ë‹¨ê³„ 6: ë³€ê²½ ì‚¬í•­ í™•ì¸í•˜ê¸°\n\n<div class=\"content-ad\"></div>\n\n- í•œ ë²ˆ Workflowê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ì´ë¯¸ì§€ê°€ ë„ì»¤ í—ˆë¸Œì— í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_3.png)\n\nì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€ì…ë‹ˆë‹¤. GitHub Actionsë¥¼ ì‚¬ìš©í•˜ì—¬ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  í‘¸ì‹œí•˜ëŠ” ë°©ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤. ì´ì œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  ì‹¤í—˜í•´ë³´ì„¸ìš”.\n\nLinkedInì—ì„œ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”.\n\n<div class=\"content-ad\"></div>\n\në” ì´ëŸ° ì´ì•¼ê¸°ë¥¼ ë³´ê³  ì‹¶ë‹¤ë©´ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš” ğŸ˜","ogImage":{"url":"/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_0.png"},"coverImage":"/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_0.png","tag":["Tech"],"readingTime":3},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<img src=\"/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_0.png\">\n<p>ì—¬ê¸°ì„œëŠ” GitHub actions workflowë¥¼ ì‚¬ìš©í•˜ì—¬ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  ë„ì»¤ í—ˆë¸Œì— í‘¸ì‹œí•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<h2>ë‹¨ê³„ 1: ë„ì»¤ íŒŒì¼ ë§Œë“¤ê¸°</h2>\n<ul>\n<li>ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë ¤ë©´ ë„ì»¤ íŒŒì¼ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.</li>\n<li>ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ë§¤ìš° ê¸°ë³¸ì ì¸ ë„ì»¤ íŒŒì¼ì„ ë§Œë“¤ê³  í•´ë‹¹ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ê²ƒì…ë‹ˆë‹¤.</li>\n<li>Dockerfileì„ ë§Œë“¤ê³  ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</li>\n</ul>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"># <span class=\"hljs-title class_\">Docker</span> <span class=\"hljs-title class_\">Hub</span>ì—ì„œ ê³µì‹ <span class=\"hljs-title class_\">Apache</span> <span class=\"hljs-variable constant_\">HTTP</span> ì„œë²„ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”\n<span class=\"hljs-variable constant_\">FROM</span> <span class=\"hljs-attr\">httpd</span>:latest\n\n# í˜¸ìŠ¤íŒ…ì„ ìœ„í•´ ì‚¬ìš©ì ì •ì˜ <span class=\"hljs-string\">'index.html'</span>ì„ <span class=\"hljs-title class_\">Apache</span> ì„œë²„ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ë³µì‚¬í•˜ì„¸ìš”\n<span class=\"hljs-variable constant_\">COPY</span> ./index.<span class=\"hljs-property\">html</span> /usr/local/apache2/htdocs/\n</code></pre>\n<ul>\n<li>ìœ„ì˜ ì½”ë“œëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ìƒì„±í•  ì‚¬ìš©ì ì •ì˜ index.htmlì„ ì‚¬ìš©í•˜ì—¬ Apache ì´ë¯¸ì§€ ìœ„ì— ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤.</li>\n</ul>\n<h2>ë‹¨ê³„ 2: index.html íŒŒì¼ ìƒì„±</h2>\n<ul>\n<li>index.html íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</li>\n</ul>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\">&#x3C;!<span class=\"hljs-variable constant_\">DOCTYPE</span> html>\n<span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">html</span>></span>\n<span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">head</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">title</span>></span>Hello World<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">title</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">head</span>></span>\n<span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">body</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">h1</span>></span>Hello, World!<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">h1</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">p</span>></span>This is a simple HTML page served from an Apache server in a Docker container.<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">p</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">body</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">html</span>></span></span>\n</code></pre>\n<h3>ë‹¨ê³„ 3: ë„ì»¤ í—ˆë¸Œ ìê²© ì¦ëª… ì €ì¥</h3>\n<ul>\n<li>ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë„ì»¤ í—ˆë¸Œë¡œ í‘¸ì‹œí•˜ë ¤ë©´ ë¨¼ì € ë„ì»¤ í—ˆë¸Œì— ë¡œê·¸ì¸í•´ì•¼ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ìê²© ì¦ëª…ì„ ì‹œí¬ë¦¿ì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.</li>\n<li>ê·€í•˜ì˜ ì €ì¥ì†Œì—ì„œ ìê²© ì¦ëª…ì„ ì‹œí¬ë¦¿ì— ì €ì¥í•˜ì„¸ìš”.</li>\n</ul>\n<p><img src=\"/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_1.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<div class=\"content-ad\"></div>\n<h2>ë‹¨ê³„ 4: GitHub ì•¡ì…˜ ì›Œí¬í”Œë¡œìš° ìƒì„±í•˜ê¸°</h2>\n<ul>\n<li>ì´ì œ .github/workflow/image-build.yml íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">name</span>: <span class=\"hljs-title class_\">Build</span> <span class=\"hljs-title class_\">Docker</span> <span class=\"hljs-title class_\">Image</span>\n<span class=\"hljs-attr\">on</span>:\n  <span class=\"hljs-attr\">push</span>:\n    <span class=\"hljs-attr\">branches</span>:\n      - main\n<span class=\"hljs-attr\">jobs</span>:\n    <span class=\"hljs-attr\">build</span>:\n      <span class=\"hljs-attr\">name</span>: push docker image to docker hub\n      runs-<span class=\"hljs-attr\">on</span>: ubuntu-latest\n      <span class=\"hljs-attr\">steps</span>:\n        - <span class=\"hljs-attr\">uses</span>: actions/checkout@v2\n        - <span class=\"hljs-attr\">name</span>: login to docker hub\n          <span class=\"hljs-attr\">id</span>: docker-hub\n          <span class=\"hljs-attr\">env</span>:\n            <span class=\"hljs-attr\">username</span>: ${secrets.<span class=\"hljs-property\">DOCKERHUB_USERNAME</span>}\n            <span class=\"hljs-attr\">password</span>: ${secrets.<span class=\"hljs-property\">DOCKERHUB_PASSWORD</span>}\n          <span class=\"hljs-attr\">run</span>: |\n            docker login -u $username -p $password \n        - <span class=\"hljs-attr\">name</span>: build the docker image\n          <span class=\"hljs-attr\">id</span>: build-docker-image\n          <span class=\"hljs-attr\">run</span>: |\n            ls -la \n            docker build . -f <span class=\"hljs-title class_\">Dockerfile</span> -t dhruvin30/demo-image-<span class=\"hljs-attr\">test</span>:latest\n        - <span class=\"hljs-attr\">name</span>: push the docker image\n          <span class=\"hljs-attr\">id</span>: push-docker-image\n          <span class=\"hljs-attr\">run</span>: docker push ${secrets.<span class=\"hljs-property\">DOCKERHUB_USERNAME</span>}/demo-image-<span class=\"hljs-attr\">test</span>:latest\n</code></pre>\n<ul>\n<li>ìœ„ ì›Œí¬í”Œë¡œìš°ëŠ” main ë¸Œëœì¹˜ì— ì»¤ë°‹í•  ë•Œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤.</li>\n<li>ì›Œí¬í”Œë¡œìš°ëŠ” secrets(ì‚¬ìš©ì ì´ë¦„ ë° ë¹„ë°€ë²ˆí˜¸)ë¥¼ ì‚¬ìš©í•˜ì—¬ docker hubì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.</li>\n</ul>\n<div class=\"content-ad\"></div>\n<h2>ë‹¨ê³„ 5: ì½”ë“œë¥¼ ì»¤ë°‹í•©ë‹ˆë‹¤</h2>\n<ul>\n<li>ì´ì œ ì½”ë“œë¥¼ GitHub ì €ì¥ì†Œì— ì»¤ë°‹í•˜ê³  ì»¤ë°‹í•˜ìë§ˆì ì›Œí¬í”Œë¡œê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<p><img src=\"/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_2.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<h2>ë‹¨ê³„ 6: ë³€ê²½ ì‚¬í•­ í™•ì¸í•˜ê¸°</h2>\n<div class=\"content-ad\"></div>\n<ul>\n<li>í•œ ë²ˆ Workflowê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ì´ë¯¸ì§€ê°€ ë„ì»¤ í—ˆë¸Œì— í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤.</li>\n</ul>\n<p><img src=\"/assets/img/2024-05-17-BuildPushtheDockerimagetoDockerHubusingGitHubActions_3.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<p>ì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€ì…ë‹ˆë‹¤. GitHub Actionsë¥¼ ì‚¬ìš©í•˜ì—¬ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  í‘¸ì‹œí•˜ëŠ” ë°©ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤. ì´ì œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  ì‹¤í—˜í•´ë³´ì„¸ìš”.</p>\n<p>LinkedInì—ì„œ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”.</p>\n<div class=\"content-ad\"></div>\n<p>ë” ì´ëŸ° ì´ì•¼ê¸°ë¥¼ ë³´ê³  ì‹¶ë‹¤ë©´ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš” ğŸ˜</p>\n</body>\n</html>\n"},"__N_SSG":true}