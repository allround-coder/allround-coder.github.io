{"pageProps":{"post":{"title":"React 애플리케이션 성능 향상을 위한 클라이언트 측 타임아웃 처리 방법","description":"","date":"2024-05-12 18:55","slug":"2024-05-12-EnhancingReactApplicationPerformancewithClient-SideTimeoutHandling","content":"\n\n웹 개발의 동적인 세계에서 성능 최적화와 사용자 경험의 원할한 유지가 최우선 과제입니다. 비동기 요청을 처리할 때 성능에 상당한 영향을 미치는 과감실 처리에 대해 종종 간과되는 측면 중 하나입니다. 이 블로그 포스트에서는 JavaScript에서 Axios를 사용하여 클라이언트 측 타임아웃 처리를 통해 웹 애플리케이션의 성능과 신뢰성을 향상시키는 방법에 대해 살펴보겠습니다.\n\n# 클라이언트 측 타임아웃 처리를 왜 해야 하는가요?\n\n- 블로킹 방지: 기대 시간을 초과하는 동기식 요청은 다른 작업을 차단하여 응답성이 감소하고 성능이 저하될 수 있습니다.\n- 빠른 오류 복구: 응답이 없는 서버로부터 무기한 대기하는 것은 나쁜 사용자 경험으로 이어질 수 있습니다. 클라이언트 측 타임아웃은 기대 응답 시간을 초과하는 요청을 빠르게 취소함으로써 빠른 오류 복구를 제공합니다.\n- 리소스 소비 감소: 오랜 시간 동안 실행되는 요청은 네트워크 대역폭, 서버 리소스 및 클라이언트 측 메모리를 소비합니다. 지정된 시간 초과하는 요청을 취소함으로써 리소스를 절약하여 성능과 확장성을 향상시킬 수 있습니다.\n- 사용자 경험 향상: 성능은 사용자 경험에 직접적으로 영향을 미칩니다. 클라이언트 측 타임아웃을 통해 사용자는 지연이 줄어들고 더 빠른 응용 프로그램을 경험할 수 있어 만족도와 참여도가 높아집니다.\n- 오류 허용성 개선: 클라이언트 측 타임아웃은 네트워크 오류나 서버 타임아웃과 같은 예기치 않은 상황을 고품질로 처리하여 전체 응용 프로그램의 탄력성을 향상시킵니다.\n\n# Axios를 사용한 클라이언트 측 타임아웃이 성능을 향상시키는 방법\n\n\n\n이제, Axios를 사용하여 클라이언트 측 타임아웃 처리를 구현하는 방법을 살펴보겠습니다. Axios는 JavaScript를 위한 인기있는 HTTP 클라이언트입니다.\n\n```js\nimport axios from \"axios\";\n\nconst API_BASE_URL = \"https://jsonplaceholder.typicode.com/\";\n\nconst loginClient = axios.create({\n    baseURL: API_BASE_URL\n});\n\nloginClient.interceptors.request.use(request => {\n    request.headers[\"Accept\"] = \"application/json\";\n    return {\n        ...request,\n        signal: newAbortSignal(2000)\n    };\n}, error => {\n    console.log(\"오류 발생\", error);\n});\n\nfunction newAbortSignal(timeoutMs) {\n    const abortController = new AbortController();\n    setTimeout(() => abortController.abort(), timeoutMs || 0);\n    return abortController.signal;\n}\n\nasync function fetchPosts(req) {\n    try {\n        const posts = await loginClient({ url: \"posts\" });\n        return posts;\n    } catch (error) {\n        console.log(\"오류\", error);\n        return { \"data\": { \"error\": true, \"message\": \"서버가 응답하지 않습니다.\" } };\n    }\n}\n\nconst postService = {\n    fetchPost: fetchPosts\n};\n\nexport { postService };\n```\n\n이 코드에서:\n\n- API를 가리키는 기본 URL이 있는 Axios 인스턴스 loginClient를 생성합니다.\n- Interceptor가 설정되어 요청에 타임아웃 시그널이 부착되어서, 서버가 2000밀리초 이내에 응답하지 않으면 취소됩니다.\n- newAbortSignal 함수는 지정된 기간 후 요청이 취소되도록 타임아웃이 있는 새로운 AbortController 인스턴스를 생성합니다.\n- fetchPosts 함수는 API에서 게시물을 비동기적으로 가져옵니다. 요청이 성공하면 가져온 게시물을 반환하고, 타임아웃 또는 네트워크 실패와 같은 오류가 발생하면 해당 오류를 잡아서 사용자 정의 오류 응답을 반환합니다.\n\n\n\n클라이언트 측에서의 타임아웃은 요청을 다시 시도하면 성공할 수 있는 경우에 도움이 됩니다. 예를 들어, 백엔드가 3개의 서버에서 호스팅되고 있고 1개의 서버가 응답하지 않는 경우, 요청을 취소하고 다시 시도하는 것이 더 나은 선택입니다.","ogImage":{"url":"/assets/img/2024-05-12-EnhancingReactApplicationPerformancewithClient-SideTimeoutHandling_0.png"},"coverImage":"/assets/img/2024-05-12-EnhancingReactApplicationPerformancewithClient-SideTimeoutHandling_0.png","tag":["Tech"],"readingTime":3},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    h1: \"h1\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"웹 개발의 동적인 세계에서 성능 최적화와 사용자 경험의 원할한 유지가 최우선 과제입니다. 비동기 요청을 처리할 때 성능에 상당한 영향을 미치는 과감실 처리에 대해 종종 간과되는 측면 중 하나입니다. 이 블로그 포스트에서는 JavaScript에서 Axios를 사용하여 클라이언트 측 타임아웃 처리를 통해 웹 애플리케이션의 성능과 신뢰성을 향상시키는 방법에 대해 살펴보겠습니다.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"클라이언트 측 타임아웃 처리를 왜 해야 하는가요?\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"블로킹 방지: 기대 시간을 초과하는 동기식 요청은 다른 작업을 차단하여 응답성이 감소하고 성능이 저하될 수 있습니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"빠른 오류 복구: 응답이 없는 서버로부터 무기한 대기하는 것은 나쁜 사용자 경험으로 이어질 수 있습니다. 클라이언트 측 타임아웃은 기대 응답 시간을 초과하는 요청을 빠르게 취소함으로써 빠른 오류 복구를 제공합니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"리소스 소비 감소: 오랜 시간 동안 실행되는 요청은 네트워크 대역폭, 서버 리소스 및 클라이언트 측 메모리를 소비합니다. 지정된 시간 초과하는 요청을 취소함으로써 리소스를 절약하여 성능과 확장성을 향상시킬 수 있습니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"사용자 경험 향상: 성능은 사용자 경험에 직접적으로 영향을 미칩니다. 클라이언트 측 타임아웃을 통해 사용자는 지연이 줄어들고 더 빠른 응용 프로그램을 경험할 수 있어 만족도와 참여도가 높아집니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"오류 허용성 개선: 클라이언트 측 타임아웃은 네트워크 오류나 서버 타임아웃과 같은 예기치 않은 상황을 고품질로 처리하여 전체 응용 프로그램의 탄력성을 향상시킵니다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Axios를 사용한 클라이언트 측 타임아웃이 성능을 향상시키는 방법\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제, Axios를 사용하여 클라이언트 측 타임아웃 처리를 구현하는 방법을 살펴보겠습니다. Axios는 JavaScript를 위한 인기있는 HTTP 클라이언트입니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" axios \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"axios\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"API_BASE_URL\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"https://jsonplaceholder.typicode.com/\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" loginClient = axios.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"create\"\n        }), \"({\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"baseURL\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"API_BASE_URL\"\n        }), \"\\n});\\n\\nloginClient.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"interceptors\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"request\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"request\"\n          }), \" =>\"]\n        }), \" {\\n    request.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"headers\"\n        }), \"[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Accept\\\"\"\n        }), \"] = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"application/json\\\"\"\n        }), \";\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" {\\n        ...request,\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"signal\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"newAbortSignal\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"2000\"\n        }), \")\\n    };\\n}, \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"error\"\n          }), \" =>\"]\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"오류 발생\\\"\"\n        }), \", error);\\n});\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"newAbortSignal\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"timeoutMs\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" abortController = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AbortController\"\n        }), \"();\\n    \", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"setTimeout\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" abortController.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"abort\"\n        }), \"(), timeoutMs || \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \");\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" abortController.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"signal\"\n        }), \";\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"fetchPosts\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"req\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" posts = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"loginClient\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"url\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"posts\\\"\"\n        }), \" });\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" posts;\\n    } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (error) {\\n        \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"오류\\\"\"\n        }), \", error);\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"data\\\"\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"error\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"message\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"서버가 응답하지 않습니다.\\\"\"\n        }), \" } };\\n    }\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" postService = {\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"fetchPost\"\n        }), \": fetchPosts\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" { postService };\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 코드에서:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"API를 가리키는 기본 URL이 있는 Axios 인스턴스 loginClient를 생성합니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Interceptor가 설정되어 요청에 타임아웃 시그널이 부착되어서, 서버가 2000밀리초 이내에 응답하지 않으면 취소됩니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"newAbortSignal 함수는 지정된 기간 후 요청이 취소되도록 타임아웃이 있는 새로운 AbortController 인스턴스를 생성합니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"fetchPosts 함수는 API에서 게시물을 비동기적으로 가져옵니다. 요청이 성공하면 가져온 게시물을 반환하고, 타임아웃 또는 네트워크 실패와 같은 오류가 발생하면 해당 오류를 잡아서 사용자 정의 오류 응답을 반환합니다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"클라이언트 측에서의 타임아웃은 요청을 다시 시도하면 성공할 수 있는 경우에 도움이 됩니다. 예를 들어, 백엔드가 3개의 서버에서 호스팅되고 있고 1개의 서버가 응답하지 않는 경우, 요청을 취소하고 다시 시도하는 것이 더 나은 선택입니다.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}