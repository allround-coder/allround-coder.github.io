{"pageProps":{"post":{"title":"Nielsê°€ Rust 3ì„ ë°°ìš°ë‹¤ - Hello world, ì „ì—­ ìƒíƒœ ë° í”Œë˜ì‹œ ë©”ëª¨ë¦¬","description":"","date":"2024-05-15 16:16","slug":"2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory","content":"\n\nì´ê²ƒì€ ë‚´ê°€ ì„ë² ë””ë“œ Java ê°€ìƒ ë¨¸ì‹ ì„ Rustë¡œ ì´ì‹í•˜ë©´ì„œ Rust í•™ìŠµí•˜ëŠ” ì—¬ì •ì„ ë¬¸ì„œí™”í•œ ì‹œë¦¬ì¦ˆì˜ ì¼ë¶€ 3ì…ë‹ˆë‹¤.\n\nì§€ë‚œ ë‹¨ê³„ ì´í›„ì—ëŠ” Rust ì½”ë“œë¥¼ íƒ€ê¹ƒ í”Œë«í¼ì¸ AVR ê³„ì—´ ì„ë² ë””ë“œ CPUì¸ íŠ¹íˆ ATmega128ì„ ìœ„í•´ ì»´íŒŒì¼í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìœ¼ë©°, Avrora AVR ì‹œë®¬ë ˆì´í„°ì—ì„œ ê²°ê³¼ ì´ì§„ íŒŒì¼ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì•„ì§ ì¶œë ¥ì„ í‘œì‹œí•  ìˆ˜ëŠ” ì—†ì—ˆì–´ìš”.\n\nì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ë””ë²„ê·¸ ì¶œë ¥ì„ ì¶”ê°€í•  ê²ƒì…ë‹ˆë‹¤. ì‰¬ìš´ ì‘ì—…ì¼ ì¤„ ì•Œì•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” Rustì— ëŒ€í•´ ë” ë§ì´ ë°°ìš°ê²Œ í•´ì£¼ëŠ” ê°ê°ì˜ ì‘ì€ ë‹¨ê³„ë“¤ì„ ê±°ì³ ë§ì€ ì‹œê°„ì´ ê±¸ë ¤ë²„ë ¸ì–´ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_0.png)\n\n\n\n# ì½˜ì†”ì— ì¶œë ¥í•˜ê¸°\n\nì¼ë°˜ Rustì—ì„œ ì½˜ì†”ì— ì¶œë ¥í•˜ëŠ” ê²ƒì€ ì‰½ìŠµë‹ˆë‹¤: println!ì€ í‘œì¤€ ì¶œë ¥ì—, eprintln!ì€ í‘œì¤€ ì—ëŸ¬ ì¶œë ¥ì— ê°’ì„ ì¶œë ¥í•©ë‹ˆë‹¤. ë¹ ë¥¸ ë””ë²„ê¹…ì„ ìœ„í•´ dbg!()ëŠ” ë§¤ìš° í¸ë¦¬í•©ë‹ˆë‹¤: ì „ë‹¬ëœ ê°’ìœ¼ë¡œ ë°˜í™˜ë˜ë©°, í•´ë‹¹ ê°’ì„ í‘œì¤€ ì—ëŸ¬ì— ì¶œë ¥í•©ë‹ˆë‹¤.\n\n```js\nfn main() {\n    let a = 42;\n    let b = dbg!(a);\n    println!(\"b = {}\", b);\n}\n```\n\nìœ„ ì½”ë“œëŠ” ì¶œë ¥ëœë‹¤:\n\n\n\n```js\n[src/main.rs:3] a = 42 \nb = 42\n```\n\nì²« ë²ˆì§¸ ì¤„ì€ stderrë¡œ ë³´ë‚´ì§€ê³ , ë‘ ë²ˆì§¸ ì¤„ì€ stdoutë¡œ ë³´ëƒ…ë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ ì €ëŠ” ì„ë² ë””ë“œ í”„ë¡œì„¸ì„œ í´ë˜ìŠ¤ AVRì„ ìœ„í•œ VMì„ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤. AVRì€ ìš´ì˜ ì²´ì œê°€ ì—†ê¸° ë•Œë¬¸ì— stdout ë˜ëŠ” stderrë¡œ ì¶œë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‚´ ì½”ë“œê°€ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì–´ë–»ê²Œ ì¶œë ¥í•  ìˆ˜ ìˆì„ê¹Œìš”?\n\nCPUì—ëŠ” ì¶œë ¥ì„ ì „ì†¡í•  ìˆ˜ ìˆëŠ” UARTê°€ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¦¬ì ì¸ ë³´ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ì¢‹ì€ ë°©ë²•ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ê²½ìš°ì—ëŠ” ì½”ë“œê°€ Avrora ì‹œë®¬ë ˆì´í„°ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ ë‹¤ë¥¸ ì˜µì…˜ì´ ìˆìŠµë‹ˆë‹¤: ì˜ ì •ì˜ëœ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¥¼ í†µí•´ ì¶œë ¥í•©ë‹ˆë‹¤.```\n\n\n\n# C-Print ëª¨ë‹ˆí„°\n\nAvroraì—ëŠ” AVR ìƒì—ì„œ ì½”ë“œì˜ ì‹¤í–‰ì„ ì¶”ì í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ 'ëª¨ë‹ˆí„°'ê°€ ìˆìŠµë‹ˆë‹¤. ì´ì „ ê²Œì‹œë¬¼ì—ì„œëŠ” ë©”ëª¨ë¦¬ ë° ìŠ¤íƒ ëª¨ë‹ˆí„°ë¥¼ í™œì„±í™”í•˜ì—¬ ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ì¶”ì í•˜ê³  ìŠ¤íƒ ì„±ì¥ì„ ì§€ì¼œëƒˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ëª¨ë‹ˆí„°ëŠ” c-printì…ë‹ˆë‹¤. ì´ ëª¨ë‹ˆí„°ëŠ” íŠ¹ì • ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¡œì˜ ì“°ê¸°ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ì¶œë ¥ì„ ìƒì„±í•©ë‹ˆë‹¤.\n\nê°ì‹œë˜ëŠ” ìœ„ì¹˜ëŠ” ë‹¨ì¼ ë°”ì´íŠ¸ì…ë‹ˆë‹¤. ì¼ë¶€ ì‘ì—…ì—ëŠ” ì´ê²Œ ì¶©ë¶„í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 0x0Eë¥¼ ì“°ë©´ Avroraê°€ CPU ë ˆì§€ìŠ¤í„°ì˜ ë‚´ìš©ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\n\në‹¤ë¥¸ ì‘ì—…ì€ ë§¤ê°œë³€ìˆ˜ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒ 2 ë˜ëŠ” 4ë°”ì´íŠ¸ì—ì„œ ì½ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 0x05ë¥¼ ë§ˆë²•ì˜ ìœ„ì¹˜ì— ì“°ë©´ ë‹¤ìŒ 4ë°”ì´íŠ¸ì˜ ë‚´ìš©ì´ ë¶€í˜¸ ì—†ëŠ” 32ë¹„íŠ¸ ì •ìˆ˜(little endian)ë¡œ ì¶œë ¥ë©ë‹ˆë‹¤.\n\n\n\nì•„ë¸Œë¡œë¼ëŠ” íŠ¹ì • ì‹¬ë³¼ì¸ debugbuf1ì„ ì°¾ì•„ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¥¼ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_1.png)\n\nì´ ì¶œë ¥ë¬¼ì€ ì´ ê²Œì‹œë¬¼ì˜ ì™„ì„±ëœ ì½”ë“œì—ì„œ ê°€ì ¸ì˜¨ ê²ƒì…ë‹ˆë‹¤. ì•„ë¸Œë¡œë¼ëŠ” ì£¼ì†Œ 0x0210ì— ìˆëŠ” ë°”ì´íŠ¸ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³ , ì½”ë“œê°€ í•´ë‹¹ ì£¼ì†Œì— ì“°ê¸°ë¥¼ í•  ë•Œ c-print ëª¨ë‹ˆí„°ë¥¼ íŠ¸ë¦¬ê±°í•©ë‹ˆë‹¤.\n\nìœ„ì˜ ì¶œë ¥ë¬¼ì—ì„œ í‘œì‹œëœ ë§¤ìš° ë†’ì€ ì£¼ì†Œì— ìœ ì˜í•˜ì‹­ì‹œì˜¤. í•˜ë²„ë“œ ì•„í‚¤í…ì²˜ì¸ AVRì€ ì½”ë“œ(í”Œë˜ì‹œ ë©”ëª¨ë¦¬)ì™€ RAMì„ìœ„í•œ ë³„ë„ì˜ ì£¼ì†Œ ê³µê°„ì„ ê°–ìŠµë‹ˆë‹¤. binutils toolchainì€ ì´ê²ƒì„ ìœ„í•œ ê²ƒì´ ì•„ë‹ˆì—ˆì§€ë§Œ, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ avr ë²„ì „ì€ RAMì„ 0x00800000 ë˜ëŠ” 8MBì—ì„œ ì‹œì‘í•˜ëŠ” ì£¼ì†Œì— ë§¤í•‘í•˜ì—¬ AVR CPUì˜ í”Œë˜ì‹œ ìš©ëŸ‰ì„ í›¨ì”¬ ì´ˆê³¼í•˜ëŠ” ê³³ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.\n\n\n\n# Rustì—ì„œì˜ ì „ì—­ ìƒíƒœ\n\nìš°ë¦¬ëŠ” ì“¸ ìˆ˜ ìˆëŠ” ì „ì—­ ë³€ìˆ˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ ê°•ì˜ì—ì„œëŠ” ì „ì—­ ê°€ë³€ ìƒíƒœê°€ ì¢‹ì§€ ì•Šë‹¤ê³  ë§í•˜ì§€ë§Œ, ë•Œë¡œëŠ” ê·¸ëŸ° ìœ íš¨í•œ ì´ìœ ê°€ ìˆê³ , ì´ê²ƒì€ ê·¸ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n\nRustì—ì„œ ì–´ë–»ê²Œ ì „ì—­ ê°€ë³€ ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì„ê¹Œìš”? RustëŠ” ì•ˆì „ì„ ì¤‘ìš”ì‹œí•˜ë©°, ì „ì—­ ê°€ë³€ ìƒíƒœëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ì•ˆì „í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nìš°ë¦¬ëŠ” ë³€ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„ ì–¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. static mut debugbuf1: [u8; 5] = [0, 0, 0, 0, 0];. ì´ëŠ” ì‘ë™í•˜ì§€ë§Œ RustëŠ” ëˆ„êµ¬ë“  ì ‘ê·¼í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê·¸ ì•ˆì „ì„ ë³´ì¥í•  ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤. AVRì—ëŠ” ë‹¤ì¤‘ ìŠ¤ë ˆë“œ ìš´ì˜ ì²´ì œê°€ ì—†ìŠµë‹ˆë‹¤(ì‹¤ì œë¡œëŠ” ìˆì§€ë§Œ, ì´ ê²½ìš°ì—ëŠ” í•´ë‹¹ë˜ì§€ ì•ŠìŒ).\n\n\n\në§Œì•½ Rustê°€ ì½”ë“œê°€ ì•ˆì „í•˜ë‹¤ê³  ì¦ëª…í•˜ì§€ ëª»í•˜ë©´, ìš°ë¦¬ì—ê²Œ ëª…ì‹œì ìœ¼ë¡œ ì•Œë ¤ì£¼ê¸¸ ì›í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ìš°ë¦¬ëŠ” static mut ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ê²ƒì— ì ‘ê·¼í•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ unsafe ' ... ' ë¸”ë¡ ë‚´ì—ì„œì…ë‹ˆë‹¤.\n\n# std::sync::RwLock\n\nìœ„ì˜ ë°©ë²•ì€ AVRì— ì‚¬ìš©í•  ê²ƒì´ì§€ë§Œ, ì´ ë¸”ë¡œê·¸ëŠ” Rust í•™ìŠµì— ê´€í•œ ê²ƒì´ë¯€ë¡œ ë•Œë¡œëŠ” ì´ í”„ë¡œì íŠ¸ì—ëŠ” ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆëŠ” ë‚´ìš©ì„ ì¢€ ìˆœíšŒí•´ë³¼ ê²ë‹ˆë‹¤. \n\nRustì—ì„œ ì „ì—­ ìƒíƒœì— ëŒ€í•œ ê¸°ì‚¬ë¥¼ ì°¾ì•„ë³´ë‹¤ê°€ í¥ë¯¸ë¡œìš´ ë‚´ìš©ì„ ë§ì´ ì„¤ëª…í•œ ì´ ì‘ì€ ë³´ì„ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ìì„¸íˆ ê²€í† í•´ë³´ê³  ë‹¤ì‹œ ëŒì•„ì™€ì•¼ í•  ê²ƒì´ì§€ë§Œ, í•œ ëŒ“ê¸€ì´ ëˆˆì— ë„ì—ˆìŠµë‹ˆë‹¤:\n\n\n\nì´ê²ƒì´ ê¶ê¸ˆí•´ì¡Œì–´ìš”. ì•ˆì „í•œ íŒ¨í„´ë“¤ì€ ë¬´ì—‡ì¼ê¹Œìš”? ì¢€ ë” ì°¾ì•„ë³´ë‹ˆ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë‘ ê°€ì§€ ìœ ìš©í•œ ë„ìš°ë¯¸ í´ë˜ìŠ¤ê°€ ìˆë‹¤ëŠ” ê±¸ ì•Œì•˜ì–´ìš”: std::sync::Mutex`T` ì™€ std::sync::RwLock`T`.\n\nê·¸ë“¤ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ìƒë‹¹íˆ ê°„ë‹¨í•´ìš”. MutexëŠ” RwLockê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ ë¦¬ë”ì™€ ë¼ì´í„°ë¥¼ êµ¬ë³„í•˜ì§€ ì•Šì•„ìš”. RwLockê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ë³´ì—¬ë“œë¦¬ê² ì–´ìš”:\n\n```js\nuse std::sync::RwLock;\n\nstatic LOCK: RwLock<u8> = RwLock::new(5);\n\nfn main() {\n    // ì—¬ëŸ¬ ë¦¬ë” ë½ì„ ë™ì‹œì— ë³´ìœ í•  ìˆ˜ ìˆì–´ìš”\n    {\n        let r1 = LOCK.read().unwrap();\n        let r2 = LOCK.read().unwrap();\n        assert_eq!(*r1, 5);\n        assert_eq!(*r2, 5);\n    } // ì´ ì‹œì ì—ì„œ ë¦¬ë” ë½ì´ í•´ì œë¼ìš”\n\n    // ê·¸ëŸ¬ë‚˜ í•œ ë²ˆì— í•œ ê°œì˜ ë¼ì´í„° ë½ë§Œ ë³´ìœ í•  ìˆ˜ ìˆì–´ìš”\n    {\n        let mut w = LOCK.write().unwrap();\n        *w += 1;\n        assert_eq!(*w, 6);\n    } // ì´ ì‹œì ì—ì„œ ë¼ì´í„° ë½ì´ í•´ì œë¼ìš”\n\n    // ë”°ë¼ì„œ ì´ ë¸”ë¡ì—ì„œ ìƒˆë¡œìš´ ë¼ì´í„° ë½ì„ ì–»ì„ ìˆ˜ ìˆì§€ë§Œ,\n    // ì´ ë‘ ë¸”ë¡ì„ í•˜ë‚˜ë¡œ í•©ì¹˜ë©´ ë°ë“œë½ì´ ë°œìƒí•  ìˆ˜ ìˆì–´ìš”\n    {\n        let mut w2 = LOCK.write().unwrap();\n        *w2 += 1;\n        assert_eq!(*w2, 7);\n    } //\n\n    println!(\"Done.\");\n}\n```\n\nPlaygroundì—ì„œ ì‹œë„í•´ë³´ì„¸ìš”!\n\n\n\në¦¬ì†ŒìŠ¤ë¥¼ `RwLock`ìœ¼ë¡œ ë˜í•‘í•˜ë©´ í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•´ ì—¬ëŸ¬ ì½ê¸° ì „ìš© ì°¸ì¡° ë˜ëŠ” ë‹¨ì¼ ë³€ê²½ ê°€ëŠ¥í•œ ì°¸ì¡°ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nVS Codeë¥¼ ì‚¬ìš©í•  ë•Œ ìœ í˜• íŒíŠ¸ë¥¼ í†µí•´ `read()` ë˜ëŠ” `write()`ë¥¼ í˜¸ì¶œí•  ë•Œ ë‹¨ìˆœíˆ `u8`ì— ëŒ€í•œ ì°¸ì¡°(&u8 ë˜ëŠ” mutable &mut u8)ê°€ ì•„ë‹ˆë¼ `RwLockReadGuard<u8>` ë˜ëŠ” `RwLockWriteGuard<u8>`ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_2.png)\n\në‹¤ì‹œ í•œ ë²ˆ, Rustì˜ ì¢‹ì€ ì ì€ ì‰½ê²Œ êµ¬í˜„ì„ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n\n\nêµ¬í˜„ ì„¸ë¶€ ì‚¬í•­ì€ ì•„ì§ ì¡°ê¸ˆ ì–´ë ¤ì›Œ ë³´ì´ì§€ë§Œ, ë‘ ê°€ì§€ê°€ ëª¨ë‘ Deref`T` íŠ¸ë ˆì´íŠ¸ (ì—¬ê¸°ì„œ TëŠ” u8)ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ì‚¬ì‹¤ì€ ëª…ë°±í•©ë‹ˆë‹¤. ì´ê²ƒì´ Rustê°€ ìš°ë¦¬ê°€ ê·¸ë“¤ì„ &u8ë¡œ ì•”ì‹œì ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤. ë˜í•œ write ê°€ë“œëŠ” DeferMut`T`ë„ êµ¬í˜„í•˜ë¯€ë¡œ ê·¸ê²ƒì„ &mut u8ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê°™ì€ íŒŒì¼ì—ì„œ ë‘ ê°€ì§€ê°€ ëª¨ë‘ Drop íŠ¸ë ˆì´íŠ¸ë¥¼ êµ¬í˜„í•˜ê³  ìˆê³ , drop() í•¨ìˆ˜ëŠ” read_unlock() ë˜ëŠ” write_unlock()ë¥¼ í˜¸ì¶œí•˜ì—¬ ì ê¸ˆì„ í•´ì œí•©ë‹ˆë‹¤. RustëŠ” ê°’ì´ ìŠ¤ì½”í”„ë¥¼ ë²—ì–´ë‚˜ëŠ” ì¦‰ì‹œ ê°’ì„ ì‚­ì œí•  ê²ƒì´ê¸° ë•Œë¬¸ì— ì¤‘ê°„ ë¸”ë¡ì˜ ëì— w ì ê¸ˆì´ í•´ì œë˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë‘ ë¸”ë¡ì„ ë³‘í•©í•˜ë©´ ë°ë“œë½ì´ ë°œìƒí•  ìˆ˜ ìˆì§€ë§Œ, ë‘ ë²ˆì§¸ ì“°ê¸° ì ê¸ˆì„ ìš”ì²­í•˜ê¸° ì „ì— ëª…ì‹œì ìœ¼ë¡œ drop(w);ë¥¼ ì¶”ê°€í•˜ë©´ ë°ë“œë½ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ëŸ¬í•œ íŠ¸ë ˆì´íŠ¸ì˜ êµ¬í˜„ì€ ëª¨ë‘ ì•ˆì „í•˜ì§€ ì•Šì€ ' ' ì½”ë“œì…ë‹ˆë‹¤. ì‹¤ì œë¡œ ì•ˆì „í•˜ì§€ ì•Šì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ì•ˆì „í•˜ì§€ ì•Šì€ ê²ƒì€ ì‚¬ì‹¤ \"í™•ì¸ë˜ì§€ ì•Šì€\"ì„ ì˜ë¯¸í•©ë‹ˆë‹¤: ì»´íŒŒì¼ëŸ¬ê°€ ì½”ë“œê°€ ì•ˆì „í•˜ë‹¤ê³  í™•ì‹ í•  ìˆ˜ ì—†ì§€ë§Œ, ì•ˆì „í•˜ë‹¤ë©´ ê·¸ê²ƒì„ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì½”ë“œë„ ì•ˆì „í•  ê²ƒì…ë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ ì´ ì½”ë“œê°€ ê²½ìŸ ì¡°ê±´ì„ í”¼í•˜ê¸° ë•Œë¬¸ì— ì•ˆì „í•˜ë‹¤ëŠ” ì ì€ ì¤‘ìš”í•˜ì§€ë§Œ, ë°ë“œë½ì„ ë°©ì§€í•˜ì§€ëŠ” ì•Šìœ¼ë©° ë¹ ë¥´ê¸° ë•Œë¬¸ì— ë˜ì–´ì•¼ í•˜ëŠ” ê²ƒë„ ì•„ë‹™ë‹ˆë‹¤. ì ê¸ˆì´ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì€ ì„±ëŠ¥ ë³‘ëª© ì§€ì ì´ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê³µìœ  ìƒíƒœëŠ” í•­ìƒ ë³µì¡í•©ë‹ˆë‹¤.\n\n\n\n# libcoreê³¼ libstd\n\nì´ê²ƒì€ ì•ˆì „í•˜ì§€ ì•Šì€ ì½”ë“œë¥¼ í”¼í•˜ê¸° ìœ„í•œ ì¢‹ì€ ëŒ€ì•ˆìœ¼ë¡œ ë³´ì˜€ì§€ë§Œ ì•ˆíƒ¤ë ˆ ì´ë¹„ì´ì–´ì—ì„  ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‚¬ìš©í•œ í…œí”Œë¦¿ì—ì„œ ìƒì„±ëœ ì½”ë“œì˜ ì²« ì¤„ì´ ê·¸ ì´ìœ ì…ë‹ˆë‹¤: #![no_std] (ëŠë‚Œí‘œëŠ” í•´ë‹¹ ì†ì„±ì´ ì „ì²´ í¬ë ˆì´íŠ¸ì— ì ìš©ë¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤).\n\nno_stdëŠ” Rustì—ê²Œ std í¬ë ˆì´íŠ¸ì— ì—°ê²°ë˜ì§€ ë§ ê²ƒì„ ì•Œë ¤ì£¼ë¯€ë¡œ std::ì— ìˆëŠ” ê²ƒì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì˜¤ì§ core í¬ë ˆì´íŠ¸ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në¬¸ì„œì—ì„œëŠ” ì´ê²ƒì„ ëª…í™•í•˜ê²Œ ì„¤ëª…í•©ë‹ˆë‹¤: libcoreì™€ libstdëŠ” ë‘ ê°€ì§€ ì£¼ìš” í¬ë ˆì´íŠ¸ì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ì¸ libcoreëŠ” í•­ìƒ ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, ì›ì‹œ íƒ€ì…, Option`T`ì™€ Result`T,E`ì™€ ê°™ì€ ê¸°ë³¸ ì–¸ì–´ êµ¬ì¡°, assert ë“±ì´ ë“¤ì–´ ìˆìŠµë‹ˆë‹¤.\n\n\n\në‘ ë²ˆì§¸ë¡œ libstdëŠ” í›¨ì”¬ ë” í¬ë©° ìš´ì˜ ì²´ì œì— ì˜ì¡´í•˜ëŠ” ë§ì€ êµ¬ì„±ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ std/src/lib.rs ì†ŒìŠ¤ë¥¼ í™•ì¸í•˜ì—¬ libcoreì˜ ìƒìœ„ ì§‘í•©ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n#[stable(feature = \"rust1\", since = \"1.0.0\")]\npub use core::any;\n#[stable(feature = \"core_array\", since = \"1.36.0\")]\npub use core::array;\n#[unstable(feature = \"async_iterator\", issue = \"79024\")]\npub use core::async_iter;\n....\n```\n\nì´ê²ƒì€ ëŸ¬ìŠ¤íŠ¸ì—ì„œ í”í•œ íŒ¨í„´ì´ë©°, pub useëŠ” ë‹¤ë¥¸ í¬ë ˆì´íŠ¸ë‚˜ ëª¨ë“ˆì—ì„œ ê¸°ëŠ¥ì„ ê°€ì ¸ì™€ í˜„ì¬ ìœ„ì¹˜ì—ì„œ ë‹¤ì‹œ ë‚´ë³´ë‚´ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ìš”ì•½í•˜ë©´ libcoreë¡œ ë‚´ë³´ë‚´ëŠ” ëª¨ë“  ê²ƒì´ libstdë¡œë„ ë‚´ë³´ë‚´ì§‘ë‹ˆë‹¤.\n\nì´ë¥¼ ì•Œê³  ìˆìœ¼ë‹ˆ, atomicityì™€ ì•ˆì „ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì¼ë¶€ ìš´ì˜ ì²´ì œ ì›ì‹œ ê°œë…ì— ì˜ì¡´í•˜ëŠ” ê²ƒì´ í•„ìš”í•œ RwLockì´ libstdì— ì¡´ì¬í•˜ëŠ” ê²ƒì´ ì´ì¹˜ì— ë§ìŠµë‹ˆë‹¤. ìœ ê°ìŠ¤ëŸ½ê²Œë„ AVRì—ëŠ” ìš´ì˜ ì²´ì œê°€ ì—†ìœ¼ë¯€ë¡œ ì´ í”„ë¡œì íŠ¸ì—ëŠ” RwLockì´ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n\n\n# AVRì—ì„œì˜ ì „ì—­ ìƒíƒœ\n\n`RwLock<T>`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— static mut debugbuf1 ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ë¨¼ì € ëª¨ë“  ë ˆì§€ìŠ¤í„°ë¥¼ ì¶œë ¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ê°„ë‹¨í•œ ì˜µì½”ë“œë¥¼ ê³ ë ¤í•´ ë´…ì‹œë‹¤.\n\nì²« ë²ˆì§¸ ì‹œë„ëŠ” ë‹¤ìŒê³¼ ê°™ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n#[allow(non_upper_case_globals)]\nstatic mut debugbuf1: u8 = 0;\n\nconst AVRORA_PRINT_REGS: u8 = 0xE;\n\n#[arduino_hal::entry]\nfn main() -> ! {\n    loop {\n        unsafe {\n            debugbuf1 = AVRORA_PRINT_REGS;\n        }\n        arduino_hal::delay_ms(1000);\n    }\n}\n```\n\n\n\n`#[allow(non_upper_case_globals)]`ëŠ” ê²½ê³ ë¥¼ ì–µì œí•©ë‹ˆë‹¤. RustëŠ” ì „ì—­ ë³€ìˆ˜ì— ëŒ€ë¬¸ì ì´ë¦„ì„ ì‚¬ìš©í•˜ê¸°ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.\n\ní…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ .cargo/config.tomlì— c-print ëª¨ë‹ˆí„°ë¥¼ ì¶”ê°€í•˜ê³  ë‹¤ë¥¸ ê²ƒë“¤ì„ ì œê±°í•˜ì„¸ìš”:\n\n```js\n[target.'cfg(target_arch = \"avr\")']\nrunner = \"java -jar ../avrora/avrora-beta-1.7.117.jar -monitors=c-print -single -platform=mica2\"\n```\n\nì•ˆíƒ€ê¹ê²Œë„, ì´ê²ƒì€ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:\n\n\n\n\n![Image](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_3.png)\n\nAvroraëŠ” Rustì˜ ê´€ì ì—ì„œ debugbuf1ì´ë¦„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì•„ë¬´ë„ í•´ë‹¹ ê°’ì„ ì½ì§€ ì•Šì•„ì„œ ìµœì í™”ê¸°ê°€ ì™„ì „íˆ ì œê±°í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” Cì˜ volatile í‚¤ì›Œë“œì™€ ë™ë“±í•œ ê²ƒì´ í•„ìš”í•©ë‹ˆë‹¤.\n\në‹¤í–‰íˆ Rustì—ëŠ” ì •í™•íˆ ê·¸ ì—­í• ì„ í•˜ëŠ” í•¨ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.\n\nì°¸ì¡°(&mut) ëŒ€ì‹  *mutì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì°¸ì¡°ê°€ ì•„ë‹Œ ì›ì‹œ í¬ì¸í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì›ì‹œ í¬ì¸í„°ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ C í¬ì¸í„°ì´ë©°, ì´ë¥¼ ì—­ì°¸ì¡°í•˜ëŠ” ê²ƒì€ ì•ˆì „í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n\n\n\nìµœì´ˆì—ëŠ” ì´ë ‡ê²Œ ì‹œë„í•´ ë´¤ì–´ìš”. ì™œëƒí•˜ë©´ ì°¸ì¡°ì¸ &Tê°€ ìë™ìœ¼ë¡œ *Të¡œ ë³€í™˜ë  ìˆ˜ ìˆê±°ë“ . í•´ì œëœ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê±´ ì•ˆì „í•˜ì§€ ì•Šì§€ë§Œ, ë§Œë“œëŠ” ê±´ ê´œì°®ì•„ìš”.\n\n```js\nuse core::ptr::write_volatile;\n\n#[allow(non_upper_case_globals)]\nstatic mut debugbuf1: u8 = 0;\n\nconst AVRORA_PRINT_REGS: u8 = 0xE;\n\n#[arduino_hal::entry]\nfn main() -> ! {\n    loop {\n        unsafe {\n            write_volatile(&mut debugbuf1, AVRORA_PRINT_REGS);\n        }\n        arduino_hal::delay_ms(1000);\n    }\n}\n```\n\nì»´íŒŒì¼ì€ ì˜ ë˜ì—ˆì§€ë§Œ, RustëŠ” ì•„ì§ ì¢€ ë¶ˆë§ŒìŠ¤ëŸ¬ìš´ ëª¨ìŠµì´ì—ìš”:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_4.png)\n\n\n\nìµœê·¼ Rust ì»´íŒŒì¼ëŸ¬ì—ì„œ ì •ì  ë°ì´í„°ì— ëŒ€í•œ ì°¸ì¡°ëŠ” ê²½ê³ ê°€ ë°œìƒí•˜ë©°, 2024 ë…„ ì–¸ì–´ ë²„ì „ì—ì„œëŠ” ì˜¤ë¥˜ê°€ ë  ê²ƒì…ë‹ˆë‹¤ (ì´ ë¬¸ì œì— ëŒ€í•´ì„œëŠ” ê¹ƒí—ˆë¸Œì˜ í•´ë‹¹ ì´ìŠˆë¥¼ ì°¸ì¡°í•˜ì„¸ìš”). ë³´í†µ ì»´íŒŒì¼ëŸ¬ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ì£¼ë¯€ë¡œ ë„ì›€ì´ ë§ì´ ë©ë‹ˆë‹¤: addr_of_mut!()ì€ ìš°ë¦¬ê°€ ì°¸ì¡°ë¥¼ ë¨¼ì € ë§Œë“¤ì§€ ì•Šê³ ë„ ë³€ê²½ ê°€ëŠ¥í•œ ì›ì‹œ í¬ì¸í„°ë¥¼ ì œê³µí•´ì¤ë‹ˆë‹¤.\n\nì œ ìƒê°ì—ëŠ” ê°œë°œìê°€ ì›ì‹œ í¬ì¸í„°ë¡œ ì‘ì—…í•˜ë„ë¡ ê°•ì œí•¨ìœ¼ë¡œì¨ ë³€ê²½ ê°€ëŠ¥í•œ ì •ì  ë°ì´í„°ê°€ ì•ˆì „í•˜ì§€ ì•Šìœ¼ë©° ì¶”ê°€ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ë” ëª…í™•í•˜ê²Œ ë³´ì—¬ì£¼ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\nì´ê²ƒì´ ë„ì›€ì´ ë˜ì—ˆê³ , ì½”ë“œëŠ” ì´ì œ ê²½ê³  ì—†ì´ ì»´íŒŒì¼ë˜ì§€ë§Œ AvroraëŠ” ì•„ì§ ê·¸ê²ƒì„ ì°¾ì§€ ëª»í•©ë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_5.png)\n\n\n\nRustëŠ” ë‘ ê°œì˜ ë¸”ë¡ì´ ë™ì¼í•œ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ì •ì ì„ ì •ì˜í•´ë„ ê²°ê³¼ ë°”ì´ë„ˆë¦¬ì—ì„œ ìœ ì¼í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ #[no_mangle] ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì»´íŒŒì¼ëŸ¬ê°€ ì´ë¦„ì„ ë‚œì¡í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì„ ë°©ì§€í•˜ëŠ” ê²ƒ ì™¸ì—ë„ ì—¬ëŸ¬ ë‹¤ë¥¸ íš¨ê³¼ê°€ ìˆìŠµë‹ˆë‹¤).\n\nì‘ë™í•©ë‹ˆë‹¤, ìš°ë¦¬ëŠ” ë“œë””ì–´ (ì•„ì§ì€ ë‹¤ì†Œ ì§€ë£¨í•œ) ì¶œë ¥ì´ ìˆìŠµë‹ˆë‹¤!\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_6.png)\n\n# Avroraì— ë§¤ê°œë³€ìˆ˜ ì „ë‹¬í•˜ê¸°\n\n\n\nc-í”„ë¦°íŠ¸ ëª¨ë‹ˆí„°ì—ëŠ” ë ˆì§€ìŠ¤í„°ë‚˜ ì‹¬ì§€ì–´ VM ë‚´ë¶€ì˜ í™ ë‚´ìš©ì„ ì¶œë ¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ê°€ í•„ìš”í•˜ì§€ ì•Šì€ ë””ë²„ê·¸ í”„ë¦°íŠ¸ ëª…ë ¹ì´ ì—¬ëŸ¿ ìˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ëª…ë ¹ì€ 2ë°”ì´íŠ¸ ë˜ëŠ” 4ë°”ì´íŠ¸ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°ìš”, ì´ì „ì— ì •ì˜í•œ staticì„ í™•ì¥í•˜ì—¬ 16ë¹„íŠ¸ ê°’ì„ 16ì§„ìˆ˜ë¡œ ì¶œë ¥í•´ ë´…ì‹œë‹¤:\n\n```js\n#[no_mangle]\n#[allow(non_upper_case_globals)]\nstatic mut debugbuf1: [u8; 5] = [0, 0, 0, 0, 0];\n\nconst AVRORA_PRINT_2BYTE_HEXADECIMALS: u8 = 0x1;\nconst AVRORA_PRINT_REGS: u8 = 0xE;\n\n#[arduino_hal::entry]\nfn main() -> ! {\n    loop {\n        unsafe {\n            write_volatile(addr_of_mut!(debugbuf1[0]), AVRORA_PRINT_REGS);\n\n            let val = 0x42FF;\n            write_volatile(addr_of_mut!(debugbuf1[1]), val as u8);\n            write_volatile(addr_of_mut!(debugbuf1[2]), (val >> 8) as u8);\n            write_volatile(addr_of_mut!(debugbuf1[0]), AVRORA_PRINT_2BYTE_HEXADECIMALS);\n        }\n\n        arduino_hal::delay_ms(1000);\n    }\n}\n```\n\n![image](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_7.png)\n\nì¶œë ¥ì´ ë‹¤ì†Œ ë‚  ê²ƒ ê°™ì§€ë§Œ ì™„ë²½í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤.```\n\n\n\nì´ìƒí•˜ê²Œë„, debugbuf1ì´ ì´ì œ 5ë°”ì´íŠ¸ ë°°ì—´ì´ ë˜ì—ˆì„ ë•Œ ì»´íŒŒì¼ëŸ¬ëŠ” addr_of_mut!ë¥¼ ì¶”ê°€í•˜ê¸° ì „ì— ë³´ì•˜ë˜ ê²½ê³ ë¥¼ ë” ì´ìƒ í‘œì‹œí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê²½ê³  ì—†ì´ &mut debugbuf1[0]ì— ì§ì ‘ ì“¸ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì ì‹œ í—·ê°ˆë ¸ì§€ë§Œ, Stack Overflowì—ì„œ ë¬¼ì–´ë³¸ ê²°ê³¼ ì´ê²ƒì€ linterì˜ ì œí•œ ì‚¬í•­ì´ë¼ëŠ” ì‚¬ì‹¤ì´ ë°í˜€ì¡ŒìŠµë‹ˆë‹¤. ì´ ë¬¸ì œëŠ” ê³§ ìˆ˜ì •ë  ê²ƒìœ¼ë¡œ ë³´ì´ë‹ˆ, ê³„ì†í•´ì„œ addr_of_mut!ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\në¶€í˜¸ ìˆëŠ” 8, 16 ë˜ëŠ” 32 ë¹„íŠ¸ê°’ì— ëŒ€í•œ ë‹¤ë¥¸ ë³€í˜•ë„ ë™ì¼í•œ íŒ¨í„´ì„ ë”°ë¦…ë‹ˆë‹¤.\n\n# â€˜avroraâ€™ ëª¨ë“ˆ\n\n\n\nVMì„ ê°œë°œí•  ë•Œ, ê³„ì†í•´ì„œ ì´ëŸ¬í•œ ì¤„ì„ ë³µì‚¬í•˜ê³  ë¶™ì—¬ë„£ê¸°í•˜ê³  ì‹¶ì§€ ì•Šì•„ìš”. ì‹œë®¬ë ˆì´í„°ì™€ ìƒí˜¸ ì‘ìš©í•  ëª¨ë“  í¸ë¦¬í•œ ê¸°ëŠ¥ì„ ê°€ì§„ ëª¨ë“ˆì´ ìˆëŠ” ê²ƒì´ í›¨ì”¬ ì¢‹ì„ ê²ƒ ê°™ì•„ìš” (ë‚˜ì¤‘ì— ë‹¤ì–‘í•œ ì¶”ì  í˜¸ì¶œì´ ì¶”ê°€ë  ê²ƒì…ë‹ˆë‹¤). ê·¸ë˜ì„œ ëª¨ë“ˆì„ ë§Œë“¤ì–´ë´…ì‹œë‹¤.\n\navrora.rs ë˜ëŠ” avrora/mod.rsë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ì–´ ëª¨ë“ˆì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”. ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ì¶œë ¥ ëª…ë ¹ì„ ì¶”ê°€í•˜ê¸°ê°€ ë” ì‰¬ì›Œì§€ë„ë¡ ì¼ë¶€ ë¦¬íŒ©í„°ë§ì„ í¬í•¨í•˜ì—¬, ë‹¤ìŒê³¼ ê°™ì´ ë³´ì…ë‹ˆë‹¤:\n\n```js\nuse core::ptr::{addr_of_mut, write_volatile};\n\nconst AVRORA_PRINT_2BYTE_HEXADECIMALS: u8 = 0x1;\nconst AVRORA_PRINT_REGS: u8 = 0xE;\n\n#[allow(non_upper_case_globals)]\n#[no_mangle]\nstatic mut debugbuf1: [u8; 5] = [0, 0, 0, 0, 0];\n\nfn signal_avrora_c_print(instruction: u8) {\n    unsafe {\n        write_volatile(addr_of_mut!(debugbuf1[0]), instruction);\n    }\n}\n\nfn signal_avrora_c_print_16(instruction: u8, payload: u16) {\n    unsafe {\n        write_volatile(addr_of_mut!(debugbuf1[1]), payload as u8);\n        write_volatile(addr_of_mut!(debugbuf1[2]), (payload >> 8) as u8); \n        write_volatile(addr_of_mut!(debugbuf1[0]), instruction);\n    }\n}\n\n/// Avroraì˜ c-print ëª¨ë‹ˆí„°ë¥¼ ì‚¬ìš©í•˜ì—¬ 16 ë¹„íŠ¸ ë¶€í˜¸ ì—†ëŠ” ì •ìˆ˜ë¥¼ 16 ì§„ìˆ˜ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤.\n#[allow(dead_code)]\npub fn print_u16_hex(val: u16) {\n    signal_avrora_c_print_16(AVRORA_PRINT_2BYTE_HEXADECIMALS, val);\n}\n\n/// Avroraì˜ c-print ëª¨ë‹ˆí„°ë¥¼ ì‚¬ìš©í•˜ì—¬ R0ë¶€í„° R31 ë ˆì§€ìŠ¤í„°ì˜ ë‚´ìš©ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\n#[allow(dead_code)]\npub fn print_all_regs() {\n    signal_avrora_c_print(AVRORA_PRINT_REGS);\n}\n```\n\n`allow(dead_code)`ëŠ” íŠ¹ì • ë””ë²„ê·¸ ì¶œë ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•Œ ì»´íŒŒì¼ëŸ¬ê°€ ë¶ˆí‰ì„ ì œê¸°í•˜ì§€ ì•Šë„ë¡ í•„ìš”í•©ë‹ˆë‹¤. ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ ì½”ë“œê°€ ìµœì¢… ì´ì§„ íŒŒì¼ì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n\n\nì´ë ‡ê²Œ í•˜ë©´ ì£¼ íŒŒì¼ì´ ê¹”ë”í•´ì§€ê³  ì•ˆì „í•˜ì§€ ì•Šì€ ì½”ë“œê°€ ì „í˜€ ì—†ì–´ì§‘ë‹ˆë‹¤:\n\n```js\n#![no_std]\n#![no_main]\n\nuse panic_halt as _;\n\nmod avrora;\n\n#[arduino_hal::entry]\nfn main() -> ! {\n    loop {\n        avrora::print_all_regs();\n        avrora::print_u16_hex(0x42FF);\n\n        arduino_hal::delay_ms(1000);\n    }\n}\n```\n\nëª¨ë“ˆì„ ë” í™•ì¥í•˜ì—¬ 8, 16 ë° 32 ë¹„íŠ¸ ë¶€í˜¸ìˆëŠ” ë˜ëŠ” ë¶€í˜¸ì—†ëŠ” ìˆ«ìë¥¼ ì¸ì‡„í•˜ëŠ” ê²ƒì€ ê°„ë‹¨í•˜ì§€ë§Œ, ë¬¸ìì—´ì„ ì¸ì‡„í•˜ëŠ” ê²ƒì€ ì•½ê°„ì˜ íŠ¸ë¦­ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n# ì•ˆë…•, ì„¸ìƒ! (ë“œë””ì–´)\n\n\n\nAvroraì˜ c-print ëª¨ë‹ˆí„°ì—ëŠ” ë¬¸ìì—´ì„ ì¶œë ¥í•˜ëŠ” ì—¬ëŸ¬ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤:\n\n```js\n/// Uses Avrora's c-print monitor to print a string from RAM\n#[allow(dead_code)]\npub fn print_ram_string(s: &str) {\n    signal_avrora_c_print_16(AVRORA_PRINT_STRING_POINTERS, s.as_ptr() as u16);\n}\n```\n\nìš°ë¦¬ëŠ” ë¬¸ìì—´ ìŠ¬ë¼ì´ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì „ë‹¬í•˜ê³ , `.as_ptr()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ì†Œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ë¥¼ 16ë¹„íŠ¸ ì •ìˆ˜ë¡œ ë³€í™˜í•˜ì—¬ ëª¨ë‹ˆí„° í˜¸ì¶œì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\nì´ë¥¼ í†µí•´ main.rsì—ì„œ `avrora::print_ram_str(\"Hello, world!\");`ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìœ¼ë©°, ë§ˆì¹¨ë‚´ ì‘ë™í•˜ëŠ” \"Hello, world!\": ğŸ‰ğŸ‰ğŸ‰ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n\nì´ë¯¸ì§€ íƒœê·¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•˜ë©´ ë˜ì§€ë§Œ, ì´ ì ‘ê·¼ ë°©ì‹ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤:\n\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_8.png)\n\n\nRustëŠ” ë¬¸ìì—´ì„ RAMì— ìˆëŠ” .data ì„¹ì…˜ì— ë°°ì¹˜í–ˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ í”Œë«í¼ì—ì„œëŠ” ì´ ì ‘ê·¼ ë°©ì‹ì´ ê´œì°®ì§€ë§Œ AVRì—ì„œëŠ” RAMì´ ë§¤ìš° ì†Œê·€í•œ ìì›ì…ë‹ˆë‹¤. ATmega128ëŠ” RAMì´ 4KBë°–ì— ë˜ì§€ ì•Šì§€ë§Œ í”Œë˜ì‹œ ë©”ëª¨ë¦¬ëŠ” 128KBë‚˜ ë©ë‹ˆë‹¤. ì½”ë“œëŠ” í”Œë˜ì‹œì—ì„œ ì‹¤í–‰ë˜ë©°, ë°ì´í„°ëŠ” ì¼ë°˜ì ìœ¼ë¡œ RAMì— ì €ì¥ë˜ì§€ë§Œ ë°ì´í„°ê°€ ìƒìˆ˜ì¸ ê²½ìš°ì—ëŠ” í”Œë˜ì‹œì— ì €ì¥í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n\n\nAVRì—ì„œ í”Œë˜ì‹œ ë©”ëª¨ë¦¬ì—ì„œ ì½ì–´ì˜¤ëŠ” ê²ƒì—ëŠ” ì‘ì€ ì„±ëŠ¥ ì†ì‹¤ì´ ìˆìŠµë‹ˆë‹¤: í”„ë¡œê·¸ë¨ ë©”ëª¨ë¦¬ë¥¼ ë¡œë“œí•˜ëŠ” LPM ëª…ë ¹ì–´ëŠ” ì¼ë°˜ì ì¸ RAMì—ì„œì˜ LD ë¡œë“œì— ë¹„í•´ 1 ë˜ëŠ” 2 ì‚¬ì´í´ì´ ì•„ë‹Œ 3 ì‚¬ì´í´ì´ ì†Œìš”ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ê²½ìš° ì‹œë®¬ë ˆì´í„°ì—ì„œë§Œ ë¬¸ìì—´ì„ ì½ê¸° ë•Œë¬¸ì— ê·¸ë ‡ê²Œ ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\ní”Œë˜ì‹œì—ì„œ ì¶œë ¥í•˜ëŠ” í˜¸ì¶œì€ ê±°ì˜ ë™ì¼í•˜ì§€ë§Œ ë‹¤ë¥¸ ëª¤ë ¹ì–´ì™€ 32ë¹„íŠ¸ ì£¼ì†Œê°€ í•„ìš”í•©ë‹ˆë‹¤. í”Œë˜ì‹œ ì£¼ì†Œ ë²”ìœ„ê°€ ë” í¬ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ë¬¸ì œëŠ” ë¬¸ìì—´ì„ í”Œë˜ì‹œì— ì–´ë–»ê²Œ ë„£ì„ ìˆ˜ ìˆì„ê¹Œìš”? ìš°ë¦¬ê°€ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” avr_progmemë¼ëŠ” í¬ë ˆì´íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤.\n\në¨¼ì €, Cargoë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”:\n\n\n\n\n![image](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_10.png)\n\nì´ê²ƒìœ¼ë¡œ ìƒˆë¡œìš´ ë§¤í¬ë¡œ progmem!ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë§¤í¬ë¡œëŠ” ë°ì´í„°ë¥¼ í”Œë˜ì‹œì— ë°°ì¹˜í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í¬ë ˆì´íŠ¸ëŠ” ì–´ì…ˆë¸”ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ í”Œë˜ì‹œ ë©”ëª¨ë¦¬ì—ì„œ ë°ì´í„°ë¥¼ ì½ì„ ìˆ˜ ìˆëŠ” í¸ë¦¬í•œ ë°©ë²•ë„ ì œê³µí•©ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ë°ì´í„°ë¥¼ í”Œë˜ì‹œì— ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nprogmem! {\n    static progmem string HELLO = \"Hello, World!\\0\";\n}\navrora::print_flash_string(HELLO.as_bytes().as_ptr() as u32);\n```\n\nstatic HELLOëŠ” PmString`_`ì´ ë˜ë©°, ì—¬ê¸°ì„œ ìš°ë¦¬ëŠ” ë°”ì´íŠ¸ì— ëŒ€í•œ ì°¸ì¡°ì¸ &ProgMem`[u8; _]`ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì›ì‹œ *const T í¬ì¸í„°ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ê²ƒì€ ì£¼ì†Œë¥¼ í¬í•¨í•˜ëŠ” u32ë¡œ ìºìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. AvroraëŠ” ë„ ì¢…ê²°ëœ ë¬¸ìì—´ì„ ì˜ˆìƒí•˜ê¸° ë•Œë¬¸ì— \\0ê°€ ë¬¸ìì—´ì„ ì¢…ë£Œí•˜ëŠ” ë° í•„ìš”í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì²« ë²ˆì§¸ \\0ì„ ë§Œë‚  ë•Œê¹Œì§€ ì“°ë ˆê¸°ë¥¼ ì¶œë ¥í•  ê²ƒì…ë‹ˆë‹¤.\n\n\n\n\n# print_flash_string ë§¤í¬ë¡œ.\n\nì´ ë°©ë²•ì€ ë™ì‘í•˜ì§€ë§Œ ë””ë²„ê·¸ìš©ìœ¼ë¡œëŠ” ìƒë‹¹íˆ ê¸¸ì–´ìš”. avrora::print_flash_string(\"Hello, World!\")ì²˜ëŸ¼ ê°„ë‹¨íˆ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ë©´ ì¢‹ì„í…ë°ìš”.\n\nìš°ë¦¬ëŠ” ì¼ë°˜ì ì¸ ëŸ¬ìŠ¤íŠ¸ í•¨ìˆ˜ë¡œëŠ” ì´ê²ƒì„ í•  ìˆ˜ ì—†ì§€ë§Œ ë§¤í¬ë¡œë¡œ ê±°ì˜ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n/// Avroraì˜ c-print ëª¨ë‹ˆí„°ë¥¼ ì‚¬ìš©í•˜ì—¬ flash ë©”ëª¨ë¦¬ì—ì„œ ë¬¸ìì—´ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\n#[allow(unused_macros)]\n#[macro_export]\nmacro_rules! print_flash_string {\n    ($s:expr) => { {\n        use avr_progmem::progmem;\n        progmem! {\n            static progmem string AVRORA_PROGMEMSTRING = concat!($s, \"\\0\");\n        }\n        avrora::print_flash_string(AVRORA_PROGMEMSTRING);\n    } };\n}\n\n/// Avroraì˜ c-print ëª¨ë‹ˆí„°ë¥¼ ì‚¬ìš©í•˜ì—¬ flash ë©”ëª¨ë¦¬ì—ì„œ ë¬¸ìì—´ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\n/// \n/// ì´ í•¨ìˆ˜ëŠ” print_flash_string! ë§¤í¬ë¡œì— ì˜í•´ í˜¸ì¶œë˜ì–´ í¸ë¦¬í•˜ê²Œ\n/// ë¬¸ìì—´ì„ flash ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³  í•„ìš”í•œ PmStringì„ ìƒì„±í•©ë‹ˆë‹¤.\n#[allow(dead_code)]\npub fn print_flash_string<const N: usize>(string_in_progmem: PmString<N>) {\n    signal_avrora_c_print_32(\n        AVRORA_PRINT_FLASH_STRING_POINTER,\n        string_in_progmem.as_bytes().as_ptr() as u32);\n}\n```\n\n\n\në§¤í¬ë¡œì— ëŒ€í•´ ë°°ìš¸ ì ì´ ë§ì§€ë§Œ, ì§€ê¸ˆê¹Œì§€ 'Programming Rust'ì—ì„œ ë§¤í¬ë¡œ ì±•í„°ë¡œ ê±´ë„ˆë›°ì–´ì„œ ì´ ì‘ì—…ì„ í•˜ê¸°ì— ì¶©ë¶„í•œ ì§€ì‹ì„ ì–»ì—ˆìŠµë‹ˆë‹¤.\n\nRustì˜ ë§¤í¬ë¡œëŠ” ì»´íŒŒì¼ í”„ë¡œì„¸ìŠ¤ ì´ˆê¸°ì— ì‹¤í–‰ë©ë‹ˆë‹¤. ì´ëŠ” í•¨ìˆ˜ì™€ ë‹¬ë¦¬ ë§¤í¬ë¡œë¥¼ ì„ ì–¸í•  ë•Œ pub ëŒ€ì‹  #[macro_export]ë¥¼ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤. ì´ ë‹¨ê³„ì—ì„œ pubì˜ ì „ì²´ ê°œë…ì€ ì•„ì§ ì˜ë¯¸ê°€ ì—†ìŠµë‹ˆë‹¤. ë¶ˆí–‰íˆë„, ì´ëŠ” ë‹¤ë¥¸ ë§¤í¬ë¡œë¥¼ avrora::ì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\në§¤í¬ë¡œëŠ” Cì—ì„œì™€ ê°™ì´ í‰ë¬¸ì´ ì•„ë‹Œ í† í° ìŠ¤íŠ¸ë¦¼ì—ì„œ ì‘ë™í•©ë‹ˆë‹¤. ë§¤í¬ë¡œ ì •ì˜ì—ëŠ” ì •ê·œì‹ê³¼ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ì¼ì¹˜í•˜ëŠ” í•˜ë‚˜ ì´ìƒì˜ ì¼€ì´ìŠ¤ê°€ í¬í•¨ë©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë§¤í¬ë¡œê°€ í•´ë‹¹ ë³¸ë¬¸ìœ¼ë¡œ í™•ì¥ë©ë‹ˆë‹¤.\n\në§¤í¬ë¡œëŠ” ë§¤í¬ë¡œê°€ ì˜ˆìƒí•˜ëŠ” í† í° ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 'ë””ìì´ë„¤ì´í„°'ë¡œ íŠ¹ì • ë¶€ë¶„ì˜ í† í° ìŠ¤íŠ¸ë¦¼ì„ ìº¡ì²˜í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ($s:expr)ëŠ” ë‹¨ì¼ í‘œí˜„ì‹ê³¼ í•´ë‹¹ ê°’ì„ $sì— ì €ì¥í•©ë‹ˆë‹¤.\n\n\n\nprint_flash_string ë§¤í¬ë¡œëŠ” í”„ë¡œê·¸ë¨ ë©”ëª¨ë¦¬ì— static AVRORA_PROGMEMSTRINGì„ ì •ì˜í•œ í›„ print_flash_string í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¶œë ¥í•˜ëŠ” ë¸”ë¡ìœ¼ë¡œ í™•ì¥ë©ë‹ˆë‹¤.\n\nì‘ì€ ë”°ì˜´í‘œ ì‚¬ì´ì— ì´ì¤‘ ì¤‘ê´„í˜¸ë¥¼ ì£¼ëª©í•˜ì„¸ìš”: '' ... ''. ì™¸ë¶€ ì¤‘ê´„í˜¸ëŠ” ë§¤í¬ë¡œ ì¼€ì´ìŠ¤ì˜ í™•ì¥ì„ êµ¬ë¶„í•˜ë©° ê²°ê³¼ ì½”ë“œì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‚´ë¶€ ì¤‘ê´„í˜¸ëŠ” ë§¤í¬ë¡œì˜ í™•ì¥ì„ ìƒˆ ë¸”ë¡ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤€ ì½”ë“œë¥¼ ë§¤í¬ë¡œê°€ ì‚¬ìš©ëœ ì½”ë“œì— ì§ì ‘ í™•ì¥í•˜ëŠ” ëŒ€ì‹ ì— í¬í•¨í•©ë‹ˆë‹¤.\n\nì™œ ì´ê²ƒì´ ì¤‘ìš”í•œê°€ìš”? ì¶”ê°€ ì¤‘ê´„í˜¸ê°€ ì—†ìœ¼ë©´ ë‘ ë²ˆì˜ print ë¬¸ì´ ì—°ì†ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ë™ì¼í•œ ë¸”ë¡ì—ì„œ ë‘ ê°œì˜ AVRORA_PROGMEMSTRING staticì„ ì •ì˜í•˜ê³  ì´ë¦„ì´ ì¶©ëŒí•©ë‹ˆë‹¤. ìƒì„±ëœ ì½”ë“œë¥¼ ì¤‘ê´„í˜¸ë¡œ ê°ì‹¸ë©´ ì¶©ëŒí•˜ì§€ ì•Šê²Œ ë˜ê³  Rustì˜ ì´ë¦„ ë§¹ê¸€ë§ì€ ìµœì¢… ì´ì§„ íŒŒì¼ì—ì„œ ê³ ìœ í•œ ì‹¬ë³¼ì„ ê°€ì ¸ì£¼ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ì¶©ëŒì´ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:\n\n<img src=\"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_11.png\" />\n\n\n\nì´ì œ ë§¤í¬ë¡œë¥¼ ë‹¤ë¥¸ í”„ë¦°íŠ¸ í•¨ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nprint_flash_string!(\"Hello, World from flash memory!\");\n```\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_12.png)\n\nìœ ì¼í•œ ì°¨ì´ì ì€ ë§¤í¬ë¡œê°€ ì§ì ‘ì ìœ¼ë¡œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë©° avrora::ë¡œ ì ‘ë‘ì‚¬ë¥¼ ë¶™ì¼ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ê°œë°œìë¡œì„œ avrora::ë¥¼ ì…ë ¥í•˜ê³  IDEì—ì„œ ë¬´ì—‡ì´ ë‚˜íƒ€ë‚˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•œ ì˜µì…˜ì„ ì°¾ëŠ” ë° ë„ì›€ì´ ë˜ê¸° ë•Œë¬¸ì— ì´ê²ƒì€ ì•ˆíƒ€ê¹Œìš´ ë¶€ë¶„ì…ë‹ˆë‹¤.\n\n\n\nì´ê²ƒì´ ë§¤í¬ë¡œì™€ í•¨ìˆ˜ì˜ ì´ë¦„ì„ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³  í•¨ìˆ˜ì˜ ì‚¼ì¤‘ ìŠ¬ë˜ì‹œ ë¬¸ì„œí™”ê°€ ì‚¬ìš©ìë¥¼ í•´ë‹¹ ë§¤í¬ë¡œë¡œ ì•ˆë‚´í•˜ëŠ” ì£¼ìš” ì´ìœ ì˜€ìŠµë‹ˆë‹¤.\n\në˜í•œ ì‚¬ìš©ëœ ì½”ë“œ ë‚´ì—ì„œ ë§¤í¬ë¡œê°€ í™•ì¥ë˜ê¸° ë•Œë¬¸ì— avrora ëª¨ë“ˆì˜ ë¹„ê³µê°œ í•¨ìˆ˜ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë§¤í¬ë¡œê°€ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê³µê°œ ì§„ì…ì ì´ í•„ìš”í•˜ë©°, ì´ê²ƒì´ ê°€ì¥ ê¹”ë”í•œ ë°©ë²•ìœ¼ë¡œ ë³´ì˜€ìŠµë‹ˆë‹¤.\n\n# ìš”ì•½\n\nì´ ì¼ì€ ì˜ˆìƒë³´ë‹¤ í›¨ì”¬ ë§ì€ ë‹¨ê³„ê°€ í•„ìš”í–ˆì§€ë§Œ, ë§ì€ í¥ë¯¸ë¡œìš´ ê²ƒë“¤ì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤:\n\n\n\n- static mut ë°ì´í„°ì™€ unsafe ì½”ë“œ\n- stdcoreì™€ stdlibì˜ ê´€ê³„\n- write_volatile ë° addr_of_mut\n- no_mangle ì†ì„±\n- ëª¨ë“ˆ ë§Œë“¤ê¸°\n- ì ì ˆí•œ ê²½ìš°ì— ê²½ê³  ì–µì œí•˜ëŠ” ë°©ë²•\n- Raw í¬ì¸í„°\n- ë°ì´í„°ë¥¼ í”Œë˜ì‹œ ë©”ëª¨ë¦¬ì— ë„£ê¸° ìœ„í•´ avr_progmem ì‚¬ìš©\n- ê°„ë‹¨í•œ ë§¤í¬ë¡œ ì‘ì„±í•˜ëŠ” ë°©ë²•\n\nì´ë²ˆ ë‹¨ê³„ì˜ ì½”ë“œ ìƒíƒœëŠ” ì¼ë°˜ì ìœ¼ë¡œ Githubì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n2024ë…„ 5ì›” 10ì¼ì— nielsreijers.github.ioì—ì„œ ìµœì´ˆ ë°œí–‰ë¨.","ogImage":{"url":"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_0.png"},"coverImage":"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_0.png","tag":["Tech"],"readingTime":16},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    h1: \"h1\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    div: \"div\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"ì´ê²ƒì€ ë‚´ê°€ ì„ë² ë””ë“œ Java ê°€ìƒ ë¨¸ì‹ ì„ Rustë¡œ ì´ì‹í•˜ë©´ì„œ Rust í•™ìŠµí•˜ëŠ” ì—¬ì •ì„ ë¬¸ì„œí™”í•œ ì‹œë¦¬ì¦ˆì˜ ì¼ë¶€ 3ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì§€ë‚œ ë‹¨ê³„ ì´í›„ì—ëŠ” Rust ì½”ë“œë¥¼ íƒ€ê¹ƒ í”Œë«í¼ì¸ AVR ê³„ì—´ ì„ë² ë””ë“œ CPUì¸ íŠ¹íˆ ATmega128ì„ ìœ„í•´ ì»´íŒŒì¼í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìœ¼ë©°, Avrora AVR ì‹œë®¬ë ˆì´í„°ì—ì„œ ê²°ê³¼ ì´ì§„ íŒŒì¼ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì•„ì§ ì¶œë ¥ì„ í‘œì‹œí•  ìˆ˜ëŠ” ì—†ì—ˆì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ê²Œì‹œë¬¼ì—ì„œëŠ” ë””ë²„ê·¸ ì¶œë ¥ì„ ì¶”ê°€í•  ê²ƒì…ë‹ˆë‹¤. ì‰¬ìš´ ì‘ì—…ì¼ ì¤„ ì•Œì•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” Rustì— ëŒ€í•´ ë” ë§ì´ ë°°ìš°ê²Œ í•´ì£¼ëŠ” ê°ê°ì˜ ì‘ì€ ë‹¨ê³„ë“¤ì„ ê±°ì³ ë§ì€ ì‹œê°„ì´ ê±¸ë ¤ë²„ë ¸ì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_0.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ì½˜ì†”ì— ì¶œë ¥í•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¼ë°˜ Rustì—ì„œ ì½˜ì†”ì— ì¶œë ¥í•˜ëŠ” ê²ƒì€ ì‰½ìŠµë‹ˆë‹¤: println!ì€ í‘œì¤€ ì¶œë ¥ì—, eprintln!ì€ í‘œì¤€ ì—ëŸ¬ ì¶œë ¥ì— ê°’ì„ ì¶œë ¥í•©ë‹ˆë‹¤. ë¹ ë¥¸ ë””ë²„ê¹…ì„ ìœ„í•´ dbg!()ëŠ” ë§¤ìš° í¸ë¦¬í•©ë‹ˆë‹¤: ì „ë‹¬ëœ ê°’ìœ¼ë¡œ ë°˜í™˜ë˜ë©°, í•´ë‹¹ ê°’ì„ í‘œì¤€ ì—ëŸ¬ì— ì¶œë ¥í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"fn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"main\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"let\"\n        }), \" a = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"42\"\n        }), \";\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"let\"\n        }), \" b = dbg!(a);\\n    println!(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"b = {}\\\"\"\n        }), \", b);\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ ì½”ë“œëŠ” ì¶œë ¥ëœë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"[src/main.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"rs\"\n        }), \":\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"3\"\n        }), \"] a = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"42\"\n        }), \" \\nb = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"42\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì²« ë²ˆì§¸ ì¤„ì€ stderrë¡œ ë³´ë‚´ì§€ê³ , ë‘ ë²ˆì§¸ ì¤„ì€ stdoutë¡œ ë³´ëƒ…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ëŸ¬ë‚˜ ì €ëŠ” ì„ë² ë””ë“œ í”„ë¡œì„¸ì„œ í´ë˜ìŠ¤ AVRì„ ìœ„í•œ VMì„ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤. AVRì€ ìš´ì˜ ì²´ì œê°€ ì—†ê¸° ë•Œë¬¸ì— stdout ë˜ëŠ” stderrë¡œ ì¶œë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‚´ ì½”ë“œê°€ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì–´ë–»ê²Œ ì¶œë ¥í•  ìˆ˜ ìˆì„ê¹Œìš”?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"CPUì—ëŠ” ì¶œë ¥ì„ ì „ì†¡í•  ìˆ˜ ìˆëŠ” UARTê°€ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¦¬ì ì¸ ë³´ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ì¢‹ì€ ë°©ë²•ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ê²½ìš°ì—ëŠ” ì½”ë“œê°€ Avrora ì‹œë®¬ë ˆì´í„°ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ ë‹¤ë¥¸ ì˜µì…˜ì´ ìˆìŠµë‹ˆë‹¤: ì˜ ì •ì˜ëœ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¥¼ í†µí•´ ì¶œë ¥í•©ë‹ˆë‹¤.```\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"C-Print ëª¨ë‹ˆí„°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Avroraì—ëŠ” AVR ìƒì—ì„œ ì½”ë“œì˜ ì‹¤í–‰ì„ ì¶”ì í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ 'ëª¨ë‹ˆí„°'ê°€ ìˆìŠµë‹ˆë‹¤. ì´ì „ ê²Œì‹œë¬¼ì—ì„œëŠ” ë©”ëª¨ë¦¬ ë° ìŠ¤íƒ ëª¨ë‹ˆí„°ë¥¼ í™œì„±í™”í•˜ì—¬ ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ì¶”ì í•˜ê³  ìŠ¤íƒ ì„±ì¥ì„ ì§€ì¼œëƒˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ëª¨ë‹ˆí„°ëŠ” c-printì…ë‹ˆë‹¤. ì´ ëª¨ë‹ˆí„°ëŠ” íŠ¹ì • ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¡œì˜ ì“°ê¸°ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ì¶œë ¥ì„ ìƒì„±í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê°ì‹œë˜ëŠ” ìœ„ì¹˜ëŠ” ë‹¨ì¼ ë°”ì´íŠ¸ì…ë‹ˆë‹¤. ì¼ë¶€ ì‘ì—…ì—ëŠ” ì´ê²Œ ì¶©ë¶„í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 0x0Eë¥¼ ì“°ë©´ Avroraê°€ CPU ë ˆì§€ìŠ¤í„°ì˜ ë‚´ìš©ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¤ë¥¸ ì‘ì—…ì€ ë§¤ê°œë³€ìˆ˜ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒ 2 ë˜ëŠ” 4ë°”ì´íŠ¸ì—ì„œ ì½ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 0x05ë¥¼ ë§ˆë²•ì˜ ìœ„ì¹˜ì— ì“°ë©´ ë‹¤ìŒ 4ë°”ì´íŠ¸ì˜ ë‚´ìš©ì´ ë¶€í˜¸ ì—†ëŠ” 32ë¹„íŠ¸ ì •ìˆ˜(little endian)ë¡œ ì¶œë ¥ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì•„ë¸Œë¡œë¼ëŠ” íŠ¹ì • ì‹¬ë³¼ì¸ debugbuf1ì„ ì°¾ì•„ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¥¼ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_1.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ì¶œë ¥ë¬¼ì€ ì´ ê²Œì‹œë¬¼ì˜ ì™„ì„±ëœ ì½”ë“œì—ì„œ ê°€ì ¸ì˜¨ ê²ƒì…ë‹ˆë‹¤. ì•„ë¸Œë¡œë¼ëŠ” ì£¼ì†Œ 0x0210ì— ìˆëŠ” ë°”ì´íŠ¸ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³ , ì½”ë“œê°€ í•´ë‹¹ ì£¼ì†Œì— ì“°ê¸°ë¥¼ í•  ë•Œ c-print ëª¨ë‹ˆí„°ë¥¼ íŠ¸ë¦¬ê±°í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ì˜ ì¶œë ¥ë¬¼ì—ì„œ í‘œì‹œëœ ë§¤ìš° ë†’ì€ ì£¼ì†Œì— ìœ ì˜í•˜ì‹­ì‹œì˜¤. í•˜ë²„ë“œ ì•„í‚¤í…ì²˜ì¸ AVRì€ ì½”ë“œ(í”Œë˜ì‹œ ë©”ëª¨ë¦¬)ì™€ RAMì„ìœ„í•œ ë³„ë„ì˜ ì£¼ì†Œ ê³µê°„ì„ ê°–ìŠµë‹ˆë‹¤. binutils toolchainì€ ì´ê²ƒì„ ìœ„í•œ ê²ƒì´ ì•„ë‹ˆì—ˆì§€ë§Œ, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ avr ë²„ì „ì€ RAMì„ 0x00800000 ë˜ëŠ” 8MBì—ì„œ ì‹œì‘í•˜ëŠ” ì£¼ì†Œì— ë§¤í•‘í•˜ì—¬ AVR CPUì˜ í”Œë˜ì‹œ ìš©ëŸ‰ì„ í›¨ì”¬ ì´ˆê³¼í•˜ëŠ” ê³³ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Rustì—ì„œì˜ ì „ì—­ ìƒíƒœ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìš°ë¦¬ëŠ” ì“¸ ìˆ˜ ìˆëŠ” ì „ì—­ ë³€ìˆ˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ ê°•ì˜ì—ì„œëŠ” ì „ì—­ ê°€ë³€ ìƒíƒœê°€ ì¢‹ì§€ ì•Šë‹¤ê³  ë§í•˜ì§€ë§Œ, ë•Œë¡œëŠ” ê·¸ëŸ° ìœ íš¨í•œ ì´ìœ ê°€ ìˆê³ , ì´ê²ƒì€ ê·¸ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Rustì—ì„œ ì–´ë–»ê²Œ ì „ì—­ ê°€ë³€ ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì„ê¹Œìš”? RustëŠ” ì•ˆì „ì„ ì¤‘ìš”ì‹œí•˜ë©°, ì „ì—­ ê°€ë³€ ìƒíƒœëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ì•ˆì „í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìš°ë¦¬ëŠ” ë³€ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„ ì–¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. static mut debugbuf1: [u8; 5] = [0, 0, 0, 0, 0];. ì´ëŠ” ì‘ë™í•˜ì§€ë§Œ RustëŠ” ëˆ„êµ¬ë“  ì ‘ê·¼í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê·¸ ì•ˆì „ì„ ë³´ì¥í•  ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤. AVRì—ëŠ” ë‹¤ì¤‘ ìŠ¤ë ˆë“œ ìš´ì˜ ì²´ì œê°€ ì—†ìŠµë‹ˆë‹¤(ì‹¤ì œë¡œëŠ” ìˆì§€ë§Œ, ì´ ê²½ìš°ì—ëŠ” í•´ë‹¹ë˜ì§€ ì•ŠìŒ).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§Œì•½ Rustê°€ ì½”ë“œê°€ ì•ˆì „í•˜ë‹¤ê³  ì¦ëª…í•˜ì§€ ëª»í•˜ë©´, ìš°ë¦¬ì—ê²Œ ëª…ì‹œì ìœ¼ë¡œ ì•Œë ¤ì£¼ê¸¸ ì›í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ìš°ë¦¬ëŠ” static mut ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ê²ƒì— ì ‘ê·¼í•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ unsafe ' ... ' ë¸”ë¡ ë‚´ì—ì„œì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"std::sync::RwLock\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ì˜ ë°©ë²•ì€ AVRì— ì‚¬ìš©í•  ê²ƒì´ì§€ë§Œ, ì´ ë¸”ë¡œê·¸ëŠ” Rust í•™ìŠµì— ê´€í•œ ê²ƒì´ë¯€ë¡œ ë•Œë¡œëŠ” ì´ í”„ë¡œì íŠ¸ì—ëŠ” ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆëŠ” ë‚´ìš©ì„ ì¢€ ìˆœíšŒí•´ë³¼ ê²ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Rustì—ì„œ ì „ì—­ ìƒíƒœì— ëŒ€í•œ ê¸°ì‚¬ë¥¼ ì°¾ì•„ë³´ë‹¤ê°€ í¥ë¯¸ë¡œìš´ ë‚´ìš©ì„ ë§ì´ ì„¤ëª…í•œ ì´ ì‘ì€ ë³´ì„ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ìì„¸íˆ ê²€í† í•´ë³´ê³  ë‹¤ì‹œ ëŒì•„ì™€ì•¼ í•  ê²ƒì´ì§€ë§Œ, í•œ ëŒ“ê¸€ì´ ëˆˆì— ë„ì—ˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ì´ê²ƒì´ ê¶ê¸ˆí•´ì¡Œì–´ìš”. ì•ˆì „í•œ íŒ¨í„´ë“¤ì€ ë¬´ì—‡ì¼ê¹Œìš”? ì¢€ ë” ì°¾ì•„ë³´ë‹ˆ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë‘ ê°€ì§€ ìœ ìš©í•œ ë„ìš°ë¯¸ í´ë˜ìŠ¤ê°€ ìˆë‹¤ëŠ” ê±¸ ì•Œì•˜ì–´ìš”: std::sync::Mutex\", _jsx(_components.code, {\n        children: \"T\"\n      }), \" ì™€ std::sync::RwLock\", _jsx(_components.code, {\n        children: \"T\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ë“¤ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ìƒë‹¹íˆ ê°„ë‹¨í•´ìš”. MutexëŠ” RwLockê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ ë¦¬ë”ì™€ ë¼ì´í„°ë¥¼ êµ¬ë³„í•˜ì§€ ì•Šì•„ìš”. RwLockê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ë³´ì—¬ë“œë¦¬ê² ì–´ìš”:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"use \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"std\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"sync\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"RwLock\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"static\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"LOCK\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"RwLock\"\n        }), \"<u8> = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"RwLock\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"new\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"5\"\n        }), \");\\n\\nfn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"main\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì—¬ëŸ¬ ë¦¬ë” ë½ì„ ë™ì‹œì— ë³´ìœ í•  ìˆ˜ ìˆì–´ìš”\"\n        }), \"\\n    {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"let\"\n        }), \" r1 = \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"LOCK\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"read\"\n        }), \"().\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"unwrap\"\n        }), \"();\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"let\"\n        }), \" r2 = \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"LOCK\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"read\"\n        }), \"().\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"unwrap\"\n        }), \"();\\n        assert_eq!(*r1, \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"5\"\n        }), \");\\n        assert_eq!(*r2, \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"5\"\n        }), \");\\n    } \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì´ ì‹œì ì—ì„œ ë¦¬ë” ë½ì´ í•´ì œë¼ìš”\"\n        }), \"\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ê·¸ëŸ¬ë‚˜ í•œ ë²ˆì— í•œ ê°œì˜ ë¼ì´í„° ë½ë§Œ ë³´ìœ í•  ìˆ˜ ìˆì–´ìš”\"\n        }), \"\\n    {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"let\"\n        }), \" mut w = \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"LOCK\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write\"\n        }), \"().\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"unwrap\"\n        }), \"();\\n        *w += \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \";\\n        assert_eq!(*w, \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"6\"\n        }), \");\\n    } \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì´ ì‹œì ì—ì„œ ë¼ì´í„° ë½ì´ í•´ì œë¼ìš”\"\n        }), \"\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë”°ë¼ì„œ ì´ ë¸”ë¡ì—ì„œ ìƒˆë¡œìš´ ë¼ì´í„° ë½ì„ ì–»ì„ ìˆ˜ ìˆì§€ë§Œ,\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì´ ë‘ ë¸”ë¡ì„ í•˜ë‚˜ë¡œ í•©ì¹˜ë©´ ë°ë“œë½ì´ ë°œìƒí•  ìˆ˜ ìˆì–´ìš”\"\n        }), \"\\n    {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"let\"\n        }), \" mut w2 = \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"LOCK\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write\"\n        }), \"().\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"unwrap\"\n        }), \"();\\n        *w2 += \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \";\\n        assert_eq!(*w2, \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"7\"\n        }), \");\\n    } \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"//\"\n        }), \"\\n\\n    println!(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Done.\\\"\"\n        }), \");\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Playgroundì—ì„œ ì‹œë„í•´ë³´ì„¸ìš”!\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ë¦¬ì†ŒìŠ¤ë¥¼ \", _jsx(_components.code, {\n        children: \"RwLock\"\n      }), \"ìœ¼ë¡œ ë˜í•‘í•˜ë©´ í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•´ ì—¬ëŸ¬ ì½ê¸° ì „ìš© ì°¸ì¡° ë˜ëŠ” ë‹¨ì¼ ë³€ê²½ ê°€ëŠ¥í•œ ì°¸ì¡°ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"VS Codeë¥¼ ì‚¬ìš©í•  ë•Œ ìœ í˜• íŒíŠ¸ë¥¼ í†µí•´ \", _jsx(_components.code, {\n        children: \"read()\"\n      }), \" ë˜ëŠ” \", _jsx(_components.code, {\n        children: \"write()\"\n      }), \"ë¥¼ í˜¸ì¶œí•  ë•Œ ë‹¨ìˆœíˆ \", _jsx(_components.code, {\n        children: \"u8\"\n      }), \"ì— ëŒ€í•œ ì°¸ì¡°(&u8 ë˜ëŠ” mutable &mut u8)ê°€ ì•„ë‹ˆë¼ \", _jsx(_components.code, {\n        children: \"RwLockReadGuard<u8>\"\n      }), \" ë˜ëŠ” \", _jsx(_components.code, {\n        children: \"RwLockWriteGuard<u8>\"\n      }), \"ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_2.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¤ì‹œ í•œ ë²ˆ, Rustì˜ ì¢‹ì€ ì ì€ ì‰½ê²Œ êµ¬í˜„ì„ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"êµ¬í˜„ ì„¸ë¶€ ì‚¬í•­ì€ ì•„ì§ ì¡°ê¸ˆ ì–´ë ¤ì›Œ ë³´ì´ì§€ë§Œ, ë‘ ê°€ì§€ê°€ ëª¨ë‘ Deref\", _jsx(_components.code, {\n        children: \"T\"\n      }), \" íŠ¸ë ˆì´íŠ¸ (ì—¬ê¸°ì„œ TëŠ” u8)ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ì‚¬ì‹¤ì€ ëª…ë°±í•©ë‹ˆë‹¤. ì´ê²ƒì´ Rustê°€ ìš°ë¦¬ê°€ ê·¸ë“¤ì„ &u8ë¡œ ì•”ì‹œì ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤. ë˜í•œ write ê°€ë“œëŠ” DeferMut\", _jsx(_components.code, {\n        children: \"T\"\n      }), \"ë„ êµ¬í˜„í•˜ë¯€ë¡œ ê·¸ê²ƒì„ &mut u8ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê°™ì€ íŒŒì¼ì—ì„œ ë‘ ê°€ì§€ê°€ ëª¨ë‘ Drop íŠ¸ë ˆì´íŠ¸ë¥¼ êµ¬í˜„í•˜ê³  ìˆê³ , drop() í•¨ìˆ˜ëŠ” read_unlock() ë˜ëŠ” write_unlock()ë¥¼ í˜¸ì¶œí•˜ì—¬ ì ê¸ˆì„ í•´ì œí•©ë‹ˆë‹¤. RustëŠ” ê°’ì´ ìŠ¤ì½”í”„ë¥¼ ë²—ì–´ë‚˜ëŠ” ì¦‰ì‹œ ê°’ì„ ì‚­ì œí•  ê²ƒì´ê¸° ë•Œë¬¸ì— ì¤‘ê°„ ë¸”ë¡ì˜ ëì— w ì ê¸ˆì´ í•´ì œë˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë‘ ë¸”ë¡ì„ ë³‘í•©í•˜ë©´ ë°ë“œë½ì´ ë°œìƒí•  ìˆ˜ ìˆì§€ë§Œ, ë‘ ë²ˆì§¸ ì“°ê¸° ì ê¸ˆì„ ìš”ì²­í•˜ê¸° ì „ì— ëª…ì‹œì ìœ¼ë¡œ drop(w);ë¥¼ ì¶”ê°€í•˜ë©´ ë°ë“œë½ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ëŸ¬í•œ íŠ¸ë ˆì´íŠ¸ì˜ êµ¬í˜„ì€ ëª¨ë‘ ì•ˆì „í•˜ì§€ ì•Šì€ ' ' ì½”ë“œì…ë‹ˆë‹¤. ì‹¤ì œë¡œ ì•ˆì „í•˜ì§€ ì•Šì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ì•ˆì „í•˜ì§€ ì•Šì€ ê²ƒì€ ì‚¬ì‹¤ \\\"í™•ì¸ë˜ì§€ ì•Šì€\\\"ì„ ì˜ë¯¸í•©ë‹ˆë‹¤: ì»´íŒŒì¼ëŸ¬ê°€ ì½”ë“œê°€ ì•ˆì „í•˜ë‹¤ê³  í™•ì‹ í•  ìˆ˜ ì—†ì§€ë§Œ, ì•ˆì „í•˜ë‹¤ë©´ ê·¸ê²ƒì„ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì½”ë“œë„ ì•ˆì „í•  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ëŸ¬ë‚˜ ì´ ì½”ë“œê°€ ê²½ìŸ ì¡°ê±´ì„ í”¼í•˜ê¸° ë•Œë¬¸ì— ì•ˆì „í•˜ë‹¤ëŠ” ì ì€ ì¤‘ìš”í•˜ì§€ë§Œ, ë°ë“œë½ì„ ë°©ì§€í•˜ì§€ëŠ” ì•Šìœ¼ë©° ë¹ ë¥´ê¸° ë•Œë¬¸ì— ë˜ì–´ì•¼ í•˜ëŠ” ê²ƒë„ ì•„ë‹™ë‹ˆë‹¤. ì ê¸ˆì´ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì€ ì„±ëŠ¥ ë³‘ëª© ì§€ì ì´ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê³µìœ  ìƒíƒœëŠ” í•­ìƒ ë³µì¡í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"libcoreê³¼ libstd\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê²ƒì€ ì•ˆì „í•˜ì§€ ì•Šì€ ì½”ë“œë¥¼ í”¼í•˜ê¸° ìœ„í•œ ì¢‹ì€ ëŒ€ì•ˆìœ¼ë¡œ ë³´ì˜€ì§€ë§Œ ì•ˆíƒ¤ë ˆ ì´ë¹„ì´ì–´ì—ì„  ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‚¬ìš©í•œ í…œí”Œë¦¿ì—ì„œ ìƒì„±ëœ ì½”ë“œì˜ ì²« ì¤„ì´ ê·¸ ì´ìœ ì…ë‹ˆë‹¤: #![no_std] (ëŠë‚Œí‘œëŠ” í•´ë‹¹ ì†ì„±ì´ ì „ì²´ í¬ë ˆì´íŠ¸ì— ì ìš©ë¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"no_stdëŠ” Rustì—ê²Œ std í¬ë ˆì´íŠ¸ì— ì—°ê²°ë˜ì§€ ë§ ê²ƒì„ ì•Œë ¤ì£¼ë¯€ë¡œ std::ì— ìˆëŠ” ê²ƒì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì˜¤ì§ core í¬ë ˆì´íŠ¸ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ë¬¸ì„œì—ì„œëŠ” ì´ê²ƒì„ ëª…í™•í•˜ê²Œ ì„¤ëª…í•©ë‹ˆë‹¤: libcoreì™€ libstdëŠ” ë‘ ê°€ì§€ ì£¼ìš” í¬ë ˆì´íŠ¸ì…ë‹ˆë‹¤. ì²« ë²ˆì§¸ì¸ libcoreëŠ” í•­ìƒ ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, ì›ì‹œ íƒ€ì…, Option\", _jsx(_components.code, {\n        children: \"T\"\n      }), \"ì™€ Result\", _jsx(_components.code, {\n        children: \"T,E\"\n      }), \"ì™€ ê°™ì€ ê¸°ë³¸ ì–¸ì–´ êµ¬ì¡°, assert ë“±ì´ ë“¤ì–´ ìˆìŠµë‹ˆë‹¤.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‘ ë²ˆì§¸ë¡œ libstdëŠ” í›¨ì”¬ ë” í¬ë©° ìš´ì˜ ì²´ì œì— ì˜ì¡´í•˜ëŠ” ë§ì€ êµ¬ì„±ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ std/src/lib.rs ì†ŒìŠ¤ë¥¼ í™•ì¸í•˜ì—¬ libcoreì˜ ìƒìœ„ ì§‘í•©ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"stable\"\n        }), \"(feature = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"rust1\\\"\"\n        }), \", since = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"1.0.0\\\"\"\n        }), \")]\\npub use \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"core\"\n        }), \"::any;\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"stable\"\n        }), \"(feature = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"core_array\\\"\"\n        }), \", since = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"1.36.0\\\"\"\n        }), \")]\\npub use \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"core\"\n        }), \"::array;\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"unstable\"\n        }), \"(feature = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"async_iterator\\\"\"\n        }), \", issue = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"79024\\\"\"\n        }), \")]\\npub use \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"core\"\n        }), \"::async_iter;\\n....\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê²ƒì€ ëŸ¬ìŠ¤íŠ¸ì—ì„œ í”í•œ íŒ¨í„´ì´ë©°, pub useëŠ” ë‹¤ë¥¸ í¬ë ˆì´íŠ¸ë‚˜ ëª¨ë“ˆì—ì„œ ê¸°ëŠ¥ì„ ê°€ì ¸ì™€ í˜„ì¬ ìœ„ì¹˜ì—ì„œ ë‹¤ì‹œ ë‚´ë³´ë‚´ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ìš”ì•½í•˜ë©´ libcoreë¡œ ë‚´ë³´ë‚´ëŠ” ëª¨ë“  ê²ƒì´ libstdë¡œë„ ë‚´ë³´ë‚´ì§‘ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ë¥¼ ì•Œê³  ìˆìœ¼ë‹ˆ, atomicityì™€ ì•ˆì „ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì¼ë¶€ ìš´ì˜ ì²´ì œ ì›ì‹œ ê°œë…ì— ì˜ì¡´í•˜ëŠ” ê²ƒì´ í•„ìš”í•œ RwLockì´ libstdì— ì¡´ì¬í•˜ëŠ” ê²ƒì´ ì´ì¹˜ì— ë§ìŠµë‹ˆë‹¤. ìœ ê°ìŠ¤ëŸ½ê²Œë„ AVRì—ëŠ” ìš´ì˜ ì²´ì œê°€ ì—†ìœ¼ë¯€ë¡œ ì´ í”„ë¡œì íŠ¸ì—ëŠ” RwLockì´ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"AVRì—ì„œì˜ ì „ì—­ ìƒíƒœ\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"RwLock<T>\"\n      }), \"ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— static mut debugbuf1 ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ë¨¼ì € ëª¨ë“  ë ˆì§€ìŠ¤í„°ë¥¼ ì¶œë ¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ê°„ë‹¨í•œ ì˜µì½”ë“œë¥¼ ê³ ë ¤í•´ ë´…ì‹œë‹¤.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì²« ë²ˆì§¸ ì‹œë„ëŠ” ë‹¤ìŒê³¼ ê°™ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"allow\"\n        }), \"(non_upper_case_globals)]\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"static\"\n        }), \" mut \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"debugbuf1\"\n        }), \": u8 = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"AVRORA_PRINT_REGS\"\n        }), \": u8 = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0xE\"\n        }), \";\\n\\n#[\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"arduino_hal\"\n        }), \"::entry]\\nfn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"main\"\n        }), \"() -> ! {\\n    loop {\\n        unsafe {\\n            debugbuf1 = \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PRINT_REGS\"\n        }), \";\\n        }\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"arduino_hal\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"delay_ms\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1000\"\n        }), \");\\n    }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"#[allow(non_upper_case_globals)]\"\n      }), \"ëŠ” ê²½ê³ ë¥¼ ì–µì œí•©ë‹ˆë‹¤. RustëŠ” ì „ì—­ ë³€ìˆ˜ì— ëŒ€ë¬¸ì ì´ë¦„ì„ ì‚¬ìš©í•˜ê¸°ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ .cargo/config.tomlì— c-print ëª¨ë‹ˆí„°ë¥¼ ì¶”ê°€í•˜ê³  ë‹¤ë¥¸ ê²ƒë“¤ì„ ì œê±°í•˜ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"[target.\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'cfg(target_arch = \\\"avr\\\")'\"\n        }), \"]\\nrunner = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"java -jar ../avrora/avrora-beta-1.7.117.jar -monitors=c-print -single -platform=mica2\\\"\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì•ˆíƒ€ê¹ê²Œë„, ì´ê²ƒì€ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_3.png\",\n        alt: \"Image\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"AvroraëŠ” Rustì˜ ê´€ì ì—ì„œ debugbuf1ì´ë¦„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì•„ë¬´ë„ í•´ë‹¹ ê°’ì„ ì½ì§€ ì•Šì•„ì„œ ìµœì í™”ê¸°ê°€ ì™„ì „íˆ ì œê±°í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” Cì˜ volatile í‚¤ì›Œë“œì™€ ë™ë“±í•œ ê²ƒì´ í•„ìš”í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¤í–‰íˆ Rustì—ëŠ” ì •í™•íˆ ê·¸ ì—­í• ì„ í•˜ëŠ” í•¨ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì°¸ì¡°(&mut) ëŒ€ì‹  *mutì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì°¸ì¡°ê°€ ì•„ë‹Œ ì›ì‹œ í¬ì¸í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì›ì‹œ í¬ì¸í„°ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ C í¬ì¸í„°ì´ë©°, ì´ë¥¼ ì—­ì°¸ì¡°í•˜ëŠ” ê²ƒì€ ì•ˆì „í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìµœì´ˆì—ëŠ” ì´ë ‡ê²Œ ì‹œë„í•´ ë´¤ì–´ìš”. ì™œëƒí•˜ë©´ ì°¸ì¡°ì¸ &Tê°€ ìë™ìœ¼ë¡œ *Të¡œ ë³€í™˜ë  ìˆ˜ ìˆê±°ë“ . í•´ì œëœ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê±´ ì•ˆì „í•˜ì§€ ì•Šì§€ë§Œ, ë§Œë“œëŠ” ê±´ ê´œì°®ì•„ìš”.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"use \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"core\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"ptr\"\n        }), \"::write_volatile;\\n\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"allow\"\n        }), \"(non_upper_case_globals)]\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"static\"\n        }), \" mut \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"debugbuf1\"\n        }), \": u8 = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"AVRORA_PRINT_REGS\"\n        }), \": u8 = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0xE\"\n        }), \";\\n\\n#[\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"arduino_hal\"\n        }), \"::entry]\\nfn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"main\"\n        }), \"() -> ! {\\n    loop {\\n        unsafe {\\n            \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write_volatile\"\n        }), \"(&mut debugbuf1, \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PRINT_REGS\"\n        }), \");\\n        }\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"arduino_hal\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"delay_ms\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1000\"\n        }), \");\\n    }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì»´íŒŒì¼ì€ ì˜ ë˜ì—ˆì§€ë§Œ, RustëŠ” ì•„ì§ ì¢€ ë¶ˆë§ŒìŠ¤ëŸ¬ìš´ ëª¨ìŠµì´ì—ìš”:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_4.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìµœê·¼ Rust ì»´íŒŒì¼ëŸ¬ì—ì„œ ì •ì  ë°ì´í„°ì— ëŒ€í•œ ì°¸ì¡°ëŠ” ê²½ê³ ê°€ ë°œìƒí•˜ë©°, 2024 ë…„ ì–¸ì–´ ë²„ì „ì—ì„œëŠ” ì˜¤ë¥˜ê°€ ë  ê²ƒì…ë‹ˆë‹¤ (ì´ ë¬¸ì œì— ëŒ€í•´ì„œëŠ” ê¹ƒí—ˆë¸Œì˜ í•´ë‹¹ ì´ìŠˆë¥¼ ì°¸ì¡°í•˜ì„¸ìš”). ë³´í†µ ì»´íŒŒì¼ëŸ¬ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ì£¼ë¯€ë¡œ ë„ì›€ì´ ë§ì´ ë©ë‹ˆë‹¤: addr_of_mut!()ì€ ìš°ë¦¬ê°€ ì°¸ì¡°ë¥¼ ë¨¼ì € ë§Œë“¤ì§€ ì•Šê³ ë„ ë³€ê²½ ê°€ëŠ¥í•œ ì›ì‹œ í¬ì¸í„°ë¥¼ ì œê³µí•´ì¤ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì œ ìƒê°ì—ëŠ” ê°œë°œìê°€ ì›ì‹œ í¬ì¸í„°ë¡œ ì‘ì—…í•˜ë„ë¡ ê°•ì œí•¨ìœ¼ë¡œì¨ ë³€ê²½ ê°€ëŠ¥í•œ ì •ì  ë°ì´í„°ê°€ ì•ˆì „í•˜ì§€ ì•Šìœ¼ë©° ì¶”ê°€ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ë” ëª…í™•í•˜ê²Œ ë³´ì—¬ì£¼ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê²ƒì´ ë„ì›€ì´ ë˜ì—ˆê³ , ì½”ë“œëŠ” ì´ì œ ê²½ê³  ì—†ì´ ì»´íŒŒì¼ë˜ì§€ë§Œ AvroraëŠ” ì•„ì§ ê·¸ê²ƒì„ ì°¾ì§€ ëª»í•©ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_5.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"RustëŠ” ë‘ ê°œì˜ ë¸”ë¡ì´ ë™ì¼í•œ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ì •ì ì„ ì •ì˜í•´ë„ ê²°ê³¼ ë°”ì´ë„ˆë¦¬ì—ì„œ ìœ ì¼í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ #[no_mangle] ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì»´íŒŒì¼ëŸ¬ê°€ ì´ë¦„ì„ ë‚œì¡í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì„ ë°©ì§€í•˜ëŠ” ê²ƒ ì™¸ì—ë„ ì—¬ëŸ¬ ë‹¤ë¥¸ íš¨ê³¼ê°€ ìˆìŠµë‹ˆë‹¤).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‘ë™í•©ë‹ˆë‹¤, ìš°ë¦¬ëŠ” ë“œë””ì–´ (ì•„ì§ì€ ë‹¤ì†Œ ì§€ë£¨í•œ) ì¶œë ¥ì´ ìˆìŠµë‹ˆë‹¤!\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_6.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Avroraì— ë§¤ê°œë³€ìˆ˜ ì „ë‹¬í•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"c-í”„ë¦°íŠ¸ ëª¨ë‹ˆí„°ì—ëŠ” ë ˆì§€ìŠ¤í„°ë‚˜ ì‹¬ì§€ì–´ VM ë‚´ë¶€ì˜ í™ ë‚´ìš©ì„ ì¶œë ¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ê°€ í•„ìš”í•˜ì§€ ì•Šì€ ë””ë²„ê·¸ í”„ë¦°íŠ¸ ëª…ë ¹ì´ ì—¬ëŸ¿ ìˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ëª…ë ¹ì€ 2ë°”ì´íŠ¸ ë˜ëŠ” 4ë°”ì´íŠ¸ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°ìš”, ì´ì „ì— ì •ì˜í•œ staticì„ í™•ì¥í•˜ì—¬ 16ë¹„íŠ¸ ê°’ì„ 16ì§„ìˆ˜ë¡œ ì¶œë ¥í•´ ë´…ì‹œë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"#[no_mangle]\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"allow\"\n        }), \"(non_upper_case_globals)]\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"static\"\n        }), \" mut \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"debugbuf1\"\n        }), \": [u8; \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"5\"\n        }), \"] = [\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"];\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"AVRORA_PRINT_2BYTE_HEXADECIMALS\"\n        }), \": u8 = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0x1\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"AVRORA_PRINT_REGS\"\n        }), \": u8 = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0xE\"\n        }), \";\\n\\n#[\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"arduino_hal\"\n        }), \"::entry]\\nfn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"main\"\n        }), \"() -> ! {\\n    loop {\\n        unsafe {\\n            \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write_volatile\"\n        }), \"(addr_of_mut!(debugbuf1[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"]), \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PRINT_REGS\"\n        }), \");\\n\\n            \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"let\"\n        }), \" val = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0x42FF\"\n        }), \";\\n            \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write_volatile\"\n        }), \"(addr_of_mut!(debugbuf1[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"]), val \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" u8);\\n            \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write_volatile\"\n        }), \"(addr_of_mut!(debugbuf1[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"2\"\n        }), \"]), (val >> \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"8\"\n        }), \") \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" u8);\\n            \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write_volatile\"\n        }), \"(addr_of_mut!(debugbuf1[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"]), \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PRINT_2BYTE_HEXADECIMALS\"\n        }), \");\\n        }\\n\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"arduino_hal\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"delay_ms\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1000\"\n        }), \");\\n    }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_7.png\",\n        alt: \"image\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¶œë ¥ì´ ë‹¤ì†Œ ë‚  ê²ƒ ê°™ì§€ë§Œ ì™„ë²½í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤.```\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ìƒí•˜ê²Œë„, debugbuf1ì´ ì´ì œ 5ë°”ì´íŠ¸ ë°°ì—´ì´ ë˜ì—ˆì„ ë•Œ ì»´íŒŒì¼ëŸ¬ëŠ” addr_of_mut!ë¥¼ ì¶”ê°€í•˜ê¸° ì „ì— ë³´ì•˜ë˜ ê²½ê³ ë¥¼ ë” ì´ìƒ í‘œì‹œí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê²½ê³  ì—†ì´ &mut debugbuf1[0]ì— ì§ì ‘ ì“¸ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì ì‹œ í—·ê°ˆë ¸ì§€ë§Œ, Stack Overflowì—ì„œ ë¬¼ì–´ë³¸ ê²°ê³¼ ì´ê²ƒì€ linterì˜ ì œí•œ ì‚¬í•­ì´ë¼ëŠ” ì‚¬ì‹¤ì´ ë°í˜€ì¡ŒìŠµë‹ˆë‹¤. ì´ ë¬¸ì œëŠ” ê³§ ìˆ˜ì •ë  ê²ƒìœ¼ë¡œ ë³´ì´ë‹ˆ, ê³„ì†í•´ì„œ addr_of_mut!ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë¶€í˜¸ ìˆëŠ” 8, 16 ë˜ëŠ” 32 ë¹„íŠ¸ê°’ì— ëŒ€í•œ ë‹¤ë¥¸ ë³€í˜•ë„ ë™ì¼í•œ íŒ¨í„´ì„ ë”°ë¦…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"â€˜avroraâ€™ ëª¨ë“ˆ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"VMì„ ê°œë°œí•  ë•Œ, ê³„ì†í•´ì„œ ì´ëŸ¬í•œ ì¤„ì„ ë³µì‚¬í•˜ê³  ë¶™ì—¬ë„£ê¸°í•˜ê³  ì‹¶ì§€ ì•Šì•„ìš”. ì‹œë®¬ë ˆì´í„°ì™€ ìƒí˜¸ ì‘ìš©í•  ëª¨ë“  í¸ë¦¬í•œ ê¸°ëŠ¥ì„ ê°€ì§„ ëª¨ë“ˆì´ ìˆëŠ” ê²ƒì´ í›¨ì”¬ ì¢‹ì„ ê²ƒ ê°™ì•„ìš” (ë‚˜ì¤‘ì— ë‹¤ì–‘í•œ ì¶”ì  í˜¸ì¶œì´ ì¶”ê°€ë  ê²ƒì…ë‹ˆë‹¤). ê·¸ë˜ì„œ ëª¨ë“ˆì„ ë§Œë“¤ì–´ë´…ì‹œë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"avrora.rs ë˜ëŠ” avrora/mod.rsë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ì–´ ëª¨ë“ˆì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”. ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ì¶œë ¥ ëª…ë ¹ì„ ì¶”ê°€í•˜ê¸°ê°€ ë” ì‰¬ì›Œì§€ë„ë¡ ì¼ë¶€ ë¦¬íŒ©í„°ë§ì„ í¬í•¨í•˜ì—¬, ë‹¤ìŒê³¼ ê°™ì´ ë³´ì…ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"use \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"core\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"ptr\"\n        }), \"::{addr_of_mut, write_volatile};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"AVRORA_PRINT_2BYTE_HEXADECIMALS\"\n        }), \": u8 = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0x1\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"AVRORA_PRINT_REGS\"\n        }), \": u8 = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0xE\"\n        }), \";\\n\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"allow\"\n        }), \"(non_upper_case_globals)]\\n#[no_mangle]\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"static\"\n        }), \" mut \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"debugbuf1\"\n        }), \": [u8; \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"5\"\n        }), \"] = [\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"];\\n\\nfn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"signal_avrora_c_print\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"instruction: u8\"\n        }), \") {\\n    unsafe {\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write_volatile\"\n        }), \"(addr_of_mut!(debugbuf1[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"]), instruction);\\n    }\\n}\\n\\nfn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"signal_avrora_c_print_16\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"instruction: u8, payload: u16\"\n        }), \") {\\n    unsafe {\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write_volatile\"\n        }), \"(addr_of_mut!(debugbuf1[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"]), payload \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" u8);\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write_volatile\"\n        }), \"(addr_of_mut!(debugbuf1[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"2\"\n        }), \"]), (payload >> \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"8\"\n        }), \") \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" u8); \\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"write_volatile\"\n        }), \"(addr_of_mut!(debugbuf1[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"]), instruction);\\n    }\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/// Avroraì˜ c-print ëª¨ë‹ˆí„°ë¥¼ ì‚¬ìš©í•˜ì—¬ 16 ë¹„íŠ¸ ë¶€í˜¸ ì—†ëŠ” ì •ìˆ˜ë¥¼ 16 ì§„ìˆ˜ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤.\"\n        }), \"\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"allow\"\n        }), \"(dead_code)]\\npub fn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print_u16_hex\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"val: u16\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"signal_avrora_c_print_16\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PRINT_2BYTE_HEXADECIMALS\"\n        }), \", val);\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/// Avroraì˜ c-print ëª¨ë‹ˆí„°ë¥¼ ì‚¬ìš©í•˜ì—¬ R0ë¶€í„° R31 ë ˆì§€ìŠ¤í„°ì˜ ë‚´ìš©ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\"\n        }), \"\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"allow\"\n        }), \"(dead_code)]\\npub fn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print_all_regs\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"signal_avrora_c_print\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PRINT_REGS\"\n        }), \");\\n}\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"allow(dead_code)\"\n      }), \"ëŠ” íŠ¹ì • ë””ë²„ê·¸ ì¶œë ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•Œ ì»´íŒŒì¼ëŸ¬ê°€ ë¶ˆí‰ì„ ì œê¸°í•˜ì§€ ì•Šë„ë¡ í•„ìš”í•©ë‹ˆë‹¤. ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ ì½”ë“œê°€ ìµœì¢… ì´ì§„ íŒŒì¼ì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ë ‡ê²Œ í•˜ë©´ ì£¼ íŒŒì¼ì´ ê¹”ë”í•´ì§€ê³  ì•ˆì „í•˜ì§€ ì•Šì€ ì½”ë“œê°€ ì „í˜€ ì—†ì–´ì§‘ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"#![no_std]\\n#![no_main]\\n\\nuse panic_halt \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" _;\\n\\nmod avrora;\\n\\n#[\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"arduino_hal\"\n        }), \"::entry]\\nfn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"main\"\n        }), \"() -> ! {\\n    loop {\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"avrora\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print_all_regs\"\n        }), \"();\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"avrora\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print_u16_hex\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0x42FF\"\n        }), \");\\n\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"arduino_hal\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"delay_ms\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1000\"\n        }), \");\\n    }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ëª¨ë“ˆì„ ë” í™•ì¥í•˜ì—¬ 8, 16 ë° 32 ë¹„íŠ¸ ë¶€í˜¸ìˆëŠ” ë˜ëŠ” ë¶€í˜¸ì—†ëŠ” ìˆ«ìë¥¼ ì¸ì‡„í•˜ëŠ” ê²ƒì€ ê°„ë‹¨í•˜ì§€ë§Œ, ë¬¸ìì—´ì„ ì¸ì‡„í•˜ëŠ” ê²ƒì€ ì•½ê°„ì˜ íŠ¸ë¦­ì´ í•„ìš”í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ì•ˆë…•, ì„¸ìƒ! (ë“œë””ì–´)\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Avroraì˜ c-print ëª¨ë‹ˆí„°ì—ëŠ” ë¬¸ìì—´ì„ ì¶œë ¥í•˜ëŠ” ì—¬ëŸ¬ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/// Uses Avrora's c-print monitor to print a string from RAM\"\n        }), \"\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"allow\"\n        }), \"(dead_code)]\\npub fn \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print_ram_string\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"s: &str\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"signal_avrora_c_print_16\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PRINT_STRING_POINTERS\"\n        }), \", s.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"as_ptr\"\n        }), \"() \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" u16);\\n}\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ìš°ë¦¬ëŠ” ë¬¸ìì—´ ìŠ¬ë¼ì´ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì „ë‹¬í•˜ê³ , \", _jsx(_components.code, {\n        children: \".as_ptr()\"\n      }), \"ë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ì†Œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ë¥¼ 16ë¹„íŠ¸ ì •ìˆ˜ë¡œ ë³€í™˜í•˜ì—¬ ëª¨ë‹ˆí„° í˜¸ì¶œì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ì´ë¥¼ í†µí•´ main.rsì—ì„œ \", _jsx(_components.code, {\n        children: \"avrora::print_ram_str(\\\"Hello, world!\\\");\"\n      }), \"ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìœ¼ë©°, ë§ˆì¹¨ë‚´ ì‘ë™í•˜ëŠ” \\\"Hello, world!\\\": ğŸ‰ğŸ‰ğŸ‰ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ë¯¸ì§€ íƒœê·¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•˜ë©´ ë˜ì§€ë§Œ, ì´ ì ‘ê·¼ ë°©ì‹ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_8.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"RustëŠ” ë¬¸ìì—´ì„ RAMì— ìˆëŠ” .data ì„¹ì…˜ì— ë°°ì¹˜í–ˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ í”Œë«í¼ì—ì„œëŠ” ì´ ì ‘ê·¼ ë°©ì‹ì´ ê´œì°®ì§€ë§Œ AVRì—ì„œëŠ” RAMì´ ë§¤ìš° ì†Œê·€í•œ ìì›ì…ë‹ˆë‹¤. ATmega128ëŠ” RAMì´ 4KBë°–ì— ë˜ì§€ ì•Šì§€ë§Œ í”Œë˜ì‹œ ë©”ëª¨ë¦¬ëŠ” 128KBë‚˜ ë©ë‹ˆë‹¤. ì½”ë“œëŠ” í”Œë˜ì‹œì—ì„œ ì‹¤í–‰ë˜ë©°, ë°ì´í„°ëŠ” ì¼ë°˜ì ìœ¼ë¡œ RAMì— ì €ì¥ë˜ì§€ë§Œ ë°ì´í„°ê°€ ìƒìˆ˜ì¸ ê²½ìš°ì—ëŠ” í”Œë˜ì‹œì— ì €ì¥í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"AVRì—ì„œ í”Œë˜ì‹œ ë©”ëª¨ë¦¬ì—ì„œ ì½ì–´ì˜¤ëŠ” ê²ƒì—ëŠ” ì‘ì€ ì„±ëŠ¥ ì†ì‹¤ì´ ìˆìŠµë‹ˆë‹¤: í”„ë¡œê·¸ë¨ ë©”ëª¨ë¦¬ë¥¼ ë¡œë“œí•˜ëŠ” LPM ëª…ë ¹ì–´ëŠ” ì¼ë°˜ì ì¸ RAMì—ì„œì˜ LD ë¡œë“œì— ë¹„í•´ 1 ë˜ëŠ” 2 ì‚¬ì´í´ì´ ì•„ë‹Œ 3 ì‚¬ì´í´ì´ ì†Œìš”ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ê²½ìš° ì‹œë®¬ë ˆì´í„°ì—ì„œë§Œ ë¬¸ìì—´ì„ ì½ê¸° ë•Œë¬¸ì— ê·¸ë ‡ê²Œ ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í”Œë˜ì‹œì—ì„œ ì¶œë ¥í•˜ëŠ” í˜¸ì¶œì€ ê±°ì˜ ë™ì¼í•˜ì§€ë§Œ ë‹¤ë¥¸ ëª¤ë ¹ì–´ì™€ 32ë¹„íŠ¸ ì£¼ì†Œê°€ í•„ìš”í•©ë‹ˆë‹¤. í”Œë˜ì‹œ ì£¼ì†Œ ë²”ìœ„ê°€ ë” í¬ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í•˜ì§€ë§Œ ë¬¸ì œëŠ” ë¬¸ìì—´ì„ í”Œë˜ì‹œì— ì–´ë–»ê²Œ ë„£ì„ ìˆ˜ ìˆì„ê¹Œìš”? ìš°ë¦¬ê°€ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” avr_progmemë¼ëŠ” í¬ë ˆì´íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë¨¼ì €, Cargoë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_10.png\",\n        alt: \"image\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê²ƒìœ¼ë¡œ ìƒˆë¡œìš´ ë§¤í¬ë¡œ progmem!ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë§¤í¬ë¡œëŠ” ë°ì´í„°ë¥¼ í”Œë˜ì‹œì— ë°°ì¹˜í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í¬ë ˆì´íŠ¸ëŠ” ì–´ì…ˆë¸”ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ í”Œë˜ì‹œ ë©”ëª¨ë¦¬ì—ì„œ ë°ì´í„°ë¥¼ ì½ì„ ìˆ˜ ìˆëŠ” í¸ë¦¬í•œ ë°©ë²•ë„ ì œê³µí•©ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ë°ì´í„°ë¥¼ í”Œë˜ì‹œì— ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"progmem! {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"static\"\n        }), \" progmem string \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"HELLO\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Hello, World!\\\\0\\\"\"\n        }), \";\\n}\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"avrora\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print_flash_string\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"HELLO\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"as_bytes\"\n        }), \"().\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"as_ptr\"\n        }), \"() \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" u32);\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"static HELLOëŠ” PmString\", _jsx(_components.code, {\n        children: \"_\"\n      }), \"ì´ ë˜ë©°, ì—¬ê¸°ì„œ ìš°ë¦¬ëŠ” ë°”ì´íŠ¸ì— ëŒ€í•œ ì°¸ì¡°ì¸ &ProgMem\", _jsx(_components.code, {\n        children: \"[u8; _]\"\n      }), \"ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì›ì‹œ *const T í¬ì¸í„°ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ê²ƒì€ ì£¼ì†Œë¥¼ í¬í•¨í•˜ëŠ” u32ë¡œ ìºìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. AvroraëŠ” ë„ ì¢…ê²°ëœ ë¬¸ìì—´ì„ ì˜ˆìƒí•˜ê¸° ë•Œë¬¸ì— \\\\0ê°€ ë¬¸ìì—´ì„ ì¢…ë£Œí•˜ëŠ” ë° í•„ìš”í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì²« ë²ˆì§¸ \\\\0ì„ ë§Œë‚  ë•Œê¹Œì§€ ì“°ë ˆê¸°ë¥¼ ì¶œë ¥í•  ê²ƒì…ë‹ˆë‹¤.\"]\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"print_flash_string ë§¤í¬ë¡œ.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ë°©ë²•ì€ ë™ì‘í•˜ì§€ë§Œ ë””ë²„ê·¸ìš©ìœ¼ë¡œëŠ” ìƒë‹¹íˆ ê¸¸ì–´ìš”. avrora::print_flash_string(\\\"Hello, World!\\\")ì²˜ëŸ¼ ê°„ë‹¨íˆ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ë©´ ì¢‹ì„í…ë°ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìš°ë¦¬ëŠ” ì¼ë°˜ì ì¸ ëŸ¬ìŠ¤íŠ¸ í•¨ìˆ˜ë¡œëŠ” ì´ê²ƒì„ í•  ìˆ˜ ì—†ì§€ë§Œ ë§¤í¬ë¡œë¡œ ê±°ì˜ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/// Avroraì˜ c-print ëª¨ë‹ˆí„°ë¥¼ ì‚¬ìš©í•˜ì—¬ flash ë©”ëª¨ë¦¬ì—ì„œ ë¬¸ìì—´ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\"\n        }), \"\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"allow\"\n        }), \"(unused_macros)]\\n#[macro_export]\\nmacro_rules! print_flash_string {\\n    \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"$s:expr\"\n          }), \") =>\"]\n        }), \" { {\\n        use \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"avr_progmem\"\n        }), \"::progmem;\\n        progmem! {\\n            \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"static\"\n        }), \" progmem string \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PROGMEMSTRING\"\n        }), \" = concat!($s, \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"\\\\0\\\"\"\n        }), \");\\n        }\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"avrora\"\n        }), \"::\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print_flash_string\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PROGMEMSTRING\"\n        }), \");\\n    } };\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/// Avroraì˜ c-print ëª¨ë‹ˆí„°ë¥¼ ì‚¬ìš©í•˜ì—¬ flash ë©”ëª¨ë¦¬ì—ì„œ ë¬¸ìì—´ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/// \"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/// ì´ í•¨ìˆ˜ëŠ” print_flash_string! ë§¤í¬ë¡œì— ì˜í•´ í˜¸ì¶œë˜ì–´ í¸ë¦¬í•˜ê²Œ\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/// ë¬¸ìì—´ì„ flash ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³  í•„ìš”í•œ PmStringì„ ìƒì„±í•©ë‹ˆë‹¤.\"\n        }), \"\\n#[\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"allow\"\n        }), \"(dead_code)]\\npub fn print_flash_string<\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"N\"\n        }), \": usize>(\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"string_in_progmem\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PmString\"\n        }), \"<N>) {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"signal_avrora_c_print_32\"\n        }), \"(\\n        \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AVRORA_PRINT_FLASH_STRING_POINTER\"\n        }), \",\\n        string_in_progmem.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"as_bytes\"\n        }), \"().\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"as_ptr\"\n        }), \"() \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" u32);\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§¤í¬ë¡œì— ëŒ€í•´ ë°°ìš¸ ì ì´ ë§ì§€ë§Œ, ì§€ê¸ˆê¹Œì§€ 'Programming Rust'ì—ì„œ ë§¤í¬ë¡œ ì±•í„°ë¡œ ê±´ë„ˆë›°ì–´ì„œ ì´ ì‘ì—…ì„ í•˜ê¸°ì— ì¶©ë¶„í•œ ì§€ì‹ì„ ì–»ì—ˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Rustì˜ ë§¤í¬ë¡œëŠ” ì»´íŒŒì¼ í”„ë¡œì„¸ìŠ¤ ì´ˆê¸°ì— ì‹¤í–‰ë©ë‹ˆë‹¤. ì´ëŠ” í•¨ìˆ˜ì™€ ë‹¬ë¦¬ ë§¤í¬ë¡œë¥¼ ì„ ì–¸í•  ë•Œ pub ëŒ€ì‹  #[macro_export]ë¥¼ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤. ì´ ë‹¨ê³„ì—ì„œ pubì˜ ì „ì²´ ê°œë…ì€ ì•„ì§ ì˜ë¯¸ê°€ ì—†ìŠµë‹ˆë‹¤. ë¶ˆí–‰íˆë„, ì´ëŠ” ë‹¤ë¥¸ ë§¤í¬ë¡œë¥¼ avrora::ì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§¤í¬ë¡œëŠ” Cì—ì„œì™€ ê°™ì´ í‰ë¬¸ì´ ì•„ë‹Œ í† í° ìŠ¤íŠ¸ë¦¼ì—ì„œ ì‘ë™í•©ë‹ˆë‹¤. ë§¤í¬ë¡œ ì •ì˜ì—ëŠ” ì •ê·œì‹ê³¼ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ì¼ì¹˜í•˜ëŠ” í•˜ë‚˜ ì´ìƒì˜ ì¼€ì´ìŠ¤ê°€ í¬í•¨ë©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë§¤í¬ë¡œê°€ í•´ë‹¹ ë³¸ë¬¸ìœ¼ë¡œ í™•ì¥ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"ë§¤í¬ë¡œëŠ” ë§¤í¬ë¡œê°€ ì˜ˆìƒí•˜ëŠ” í† í° ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 'ë””ìì´ë„¤ì´í„°'ë¡œ íŠ¹ì • ë¶€ë¶„ì˜ í† í° ìŠ¤íŠ¸ë¦¼ì„ ìº¡ì²˜í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ($s\", _jsx(_components.div, {}), \")ëŠ” ë‹¨ì¼ í‘œí˜„ì‹ê³¼ í•´ë‹¹ ê°’ì„ $sì— ì €ì¥í•©ë‹ˆë‹¤.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"print_flash_string ë§¤í¬ë¡œëŠ” í”„ë¡œê·¸ë¨ ë©”ëª¨ë¦¬ì— static AVRORA_PROGMEMSTRINGì„ ì •ì˜í•œ í›„ print_flash_string í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¶œë ¥í•˜ëŠ” ë¸”ë¡ìœ¼ë¡œ í™•ì¥ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‘ì€ ë”°ì˜´í‘œ ì‚¬ì´ì— ì´ì¤‘ ì¤‘ê´„í˜¸ë¥¼ ì£¼ëª©í•˜ì„¸ìš”: '' ... ''. ì™¸ë¶€ ì¤‘ê´„í˜¸ëŠ” ë§¤í¬ë¡œ ì¼€ì´ìŠ¤ì˜ í™•ì¥ì„ êµ¬ë¶„í•˜ë©° ê²°ê³¼ ì½”ë“œì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‚´ë¶€ ì¤‘ê´„í˜¸ëŠ” ë§¤í¬ë¡œì˜ í™•ì¥ì„ ìƒˆ ë¸”ë¡ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤€ ì½”ë“œë¥¼ ë§¤í¬ë¡œê°€ ì‚¬ìš©ëœ ì½”ë“œì— ì§ì ‘ í™•ì¥í•˜ëŠ” ëŒ€ì‹ ì— í¬í•¨í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì™œ ì´ê²ƒì´ ì¤‘ìš”í•œê°€ìš”? ì¶”ê°€ ì¤‘ê´„í˜¸ê°€ ì—†ìœ¼ë©´ ë‘ ë²ˆì˜ print ë¬¸ì´ ì—°ì†ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ë™ì¼í•œ ë¸”ë¡ì—ì„œ ë‘ ê°œì˜ AVRORA_PROGMEMSTRING staticì„ ì •ì˜í•˜ê³  ì´ë¦„ì´ ì¶©ëŒí•©ë‹ˆë‹¤. ìƒì„±ëœ ì½”ë“œë¥¼ ì¤‘ê´„í˜¸ë¡œ ê°ì‹¸ë©´ ì¶©ëŒí•˜ì§€ ì•Šê²Œ ë˜ê³  Rustì˜ ì´ë¦„ ë§¹ê¸€ë§ì€ ìµœì¢… ì´ì§„ íŒŒì¼ì—ì„œ ê³ ìœ í•œ ì‹¬ë³¼ì„ ê°€ì ¸ì£¼ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ì¶©ëŒì´ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_11.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ ë§¤í¬ë¡œë¥¼ ë‹¤ë¥¸ í”„ë¦°íŠ¸ í•¨ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"print_flash_string!(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Hello, World from flash memory!\\\"\"\n        }), \");\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-NielslearnsRust3Helloworldglobalstateandflashmemory_12.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ ì¼í•œ ì°¨ì´ì ì€ ë§¤í¬ë¡œê°€ ì§ì ‘ì ìœ¼ë¡œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë©° avrora::ë¡œ ì ‘ë‘ì‚¬ë¥¼ ë¶™ì¼ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ê°œë°œìë¡œì„œ avrora::ë¥¼ ì…ë ¥í•˜ê³  IDEì—ì„œ ë¬´ì—‡ì´ ë‚˜íƒ€ë‚˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•œ ì˜µì…˜ì„ ì°¾ëŠ” ë° ë„ì›€ì´ ë˜ê¸° ë•Œë¬¸ì— ì´ê²ƒì€ ì•ˆíƒ€ê¹Œìš´ ë¶€ë¶„ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê²ƒì´ ë§¤í¬ë¡œì™€ í•¨ìˆ˜ì˜ ì´ë¦„ì„ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ê³  í•¨ìˆ˜ì˜ ì‚¼ì¤‘ ìŠ¬ë˜ì‹œ ë¬¸ì„œí™”ê°€ ì‚¬ìš©ìë¥¼ í•´ë‹¹ ë§¤í¬ë¡œë¡œ ì•ˆë‚´í•˜ëŠ” ì£¼ìš” ì´ìœ ì˜€ìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë˜í•œ ì‚¬ìš©ëœ ì½”ë“œ ë‚´ì—ì„œ ë§¤í¬ë¡œê°€ í™•ì¥ë˜ê¸° ë•Œë¬¸ì— avrora ëª¨ë“ˆì˜ ë¹„ê³µê°œ í•¨ìˆ˜ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë§¤í¬ë¡œê°€ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê³µê°œ ì§„ì…ì ì´ í•„ìš”í•˜ë©°, ì´ê²ƒì´ ê°€ì¥ ê¹”ë”í•œ ë°©ë²•ìœ¼ë¡œ ë³´ì˜€ìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ìš”ì•½\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ì¼ì€ ì˜ˆìƒë³´ë‹¤ í›¨ì”¬ ë§ì€ ë‹¨ê³„ê°€ í•„ìš”í–ˆì§€ë§Œ, ë§ì€ í¥ë¯¸ë¡œìš´ ê²ƒë“¤ì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"static mut ë°ì´í„°ì™€ unsafe ì½”ë“œ\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"stdcoreì™€ stdlibì˜ ê´€ê³„\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"write_volatile ë° addr_of_mut\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"no_mangle ì†ì„±\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ëª¨ë“ˆ ë§Œë“¤ê¸°\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ì ì ˆí•œ ê²½ìš°ì— ê²½ê³  ì–µì œí•˜ëŠ” ë°©ë²•\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Raw í¬ì¸í„°\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë°ì´í„°ë¥¼ í”Œë˜ì‹œ ë©”ëª¨ë¦¬ì— ë„£ê¸° ìœ„í•´ avr_progmem ì‚¬ìš©\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ê°„ë‹¨í•œ ë§¤í¬ë¡œ ì‘ì„±í•˜ëŠ” ë°©ë²•\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ë²ˆ ë‹¨ê³„ì˜ ì½”ë“œ ìƒíƒœëŠ” ì¼ë°˜ì ìœ¼ë¡œ Githubì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"2024ë…„ 5ì›” 10ì¼ì— nielsreijers.github.ioì—ì„œ ìµœì´ˆ ë°œí–‰ë¨.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}