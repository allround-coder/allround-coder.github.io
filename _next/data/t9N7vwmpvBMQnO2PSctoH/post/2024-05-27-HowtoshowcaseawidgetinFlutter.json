{"pageProps":{"post":{"title":"플러터에서 위젯을 showcase 하는 방법","description":"","date":"2024-05-27 19:18","slug":"2024-05-27-HowtoshowcaseawidgetinFlutter","content":"\n\n<img src=\"/assets/img/2024-05-27-HowtoshowcaseawidgetinFlutter_0.png\" />\n\n특정 기능을 소개한 후에는 종종 앱에서 특정 위젯을 집중적으로 보여주고 싶어합니다. 이는 일반적으로 사용자를 특정 위젯으로 안내하거나 특정 위젯의 중요성을 사용자에게 보여주기 위해 수행됩니다. 보통 온보딩 화면이나 튜토리얼에서 수행됩니다. 이 기능은 \"가이드라인\" 또는 \"코치마크\"라고도 합니다.\n\n따라서 이곳의 목표는 특정 위젯에 초점을 맞추거나 보여주어야 합니다. 화면의 다른 부분에 그림자를 만들어 특정 위젯을 강조하는 것입니다. 그러려면 위젯의 위치와 크기를 알아야 합니다. 그런 다음 오버레이를 그려서 대상이 있는 곳을 구멍으로 만들고 나머지 영역에 그림자를 만들어야 합니다. 기술적인 내용으로 들어가 봅시다...\n\nRenderBox 클래스를 사용하여 대상의 위치를 가져올 수 있습니다. localToGlobal 메서드를 사용하여 위젯의 위치를 얻고 `size` 속성을 사용하여 위젯의 크기를 얻습니다. 이 정보를 사용하여 해당 위젯을 중점으로 하는 사각형을 그릴 수 있습니다.\n아래 코드 스니펫을 고려해 보세요:\n\n<div class=\"content-ad\"></div>\n\n클래스 Clipper는 CustomClipper<Path>를 확장합니다. getClip 메서드를 재정의하여 대상 위젯 주변에 사각형을 그립니다.\n대상 위젯의 위치와 크기를 인수로 사용하여 오버레이를 그릴 경로를 반환합니다. PathFillType.evenOdd를 사용하여 사각형 외부 영역을 채웁니다.\n\n```js\n..addRect(\n    Rect.fromLTWH(\n        offset.dx,\n        offset.dy,\n        width,\n        height,\n    ),\n)d\n```\n\n다른 사각형은 오버레이의 크기를 정의합니다. Offset 클래스의 & 연산자를 사용하여 offset 자체와 우측 항에서 크기를 사용하여 Rect 객체를 만듭니다.\n\n<div class=\"content-ad\"></div>\n\n```js\n..addRect(Offset.zero & size);\n```\n\n오버레이를 그리는 데에 필요한 모든 것입니다. 이 클리퍼를 위젯에서 사용하여 대상 위젯을 쇼케이스할 수 있습니다. 다음 과제는 대상의 위치를 파악하는 것입니다.\n대상 위젯의 위치를 얻기 위해 RenderBox를 사용합니다. element 클래스의 findRenderObject 메서드를 사용하여 대상 위젯의 RenderBox 객체를 가져옵니다. 그런 다음 localToGlobal 메서드를 사용하여 위젯의 위치를 전역 좌표계로 가져옵니다. (모든 RenderBox는 부모에 대한 상대적인 자신의 위치만 추적하므로 절대 위치를 얻으려면 이를 전역 좌표로 변환해야 합니다.)\n\n```js\nPosition getOffsetAndSize(BuildContext context) {\n  final RenderBox renderBox = context.findRenderObject() as RenderBox;\n  final topLeft = renderBox.localToGlobal(Offset.zero);\n\n  final height = renderBox.size.height;\n  final width = renderBox.size.width;\n\n  return (\n    Offset(\n      topLeft.dx,\n      topLeft.dy,\n    ),\n    height,\n    width,\n  );\n}\n```\n\n이 함수를 사용하여 대상 위젯의 위치와 크기를 가져와서 해당 주변에 오버레이를 그릴 수 있습니다. 버튼이나 다른 트리거를 사용하여 쇼케이스를 토글할 수 있습니다.\n\n<div class=\"content-ad\"></div>\n\n글로벌 키를 사용하여 대상 위젯의 현재 컨텍스트를 가져옵니다. 그러나 위젯의 컨텍스트를 가져오기 위해 위젯의 컨텍스트 속성을 사용하는 등 다른 방법을 사용할 수도 있습니다.\n사용자 정의 스택을 만들어 오버레이를 표시했습니다. 이는 오버레이의 범위를 현재 페이지로 유지하고자 하는 것입니다. 페이지가 변경되면 오버레이가 사라져야 합니다. 대안으로 `Overlay` 위젯을 사용할 수도 있습니다. 이 위젯은 자재 애플리케이션에 기본 제공됩니다. 이 위젯은 MaterialApp의 오버레이 글로벌 스택에 오버레이를 삽입합니다.\n나머지 코드는 상당히 간단합니다. 쇼케이스를 토글할 버튼과 탭하여 쇼케이스를 닫기 위한 GestureDetector가 있습니다. 위젯의 상태를 업데이트하고 위젯 트리를 다시 빌드하기 위해 setState 메서드를 사용합니다.\n\n전체 코드:\n\n여기까지입니다!! 이제 위젯을 쇼케이스하는 방법을 배웠습니다. 동일한 기술을 사용하여 위젯 위에 앵커를 만드는 데 사용할 수도 있습니다.","ogImage":{"url":"/assets/img/2024-05-27-HowtoshowcaseawidgetinFlutter_0.png"},"coverImage":"/assets/img/2024-05-27-HowtoshowcaseawidgetinFlutter_0.png","tag":["Tech"],"readingTime":3},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>특정 기능을 소개한 후에는 종종 앱에서 특정 위젯을 집중적으로 보여주고 싶어합니다. 이는 일반적으로 사용자를 특정 위젯으로 안내하거나 특정 위젯의 중요성을 사용자에게 보여주기 위해 수행됩니다. 보통 온보딩 화면이나 튜토리얼에서 수행됩니다. 이 기능은 \"가이드라인\" 또는 \"코치마크\"라고도 합니다.</p>\n<p>따라서 이곳의 목표는 특정 위젯에 초점을 맞추거나 보여주어야 합니다. 화면의 다른 부분에 그림자를 만들어 특정 위젯을 강조하는 것입니다. 그러려면 위젯의 위치와 크기를 알아야 합니다. 그런 다음 오버레이를 그려서 대상이 있는 곳을 구멍으로 만들고 나머지 영역에 그림자를 만들어야 합니다. 기술적인 내용으로 들어가 봅시다...</p>\n<p>RenderBox 클래스를 사용하여 대상의 위치를 가져올 수 있습니다. localToGlobal 메서드를 사용하여 위젯의 위치를 얻고 <code>size</code> 속성을 사용하여 위젯의 크기를 얻습니다. 이 정보를 사용하여 해당 위젯을 중점으로 하는 사각형을 그릴 수 있습니다.\n아래 코드 스니펫을 고려해 보세요:</p>\n<p>클래스 Clipper는 CustomClipper를 확장합니다. getClip 메서드를 재정의하여 대상 위젯 주변에 사각형을 그립니다.\n대상 위젯의 위치와 크기를 인수로 사용하여 오버레이를 그릴 경로를 반환합니다. PathFillType.evenOdd를 사용하여 사각형 외부 영역을 채웁니다.</p>\n<pre><code class=\"hljs language-js\">..<span class=\"hljs-title function_\">addRect</span>(\n    <span class=\"hljs-title class_\">Rect</span>.<span class=\"hljs-title function_\">fromLTWH</span>(\n        offset.<span class=\"hljs-property\">dx</span>,\n        offset.<span class=\"hljs-property\">dy</span>,\n        width,\n        height,\n    ),\n)d\n</code></pre>\n<p>다른 사각형은 오버레이의 크기를 정의합니다. Offset 클래스의 &#x26; 연산자를 사용하여 offset 자체와 우측 항에서 크기를 사용하여 Rect 객체를 만듭니다.</p>\n<pre><code class=\"hljs language-js\">..<span class=\"hljs-title function_\">addRect</span>(<span class=\"hljs-title class_\">Offset</span>.<span class=\"hljs-property\">zero</span> &#x26; size);\n</code></pre>\n<p>오버레이를 그리는 데에 필요한 모든 것입니다. 이 클리퍼를 위젯에서 사용하여 대상 위젯을 쇼케이스할 수 있습니다. 다음 과제는 대상의 위치를 파악하는 것입니다.\n대상 위젯의 위치를 얻기 위해 RenderBox를 사용합니다. element 클래스의 findRenderObject 메서드를 사용하여 대상 위젯의 RenderBox 객체를 가져옵니다. 그런 다음 localToGlobal 메서드를 사용하여 위젯의 위치를 전역 좌표계로 가져옵니다. (모든 RenderBox는 부모에 대한 상대적인 자신의 위치만 추적하므로 절대 위치를 얻으려면 이를 전역 좌표로 변환해야 합니다.)</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-title class_\">Position</span> <span class=\"hljs-title function_\">getOffsetAndSize</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n  final <span class=\"hljs-title class_\">RenderBox</span> renderBox = context.<span class=\"hljs-title function_\">findRenderObject</span>() <span class=\"hljs-keyword\">as</span> <span class=\"hljs-title class_\">RenderBox</span>;\n  final topLeft = renderBox.<span class=\"hljs-title function_\">localToGlobal</span>(<span class=\"hljs-title class_\">Offset</span>.<span class=\"hljs-property\">zero</span>);\n\n  final height = renderBox.<span class=\"hljs-property\">size</span>.<span class=\"hljs-property\">height</span>;\n  final width = renderBox.<span class=\"hljs-property\">size</span>.<span class=\"hljs-property\">width</span>;\n\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"hljs-title class_\">Offset</span>(\n      topLeft.<span class=\"hljs-property\">dx</span>,\n      topLeft.<span class=\"hljs-property\">dy</span>,\n    ),\n    height,\n    width,\n  );\n}\n</code></pre>\n<p>이 함수를 사용하여 대상 위젯의 위치와 크기를 가져와서 해당 주변에 오버레이를 그릴 수 있습니다. 버튼이나 다른 트리거를 사용하여 쇼케이스를 토글할 수 있습니다.</p>\n<p>글로벌 키를 사용하여 대상 위젯의 현재 컨텍스트를 가져옵니다. 그러나 위젯의 컨텍스트를 가져오기 위해 위젯의 컨텍스트 속성을 사용하는 등 다른 방법을 사용할 수도 있습니다.\n사용자 정의 스택을 만들어 오버레이를 표시했습니다. 이는 오버레이의 범위를 현재 페이지로 유지하고자 하는 것입니다. 페이지가 변경되면 오버레이가 사라져야 합니다. 대안으로 <code>Overlay</code> 위젯을 사용할 수도 있습니다. 이 위젯은 자재 애플리케이션에 기본 제공됩니다. 이 위젯은 MaterialApp의 오버레이 글로벌 스택에 오버레이를 삽입합니다.\n나머지 코드는 상당히 간단합니다. 쇼케이스를 토글할 버튼과 탭하여 쇼케이스를 닫기 위한 GestureDetector가 있습니다. 위젯의 상태를 업데이트하고 위젯 트리를 다시 빌드하기 위해 setState 메서드를 사용합니다.</p>\n<p>전체 코드:</p>\n<p>여기까지입니다!! 이제 위젯을 쇼케이스하는 방법을 배웠습니다. 동일한 기술을 사용하여 위젯 위에 앵커를 만드는 데 사용할 수도 있습니다.</p>\n</body>\n</html>\n"},"__N_SSG":true}