{"pageProps":{"post":{"title":"React JS에서 HTML 요소를 이미지로 변환하는 방법","description":"","date":"2024-05-12 22:26","slug":"2024-05-12-HowtoconvertHTMLelementtoimageinReactJS","content":"\n\n\n<img src=\"/assets/img/2024-05-12-HowtoconvertHTMLelementtoimageinReactJS_0.png\" />\n\nHTML을 이미지로 변환하는 것은 웹 응용 프로그램에서 유용한 기능일 수 있습니다. React에서 이 작업을 수행하는 여러 가지 방법이 있지만, 가장 일반적인 방법 중 하나는 서드파티 라이브러리를 사용하는 것입니다. 이 글에서는 React에서 html-to-image 모듈을 사용하여 HTML을 이미지로 변환하는 방법을 살펴보겠습니다.\n\n# 요구 사항\n\n- html-to-image\n\n\n\n<b>단계 1: html-to-image 설치하기</b>\n\nhtml-to-image 모듈을 사용하려면 먼저 설치해야 합니다. React 프로젝트에서 다음 명령을 실행하여 이 작업을 수행할 수 있습니다.\n\n```js\nnpm install html-to-image\n```\n\n<b>단계 2: 라이브러리 가져오기</b>\n\n\n\n라이브러리를 설치한 후에는 React 컴포넌트로 가져와야 합니다. 파일 상단에 다음과 같은 import 문을 포함하여 이 작업을 할 수 있습니다.\n\n```js\nimport { toPng } from 'html-to-image';\n```\n\n3단계: HTML 요소에 대한 참조 추가\n\n변환하려는 HTML을 이미지로 지정하기 위해 HTML 요소를 명시해야 합니다. useRef 훅을 사용하여 이 작업을 할 수 있습니다. 다음과 같은 코드를 추가하여 HTML 요소에 대한 참조를 만들어야 합니다.\n\n\n\n```js\nconst elementRef = useRef(null);\n```\n\n그런 다음 변환하려는 HTML 요소에 ref 속성을 추가해야 합니다. 예를 들어:\n\n```js\n<table\n        ref={elementRef}\n        style={{\n          fontFamily: \"Arial, Helvetica, sans-serif\",\n          borderCollapse: \"collapse\",\n          width: \"50%\",\n          margin: \"0 auto\",\n        }}\n      >\n        <tr>\n          <th\n            style={{\n              backgroundColor: \"#04AA6D\",\n              padding: \"12px 8px\",\n              textAlign: \"left\",\n              border: \"1px solid #ddd\",\n            }}\n          >\n            회사\n          </th>\n          <th\n            style={{\n              backgroundColor: \"#04AA6D\",\n              padding: \"12px 8px\",\n              textAlign: \"left\",\n              border: \"1px solid #ddd\",\n            }}\n          >\n            연락처\n          </th>\n          <th\n            style={{\n              backgroundColor: \"#04AA6D\",\n              padding: \"12px 8px\",\n              textAlign: \"left\",\n              border: \"1px solid #ddd\",\n            }}\n          >\n            국가\n          </th>\n        </tr>\n        <tr>\n          <td\n            style={{\n              padding: \"8px\",\n              border: \"1px solid #ddd\",\n              textAlign: \"left\",\n            }}\n          >\n            Alfreds Futterkiste\n          </td>\n          <td\n            style={{\n              padding: \"8px\",\n              border: \"1px solid #ddd\",\n              textAlign: \"left\",\n            }}\n          >\n            Maria Anders\n          </td>\n          <td\n            style={{\n              padding: \"8px\",\n              border: \"1px solid #ddd\",\n              textAlign: \"left\",\n            }}\n          >\n            독일\n          </td>\n        </tr>\n        <tr>\n          <td\n            style={{\n              padding: \"8px\",\n              border: \"1px solid #ddd\",\n              textAlign: \"left\",\n            }}\n          >\n            Berglunds snabbköp\n          </td>\n          <td\n            style={{\n              padding: \"8px\",\n              border: \"1px solid #ddd\",\n              textAlign: \"left\",\n            }}\n          >\n            Christina Berglund\n          </td>\n          <td\n            style={{\n              padding: \"8px\",\n              border: \"1px solid #ddd\",\n              textAlign: \"left\",\n            }}\n          >\n            스웨덴\n          </td>\n        </tr>\n        <tr>\n          <td\n            style={{\n              padding: \"8px\",\n              border: \"1px solid #ddd\",\n              textAlign: \"left\",\n            }}\n          >\n            Centro comercial Moctezuma\n          </td>\n          <td\n            style={{\n              padding: \"8px\",\n              border: \"1px solid #ddd\",\n              textAlign: \"left\",\n            }}\n          >\n            Francisco Chang\n          </td>\n          <td\n            style={{\n              padding: \"8px\",\n              border: \"1px solid #ddd\",\n              textAlign: \"left\",\n            }}\n          >\n            멕시코\n          </td>\n        </tr>\n      </table>\n```\n\n참고: 스타일이 포함된 이미지를 다운로드하려면 HTML에 인라인 스타일을 포함해야 합니다.\n\n\n\n\n단계 4: HTML을 이미지로 변환하기\n\n이제 우리는 HTML 요소에 참조를 추가했으니, htmlToImage 라이브러리를 사용하여 이미지로 변환할 수 있습니다. 다음 코드를 추가하여 이 작업을 수행할 수 있습니다:\n\n```js\nconst htmlToImageConvert = () => {\n  toPng(elementRef.current, { cacheBust: false })\n    .then((dataUrl) => {\n      const link = document.createElement(\"a\");\n      link.download = \"my-image-name.png\";\n      link.href = dataUrl;\n      link.click();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n```\n\nhtmlToImageConvert 함수는 HTML을 이미지로 변환하고 싶을 때 트리거됩니다. 이 함수는 html-to-image 패키지의 toPng 메서드를 사용하여 HTML 요소를 PNG 이미지로 변환합니다.\n\n\n\n5단계: 변환을 시작할 버튼 추가하기\n\n마지막으로, 변환을 시작할 버튼을 React 컴포넌트에 추가해야 합니다. 다음 코드를 추가하여 이 작업을 수행할 수 있습니다.\n\n```js\n<button onClick={htmlToImageConvert}>이미지 다운로드</button>\n```\n\n문의 사항이 있으시면 LinkedIn을 통해 연락해 주세요.\n\n\n\n아래에서 GitHub 저장소 샘플과 codesandbox 데모를 찾아볼 수 있어요.","ogImage":{"url":"/assets/img/2024-05-12-HowtoconvertHTMLelementtoimageinReactJS_0.png"},"coverImage":"/assets/img/2024-05-12-HowtoconvertHTMLelementtoimageinReactJS_0.png","tag":["Tech"],"readingTime":5},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>HTML을 이미지로 변환하는 것은 웹 응용 프로그램에서 유용한 기능일 수 있습니다. React에서 이 작업을 수행하는 여러 가지 방법이 있지만, 가장 일반적인 방법 중 하나는 서드파티 라이브러리를 사용하는 것입니다. 이 글에서는 React에서 html-to-image 모듈을 사용하여 HTML을 이미지로 변환하는 방법을 살펴보겠습니다.</p>\n<h1>요구 사항</h1>\n<ul>\n<li>html-to-image</li>\n</ul>\n<p>단계 1: html-to-image 설치하기</p>\n<p>html-to-image 모듈을 사용하려면 먼저 설치해야 합니다. React 프로젝트에서 다음 명령을 실행하여 이 작업을 수행할 수 있습니다.</p>\n<pre><code class=\"hljs language-js\">npm install html-to-image\n</code></pre>\n<p>단계 2: 라이브러리 가져오기</p>\n<p>라이브러리를 설치한 후에는 React 컴포넌트로 가져와야 합니다. 파일 상단에 다음과 같은 import 문을 포함하여 이 작업을 할 수 있습니다.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> { toPng } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'html-to-image'</span>;\n</code></pre>\n<p>3단계: HTML 요소에 대한 참조 추가</p>\n<p>변환하려는 HTML을 이미지로 지정하기 위해 HTML 요소를 명시해야 합니다. useRef 훅을 사용하여 이 작업을 할 수 있습니다. 다음과 같은 코드를 추가하여 HTML 요소에 대한 참조를 만들어야 합니다.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">const</span> elementRef = <span class=\"hljs-title function_\">useRef</span>(<span class=\"hljs-literal\">null</span>);\n</code></pre>\n<p>그런 다음 변환하려는 HTML 요소에 ref 속성을 추가해야 합니다. 예를 들어:</p>\n<pre><code class=\"hljs language-js\">&#x3C;table\n        ref={elementRef}\n        style={{\n          <span class=\"hljs-attr\">fontFamily</span>: <span class=\"hljs-string\">\"Arial, Helvetica, sans-serif\"</span>,\n          <span class=\"hljs-attr\">borderCollapse</span>: <span class=\"hljs-string\">\"collapse\"</span>,\n          <span class=\"hljs-attr\">width</span>: <span class=\"hljs-string\">\"50%\"</span>,\n          <span class=\"hljs-attr\">margin</span>: <span class=\"hljs-string\">\"0 auto\"</span>,\n        }}\n      >\n        <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">tr</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">th</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">backgroundColor:</span> \"#<span class=\"hljs-attr\">04AA6D</span>\",\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">12px</span> <span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n            }}\n          ></span>\n            회사\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">th</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">th</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">backgroundColor:</span> \"#<span class=\"hljs-attr\">04AA6D</span>\",\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">12px</span> <span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n            }}\n          ></span>\n            연락처\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">th</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">th</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">backgroundColor:</span> \"#<span class=\"hljs-attr\">04AA6D</span>\",\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">12px</span> <span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n            }}\n          ></span>\n            국가\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">th</span>></span>\n        <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">tr</span>></span></span>\n        <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">tr</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">td</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n            }}\n          ></span>\n            Alfreds Futterkiste\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">td</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">td</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n            }}\n          ></span>\n            Maria Anders\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">td</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">td</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n            }}\n          ></span>\n            독일\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">td</span>></span>\n        <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">tr</span>></span></span>\n        <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">tr</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">td</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n            }}\n          ></span>\n            Berglunds snabbköp\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">td</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">td</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n            }}\n          ></span>\n            Christina Berglund\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">td</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">td</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n            }}\n          ></span>\n            스웨덴\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">td</span>></span>\n        <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">tr</span>></span></span>\n        <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">tr</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">td</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n            }}\n          ></span>\n            Centro comercial Moctezuma\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">td</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">td</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n            }}\n          ></span>\n            Francisco Chang\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">td</span>></span>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">td</span>\n            <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">{{</span>\n              <span class=\"hljs-attr\">padding:</span> \"<span class=\"hljs-attr\">8px</span>\",\n              <span class=\"hljs-attr\">border:</span> \"<span class=\"hljs-attr\">1px</span> <span class=\"hljs-attr\">solid</span> #<span class=\"hljs-attr\">ddd</span>\",\n              <span class=\"hljs-attr\">textAlign:</span> \"<span class=\"hljs-attr\">left</span>\",\n            }}\n          ></span>\n            멕시코\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">td</span>></span>\n        <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">tr</span>></span></span>\n      &#x3C;/table>\n</code></pre>\n<p>참고: 스타일이 포함된 이미지를 다운로드하려면 HTML에 인라인 스타일을 포함해야 합니다.</p>\n<p>단계 4: HTML을 이미지로 변환하기</p>\n<p>이제 우리는 HTML 요소에 참조를 추가했으니, htmlToImage 라이브러리를 사용하여 이미지로 변환할 수 있습니다. 다음 코드를 추가하여 이 작업을 수행할 수 있습니다:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">htmlToImageConvert</span> = (<span class=\"hljs-params\"></span>) => {\n  <span class=\"hljs-title function_\">toPng</span>(elementRef.<span class=\"hljs-property\">current</span>, { <span class=\"hljs-attr\">cacheBust</span>: <span class=\"hljs-literal\">false</span> })\n    .<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">dataUrl</span>) =></span> {\n      <span class=\"hljs-keyword\">const</span> link = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">\"a\"</span>);\n      link.<span class=\"hljs-property\">download</span> = <span class=\"hljs-string\">\"my-image-name.png\"</span>;\n      link.<span class=\"hljs-property\">href</span> = dataUrl;\n      link.<span class=\"hljs-title function_\">click</span>();\n    })\n    .<span class=\"hljs-title function_\">catch</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">err</span>) =></span> {\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(err);\n    });\n};\n</code></pre>\n<p>htmlToImageConvert 함수는 HTML을 이미지로 변환하고 싶을 때 트리거됩니다. 이 함수는 html-to-image 패키지의 toPng 메서드를 사용하여 HTML 요소를 PNG 이미지로 변환합니다.</p>\n<p>5단계: 변환을 시작할 버튼 추가하기</p>\n<p>마지막으로, 변환을 시작할 버튼을 React 컴포넌트에 추가해야 합니다. 다음 코드를 추가하여 이 작업을 수행할 수 있습니다.</p>\n<pre><code class=\"hljs language-js\">&#x3C;button onClick={htmlToImageConvert}>이미지 다운로드&#x3C;/button>\n</code></pre>\n<p>문의 사항이 있으시면 LinkedIn을 통해 연락해 주세요.</p>\n<p>아래에서 GitHub 저장소 샘플과 codesandbox 데모를 찾아볼 수 있어요.</p>\n</body>\n</html>\n"},"__N_SSG":true}