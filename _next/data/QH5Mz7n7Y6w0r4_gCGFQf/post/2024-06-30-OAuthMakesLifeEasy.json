{"pageProps":{"post":{"title":"OAuth는 삶을 쉽게 만들어 준다 사용 방법, 이점 및 실전 예제","description":"","date":"2024-06-30 18:28","slug":"2024-06-30-OAuthMakesLifeEasy","content":"\n\n저와 같이 기술의 발전으로 게으를 갖고 있는 분이세요? 솔직히 말씀드리자면, 스트레스 받을 건 전혀 가망이 없죠. 보안은 기술에서 매우 중요한 측면이며, 진지하게 고려해야 합니다. 그러나 솔직히 말해요, 우리 중 얼마나 많은 사람들이 안전한 암호를 생성하고 안전하게 보관하는 필요한 단계를 취하는 것을 선호할까요? 이 세대의 기술 사용자들은 그래 할 만큼 게으르죠.\n\n이전에 사람들이 일반적으로 했던 방식은 하나의 강력한 암호를 생성하여 모든 웹 사이트에 사용하는 것이었습니다. 그러나 한 사이트가 침해당한다면, 암호가 노출됩니다. 중요한 사람인 경우, 해커들은 그를 활용하여 소셜 미디어에 로그인할 수 있습니다. 만약 은행 앱에도 같은 암호를 사용하는 무모한 짓을 하려한다면? — \"Otilor\"(요르바어로 \"사라졌거나 망했다\"는 뜻)입니다.\n\n그렇다면, 저와 같이 게으른 사람들에게 좋은 대안은 무엇일까요? 그 대답은 OAuth(Open Authorization)입니다.\n\nOAuth(Open Authorization)란 무엇인가요?\n\n<div class=\"content-ad\"></div>\n\nOAuth은 Google, Facebook 또는 GitHub과 같은 신뢰할 수 있는 플랫폼을 사용하여 인증할 수 있도록 합니다. 이러한 대표적인 사이트들은 보안에 수십억을 투자하고 있습니다. 만약 해커가 Google 또는 Facebook을 성공적으로 해킹할 수 있다면, 나의 계정을 해킹해도 된다고 생각할 수도 있겠지만, 그건 농담이에요. 하지만 사실은 이들에게 우리의 보안을 맡길 수 있다는 것이죠. 그래서 내가 해야 할 일은 구글에 로그인하는 것 뿐이에요. 적어도 그건 하나의 비밀번호일 뿐이니까, 이건 안전하게 지킬 수 있어야겠죠.\n\n구글, Facebook 또는 GitHub에 로그인한 후, 다른 웹사이트에게 내 이름, 프로필 사진 및 계정에서 사용 가능한 기타 정보와 같은 몇 가지 사용자 정보에 대한 접근 권한을 부여할 수 있어요. 이렇게 하면 해당 웹사이트가 나의 인증을 수행할 수 있어요.\n\nOAuth 유형\n\n더 나아가기 전에, Open Authorization에는 OAuth 1.0과 OAuth 2.0 두 가지 유형이 있다는 것을 간략히 언급하고 싶어요. 오늘날 가장 일반적으로 사용되는 버전인 OAuth 2.0은 더 간단하고 유연성이 더 높은 기능을 제공합니다.\n\n<div class=\"content-ad\"></div>\n\n테이블 태그를 Markdown 형식으로 변경해주세요.\n\n<div class=\"content-ad\"></div>\n\n2. 필요한 npm 패키지를 설치해주세요:\n\n\nnpm install express passport passport-google-oauth20 express-session\n\n\n3. index.js 파일을 만들고 Express 애플리케이션을 설정해주세요:\n\n```javascript\nconst express = require('express');\nconst passport = require('passport');\nconst GoogleStrategy = require('passport-google-oauth20').Strategy;\nconst session = require('express-session');\n```\n\n<div class=\"content-ad\"></div>\n\n```javascript\nconst app = express();\n\napp.use(session({\n    secret: 'your_secret_key', // Replace with a secure key\n    resave: false,\n    saveUninitialized: true\n}));\n\napp.use(passport.initialize());\napp.use(passport.session());\n\n// Configure Passport to use Google OAuth\npassport.use(new GoogleStrategy({\n    clientID: 'YOUR_GOOGLE_CLIENT_ID',\n    clientSecret: 'YOUR_GOOGLE_CLIENT_SECRET',\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n},\nfunction(token, tokenSecret, profile, done) {\n    return done(null, profile);\n}));\n```\n\n<div class=\"content-ad\"></div>\n\n```javascript\npassport.serializeUser((user, done) => {\n  done(null, user);\n});\n\npassport.deserializeUser((obj, done) => {\n  done(null, obj);\n});\n\n// Define routes\napp.get('/auth/google',\n  passport.authenticate('google', { scope: ['profile'] }));\n\napp.get('/auth/google/callback',\n  passport.authenticate('google', { failureRedirect: '/' }),\n  (req, res) => {\n    res.redirect('/');\n  });\n```\n\n<div class=\"content-ad\"></div>\n\n\napp.get('/', (req, res) => {\n  res.send(`<h1>Home</h1><a href=\"/auth/google\">Login with Google</a>`);\n});\n\napp.listen(3000, () => {\n  console.log('Server started on http://localhost:3000');\n});\n\n4. Start your Node.js server with “node index.js”. Open your browser and go to http://localhost:3000. Click on \"Login with Google\" to start the OAuth process.\n\nTo get the Google Client ID and Secret, follow these steps:\n\n\n<div class=\"content-ad\"></div>\n\n- Google Cloud Console로 이동하세요.\n- 새 프로젝트를 만들거나 기존 프로젝트를 선택하세요.\n- API 및 서비스 `자격 증명` 페이지로 이동하세요.\n- `자격 증명 만들기`를 클릭하고 OAuth 클라이언트 ID를 선택하세요.\n- 필수 필드를 작성하여 동의 화면을 구성하세요.\n- 애플리케이션 유형으로 웹 애플리케이션을 선택하세요.\n- http://localhost:3000/auth/google/secrets와 같은 승인된 리디렉션 URI를 추가하세요.\n- 생성을 클릭하여 클라이언트 ID 및 시크릿을 가져오세요.\n\n![OAuthMakesLifeEasy](/assets/img/2024-06-30-OAuthMakesLifeEasy_0.png)\n\n만약 기술에 미숙하다면, 위의 기술 용어에 머리 아프지 마세요. 다음에 \"Google로 가입\"을 보면 안전하니 그냥 사용하세요. 요약하면 이렇습니다. 어쩌다 이런 글을 써야 했네요. HNG 인턴십은 나이지리아와 아프리카의 떠오르는 기술인들에게 흥미로운 기회입니다. HNG 웹사이트를 통해 HNG 인턴십, HNG 채용, 또는 HNG 프리미엄을 확인할 수 있습니다. 안녕히 가세요!","ogImage":{"url":"/assets/img/2024-06-30-OAuthMakesLifeEasy_0.png"},"coverImage":"/assets/img/2024-06-30-OAuthMakesLifeEasy_0.png","tag":["Tech"],"readingTime":4},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>저와 같이 기술의 발전으로 게으를 갖고 있는 분이세요? 솔직히 말씀드리자면, 스트레스 받을 건 전혀 가망이 없죠. 보안은 기술에서 매우 중요한 측면이며, 진지하게 고려해야 합니다. 그러나 솔직히 말해요, 우리 중 얼마나 많은 사람들이 안전한 암호를 생성하고 안전하게 보관하는 필요한 단계를 취하는 것을 선호할까요? 이 세대의 기술 사용자들은 그래 할 만큼 게으르죠.</p>\n<p>이전에 사람들이 일반적으로 했던 방식은 하나의 강력한 암호를 생성하여 모든 웹 사이트에 사용하는 것이었습니다. 그러나 한 사이트가 침해당한다면, 암호가 노출됩니다. 중요한 사람인 경우, 해커들은 그를 활용하여 소셜 미디어에 로그인할 수 있습니다. 만약 은행 앱에도 같은 암호를 사용하는 무모한 짓을 하려한다면? — \"Otilor\"(요르바어로 \"사라졌거나 망했다\"는 뜻)입니다.</p>\n<p>그렇다면, 저와 같이 게으른 사람들에게 좋은 대안은 무엇일까요? 그 대답은 OAuth(Open Authorization)입니다.</p>\n<p>OAuth(Open Authorization)란 무엇인가요?</p>\n<div class=\"content-ad\"></div>\n<p>OAuth은 Google, Facebook 또는 GitHub과 같은 신뢰할 수 있는 플랫폼을 사용하여 인증할 수 있도록 합니다. 이러한 대표적인 사이트들은 보안에 수십억을 투자하고 있습니다. 만약 해커가 Google 또는 Facebook을 성공적으로 해킹할 수 있다면, 나의 계정을 해킹해도 된다고 생각할 수도 있겠지만, 그건 농담이에요. 하지만 사실은 이들에게 우리의 보안을 맡길 수 있다는 것이죠. 그래서 내가 해야 할 일은 구글에 로그인하는 것 뿐이에요. 적어도 그건 하나의 비밀번호일 뿐이니까, 이건 안전하게 지킬 수 있어야겠죠.</p>\n<p>구글, Facebook 또는 GitHub에 로그인한 후, 다른 웹사이트에게 내 이름, 프로필 사진 및 계정에서 사용 가능한 기타 정보와 같은 몇 가지 사용자 정보에 대한 접근 권한을 부여할 수 있어요. 이렇게 하면 해당 웹사이트가 나의 인증을 수행할 수 있어요.</p>\n<p>OAuth 유형</p>\n<p>더 나아가기 전에, Open Authorization에는 OAuth 1.0과 OAuth 2.0 두 가지 유형이 있다는 것을 간략히 언급하고 싶어요. 오늘날 가장 일반적으로 사용되는 버전인 OAuth 2.0은 더 간단하고 유연성이 더 높은 기능을 제공합니다.</p>\n<div class=\"content-ad\"></div>\n<p>테이블 태그를 Markdown 형식으로 변경해주세요.</p>\n<div class=\"content-ad\"></div>\n<ol start=\"2\">\n<li>필요한 npm 패키지를 설치해주세요:</li>\n</ol>\n<p>npm install express passport passport-google-oauth20 express-session</p>\n<ol start=\"3\">\n<li>index.js 파일을 만들고 Express 애플리케이션을 설정해주세요:</li>\n</ol>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">const</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'express'</span>);\n<span class=\"hljs-keyword\">const</span> passport = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'passport'</span>);\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">GoogleStrategy</span> = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'passport-google-oauth20'</span>).<span class=\"hljs-property\">Strategy</span>;\n<span class=\"hljs-keyword\">const</span> session = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'express-session'</span>);\n</code></pre>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">const</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-title function_\">session</span>({\n    <span class=\"hljs-attr\">secret</span>: <span class=\"hljs-string\">'your_secret_key'</span>, <span class=\"hljs-comment\">// Replace with a secure key</span>\n    <span class=\"hljs-attr\">resave</span>: <span class=\"hljs-literal\">false</span>,\n    <span class=\"hljs-attr\">saveUninitialized</span>: <span class=\"hljs-literal\">true</span>\n}));\n\napp.<span class=\"hljs-title function_\">use</span>(passport.<span class=\"hljs-title function_\">initialize</span>());\napp.<span class=\"hljs-title function_\">use</span>(passport.<span class=\"hljs-title function_\">session</span>());\n\n<span class=\"hljs-comment\">// Configure Passport to use Google OAuth</span>\npassport.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">GoogleStrategy</span>({\n    <span class=\"hljs-attr\">clientID</span>: <span class=\"hljs-string\">'YOUR_GOOGLE_CLIENT_ID'</span>,\n    <span class=\"hljs-attr\">clientSecret</span>: <span class=\"hljs-string\">'YOUR_GOOGLE_CLIENT_SECRET'</span>,\n    <span class=\"hljs-attr\">callbackURL</span>: <span class=\"hljs-string\">'http://localhost:3000/auth/google/callback'</span>\n},\n<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">token, tokenSecret, profile, done</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">done</span>(<span class=\"hljs-literal\">null</span>, profile);\n}));\n</code></pre>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-javascript\">passport.<span class=\"hljs-title function_\">serializeUser</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">user, done</span>) =></span> {\n  <span class=\"hljs-title function_\">done</span>(<span class=\"hljs-literal\">null</span>, user);\n});\n\npassport.<span class=\"hljs-title function_\">deserializeUser</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">obj, done</span>) =></span> {\n  <span class=\"hljs-title function_\">done</span>(<span class=\"hljs-literal\">null</span>, obj);\n});\n\n<span class=\"hljs-comment\">// Define routes</span>\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'/auth/google'</span>,\n  passport.<span class=\"hljs-title function_\">authenticate</span>(<span class=\"hljs-string\">'google'</span>, { <span class=\"hljs-attr\">scope</span>: [<span class=\"hljs-string\">'profile'</span>] }));\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'/auth/google/callback'</span>,\n  passport.<span class=\"hljs-title function_\">authenticate</span>(<span class=\"hljs-string\">'google'</span>, { <span class=\"hljs-attr\">failureRedirect</span>: <span class=\"hljs-string\">'/'</span> }),\n  <span class=\"hljs-function\">(<span class=\"hljs-params\">req, res</span>) =></span> {\n    res.<span class=\"hljs-title function_\">redirect</span>(<span class=\"hljs-string\">'/'</span>);\n  });\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>app.get('/', (req, res) => {\nres.send(<code>&#x3C;h1>Home&#x3C;/h1>&#x3C;a href=\"/auth/google\">Login with Google&#x3C;/a></code>);\n});</p>\n<p>app.listen(3000, () => {\nconsole.log('Server started on <a href=\"http://localhost:3000\" rel=\"nofollow\" target=\"_blank\">http://localhost:3000</a>');\n});</p>\n<ol start=\"4\">\n<li>Start your Node.js server with “node index.js”. Open your browser and go to <a href=\"http://localhost:3000\" rel=\"nofollow\" target=\"_blank\">http://localhost:3000</a>. Click on \"Login with Google\" to start the OAuth process.</li>\n</ol>\n<p>To get the Google Client ID and Secret, follow these steps:</p>\n<div class=\"content-ad\"></div>\n<ul>\n<li>Google Cloud Console로 이동하세요.</li>\n<li>새 프로젝트를 만들거나 기존 프로젝트를 선택하세요.</li>\n<li>API 및 서비스 <code>자격 증명</code> 페이지로 이동하세요.</li>\n<li><code>자격 증명 만들기</code>를 클릭하고 OAuth 클라이언트 ID를 선택하세요.</li>\n<li>필수 필드를 작성하여 동의 화면을 구성하세요.</li>\n<li>애플리케이션 유형으로 웹 애플리케이션을 선택하세요.</li>\n<li><a href=\"http://localhost:3000/auth/google/secrets%EC%99%80\" rel=\"nofollow\" target=\"_blank\">http://localhost:3000/auth/google/secrets와</a> 같은 승인된 리디렉션 URI를 추가하세요.</li>\n<li>생성을 클릭하여 클라이언트 ID 및 시크릿을 가져오세요.</li>\n</ul>\n<p><img src=\"/assets/img/2024-06-30-OAuthMakesLifeEasy_0.png\" alt=\"OAuthMakesLifeEasy\"></p>\n<p>만약 기술에 미숙하다면, 위의 기술 용어에 머리 아프지 마세요. 다음에 \"Google로 가입\"을 보면 안전하니 그냥 사용하세요. 요약하면 이렇습니다. 어쩌다 이런 글을 써야 했네요. HNG 인턴십은 나이지리아와 아프리카의 떠오르는 기술인들에게 흥미로운 기회입니다. HNG 웹사이트를 통해 HNG 인턴십, HNG 채용, 또는 HNG 프리미엄을 확인할 수 있습니다. 안녕히 가세요!</p>\n</body>\n</html>\n"},"__N_SSG":true}