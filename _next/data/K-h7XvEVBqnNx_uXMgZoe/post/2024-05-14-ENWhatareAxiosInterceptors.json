{"pageProps":{"post":{"title":"한국어 Axios 인터셉터란 무엇인가요","description":"","date":"2024-05-14 12:08","slug":"2024-05-14-ENWhatareAxiosInterceptors","content":"\n\n![Axios Interceptors](/assets/img/2024-05-14-ENWhatareAxiosInterceptors_0.png)\n\n인터셉터란 무엇인가요?\n인터셉터는 프로그램의 기능을 확장하거나 수정하는 데 사용되는 디자인 패턴입니다. Axios에서 인터셉터는 HTTP 요청과 응답을 처리하는 데 사용되는 특별한 함수입니다. 요청 인터셉터를 사용하면 요청을 보내기 전에 작업을 수행할 수 있고, 응답 인터셉터는 서버에서 반환된 응답에 작업을 수행할 수 있습니다.\n\nAxios 인터셉터를 사용해야 하는 이유는 무엇인가요?\n\n- 재사용성과 모듈성.\n- 오류 처리 용이성.\n- 보안 제어 및 인가 유효성 검사 프로세스 용이성.\n- 네트워크 문제 처리.\n- 사용 편의성과 유연성.\n- 성능 및 최적화.\n\n\n\nAxios Interceptors의 사용법\n간단한 사용법을 가지고 있고 Axios 내에서 추가 설정이 필요하지 않아 장점을 제공합니다.\n\n```js\nconst axiosInstance = axios.create({\n  baseURL: 'https://api.example.com',\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': null\n  }\n});\n\naxiosInstance.interceptors.request.use(\n  function (config) {\n    // 요청을 보내기 전 수행할 작업\n    console.log('요청을 보냅니다:', config);\n    \n    // 예를 들어, 각 요청에 세션 식별자를 추가할 수 있습니다.\n    const accessToken = localStorage.getItem('accessToken');\n    if (accessToken) {\n      config.headers.Authorization = `Bearer ${accessToken}`;\n    }\n\n    return config;\n  }, \n  function (error) {\n    // 요청 오류 발생 시 수행할 작업\n    console.error('요청 오류:', error);\n    return Promise.reject(error);\n  }\n);\n\naxiosInstance.interceptors.response.use(\n  function (response) {\n    // 응답이 성공했을 때 수행할 작업\n    console.log('응답:', response.data);\n    return response;\n  },\n  function (error) {\n    // 응답 오류 발생 시 수행할 작업\n    console.error('응답 오류:', error);\n    \n    // 예를 들어, 401 (Unauthorized) 오류 발생 시 세션이 만료된 것으로 가정할 수 있습니다.\n    if (error.response.status === 401) {\n      // 세션 새로 고침이나 로그인 페이지로 리다이렉트하는 등의 작업 수행 가능\n      console.log('세션이 만료되었습니다. 리다이렉트 중...');\n      // 예를 들어, 사용자를 로그인 페이지로 리다이렉트:\n    }\n    return Promise.reject(error);\n  }\n);\n\n// 예시 요청\n\naxiosInstance.get('/data')\n  .then(response => {\n    console.log('응답:', response.data);\n  })\n  .catch(error => {\n    console.error('오류:', error);\n  });\n\naxiosInstance.post('/post-data', {\n  // 전송할 데이터\n  firstName: 'John',\n  lastName: 'Doe'\n})\n.then(response => {\n  console.log('응답:', response.data);\n})\n.catch(error => {\n  console.error('오류:', error);\n});\n```\n\n🚀🚀 이 예시처럼 들어오는 오류를 잡아 사용자에게 반환하거나 페이지 간에 리다이렉트할 수 있습니다.\n콘솔에서 각 요청의 오류와 본문을 쉽게 보고 조치할 수 있습니다.\n\n<img src=\"/assets/img/2024-05-14-ENWhatareAxiosInterceptors_1.png\" />\n\n\n\n### 이전 게시물","ogImage":{"url":"/assets/img/2024-05-14-ENWhatareAxiosInterceptors_0.png"},"coverImage":"/assets/img/2024-05-14-ENWhatareAxiosInterceptors_0.png","tag":["Tech"],"readingTime":3},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-14-ENWhatareAxiosInterceptors_0.png\",\n        alt: \"Axios Interceptors\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"인터셉터란 무엇인가요?\\n인터셉터는 프로그램의 기능을 확장하거나 수정하는 데 사용되는 디자인 패턴입니다. Axios에서 인터셉터는 HTTP 요청과 응답을 처리하는 데 사용되는 특별한 함수입니다. 요청 인터셉터를 사용하면 요청을 보내기 전에 작업을 수행할 수 있고, 응답 인터셉터는 서버에서 반환된 응답에 작업을 수행할 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Axios 인터셉터를 사용해야 하는 이유는 무엇인가요?\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"재사용성과 모듈성.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"오류 처리 용이성.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"보안 제어 및 인가 유효성 검사 프로세스 용이성.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"네트워크 문제 처리.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"사용 편의성과 유연성.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"성능 및 최적화.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Axios Interceptors의 사용법\\n간단한 사용법을 가지고 있고 Axios 내에서 추가 설정이 필요하지 않아 장점을 제공합니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" axiosInstance = axios.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"create\"\n        }), \"({\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"baseURL\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://api.example.com'\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"headers\"\n        }), \": {\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Content-Type'\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'application/json'\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Authorization'\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \"\\n  }\\n});\\n\\naxiosInstance.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"interceptors\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"request\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"config\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 요청을 보내기 전 수행할 작업\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'요청을 보냅니다:'\"\n        }), \", config);\\n    \\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 예를 들어, 각 요청에 세션 식별자를 추가할 수 있습니다.\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" accessToken = \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"localStorage\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getItem\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'accessToken'\"\n        }), \");\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (accessToken) {\\n      config.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"headers\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"Authorization\"\n        }), \" = \", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`Bearer \", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${accessToken}\"\n          }), \"`\"]\n        }), \";\\n    }\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" config;\\n  }, \\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"error\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 요청 오류 발생 시 수행할 작업\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'요청 오류:'\"\n        }), \", error);\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Promise\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"reject\"\n        }), \"(error);\\n  }\\n);\\n\\naxiosInstance.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"interceptors\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"response\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"response\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 응답이 성공했을 때 수행할 작업\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'응답:'\"\n        }), \", response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \");\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" response;\\n  },\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"error\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 응답 오류 발생 시 수행할 작업\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'응답 오류:'\"\n        }), \", error);\\n    \\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 예를 들어, 401 (Unauthorized) 오류 발생 시 세션이 만료된 것으로 가정할 수 있습니다.\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (error.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"response\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"status\"\n        }), \" === \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"401\"\n        }), \") {\\n      \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 세션 새로 고침이나 로그인 페이지로 리다이렉트하는 등의 작업 수행 가능\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'세션이 만료되었습니다. 리다이렉트 중...'\"\n        }), \");\\n      \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 예를 들어, 사용자를 로그인 페이지로 리다이렉트:\"\n        }), \"\\n    }\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Promise\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"reject\"\n        }), \"(error);\\n  }\\n);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 예시 요청\"\n        }), \"\\n\\naxiosInstance.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'/data'\"\n        }), \")\\n  .\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"then\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"response\"\n          }), \" =>\"]\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'응답:'\"\n        }), \", response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \");\\n  })\\n  .\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"catch\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"error\"\n          }), \" =>\"]\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'오류:'\"\n        }), \", error);\\n  });\\n\\naxiosInstance.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"post\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'/post-data'\"\n        }), \", {\\n  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 전송할 데이터\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"firstName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'John'\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"lastName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Doe'\"\n        }), \"\\n})\\n.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"then\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"response\"\n          }), \" =>\"]\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'응답:'\"\n        }), \", response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \");\\n})\\n.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"catch\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"error\"\n          }), \" =>\"]\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'오류:'\"\n        }), \", error);\\n});\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"🚀🚀 이 예시처럼 들어오는 오류를 잡아 사용자에게 반환하거나 페이지 간에 리다이렉트할 수 있습니다.\\n콘솔에서 각 요청의 오류와 본문을 쉽게 보고 조치할 수 있습니다.\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-14-ENWhatareAxiosInterceptors_1.png\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"이전 게시물\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}