{"pageProps":{"post":{"title":"대용량 JSON 객체를 효율적으로 업데이트하는 방법","description":"","date":"2024-05-14 12:45","slug":"2024-05-14-HowToUpdateLargeJSONObjectsEfficiently","content":"\n\n\n![JSON Patch](/assets/img/2024-05-14-HowToUpdateLargeJSONObjectsEfficiently_0.png)\n\nJSON Patch는 JSON 문서를 변경하는 방법을 설명하는 형식으로, JSON 데이터를 수정하는 방법을 보여주는 간결한 작업 지침의 시리즈를 사용합니다. 이 작업에는 새 데이터 추가, 이전 데이터 삭제, 기존 데이터 교체 또는 데이터 이동이 포함됩니다.\n\n## JSON Patch를 사용하는 이유\n\n대규모 웹 애플리케이션에서 클라이언트는 최신 데이터를 가져오거나 수정된 데이터를 서버에 제출하기 위해 서버와 자주 통신해야 합니다. 기존 방식은 모든 업데이트마다 전체 JSON 문서를 보내는 것이며, 실제 데이터의 일부분만 변경되었더라도 전송됩니다. 이는 네트워크 트래픽 증가, 네트워크 지연 증가, 서버 및 클라이언트 부하 증가로 이어집니다.\n\n\n\n\nJSON Patch는 네트워크 전송 양을 줄이고 데이터 업데이트 효율성을 향상시키는 효율적인 솔루션을 제공합니다. JSON Patch를 사용하면 클라이언트는 전체 JSON 문서가 아닌 수정이 필요한 데이터 부분만 전송할 수 있습니다. 서버가 JSON Patch를 수신한 후에는 해당 지침에 따라 해당 작업을 수행하여 데이터의 점진적 업데이트를 달성할 수 있습니다. 이는 네트워크 전송 양을 줄이고 네트워크 효율성을 향상시키며 서버와 클라이언트에 가하는 부하를 줄이는데 도움이 됩니다.\n\n## JSON Patch의 혜택은 무엇인가요?\n\n- 전송 양 감소: JSON Patch는 JSON 문서에 대해 수행할 구체적인 변경 사항만 전송하며 전체 JSON 문서를 전송하지 않습니다. 이는 특히 대규모 데이터 세트나 저속 네트워크 환경에서 네트워크 대역폭을 절약할 수 있습니다.\n- 점진적 업데이트: JSON Patch는 JSON 문서에 대한 점진적 업데이트를 지원합니다. 이는 전체 문서가 아닌 변경해야 하는 부분만 보낼 수 있기 때문에 실시간 애플리케이션 및 빈번한 업데이트가 필요한 상황에 유용합니다.\n- 유연성과 확장성: JSON Patch는 JSON 문서에서 수행할 수 있는 작업을 제한하지 않습니다. 필요에 따라 추가, 삭제, 교체, 이동 및 기타 작업을 수행할 수 있으며 필요에 따라 새 작업을 추가할 수도 있습니다.\n\n## JSON Patch는 어떤 작업을 지원하나요?\n\n\n\n1. 추가\n\nJSON 문서에 새로운 값을 추가하려면 경로와 추가할 값이 필요합니다.\n\n```js\n{ \"op\": \"add\", \"path\": \"/path\", \"value\": \"new value\" }\n```\n\n2. 제거\n\n\n\nJSON 문서에서 값을 제거하려면 제거할 값을 가리키는 경로를 지정해야 합니다.\n\n```js\n{ \"op\": \"remove\", \"path\": \"/path\" }\n```\n\n3. 대체\n\nJSON 문서의 값을 교체하려면 대체할 값을 가리키는 경로와 새 값이 필요합니다.\n\n\n\n```js\n{ \"op\": \"replace\", \"path\": \"/path\", \"value\": \"new value\" }\n```\n\n4. 이동\n\nJSON 문서에서 값을 다른 위치로 이동하려면 이동할 값의 경로와 대상 경로를 지정해야 합니다.\n\n```js\n{ \"op\": \"move\", \"from\": \"/oldpath\", \"path\": \"/newpath\" }\n```\n\n\n\n5. 복사\n\nJSON 문서에서의 값을 다른 위치로 복사하려면 복사할 값의 경로와 대상 경로를 지정해야 합니다.\n\n```js\n{ \"op\": \"copy\", \"from\": \"/oldpath\", \"path\": \"/newpath\" }\n```\n\n6. 테스트\n\n\n\nJSON 문서에서 값이 특정 값과 동일한지 확인하는 테스트를 수행하며, 이는 주로 작업이 성공적으로 실행될 수 있는지 확인하는 데 사용됩니다. 테스트할 값이 들어 있는 경로와 예상 값이 명시되어야 합니다.\n\n```js\n{ \"op\": \"test\", \"path\": \"/경로\", \"value\": \"예상 값\" }\n```\n\n## JSON 패치 사용 방법\n\n많은 개발 언어에서 JSON 패치 사양을 구현했습니다. JS 환경에서는 fast-json-patch 라이브러리를 사용할 수 있습니다.\n\n\n\n첫째로, npm 또는 pnpm을 사용하여 fast-json-patch를 설치해주세요:\n\n```js\nnpm install fast-json-patch\n또는 \npnpm add fast-json-patch\n```\n\nfast-json-patch 라이브러리를 성공적으로 설치한 후에는 제공되는 API를 활용하여 다음 기능을 수행할 수 있습니다:\n\n- 두 개의 객체를 비교하여 패치를 가져오기\n- 객체 변경을 관찰하고 변경사항을 감지할 때 패치를 생성하기\n- JS 객체에 단일 또는 여러 패치 적용하기\n- 패치 시퀀스를 유효성 검사하기\n\n\n\n- 두 객체를 비교하여 패치를 가져오기\n\n```js\nimport { compare } from \"fast-json-patch/index.mjs\";\n\nconst documentA = { user: { firstName: \"Albert\", lastName: \"Einstein\" } };\nconst documentB = { user: { firstName: \"Albert\", lastName: \"Collins\" } };\n\nconst diff = compare(documentA, documentB);\n\n/**\n * diff: \n * [ { op: 'replace', path: '/user/lastName', value: 'Collins' } ]\n */\n```\n\n2. 객체 변경 사항을 관찰하고 변경이 감지되면 패치를 생성합니다.\n\n```js\nimport { generate, observe } from \"fast-json-patch/index.mjs\";\n\nconst document = {\n  firstName: \"Joachim\",\n  lastName: \"Wester\",\n  contactDetails: { phoneNumbers: [{ number: \"555-123\" }] },\n};\nconst observer = observe(document);\ndocument.firstName = \"Albert\";\ndocument.contactDetails.phoneNumbers[0].number = \"123\";\ndocument.contactDetails.phoneNumbers.push({ number: \"456\" });\nconst patch = generate(observer);\n\n/**\n * patch：\n * [\n *  {\n *    op: 'replace',\n *    path: '/contactDetails/phoneNumbers/0/number',\n *    value: '123'\n *  },\n *  {\n *   op: 'add',\n *   path: '/contactDetails/phoneNumbers/1',\n *   value: { number: '456' }\n *  },\n *  { op: 'replace', path: '/firstName', value: 'Albert' }\n * ]\n */\n```\n\n\n\n3. JS 객체에 단일 또는 여러 패치 적용하기\n\n단일 패치 적용\n\n```js\nimport { applyPatch } from \"fast-json-patch/index.mjs\";\n\nconst documentA = { user: { firstName: \"Albert\", lastName: \"Einstein\" } };\nconst patchedResult = applyPatch(documentA, [\n  { op: \"replace\", path: \"/user/lastName\", value: \"Collins\" },\n]);\n\n/**\n * patchedResult[0]:\n * {\n *   newDocument: { user: { firstName: 'Albert', lastName: 'Collins' } },\n *   removed: 'Einstein'\n * }\n */\n```\n\n다중 패치 적용\n\n\n\n```js\nimport { applyPatch } from \"fast-json-patch/index.mjs\";\n\nconst document = {\n  firstName: \"Joachim\",\n  lastName: \"Wester\",\n  contactDetails: { phoneNumbers: [{ number: \"555-123\" }] },\n};\n\nconst patchedResult = applyPatch(document, [\n  {\n    op: \"replace\",\n    path: \"/contactDetails/phoneNumbers/0/number\",\n    value: \"123\",\n  },\n  {\n    op: \"add\",\n    path: \"/contactDetails/phoneNumbers/1\",\n    value: { number: \"456\" },\n  },\n  { op: \"replace\", path: \"/firstName\", value: \"Albert\" },\n]);\n\n/**\n * patchedResult[0]: \n * {\n *  newDocument: {\n *    firstName: \"Albert\",\n *    lastName: \"Wester\",\n *    contactDetails: { phoneNumbers: [{ number: \"123\" }, { number: \"456\" }] },\n *  },\n *  removed: \"555-123\",\n * }\n */\n```\n\n4. 패치 시퀀스 유효성 검사\n\n```js\nimport { validate } from \"fast-json-patch/index.mjs\";\n\nconst documentA = { user: { firstName: \"Albert\", lastName: \"Einstein\" } };\nconst validatedResult = validate(\n  [{ op: \"replace\", path: \"/user/lastName\", value: \"Collins\" }],\n  documentA\n);\n```\n\n만약 패치 시퀀스가 JSON Patch 사양을 충족하지 않으면, 검증 중에 JsonPatchError 예외 객체가 발생합니다.\n\n\n\nJSON Patch와 fast-json-patch가 소개되었어요! 관심이 있다면 JSON Patch를 직접 경험해보세요. 다른 해결책이 있으면 메시지를 남겨주세요.\n\nTypeScript는 멋지고 배울 가치가 있어요. TypeScript를 배우고 싶다면, 저를 팔로우해서 더 많은 TS와 JS 정보를 읽어보세요!","ogImage":{"url":"/assets/img/2024-05-14-HowToUpdateLargeJSONObjectsEfficiently_0.png"},"coverImage":"/assets/img/2024-05-14-HowToUpdateLargeJSONObjectsEfficiently_0.png","tag":["Tech"],"readingTime":6},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    ol: \"ol\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-14-HowToUpdateLargeJSONObjectsEfficiently_0.png\",\n        alt: \"JSON Patch\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JSON Patch는 JSON 문서를 변경하는 방법을 설명하는 형식으로, JSON 데이터를 수정하는 방법을 보여주는 간결한 작업 지침의 시리즈를 사용합니다. 이 작업에는 새 데이터 추가, 이전 데이터 삭제, 기존 데이터 교체 또는 데이터 이동이 포함됩니다.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"JSON Patch를 사용하는 이유\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"대규모 웹 애플리케이션에서 클라이언트는 최신 데이터를 가져오거나 수정된 데이터를 서버에 제출하기 위해 서버와 자주 통신해야 합니다. 기존 방식은 모든 업데이트마다 전체 JSON 문서를 보내는 것이며, 실제 데이터의 일부분만 변경되었더라도 전송됩니다. 이는 네트워크 트래픽 증가, 네트워크 지연 증가, 서버 및 클라이언트 부하 증가로 이어집니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JSON Patch는 네트워크 전송 양을 줄이고 데이터 업데이트 효율성을 향상시키는 효율적인 솔루션을 제공합니다. JSON Patch를 사용하면 클라이언트는 전체 JSON 문서가 아닌 수정이 필요한 데이터 부분만 전송할 수 있습니다. 서버가 JSON Patch를 수신한 후에는 해당 지침에 따라 해당 작업을 수행하여 데이터의 점진적 업데이트를 달성할 수 있습니다. 이는 네트워크 전송 양을 줄이고 네트워크 효율성을 향상시키며 서버와 클라이언트에 가하는 부하를 줄이는데 도움이 됩니다.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"JSON Patch의 혜택은 무엇인가요?\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"전송 양 감소: JSON Patch는 JSON 문서에 대해 수행할 구체적인 변경 사항만 전송하며 전체 JSON 문서를 전송하지 않습니다. 이는 특히 대규모 데이터 세트나 저속 네트워크 환경에서 네트워크 대역폭을 절약할 수 있습니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"점진적 업데이트: JSON Patch는 JSON 문서에 대한 점진적 업데이트를 지원합니다. 이는 전체 문서가 아닌 변경해야 하는 부분만 보낼 수 있기 때문에 실시간 애플리케이션 및 빈번한 업데이트가 필요한 상황에 유용합니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"유연성과 확장성: JSON Patch는 JSON 문서에서 수행할 수 있는 작업을 제한하지 않습니다. 필요에 따라 추가, 삭제, 교체, 이동 및 기타 작업을 수행할 수 있으며 필요에 따라 새 작업을 추가할 수도 있습니다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"JSON Patch는 어떤 작업을 지원하나요?\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"추가\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JSON 문서에 새로운 값을 추가하려면 경로와 추가할 값이 필요합니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{ \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"op\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"add\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"path\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/path\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"value\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"new value\\\"\"\n        }), \" }\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"제거\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JSON 문서에서 값을 제거하려면 제거할 값을 가리키는 경로를 지정해야 합니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{ \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"op\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"remove\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"path\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/path\\\"\"\n        }), \" }\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"대체\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JSON 문서의 값을 교체하려면 대체할 값을 가리키는 경로와 새 값이 필요합니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{ \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"op\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"replace\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"path\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/path\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"value\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"new value\\\"\"\n        }), \" }\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"4\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"이동\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JSON 문서에서 값을 다른 위치로 이동하려면 이동할 값의 경로와 대상 경로를 지정해야 합니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{ \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"op\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"move\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"from\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/oldpath\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"path\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/newpath\\\"\"\n        }), \" }\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"5\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"복사\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JSON 문서에서의 값을 다른 위치로 복사하려면 복사할 값의 경로와 대상 경로를 지정해야 합니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{ \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"op\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"copy\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"from\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/oldpath\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"path\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/newpath\\\"\"\n        }), \" }\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"6\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"테스트\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JSON 문서에서 값이 특정 값과 동일한지 확인하는 테스트를 수행하며, 이는 주로 작업이 성공적으로 실행될 수 있는지 확인하는 데 사용됩니다. 테스트할 값이 들어 있는 경로와 예상 값이 명시되어야 합니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{ \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"op\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"test\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"path\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/경로\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"value\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"예상 값\\\"\"\n        }), \" }\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"JSON 패치 사용 방법\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"많은 개발 언어에서 JSON 패치 사양을 구현했습니다. JS 환경에서는 fast-json-patch 라이브러리를 사용할 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"첫째로, npm 또는 pnpm을 사용하여 fast-json-patch를 설치해주세요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"npm install fast-json-patch\\n또는 \\npnpm add fast-json-patch\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"fast-json-patch 라이브러리를 성공적으로 설치한 후에는 제공되는 API를 활용하여 다음 기능을 수행할 수 있습니다:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"두 개의 객체를 비교하여 패치를 가져오기\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"객체 변경을 관찰하고 변경사항을 감지할 때 패치를 생성하기\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"JS 객체에 단일 또는 여러 패치 적용하기\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"패치 시퀀스를 유효성 검사하기\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"두 객체를 비교하여 패치를 가져오기\"\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { compare } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"fast-json-patch/index.mjs\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" documentA = { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"firstName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Albert\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"lastName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Einstein\\\"\"\n        }), \" } };\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" documentB = { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"firstName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Albert\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"lastName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Collins\\\"\"\n        }), \" } };\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" diff = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"compare\"\n        }), \"(documentA, documentB);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/**\\n * diff: \\n * [ { op: 'replace', path: '/user/lastName', value: 'Collins' } ]\\n */\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"객체 변경 사항을 관찰하고 변경이 감지되면 패치를 생성합니다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { generate, observe } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"fast-json-patch/index.mjs\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"firstName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Joachim\\\"\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"lastName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Wester\\\"\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"contactDetails\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"phoneNumbers\"\n        }), \": [{ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"number\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"555-123\\\"\"\n        }), \" }] },\\n};\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" observer = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"observe\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \");\\n\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"firstName\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Albert\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"contactDetails\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"phoneNumbers\"\n        }), \"[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"number\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"123\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"contactDetails\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"phoneNumbers\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"push\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"number\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"456\\\"\"\n        }), \" });\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" patch = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"generate\"\n        }), \"(observer);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/**\\n * patch：\\n * [\\n *  {\\n *    op: 'replace',\\n *    path: '/contactDetails/phoneNumbers/0/number',\\n *    value: '123'\\n *  },\\n *  {\\n *   op: 'add',\\n *   path: '/contactDetails/phoneNumbers/1',\\n *   value: { number: '456' }\\n *  },\\n *  { op: 'replace', path: '/firstName', value: 'Albert' }\\n * ]\\n */\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"JS 객체에 단일 또는 여러 패치 적용하기\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"단일 패치 적용\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { applyPatch } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"fast-json-patch/index.mjs\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" documentA = { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"firstName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Albert\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"lastName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Einstein\\\"\"\n        }), \" } };\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" patchedResult = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"applyPatch\"\n        }), \"(documentA, [\\n  { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"op\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"replace\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"path\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/user/lastName\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"value\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Collins\\\"\"\n        }), \" },\\n]);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/**\\n * patchedResult[0]:\\n * {\\n *   newDocument: { user: { firstName: 'Albert', lastName: 'Collins' } },\\n *   removed: 'Einstein'\\n * }\\n */\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"다중 패치 적용\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { applyPatch } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"fast-json-patch/index.mjs\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"firstName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Joachim\\\"\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"lastName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Wester\\\"\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"contactDetails\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"phoneNumbers\"\n        }), \": [{ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"number\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"555-123\\\"\"\n        }), \" }] },\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" patchedResult = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"applyPatch\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \", [\\n  {\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"op\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"replace\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"path\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/contactDetails/phoneNumbers/0/number\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"value\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"123\\\"\"\n        }), \",\\n  },\\n  {\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"op\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"add\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"path\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/contactDetails/phoneNumbers/1\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"value\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"number\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"456\\\"\"\n        }), \" },\\n  },\\n  { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"op\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"replace\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"path\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/firstName\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"value\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Albert\\\"\"\n        }), \" },\\n]);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/**\\n * patchedResult[0]: \\n * {\\n *  newDocument: {\\n *    firstName: \\\"Albert\\\",\\n *    lastName: \\\"Wester\\\",\\n *    contactDetails: { phoneNumbers: [{ number: \\\"123\\\" }, { number: \\\"456\\\" }] },\\n *  },\\n *  removed: \\\"555-123\\\",\\n * }\\n */\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"4\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"패치 시퀀스 유효성 검사\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { validate } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"fast-json-patch/index.mjs\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" documentA = { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"firstName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Albert\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"lastName\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Einstein\\\"\"\n        }), \" } };\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" validatedResult = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validate\"\n        }), \"(\\n  [{ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"op\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"replace\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"path\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/user/lastName\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"value\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Collins\\\"\"\n        }), \" }],\\n  documentA\\n);\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"만약 패치 시퀀스가 JSON Patch 사양을 충족하지 않으면, 검증 중에 JsonPatchError 예외 객체가 발생합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JSON Patch와 fast-json-patch가 소개되었어요! 관심이 있다면 JSON Patch를 직접 경험해보세요. 다른 해결책이 있으면 메시지를 남겨주세요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"TypeScript는 멋지고 배울 가치가 있어요. TypeScript를 배우고 싶다면, 저를 팔로우해서 더 많은 TS와 JS 정보를 읽어보세요!\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}