{"pageProps":{"post":{"title":"당신의 NextJs 프로젝트에 PayPal Checkout 통합하기","description":"","date":"2024-05-12 23:01","slug":"2024-05-12-IntegratingPayPalCheckoutIntoYourNextJsProject","content":"\n\n## NEXT.JS 앱 라우터에 관한 기사\n\n![이미지](/assets/img/2024-05-12-IntegratingPayPalCheckoutIntoYourNextJsProject_0.png)\n\n참고: Next.Js 앱 라우터를 사용할 것입니다. 페이지 라우터가 아닙니다.\n\n간단한 전자상거래 스토어를 만드는 데 항상 고민했었습니다. 카트와 체크아웃이 제 머리를 얽히게 만들었는데, Stripe, PayPal 또는 심지어 Square를 웹사이트에 통합하려고 노력했기 때문입니다.\n\n\n\n하지만 전자 상거래 스토어에서의 고난이 그치지 않았습니다. 결제 통합 시에도 고난이 있었습니다. 그래서 웹사이트용 결제 포털을 만드는 일에 나는 압도되었습니다. \"이걸 어떻게 해야하지?\"라고 스스로 물었습니다.\n\nSquare는 웹사이트에 통합하기 가장 어려운 지불 프로세서입니다. 대면 거래에 더 적합합니다. 그럼에도 불구하고 Square로 설정을 해보았지만 전혀 실패했습니다.\n\n이어 Stripe로 넘어가 보겠습니다. 이것은 온라인 비즈니스에 좋은 옵션입니다. 그러나 고객 서비스와 관련된 다른 문제로 통합에 들어가기 전에 실패했습니다. 그래서 다른 것을 찾아봐야 했습니다.\n\n마지막으로 PayPal을 시도해 본 결과, 다른 온라인 비즈니스에서 성공을 들은 뒤, PayPal로 결제 포털을 만드는 데 성공했습니다. 이제 그 방법을 보여드릴 차례입니다. 그러니 함께 알아보겠습니다:\n\n\n\n# 시작하기\n\n![이미지](/assets/img/2024-05-12-IntegratingPayPalCheckoutIntoYourNextJsProject_1.png)\n\n알겠어요. 저는 뭔가 간단한 것을 이루고 싶었어요. 사용자가 지불할 금액을 선택하고 지불하도록 하고 싶었어요. 그건 충분히 간단한 목표죠.\n\n시작하려면 API 엔드포인트를 만드는 방법이 필요합니다. 우리는 App Router를 사용하기 때문에 API 엔드포인트에 대한 제 게시물을 확인해주세요.\n\n\n\n만약 당신이 이 글을 읽고 있고 Next.Js 프로젝트를 어떻게 생성하는지 모른다면 뭐하고 있는 거야!? 어쨌든, Next.Js 프로젝트를 만들려면 터미널에서 npx create-next-app@latest을 실행하면 됩니다.\n\n# 금액 구하는 중\n\n이어서, 지불 포털용 페이지를 생성하세요. 또한, 처음에 payment-form이라고 이름 지은 컴포넌트를 만드세요. 왜냐하면 금액 페이지를 체크아웃 페이지와 결합할 것이라고 생각했기 때문입니다. 그러나 결국 그렇게 하지 않았습니다.\n\n그리고 우리가 하는 동안, API 엔드포인트와 이를 위해 필요한 나머지 파일들도 만들어봅시다. 마지막에는 이렇게 된 것처럼 보일 거에요:\n\n\n\n```js\n프로젝트/\n│\n├──페이지/api/\n│   ├── get-token.ts\n|   ├── paypal-client-id.ts\n|   ├── paypal.ts\n└──src/app\n    ├──결제-포털/\n    │   ├── page.tsx\n    └── 결제-페이지/\n    │  ├── page.tsx\n    ├── 컴포넌트/\n    │   ├── payment-form.tsx\n    │   ├── paypal-buttons.tsx\n    ├── layout.tsx\n    ├── page.tsx\n```\n\n우리는 `payment-form.tsx` 파일 맨 위에 ‘use client’를 추가해서, 이 파일의 코드를 기본 서버 측이 아닌 클라이언트 측으로 만들 수 있습니다.\n\n또한, react에서 `useState` 훅과 axios, 그리고 next/navigation에서 `useRouter` 훅을 import 해보겠습니다:\n\n```js\n'use client';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useRouter } from 'next/navigation';\n```\n\n\n\n이제 PaymentFormProps 인터페이스를 사용하여 PaymentForm 컴포넌트의 예상 프롭을 정의해 봅시다.\n\n```js\ninterface PaymentFormProps {\n  onSuccess: (orderId: string) => void;\n}\n```\n\n우리는 onSuccess를 프롭으로 받는 함수형 컴포넌트를 정의해야 합니다. 이를 PaymentForm이라고 부르겠습니다.\n\n```js\nconst PaymentForm: React.FC<PaymentFormProps> = ({ onSuccess }) => {\n\n}\n```\n\n\n이제, handlePaymentSubmit이란 이름의 함수를 만들어서 결제 양식 제출을 처리하는 함수를 만들겠습니다. 이 함수는 POST 요청을 사용하여 api/paypal로 결제 양식을 제출하려 합니다. 성공하면 Payment-Page로 이동합니다. 실패하면 오류 메시지를 표시합니다:\n\n```js\n  const handlePaymentSubmit = async () => {\n    try {\n      setLoading(true);\n      setError('');\n\n      const response = await axios.post('/api/paypal', { amount });\n\n      setLoading(false);\n\n      if (response.data.success) {\n        onSuccess(response.data.orderId);\n        router.push(`/Payment-Page?amount=${amount}`);\n      } else {\n        setError(response.data.error);\n      }\n    } catch (error) {\n      console.error('결제 초기화 오류:', error);\n      setLoading(false);\n      setError('결제 초기화 중 오류가 발생했습니다. 나중에 다시 시도해주세요.');\n    }\n  };\n```\n\n마지막으로, 입력 필드와 제출 버튼을 추가하겠습니다:\n\n```js\n  return (\n    <div className=\"flex flex-col gap-4 items-center\">\n      <label>\n        금액 입력:\n      </label>\n      <input type=\"number\" name=\"amount\" value={amount} onChange={handleAmountChange} className='text-black text-xl font-semibold p-2 rounded'/>\n      <button onClick={handlePaymentSubmit} disabled={loading} className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2\">\n        {loading ? '처리 중...' : '결제 제출'}\n      </button>\n      {error && <p>오류: {error}</p>}\n    </div>\n  );\n```\n\n\n\n새로운 코드 아래에 `export default PaymentForm;`를 추가해주세요.\n\n최종 payment-form.tsx 코드는 다음과 같이 보여야 합니다:\n\n```js\n'use client';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useRouter } from 'next/navigation';\n\ninterface PaymentFormProps {\n  onSuccess: (orderId: string) => void;\n}\n\nconst PaymentForm: React.FC<PaymentFormProps> = ({ onSuccess }) => {\n  const router = useRouter();\n  const [amount, setAmount] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleAmountChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setAmount(Number(event.target.value));\n  };\n\n  const handlePaymentSubmit = async () => {\n    try {\n      setLoading(true);\n      setError('');\n\n      const response = await axios.post('/api/paypal', { amount });\n\n      setLoading(false);\n\n      if (response.data.success) {\n        onSuccess(response.data.orderId);\n        router.push(`/Payment-Page?amount=${amount}`);\n      } else {\n        setError(response.data.error);\n      }\n    } catch (error) {\n      console.error('Error initiating payment:', error);\n      setLoading(false);\n      setError('An error occurred while initiating payment. Please try again later.');\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col gap-4 items-center\">\n      <label>\n        Enter Amount: \n      </label>\n      <input type=\"number\" name=\"amount\" value={amount} onChange={handleAmountChange} className='text-black text-xl font-semibold p-2 rounded'/>\n      <button onClick={handlePaymentSubmit} disabled={loading} className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2\">\n        {loading ? 'Processing...' : 'Submit Payment'}\n      </button>\n      {error && <p>Error: {error}</p>}\n    </div>\n  );\n};\n\nexport default PaymentForm;\n```\n\n# 주문 생성하기\n\n\n\npaypal.ts 파일에 NextApiRequest와 NextApiResponse를 next에서, axios를 그리고 get-token.ts에서 getToken을 import해서 추가해봐요. getToken 코드는 나중에 보여줄게요.\n\n```js\nimport { NextApiRequest, NextApiResponse } from 'next';\nimport axios from 'axios';\nimport getToken from './get-token ';\n```\n\n이제 API 엔드포인트를 만들어봅시다. 먼저 HTTP 메소드가 POST인지 확인한 후, 요청 본문에서 amount를 추출해요. 우리는 getToken 함수를 호출해서 액세스 토큰을 받을 거에요. PayPal에서 생성된 액세스 토큰은 .env 파일에 있어야 해요. 코드는 그런 다음 PayPal API로 POST 요청을 보낼 거에요:\n\n```js\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  if (req.method === 'POST') {\n    try {\n      const { amount } = req.body;\n      const accessToken = await getToken();\n\n      const paypalResponse = await axios.post(\n        'https://api.paypal.com/v2/checkout/orders',\n        {\n          intent: 'CAPTURE',\n          purchase_units: [\n            {\n              amount: {\n                currency_code: 'USD',\n                value: amount.toString(),\n              },\n            },\n          ],\n        },\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${accessToken}`,\n          },\n        }\n      );\n\n      const { id: orderId } = paypalResponse.data;\n\n      res.status(200).json({ success: true, orderId });\n    } catch (error) {\n      console.error('PayPal API error:', error);\n      res.status(500).json({ success: false, error: 'Internal server error' });\n    }\n  } else {\n    res.status(405).json({ success: false, error: 'Method not allowed' });\n  }\n}\n```\n\n\n\n위의 코드를 한국어로 번역하면 다음과 같습니다:\n\n```js\nimport { NextApiRequest, NextApiResponse } from 'next';\nimport axios from 'axios';\nimport getToken from './get-token';\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  if (req.method === 'POST') {\n    try {\n      const { amount } = req.body;\n      const accessToken = await getToken();\n\n      const paypalResponse = await axios.post(\n        'https://api.paypal.com/v2/checkout/orders',\n        {\n          intent: 'CAPTURE',\n          purchase_units: [\n            {\n              amount: {\n                currency_code: 'USD',\n                value: amount.toString(),\n              },\n            },\n          ],\n        },\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${accessToken}`,\n          },\n        }\n      );\n\n      const { id: orderId } = paypalResponse.data;\n\n      res.status(200).json({ success: true, orderId });\n    } catch (error) {\n      console.error('PayPal API 에러:', error);\n      res.status(500).json({ success: false, error: '내부 서버 오류' });\n    }\n  } else {\n    res.status(405).json({ success: false, error: '허용되지 않은 메소드' });\n  }\n}\n```\n\n# Access Token 가져오기\n\nget-token.ts 코드에 추가할 예정입니다.\n\n\n\naxios를 가져와봐요:\n\n```js\nimport axios from 'axios';\n```\n\n그리고 PAYPAL_CLIENT_ID 및 PAYPAL_CLIENT_SECRET를 환경 변수에서 가져와요:\n\n```js\nconst CLIENT_ID = process.env.PAYPAL_CLIENT_ID;\nconst CLIENT_SECRET = process.env.PAYPAL_CLIENT_SECRET;\n```\n\n\n\n그럼 우리는 PayPal API에서 액세스 토큰을 검색하는 getToken이라는 비동기 함수를 만들고 싶어요:\n\n```js\nconst getToken = async () => {\n  const credentials = Buffer.from(`${CLIENT_ID}:${CLIENT_SECRET}`).toString('base64');\n\n  const response = await axios.post(\n    'https://api.paypal.com/v1/oauth2/token',\n    'grant_type=client_credentials',\n    {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Basic ${credentials}`,\n      },\n    }\n  );\n\n  return response.data.access_token;\n};\n\nexport default getToken;\n```\n\n전체 코드는 다음과 같습니다:\n\n```js\nimport axios from 'axios';\n\nconst CLIENT_ID = process.env.PAYPAL_CLIENT_ID;\nconst CLIENT_SECRET = process.env.PAYPAL_CLIENT_SECRET;\n\nconst getToken = async () => {\n  const credentials = Buffer.from(`${CLIENT_ID}:${CLIENT_SECRET}`).toString('base64');\n\n  const response = await axios.post(\n    'https://api.paypal.com/v1/oauth2/token',\n    'grant_type=client_credentials',\n    {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Basic ${credentials}`,\n      },\n    }\n  );\n\n  return response.data.access_token;\n};\n\nexport default getToken;\n```\n\n\n\n# PayPal 버튼 만들기\n\nPayPal 버튼을 만들기 위해 paypal-buttons.tsx 파일을 서버 측이 아닌 클라이언트 측으로 변경해 보겠습니다. ‘use client’를 추가해 주세요. 그리고 여기서 react에서 useEffect 훅을 import해 주세요:\n\n```js\n'use client';\nimport React, { useEffect } from 'react';\n```\n\nTypeScript를 사용하기 때문에 전역 창에 속성을 추가하여 오류를 방지해 보겠습니다:\n\n\n\n```js\n전역을 선언합니다:\n   \n```typescript\ndeclare global {\n    interface Window {\n      paypal?: any;\n    }\n}\n```\n\n이제 네 개의 속성 유형을 지정하는 객체를 인수로 취하는 함수형 컴포넌트를 정의해야 합니다:\n\n```js\nconst PayPalPaymentButton = ({ amount, paypalClientId, onSuccess, onError }: { amount: number; paypalClientId: string | null; onSuccess: () => void; onError: (err: any) => void; }) => {\n\n}\n```\n\n함수형 컴포넌트인 PayPalPaymentButton 안에서 useEffect를 사용하여 컴포넌트가 마운트될 때 PayPal SDK 스크립트를 DOM에 추가하세요:\n\n\n\n```js\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = `https://www.paypal.com/sdk/js?client-id=${paypalClientId}`;\n    script.async = true;\n    script.onload = () => {\n      initializePayPalButton();\n    };\n    document.body.appendChild(script);\n\n    return () => {\n      document.body.removeChild(script);\n    };\n  }, []);\n```\n\n이제 웹페이지에 PayPal 버튼을 렌더링하는 함수를 만들어봅시다:\n\n```js\n  const initializePayPalButton = () => {\n    window.paypal.Buttons({\n      createOrder: function(data: any, actions: any) {\n        return actions.order.create({\n          purchase_units: [{\n            amount: {\n              value: amount,\n              currency_code: 'USD', // 원하는 통화로 변경\n            },   \n            application_context: {\n              user_action: 'PAY_NOW',\n              shipping_preference: 'NO_SHIPPING',\n              payment_method: { payee_preferred: 'IMMEDIATE_PAYMENT_REQUIRED' },\n              return_url: 'https://YOUR_WEBSITE_URL',\n              cancel_url: 'https://YOUR_WEBSITE_URL',\n            },\n          }],\n        });\n      },\n      onApprove: function(data:any, actions:any) {\n        return actions.order.capture().then(function(details: any) {\n          onSuccess();\n        });\n      },\n      onError: function(err: any) {\n        onError(err);\n      },\n    }).render('#paypal-button-container');\n  };\n```\n\n이제 버튼을 표시하는 것만 남았습니다:\n```\n\n\n\n```js\nreturn <div id=\"paypal-button-container\" className='bg-gray-200'></div>;\n```\n\n최종 코드:\n\n```js\n'use client';\nimport React, { useEffect } from 'react';\n\ndeclare global {\n    interface Window {\n      paypal?: any;\n    }\n}\n\nconst PayPalPaymentButton = ({ amount, paypalClientId, onSuccess, onError }: { amount: number; paypalClientId: string | null; onSuccess: () => void; onError: (err: any) => void; }) => {\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = `https://www.paypal.com/sdk/js?client-id=${paypalClientId}`;\n    script.async = true;\n    script.onload = () => {\n      initializePayPalButton();\n    };\n    document.body.appendChild(script);\n\n    return () => {\n      document.body.removeChild(script);\n    };\n  }, []);\n\n  const initializePayPalButton = () => {\n    window.paypal.Buttons({\n      createOrder: function(data: any, actions: any) {\n        return actions.order.create({\n          purchase_units: [{\n            amount: {\n              value: amount,\n              currency_code: 'USD',\n            },   \n            application_context: {\n              user_action: 'PAY_NOW',\n              shipping_preference: 'NO_SHIPPING',\n              payment_method: { payee_preferred: 'IMMEDIATE_PAYMENT_REQUIRED' },\n              return_url: 'https://YOUR_WEBSITE_URL',\n              cancel_url: 'https://YOUR_WEBSITE_URL',\n            },\n          }],\n        });\n      },\n      onApprove: function(data:any, actions:any) {\n        return actions.order.capture().then(function(details: any) {\n          onSuccess();\n        });\n      },\n      onError: function(err: any) {\n        onError(err);\n      },\n    }).render('#paypal-button-container');\n  };\n\n  return <div id=\"paypal-button-container\" className='bg-gray-200'></div>;\n};\n\nexport default PayPalPaymentButton;\n```\n\n# PayPal 클라이언트 ID 가져오기\n\n\n\n나중에 필요할 것이므로 지금 처리해 봐요. 당신의 paypal-client-id는 환경 변수 중에 PAYPAL_CLIENT_ID가 있는지 확인하고 그것을 클라이언트 쪽으로 보내요:\n\n```js\nimport { NextApiRequest, NextApiResponse } from 'next';\n\nexport default function handler(req: NextApiRequest, res: NextApiResponse) {\n  const paypalClientId = process.env.PAYPAL_CLIENT_ID;\n\n  if (!paypalClientId) {\n    return res.status(500).json({ error: 'PayPal client ID not found.' });\n  }\n\n  return res.status(200).json({ paypalClientId });\n}\n``` \n\n# Payment-Portal Page.tsx에 코드 추가하기\n\n\n\n```js\nimport PaymentComponent from \"../components/payment-form\";\n```\n\n결제 성공에 대한 함수를 정의하세요:\n\n```js\n  const handlePaymentSuccess = (orderId: string) => {\n    console.log('결제 성공! 주문 ID:', orderId);\n  };\n```\n\nPaymentComponent를 반환하세요:\n\n\n\n```jsx\n  return (\n    <main>\n      <div>\n        <PaymentComponent onSuccess={handlePaymentSuccess} />\n      </div>\n    </main>\n  );\n```\n\n# Payment-Page 페이지에 코드 추가하기\n\n파일의 맨 위에 'use client';를 추가해야 합니다. 그 다음으로 useEffect 훅, useState 훅, 그리고 Suspense를 react에서 임포트해주세요. 또한 next/navigation에서 useRouter와 useSearchParams를 임포트해주세요. 마지막으로 paypal-buttons.tsx에서 PayPalPaymentButtons를 임포트해주세요:\n\n```jsx\n'use client';\nimport React, { useEffect, useState, Suspense } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport PayPalPaymentButtons from '../ui/PayPalButtons';\n```\n\n\n\n이제 paymentPage라는 기능 구성 요소를 만들 수 있습니다. 내부에서 useRouter 훅을 사용하여 router 객체에 액세스하는 코드를 추가하고 URL에서 검색 매개 변수를 가져 오는 것을 시도해 보겠습니다. 또한 상태 변수를 선언해 봅시다:\n\n```js\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const amount = searchParams ? searchParams.get('amount') : null;\n  const [paypalClientId, setPaypalClientId] = useState<string | null>(null);\n```\n\nuseEffect 훅을 사용하여 API 엔드 포인트 paypal-client-id.ts에서 PayPal 클라이언트 ID를 가져 오는 것을 시도해 보겠습니다:\n\n```js\n  useEffect(() => {\n    fetch('/api/paypal-client-id')\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.paypalClientId) {\n          setPaypalClientId(data.paypalClientId);\n        } else {\n          console.error('PayPal 클라이언트 ID를 찾을 수 없습니다.');\n        }\n      })\n      .catch((error) => {\n        console.error('PayPal 클라이언트 ID를 가져 오지 못했습니다:', error);\n      });\n  }, []);\n```\n\n\n\n페이팔 클라이언트 ID가 없는 경우 \"로딩 중...\"이 표시됩니다:\n\n```js\nif (!paypalClientId) {\n  return <div>로딩 중...</div>;\n}\n```\n\n성공 및 오류 처리를 다음과 같이 수행할 거에요:\n\n```js\nconst handleSuccess = () => {\n  router.push('/');\n};\n\nconst handleError = (error: any) => {\n  console.error('결제 오류:', error);\n};\n```\n\n\n\n그럼 모든 것을 표시할 거예요:\n\n```js\n  return (\n    <div className='bg-blue-900'>\n      <div className=\"w-full bg-blue-900 flex flex-col justify-center items-center\">\n      <h1 className=\"md:text-5xl text-3xl font-bold text-blue-500\">결제 페이지</h1>\n      <p>총액: ${amount}</p>\n      <div className=\"w-screen p-14\">\n      <PayPalPaymentButtons amount={parseFloat(amount as string)} paypalClientId={paypalClientId} onSuccess={handleSuccess} onError={handleError} />\n      </div>\n      </div>\n    </div>\n  );\n```\n\n실제 페이지는 Suspense 경계로 둘러싸여야 합니다:\n\n```js\nconst actualPage: React.FC = () => {\n  return <Suspense fallback={<div>Loading...</div>}><PaymentPage /></Suspense>;\n}\n\nexport default actualPage;\n```\n\n\n\n전체 코드:\n\n```js\n'use client';\nimport React, { useEffect, useState, Suspense } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport PayPalPaymentButtons from '../ui/paypal-buttons';\n\nconst PaymentPage: React.FC = () => {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const amount = searchParams ? searchParams.get('amount') : null;\n\n  const [paypalClientId, setPaypalClientId] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetch('/api/paypal-client-id')\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.paypalClientId) {\n          setPaypalClientId(data.paypalClientId);\n        } else {\n          console.error('PayPal client ID not found.');\n        }\n      })\n      .catch((error) => {\n        console.error('Failed to fetch PayPal client ID:', error);\n      });\n  }, []);\n\n  if (!paypalClientId) {\n    return <div>Loading...</div>;\n  }\n\n  const handleSuccess = () => {\n    router.push('/');\n  };\n\n  const handleError = (error: any) => {\n    console.error('Payment error:', error);\n  };\n\n  return (\n    <div className='bg-blue-900'>\n      <div className=\"w-full bg-blue-900 flex flex-col justify-center items-center\">\n        <h1 className=\"md:text-5xl text-3xl font-bold text-blue-500\">Payment Page</h1>\n        <p>Total Amount: ${amount}</p>\n        <div className=\"w-screen p-14\">\n          <PayPalPaymentButtons amount={parseFloat(amount as string)} paypalClientId={paypalClientId} onSuccess={handleSuccess} onError={handleError} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst actualPage: React.FC = () => {\n  return <Suspense fallback={<div>Loading...</div>}><PaymentPage /></Suspense>;\n}\n\nexport default actualPage;\n```\n\n이렇게해요. 이 글은 Next.js 프로젝트에 PayPal 체크아웃을 통합하는 것에 대한 내용이었습니다. 파일 이름과 코드의 일부 이름으로 보았듯이, 모든 것이 가지고 있기 전에 약간 실험을 해봤습니다. 이 글이 결제 페이지를 만들 때 올바른 방향으로 안내가 되길 바랍니다. 이 튜토리얼을 좋아하셨다면 박수를 보내주시고, 팔로우를 눌러주세요. 질문이 있으시면 언제든지 답변해 드리겠습니다.\n\n즐거운 코딩되세요!\n```","ogImage":{"url":"/assets/img/2024-05-12-IntegratingPayPalCheckoutIntoYourNextJsProject_0.png"},"coverImage":"/assets/img/2024-05-12-IntegratingPayPalCheckoutIntoYourNextJsProject_0.png","tag":["Tech"],"readingTime":19},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    p: \"p\",\n    img: \"img\",\n    h1: \"h1\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h2, {\n      children: \"NEXT.JS 앱 라우터에 관한 기사\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-12-IntegratingPayPalCheckoutIntoYourNextJsProject_0.png\",\n        alt: \"이미지\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"참고: Next.Js 앱 라우터를 사용할 것입니다. 페이지 라우터가 아닙니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"간단한 전자상거래 스토어를 만드는 데 항상 고민했었습니다. 카트와 체크아웃이 제 머리를 얽히게 만들었는데, Stripe, PayPal 또는 심지어 Square를 웹사이트에 통합하려고 노력했기 때문입니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"하지만 전자 상거래 스토어에서의 고난이 그치지 않았습니다. 결제 통합 시에도 고난이 있었습니다. 그래서 웹사이트용 결제 포털을 만드는 일에 나는 압도되었습니다. \\\"이걸 어떻게 해야하지?\\\"라고 스스로 물었습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Square는 웹사이트에 통합하기 가장 어려운 지불 프로세서입니다. 대면 거래에 더 적합합니다. 그럼에도 불구하고 Square로 설정을 해보았지만 전혀 실패했습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이어 Stripe로 넘어가 보겠습니다. 이것은 온라인 비즈니스에 좋은 옵션입니다. 그러나 고객 서비스와 관련된 다른 문제로 통합에 들어가기 전에 실패했습니다. 그래서 다른 것을 찾아봐야 했습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"마지막으로 PayPal을 시도해 본 결과, 다른 온라인 비즈니스에서 성공을 들은 뒤, PayPal로 결제 포털을 만드는 데 성공했습니다. 이제 그 방법을 보여드릴 차례입니다. 그러니 함께 알아보겠습니다:\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"시작하기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-12-IntegratingPayPalCheckoutIntoYourNextJsProject_1.png\",\n        alt: \"이미지\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"알겠어요. 저는 뭔가 간단한 것을 이루고 싶었어요. 사용자가 지불할 금액을 선택하고 지불하도록 하고 싶었어요. 그건 충분히 간단한 목표죠.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"시작하려면 API 엔드포인트를 만드는 방법이 필요합니다. 우리는 App Router를 사용하기 때문에 API 엔드포인트에 대한 제 게시물을 확인해주세요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"만약 당신이 이 글을 읽고 있고 Next.Js 프로젝트를 어떻게 생성하는지 모른다면 뭐하고 있는 거야!? 어쨌든, Next.Js 프로젝트를 만들려면 터미널에서 npx create-next-app@latest을 실행하면 됩니다.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"금액 구하는 중\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이어서, 지불 포털용 페이지를 생성하세요. 또한, 처음에 payment-form이라고 이름 지은 컴포넌트를 만드세요. 왜냐하면 금액 페이지를 체크아웃 페이지와 결합할 것이라고 생각했기 때문입니다. 그러나 결국 그렇게 하지 않았습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그리고 우리가 하는 동안, API 엔드포인트와 이를 위해 필요한 나머지 파일들도 만들어봅시다. 마지막에는 이렇게 된 것처럼 보일 거에요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"프로젝트/\\n│\\n├──페이지/api/\\n│   ├── get-token.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n|   ├── paypal-client-id.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n|   ├── paypal.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n└──src/app\\n    ├──결제-포털/\\n    │   ├── page.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \"\\n    └── 결제-페이지/\\n    │  ├── page.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \"\\n    ├── 컴포넌트/\\n    │   ├── payment-form.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \"\\n    │   ├── paypal-buttons.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \"\\n    ├── layout.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \"\\n    ├── page.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"우리는 \", _jsx(_components.code, {\n        children: \"payment-form.tsx\"\n      }), \" 파일 맨 위에 ‘use client’를 추가해서, 이 파일의 코드를 기본 서버 측이 아닌 클라이언트 측으로 만들 수 있습니다.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"또한, react에서 \", _jsx(_components.code, {\n        children: \"useState\"\n      }), \" 훅과 axios, 그리고 next/navigation에서 \", _jsx(_components.code, {\n        children: \"useRouter\"\n      }), \" 훅을 import 해보겠습니다:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'use client'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \", { useState } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" axios \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'axios'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useRouter } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'next/navigation'\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제 PaymentFormProps 인터페이스를 사용하여 PaymentForm 컴포넌트의 예상 프롭을 정의해 봅시다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"interface \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PaymentFormProps\"\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"onSuccess\"\n        }), \": \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"orderId: string\"\n          }), \") =>\"]\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"void\"\n        }), \";\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"우리는 onSuccess를 프롭으로 받는 함수형 컴포넌트를 정의해야 합니다. 이를 PaymentForm이라고 부르겠습니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PaymentForm\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"FC\"\n        }), \"<\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PaymentFormProps\"\n        }), \"> = \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"{ onSuccess }\"\n          }), \") =>\"]\n        }), \" {\\n\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제, handlePaymentSubmit이란 이름의 함수를 만들어서 결제 양식 제출을 처리하는 함수를 만들겠습니다. 이 함수는 POST 요청을 사용하여 api/paypal로 결제 양식을 제출하려 합니다. 성공하면 Payment-Page로 이동합니다. 실패하면 오류 메시지를 표시합니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handlePaymentSubmit\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") => {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setLoading\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \");\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"''\"\n        }), \");\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" response = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" axios.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"post\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'/api/paypal'\"\n        }), \", { amount });\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setLoading\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \");\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"success\"\n        }), \") {\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"onSuccess\"\n        }), \"(response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"orderId\"\n        }), \");\\n        router.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"push\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`/Payment-Page?amount=\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${amount}\"\n          }), \"`\"]\n        }), \");\\n      } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" {\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"error\"\n        }), \");\\n      }\\n    } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (error) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'결제 초기화 오류:'\"\n        }), \", error);\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setLoading\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \");\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'결제 초기화 중 오류가 발생했습니다. 나중에 다시 시도해주세요.'\"\n        }), \");\\n    }\\n  };\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"마지막으로, 입력 필드와 제출 버튼을 추가하겠습니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"flex flex-col gap-4 items-center\\\"\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \">\"]\n          }), \"\\n        금액 입력:\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"input\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"type\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"number\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"name\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"amount\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"value\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{amount}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onChange\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{handleAmountChange}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"'text-black text-xl font-semibold p-2 rounded'\"\n            }), \"/>\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onClick\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{handlePaymentSubmit}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"disabled\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{loading}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2\\\"\"\n            }), \">\"]\n          }), \"\\n        {loading ? '처리 중...' : '결제 제출'}\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \">\"]\n          }), \"\\n      {error && \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"p\"\n            }), \">\"]\n          }), \"오류: {error}\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"p\"\n            }), \">\"]\n          }), \"}\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          })]\n        }), \"\\n  );\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"새로운 코드 아래에 \", _jsx(_components.code, {\n        children: \"export default PaymentForm;\"\n      }), \"를 추가해주세요.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"최종 payment-form.tsx 코드는 다음과 같이 보여야 합니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'use client'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \", { useState } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" axios \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'axios'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useRouter } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'next/navigation'\"\n        }), \";\\n\\ninterface \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PaymentFormProps\"\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"onSuccess\"\n        }), \": \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"orderId: string\"\n          }), \") =>\"]\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"void\"\n        }), \";\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PaymentForm\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"FC\"\n        }), \"<\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PaymentFormProps\"\n        }), \"> = \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"{ onSuccess }\"\n          }), \") =>\"]\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" router = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useRouter\"\n        }), \"();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [amount, setAmount] = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useState\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \");\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [loading, setLoading] = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useState\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \");\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [error, setError] = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useState\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"''\"\n        }), \");\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handleAmountChange\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"event: React.ChangeEvent<HTMLInputElement>\"\n        }), \") => {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setAmount\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Number\"\n        }), \"(event.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"target\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"value\"\n        }), \"));\\n  };\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handlePaymentSubmit\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") => {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setLoading\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \");\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"''\"\n        }), \");\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" response = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" axios.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"post\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'/api/paypal'\"\n        }), \", { amount });\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setLoading\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \");\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"success\"\n        }), \") {\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"onSuccess\"\n        }), \"(response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"orderId\"\n        }), \");\\n        router.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"push\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`/Payment-Page?amount=\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${amount}\"\n          }), \"`\"]\n        }), \");\\n      } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" {\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"error\"\n        }), \");\\n      }\\n    } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (error) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Error initiating payment:'\"\n        }), \", error);\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setLoading\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \");\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'An error occurred while initiating payment. Please try again later.'\"\n        }), \");\\n    }\\n  };\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"flex flex-col gap-4 items-center\\\"\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \">\"]\n          }), \"\\n        Enter Amount: \\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"input\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"type\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"number\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"name\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"amount\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"value\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{amount}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onChange\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{handleAmountChange}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"'text-black text-xl font-semibold p-2 rounded'\"\n            }), \"/>\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onClick\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{handlePaymentSubmit}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"disabled\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{loading}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2\\\"\"\n            }), \">\"]\n          }), \"\\n        {loading ? 'Processing...' : 'Submit Payment'}\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \">\"]\n          }), \"\\n      {error && \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"p\"\n            }), \">\"]\n          }), \"Error: {error}\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"p\"\n            }), \">\"]\n          }), \"}\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          })]\n        }), \"\\n  );\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PaymentForm\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"주문 생성하기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"paypal.ts 파일에 NextApiRequest와 NextApiResponse를 next에서, axios를 그리고 get-token.ts에서 getToken을 import해서 추가해봐요. getToken 코드는 나중에 보여줄게요.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"NextApiRequest\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"NextApiResponse\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'next'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" axios \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'axios'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" getToken \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'./get-token '\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제 API 엔드포인트를 만들어봅시다. 먼저 HTTP 메소드가 POST인지 확인한 후, 요청 본문에서 amount를 추출해요. 우리는 getToken 함수를 호출해서 액세스 토큰을 받을 거에요. PayPal에서 생성된 액세스 토큰은 .env 파일에 있어야 해요. 코드는 그런 다음 PayPal API로 POST 요청을 보낼 거에요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handler\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"req: NextApiRequest, res: NextApiResponse\"\n        }), \") {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"method\"\n        }), \" === \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'POST'\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { amount } = req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \";\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" accessToken = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getToken\"\n        }), \"();\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" paypalResponse = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" axios.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"post\"\n        }), \"(\\n        \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://api.paypal.com/v2/checkout/orders'\"\n        }), \",\\n        {\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"intent\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'CAPTURE'\"\n        }), \",\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"purchase_units\"\n        }), \": [\\n            {\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"amount\"\n        }), \": {\\n                \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"currency_code\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'USD'\"\n        }), \",\\n                \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"value\"\n        }), \": amount.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toString\"\n        }), \"(),\\n              },\\n            },\\n          ],\\n        },\\n        {\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"headers\"\n        }), \": {\\n            \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Content-Type'\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'application/json'\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Authorization\"\n        }), \": \", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`Bearer \", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${accessToken}\"\n          }), \"`\"]\n        }), \",\\n          },\\n        }\\n      );\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"id\"\n        }), \": orderId } = paypalResponse.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \";\\n\\n      res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"200\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"success\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \", orderId });\\n    } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (error) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'PayPal API error:'\"\n        }), \", error);\\n      res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"500\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"success\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Internal server error'\"\n        }), \" });\\n    }\\n  } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" {\\n    res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"405\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"success\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Method not allowed'\"\n        }), \" });\\n  }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"위의 코드를 한국어로 번역하면 다음과 같습니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"NextApiRequest\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"NextApiResponse\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'next'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" axios \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'axios'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" getToken \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'./get-token'\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handler\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"req: NextApiRequest, res: NextApiResponse\"\n        }), \") {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"method\"\n        }), \" === \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'POST'\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { amount } = req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \";\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" accessToken = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getToken\"\n        }), \"();\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" paypalResponse = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" axios.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"post\"\n        }), \"(\\n        \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://api.paypal.com/v2/checkout/orders'\"\n        }), \",\\n        {\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"intent\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'CAPTURE'\"\n        }), \",\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"purchase_units\"\n        }), \": [\\n            {\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"amount\"\n        }), \": {\\n                \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"currency_code\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'USD'\"\n        }), \",\\n                \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"value\"\n        }), \": amount.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toString\"\n        }), \"(),\\n              },\\n            },\\n          ],\\n        },\\n        {\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"headers\"\n        }), \": {\\n            \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Content-Type'\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'application/json'\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Authorization\"\n        }), \": \", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`Bearer \", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${accessToken}\"\n          }), \"`\"]\n        }), \",\\n          },\\n        }\\n      );\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"id\"\n        }), \": orderId } = paypalResponse.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \";\\n\\n      res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"200\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"success\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \", orderId });\\n    } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (error) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'PayPal API 에러:'\"\n        }), \", error);\\n      res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"500\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"success\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'내부 서버 오류'\"\n        }), \" });\\n    }\\n  } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" {\\n    res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"405\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"success\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'허용되지 않은 메소드'\"\n        }), \" });\\n  }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Access Token 가져오기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"get-token.ts 코드에 추가할 예정입니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"axios를 가져와봐요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" axios \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'axios'\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그리고 PAYPAL_CLIENT_ID 및 PAYPAL_CLIENT_SECRET를 환경 변수에서 가져와요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"CLIENT_ID\"\n        }), \" = process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"PAYPAL_CLIENT_ID\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"CLIENT_SECRET\"\n        }), \" = process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"PAYPAL_CLIENT_SECRET\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그럼 우리는 PayPal API에서 액세스 토큰을 검색하는 getToken이라는 비동기 함수를 만들고 싶어요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getToken\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") => {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" credentials = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Buffer\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"from\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${CLIENT_ID}\"\n          }), \":\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${CLIENT_SECRET}\"\n          }), \"`\"]\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toString\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'base64'\"\n        }), \");\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" response = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" axios.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"post\"\n        }), \"(\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://api.paypal.com/v1/oauth2/token'\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'grant_type=client_credentials'\"\n        }), \",\\n    {\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"headers\"\n        }), \": {\\n        \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Content-Type'\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'application/x-www-form-urlencoded'\"\n        }), \",\\n        \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Authorization\"\n        }), \": \", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`Basic \", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${credentials}\"\n          }), \"`\"]\n        }), \",\\n      },\\n    }\\n  );\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"access_token\"\n        }), \";\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" getToken;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"전체 코드는 다음과 같습니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" axios \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'axios'\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"CLIENT_ID\"\n        }), \" = process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"PAYPAL_CLIENT_ID\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"CLIENT_SECRET\"\n        }), \" = process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"PAYPAL_CLIENT_SECRET\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getToken\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") => {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" credentials = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Buffer\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"from\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${CLIENT_ID}\"\n          }), \":\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${CLIENT_SECRET}\"\n          }), \"`\"]\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toString\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'base64'\"\n        }), \");\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" response = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" axios.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"post\"\n        }), \"(\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://api.paypal.com/v1/oauth2/token'\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'grant_type=client_credentials'\"\n        }), \",\\n    {\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"headers\"\n        }), \": {\\n        \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Content-Type'\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'application/x-www-form-urlencoded'\"\n        }), \",\\n        \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Authorization\"\n        }), \": \", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`Basic \", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${credentials}\"\n          }), \"`\"]\n        }), \",\\n      },\\n    }\\n  );\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"access_token\"\n        }), \";\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" getToken;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"PayPal 버튼 만들기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"PayPal 버튼을 만들기 위해 paypal-buttons.tsx 파일을 서버 측이 아닌 클라이언트 측으로 변경해 보겠습니다. ‘use client’를 추가해 주세요. 그리고 여기서 react에서 useEffect 훅을 import해 주세요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'use client'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \", { useEffect } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react'\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"TypeScript를 사용하기 때문에 전역 창에 속성을 추가하여 오류를 방지해 보겠습니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"전역을 선언합니다:\\n   \\n\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"``\"\n        }), _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"`typescript\\ndeclare global {\\n    interface Window {\\n      paypal?: any;\\n    }\\n}\\n\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제 네 개의 속성 유형을 지정하는 객체를 인수로 취하는 함수형 컴포넌트를 정의해야 합니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"PayPalPaymentButton\"\n        }), \" = (\", _jsxs(_components.span, {\n          className: \"hljs-params\",\n          children: [\"{ amount, paypalClientId, onSuccess, onError }: { amount: number; paypalClientId: string | \", _jsx(_components.span, {\n            className: \"hljs-literal\",\n            children: \"null\"\n          }), \"; onSuccess: () => \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"void\"\n          }), \"; onError: (err: any) => \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"void\"\n          }), \"; }\"]\n        }), \") => {\\n\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"함수형 컴포넌트인 PayPalPaymentButton 안에서 useEffect를 사용하여 컴포넌트가 마운트될 때 PayPal SDK 스크립트를 DOM에 추가하세요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useEffect\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" script = \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"createElement\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'script'\"\n        }), \");\\n    script.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"src\"\n        }), \" = \", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`https://www.paypal.com/sdk/js?client-id=\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${paypalClientId}\"\n          }), \"`\"]\n        }), \";\\n    script.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"async\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \";\\n    script.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"onload\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"initializePayPalButton\"\n        }), \"();\\n    };\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"appendChild\"\n        }), \"(script);\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"removeChild\"\n        }), \"(script);\\n    };\\n  }, []);\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제 웹페이지에 PayPal 버튼을 렌더링하는 함수를 만들어봅시다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"initializePayPalButton\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") => {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"window\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"paypal\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Buttons\"\n        }), \"({\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"createOrder\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"data: any, actions: any\"\n        }), \") {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" actions.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"order\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"create\"\n        }), \"({\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"purchase_units\"\n        }), \": [{\\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"amount\"\n        }), \": {\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"value\"\n        }), \": amount,\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"currency_code\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'USD'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 원하는 통화로 변경\"\n        }), \"\\n            },   \\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"application_context\"\n        }), \": {\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user_action\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'PAY_NOW'\"\n        }), \",\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"shipping_preference\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'NO_SHIPPING'\"\n        }), \",\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"payment_method\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"payee_preferred\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'IMMEDIATE_PAYMENT_REQUIRED'\"\n        }), \" },\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"return_url\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://YOUR_WEBSITE_URL'\"\n        }), \",\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"cancel_url\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://YOUR_WEBSITE_URL'\"\n        }), \",\\n            },\\n          }],\\n        });\\n      },\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"onApprove\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"data:any, actions:any\"\n        }), \") {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" actions.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"order\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"capture\"\n        }), \"().\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"then\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"details: any\"\n        }), \") {\\n          \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"onSuccess\"\n        }), \"();\\n        });\\n      },\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"onError\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"err: any\"\n        }), \") {\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"onError\"\n        }), \"(err);\\n      },\\n    }).\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"render\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'#paypal-button-container'\"\n        }), \");\\n  };\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제 버튼을 표시하는 것만 남았습니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"\\n\\n\\n```js\\nreturn <div id=\\\"paypal-button-container\\\" className='bg-gray-200'></div>;\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"최종 코드:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'use client'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \", { useEffect } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react'\"\n        }), \";\\n\\ndeclare \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"global\"\n        }), \" {\\n    interface \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Window\"\n        }), \" {\\n      paypal?: any;\\n    }\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"PayPalPaymentButton\"\n        }), \" = (\", _jsxs(_components.span, {\n          className: \"hljs-params\",\n          children: [\"{ amount, paypalClientId, onSuccess, onError }: { amount: number; paypalClientId: string | \", _jsx(_components.span, {\n            className: \"hljs-literal\",\n            children: \"null\"\n          }), \"; onSuccess: () => \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"void\"\n          }), \"; onError: (err: any) => \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"void\"\n          }), \"; }\"]\n        }), \") => {\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useEffect\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" script = \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"createElement\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'script'\"\n        }), \");\\n    script.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"src\"\n        }), \" = \", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`https://www.paypal.com/sdk/js?client-id=\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${paypalClientId}\"\n          }), \"`\"]\n        }), \";\\n    script.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"async\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \";\\n    script.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"onload\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"initializePayPalButton\"\n        }), \"();\\n    };\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"appendChild\"\n        }), \"(script);\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"removeChild\"\n        }), \"(script);\\n    };\\n  }, []);\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"initializePayPalButton\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") => {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"window\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"paypal\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Buttons\"\n        }), \"({\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"createOrder\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"data: any, actions: any\"\n        }), \") {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" actions.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"order\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"create\"\n        }), \"({\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"purchase_units\"\n        }), \": [{\\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"amount\"\n        }), \": {\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"value\"\n        }), \": amount,\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"currency_code\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'USD'\"\n        }), \",\\n            },   \\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"application_context\"\n        }), \": {\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user_action\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'PAY_NOW'\"\n        }), \",\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"shipping_preference\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'NO_SHIPPING'\"\n        }), \",\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"payment_method\"\n        }), \": { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"payee_preferred\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'IMMEDIATE_PAYMENT_REQUIRED'\"\n        }), \" },\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"return_url\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://YOUR_WEBSITE_URL'\"\n        }), \",\\n              \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"cancel_url\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://YOUR_WEBSITE_URL'\"\n        }), \",\\n            },\\n          }],\\n        });\\n      },\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"onApprove\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"data:any, actions:any\"\n        }), \") {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" actions.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"order\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"capture\"\n        }), \"().\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"then\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"details: any\"\n        }), \") {\\n          \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"onSuccess\"\n        }), \"();\\n        });\\n      },\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"onError\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"err: any\"\n        }), \") {\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"onError\"\n        }), \"(err);\\n      },\\n    }).\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"render\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'#paypal-button-container'\"\n        }), \");\\n  };\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"id\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"paypal-button-container\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"'bg-gray-200'\"\n            }), \">\"]\n          }), _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          })]\n        }), \";\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PayPalPaymentButton\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"PayPal 클라이언트 ID 가져오기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"나중에 필요할 것이므로 지금 처리해 봐요. 당신의 paypal-client-id는 환경 변수 중에 PAYPAL_CLIENT_ID가 있는지 확인하고 그것을 클라이언트 쪽으로 보내요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"NextApiRequest\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"NextApiResponse\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'next'\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handler\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"req: NextApiRequest, res: NextApiResponse\"\n        }), \") {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" paypalClientId = process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"PAYPAL_CLIENT_ID\"\n        }), \";\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (!paypalClientId) {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"500\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'PayPal client ID not found.'\"\n        }), \" });\\n  }\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"200\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ paypalClientId });\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Payment-Portal Page.tsx에 코드 추가하기\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PaymentComponent\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../components/payment-form\\\"\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"결제 성공에 대한 함수를 정의하세요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handlePaymentSuccess\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"orderId: string\"\n        }), \") => {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'결제 성공! 주문 ID:'\"\n        }), \", orderId);\\n  };\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"PaymentComponent를 반환하세요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-jsx\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"main\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"PaymentComponent\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onSuccess\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{handlePaymentSuccess}\"\n            }), \" />\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"main\"\n            }), \">\"]\n          })]\n        }), \"\\n  );\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Payment-Page 페이지에 코드 추가하기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"파일의 맨 위에 'use client';를 추가해야 합니다. 그 다음으로 useEffect 훅, useState 훅, 그리고 Suspense를 react에서 임포트해주세요. 또한 next/navigation에서 useRouter와 useSearchParams를 임포트해주세요. 마지막으로 paypal-buttons.tsx에서 PayPalPaymentButtons를 임포트해주세요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-jsx\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'use client'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \", { useEffect, useState, \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Suspense\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useRouter, useSearchParams } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'next/navigation'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PayPalPaymentButtons\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'../ui/PayPalButtons'\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제 paymentPage라는 기능 구성 요소를 만들 수 있습니다. 내부에서 useRouter 훅을 사용하여 router 객체에 액세스하는 코드를 추가하고 URL에서 검색 매개 변수를 가져 오는 것을 시도해 보겠습니다. 또한 상태 변수를 선언해 봅시다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" router = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useRouter\"\n        }), \"();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" searchParams = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useSearchParams\"\n        }), \"();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" amount = searchParams ? searchParams.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'amount'\"\n        }), \") : \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \";\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [paypalClientId, setPaypalClientId] = useState<string | \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \">(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \");\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"useEffect 훅을 사용하여 API 엔드 포인트 paypal-client-id.ts에서 PayPal 클라이언트 ID를 가져 오는 것을 시도해 보겠습니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useEffect\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"fetch\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'/api/paypal-client-id'\"\n        }), \")\\n      .\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"then\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"response\"\n          }), \") =>\"]\n        }), \" response.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"())\\n      .\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"then\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"data\"\n          }), \") =>\"]\n        }), \" {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (data.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"paypalClientId\"\n        }), \") {\\n          \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setPaypalClientId\"\n        }), \"(data.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"paypalClientId\"\n        }), \");\\n        } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" {\\n          \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'PayPal 클라이언트 ID를 찾을 수 없습니다.'\"\n        }), \");\\n        }\\n      })\\n      .\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"catch\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"error\"\n          }), \") =>\"]\n        }), \" {\\n        \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'PayPal 클라이언트 ID를 가져 오지 못했습니다:'\"\n        }), \", error);\\n      });\\n  }, []);\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"페이팔 클라이언트 ID가 없는 경우 \\\"로딩 중...\\\"이 표시됩니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (!paypalClientId) {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"로딩 중...\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          })]\n        }), \";\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"성공 및 오류 처리를 다음과 같이 수행할 거에요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handleSuccess\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") => {\\n  router.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"push\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'/'\"\n        }), \");\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handleError\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"error: any\"\n        }), \") => {\\n  \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'결제 오류:'\"\n        }), \", error);\\n};\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그럼 모든 것을 표시할 거예요:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"'bg-blue-900'\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"w-full bg-blue-900 flex flex-col justify-center items-center\\\"\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"h1\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"md:text-5xl text-3xl font-bold text-blue-500\\\"\"\n            }), \">\"]\n          }), \"결제 페이지\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"h1\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"p\"\n            }), \">\"]\n          }), \"총액: ${amount}\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"p\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"w-screen p-14\\\"\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"PayPalPaymentButtons\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"amount\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{parseFloat(amount\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"as\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"string\"\n            }), \")} \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"paypalClientId\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{paypalClientId}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onSuccess\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{handleSuccess}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onError\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{handleError}\"\n            }), \" />\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          })]\n        }), \"\\n  );\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"실제 페이지는 Suspense 경계로 둘러싸여야 합니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"actualPage\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"FC\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Suspense\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"fallback\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{\"\n            }), \"<\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"div\"\n            }), \">\"]\n          }), \"Loading...\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"}>\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"PaymentPage\"\n            }), \" />\"]\n          }), _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Suspense\"\n            }), \">\"]\n          })]\n        }), \";\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" actualPage;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"전체 코드:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'use client'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \", { useEffect, useState, \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Suspense\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useRouter, useSearchParams } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'next/navigation'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PayPalPaymentButtons\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'../ui/paypal-buttons'\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"PaymentPage\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"FC\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" router = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useRouter\"\n        }), \"();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" searchParams = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useSearchParams\"\n        }), \"();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" amount = searchParams ? searchParams.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'amount'\"\n        }), \") : \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \";\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [paypalClientId, setPaypalClientId] = useState<string | \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \">(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \");\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useEffect\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"fetch\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'/api/paypal-client-id'\"\n        }), \")\\n      .\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"then\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"response\"\n          }), \") =>\"]\n        }), \" response.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"())\\n      .\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"then\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"data\"\n          }), \") =>\"]\n        }), \" {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (data.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"paypalClientId\"\n        }), \") {\\n          \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setPaypalClientId\"\n        }), \"(data.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"paypalClientId\"\n        }), \");\\n        } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" {\\n          \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'PayPal client ID not found.'\"\n        }), \");\\n        }\\n      })\\n      .\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"catch\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"error\"\n          }), \") =>\"]\n        }), \" {\\n        \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Failed to fetch PayPal client ID:'\"\n        }), \", error);\\n      });\\n  }, []);\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (!paypalClientId) {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"Loading...\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          })]\n        }), \";\\n  }\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handleSuccess\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") => {\\n    router.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"push\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'/'\"\n        }), \");\\n  };\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handleError\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"error: any\"\n        }), \") => {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Payment error:'\"\n        }), \", error);\\n  };\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"'bg-blue-900'\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"w-full bg-blue-900 flex flex-col justify-center items-center\\\"\"\n            }), \">\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"h1\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"md:text-5xl text-3xl font-bold text-blue-500\\\"\"\n            }), \">\"]\n          }), \"Payment Page\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"h1\"\n            }), \">\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"p\"\n            }), \">\"]\n          }), \"Total Amount: ${amount}\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"p\"\n            }), \">\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"w-screen p-14\\\"\"\n            }), \">\"]\n          }), \"\\n          \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"PayPalPaymentButtons\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"amount\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{parseFloat(amount\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"as\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"string\"\n            }), \")} \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"paypalClientId\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{paypalClientId}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onSuccess\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{handleSuccess}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onError\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{handleError}\"\n            }), \" />\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          })]\n        }), \"\\n  );\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"actualPage\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"FC\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =>\"\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Suspense\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"fallback\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{\"\n            }), \"<\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"div\"\n            }), \">\"]\n          }), \"Loading...\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \">\"]\n          }), \"}>\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"<\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"PaymentPage\"\n            }), \" />\"]\n          }), _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"</\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Suspense\"\n            }), \">\"]\n          })]\n        }), \";\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" actualPage;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이렇게해요. 이 글은 Next.js 프로젝트에 PayPal 체크아웃을 통합하는 것에 대한 내용이었습니다. 파일 이름과 코드의 일부 이름으로 보았듯이, 모든 것이 가지고 있기 전에 약간 실험을 해봤습니다. 이 글이 결제 페이지를 만들 때 올바른 방향으로 안내가 되길 바랍니다. 이 튜토리얼을 좋아하셨다면 박수를 보내주시고, 팔로우를 눌러주세요. 질문이 있으시면 언제든지 답변해 드리겠습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"즐거운 코딩되세요!\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {})\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}