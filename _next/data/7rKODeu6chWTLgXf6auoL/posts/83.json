{"pageProps":{"posts":[{"title":"2024ë…„ ìµœì‹  React Native Expoìš© ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬","description":"","date":"2024-05-12 19:16","slug":"2024-05-12-BoilerplatesLibrariesforReactNativeExpo2024","content":"\nì§€ê¸ˆì€ 2024ë…„ì…ë‹ˆë‹¤. í”„ë¡œê·¸ë˜ë°ì—ì„œëŠ” í•­ìƒ ìš°ë¦¬ê°€ ì„ íƒí•  ìˆ˜ ìˆëŠ” ìµœì‹ í•˜ì´íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ìˆì§€ë§Œ, ìµœì‹ í•˜ì´íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ í•­ìƒ ì™„ë²½í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.\n\nì—¬ëŸ¬ í•´ ì „ì— ì›¹ ê°œë°œìë¡œì¨, ì €ëŠ” ë„¤ì´í‹°ë¸Œ ì•±ì„ ì–´ë–»ê²Œ ì‹œì‘í• ì§€ ì™„ì „íˆ ì´í•´í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ì—ì„œëŠ” ë‚˜ì˜ ì„ íƒí•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ê³¼ í•¨ê»˜ ìƒˆë¡œìš´ React Native/Expo ì•±ì„ ì–´ë–»ê²Œ ë§Œë“¤ ê²ƒì¸ì§€ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤. React Nativeì—ì„œ ìƒˆë¡œìš´ ê°œë°œìì´ë©° ì‹œì‘ì ì„ ëª¨ë¥´ëŠ” ê²½ìš°, ì´ ë¸”ë¡œê·¸ê°€ ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.\n\n# Component Library\n\nReact Native ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¤‘ ì¸ê¸° ìˆëŠ” ê²ƒë“¤ì€:\n\n- react-native-paper\n- react-native-elements\n- gluestack\n\nNpm trends: [https://npmtrends.com/native-base-vs-react-native-elements-vs-react-native-paper](https://npmtrends.com/native-base-vs-react-native-elements-vs-react-native-paper)\n\n![Image](/assets/img/2024-05-12-BoilerplatesLibrariesforReactNativeExpo2024_0.png)\n\nì´ ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ í…Œë§ˆë¥¼ ì ìš©í•  ìˆ˜ ìˆê³ , ì¢‹ì€ ì ‘ê·¼ì„± ì§€ì›ì´ ê°€ëŠ¥í•˜ë©°, ì¢‹ì€ ë¬¸ì„œì™€ ìœ ì‚¬í•œ êµ¬ì„± ìš”ì†Œ ì„¸íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n## ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œ ì—˜ë¦¬ë¨¼ì¸ \n\nì´ ë¸”ë¡œê·¸ë¥¼ ì‘ì„±í•˜ëŠ” ì‹œì ì—ì„œ, ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œ ì—˜ë¦¬ë¨¼ì¸ ê°€ ê°€ì¥ ë§ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œê³µí•˜ê³  ìˆì–´ìš”. í•˜ì§€ë§Œ, AirbnbRating, PricingCard ë˜ëŠ” SocialIcon ê°™ì€ ëª‡ëª‡ ì»´í¬ë„ŒíŠ¸ëŠ” ì œ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  ì¼ì´ ì—†ì–´ ë³´ì—¬ìš”.\n\n<img src=\"/assets/img/2024-05-12-BoilerplatesLibrariesforReactNativeExpo2024_1.png\" />\n\ní•˜ì§€ë§Œ, ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ê°€ì¥ ìœ ì—°í•œ í…Œë§ˆ ì„¤ì •ì„ ì œê³µí•˜ëŠ” ê²ƒ ê°™ì•„ìš”. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ê°œë°œìë“¤ì´ ê° ì»´í¬ë„ŒíŠ¸ ìœ í˜•ì— ë§ê²Œ í…Œë§ˆë¥¼ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆì–´ìš”: https://reactnativeelements.com/docs/customizing#using-themeprovider.\n\n```js\nconst theme = createTheme({\n  components: {\n    [themeKey]: {\n      // ... props\n    },\n  },\n});\n```\n\n## react-native-paper\n\nreact-native-paperëŠ” êµ¬ê¸€ì˜ ë¨¸í‹°ë¦¬ì–¼ ë””ìì¸ì„ ë”°ë¦…ë‹ˆë‹¤. ë§Œì•½ ë¨¸í‹°ë¦¬ì–¼ ë””ìì¸ì„ ì‚¬ìš©í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ê°€ ìˆë‹¤ë©´, react-native-paperê°€ ì¼ê´€ì„±ì„ ì œê³µí•´ì¤ë‹ˆë‹¤.\n\n<img src=\"/assets/img/2024-05-12-BoilerplatesLibrariesforReactNativeExpo2024_2.png\" />\n```\n\n## gluestack\n\ngluestackì€ ìœ í‹¸ë¦¬í‹° ìš°ì„ ì´ì—ìš”. ì´ ë§ì€ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆì§„, marginTop, fontFamilyì™€ ê°™ì€ propsë¥¼ ê°€ì§€ê³  ìˆëŠ” ê²ƒì„ ì˜ë¯¸í•´ìš”. ë°˜ë©´ì— react-native-paperì™€ react-native-elementsëŠ” í•˜ë‚˜ì˜ ìŠ¤íƒ€ì¼ propë§Œ ì‚¬ìš©í•´ìš”.\n\nì˜ˆë¥¼ ë“¤ì–´, React Nativeì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ìŠ¤íƒ€ì¼ë§í•˜ê¸° ìœ„í•´ ìŠ¤íƒ€ì¼ ì‹œíŠ¸ë¥¼ ìƒì„±í•´ì•¼ í•´ìš”:\n\n```js\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#0891b2\",\n    paddingVertical: 16,\n    paddingHorizontal: 12,\n    borderRadius: 5,\n    alignSelf: \"center\",\n    width: 375,\n    maxWidth: \"100%\",\n  },\n});\n```\n\nê·¸ëŸ¼ ì»´í¬ë„ŒíŠ¸ì— ìŠ¤íƒ€ì¼ì„ ì ìš©í•´ì•¼ í•´ìš”: `View style='styles.topContainer'`.\n\në„¤ì´í‹°ë¸Œ ë² ì´ìŠ¤ì—ì„œëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ ì†ì„±ì— ê°„ë‹¨íˆ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”: `Box bg=\"primary.600\" py=\"4\" px=\"3\" borderRadius=\"5\" rounded=\"md\" width='375' maxWidth=\"100%\"`.\n\n## ì œ ì˜ê²¬ ê¸°ë°˜\n\n- react-native-paper\n\nìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒë¶€í„° ì‹œì‘í•˜ë ¤ëŠ” ì‹ ì… ê°œë°œìë¼ë©´, npm ë‹¤ìš´ë¡œë“œ ìˆ˜ê°€ ê°€ì¥ ë§ì•„ ì»¤ë®¤ë‹ˆí‹°ê°€ í¬ê³ , ì›¹ì—ì„œ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì´ìœ ë¡œ react-native-paperë¥¼ ì„ íƒí•  ê²ƒì…ë‹ˆë‹¤.\n\n# CSS ìœ í‹¸ë¦¬í‹°\n\nCSS ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” flex, pt-4, text-center, rotate-90ê³¼ ê°™ì€ ë¯¸ë¦¬ ì •ì˜ëœ CSS í´ë˜ìŠ¤ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.\n\nìœ„ì—ì„œ ì–¸ê¸‰ëœ native-baseëŠ” ìœ í‹¸ë¦¬í‹° ì¤‘ì‹¬ ìŠ¤íƒ€ì¼ë§ì— ëŒ€í•´ ì–¸ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤; ê·¸ëŸ¬ë‚˜ React Nativeìš© tailwindë‚˜ tachyonsì™€ ìœ ì‚¬í•œ CSS ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆì„ê¹Œìš”? ë„¤, ìˆìŠµë‹ˆë‹¤.\n\në‚˜ ì´ì „ì— ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€:\n\n- Native Wind\n- react-native-style-tachyons\n\nNpm trends: [https://npmtrends.com/nativewind-vs-react-native-style-tachyons](https://npmtrends.com/nativewind-vs-react-native-style-tachyons)\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-BoilerplatesLibrariesforReactNativeExpo2024_3.png)\n\n## ë‚´ ì£¼ê´€ì ì¸ ì„ íƒ\n\n- ì†Œê·œëª¨ í”„ë¡œì íŠ¸: ë‚´ì¥ ìŠ¤íƒ€ì¼ë§, ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ\n- ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸: Native Wind\n\nì†Œê·œëª¨ í”„ë¡œì íŠ¸ì˜ ê²½ìš° ë‚´ì¥ ìŠ¤íƒ€ì¼ë§ì´ ì¶©ë¶„í•  ê²ƒì…ë‹ˆë‹¤. ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì˜ ê²½ìš°, íŒ€ì›ë“¤ì´ ì´ë¯¸ Tailwindì— ìµìˆ™í•˜ë‹¤ë©´ Native Windë¥¼ ì„ íƒí•  ê²ƒì…ë‹ˆë‹¤. ì €ëŠ” ì´ë¯¸ Tailwind ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìµìˆ™í•˜ë©°, ë„¤ì´í‹°ë¸Œ í”„ë¡œì íŠ¸ì— ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸° ì‹œì‘í•˜ëŠ” ê²ƒì´ ê½¤ ì‰¬ì› ìŠµë‹ˆë‹¤.\n\n# ë„¤ë¹„ê²Œì´ì…˜\n\nì¸ê¸° ìˆëŠ” ì„ íƒì§€ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- react-router-native\n- @react-navigation/native\n- expo-router (Expo ì „ìš©)\n\nNpm trends: https://npmtrends.com/@react-navigation/native-vs-expo-router-vs-react-router-native\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-BoilerplatesLibrariesforReactNativeExpo2024_4.png)\n\nì—‘ìŠ¤í¬ ì „ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ expo-routerê°€ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ… ê·œì¹™ìœ¼ë¡œ, Next.jsë¥¼ ë– ì˜¬ë¦¬ê²Œ í•©ë‹ˆë‹¤.\n\nReact ì›¹ ê°œë°œìì´ë©´ ì•„ë§ˆ react-routerì— ìµìˆ™í•  ê²ƒì…ë‹ˆë‹¤. ì´ì˜ ë„¤ì´í‹°ë¸Œ ë²„ì „ì¸ react-router-nativeë„ ìˆì§€ë§Œ, ë„ë¦¬ ì‚¬ìš©ë˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.\n\n## ì œ ê°œì¸ì ì¸ ì„ íƒ\n\n- @react-navigation/native\n\nì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì´ì œ React-Native ë„¤ë¹„ê²Œì´ì…˜ì„ ìœ„í•œ ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ê±°ì˜ ì‚¬ìš©ë˜ê³  ìˆì–´ìš”.\n\n# ìƒíƒœ ê´€ë¦¬\n\nìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•´ ì„ íƒí•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë” ë§ì´ ìˆê±°ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆì–´ìš”. ì¸ê¸° ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì•„ìš”:\n\n- Redux\n- TanStack Query (ë˜ëŠ” React Queryë¡œ ë” ì˜ ì•Œë ¤ì ¸ ìˆì–´ìš”)\n- Redux Toolkit Query (ë˜ëŠ” RTK Queryë¡œ ë” ì˜ ì•Œë ¤ì ¸ ìˆì–´ìš”)\n- React Context (ë‚´ì¥ë˜ì–´ ìˆì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•Šì•„ìš”)\n- MobX\n- Jotai\n- Recoil\n- XState\n\nNpm trends: https://npmtrends.com/@tanstack/react-query-vs-@xstate/react-vs-jotai-vs-mobx-vs-react-redux-vs-recoil\n\n![Screenshot](/assets/img/2024-05-12-BoilerplatesLibrariesforReactNativeExpo2024_5.png)\n\n## ë‚´ ì£¼ê´€ì ì¸ ì„ íƒ\n\n- ì¹œìˆ™í•œ ì˜¬ë“œ Redux + TansSack Query\n\nì´ ë‘ ê°œëŠ” ê°€ì¥ ì¸ê¸° ìˆëŠ” ê²ƒë“¤ ì¤‘ í•˜ë‚˜ì´ê³  ë§ì€ í•´ ë™ì•ˆ ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ê²ƒë“¤ì€ ë°©íƒ„ì´ë©° ê°œë°œì ì»¤ë®¤ë‹ˆí‹°ë„ ë„“ê²Œ ë³´ìœ í•˜ê³  ìˆì–´ìš”.\n\nReduxì™€ Transack Queryë¥¼ ì‚¬ìš©í•œ ìƒíƒœ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ë‚˜ì˜ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”:\n\n# Monorepo\n\nëª¨ë…¸ë ˆí¬ë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nì—¬ëŸ¬ ê°œì˜ React Native ì•±ì´ í•„ìš”í•˜ê±°ë‚˜ ì›¹ ë° ë„¤ì´í‹°ë¸Œ ì•± ê°„ì— ê³µí†µ ë¡œì§ì„ ê³µìœ í•´ì•¼ í•œë‹¤ë©´, ëª¨ë…¸ ì €ì¥ì†ŒëŠ” ì¢‹ì€ ë„êµ¬ê°€ ë  ê²ƒì…ë‹ˆë‹¤.\n\nì´ëŠ” ì¸ê¸° ìˆëŠ” ì„ íƒì§€ë“¤ ì¤‘ í•˜ë‚˜ë¡œ, ì—¬ê¸°ì—ëŠ” ë‹¤ìŒì´ í¬í•¨ë©ë‹ˆë‹¤:\n\n- yarn workspace\n- Lerna\n- Turborepo\n- @nx/react-native / @nxl/expo\n\në‚´ ì£¼ê´€ì ì¸ ì˜ê²¬ì€ @nx/react-native / @nx/expoì…ë‹ˆë‹¤.\n\në‚´ìš©ì„ í‘œ ê¸°í˜¸(Markdown format)ë¡œ ë³€ê²½í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n\nFor yarn workspace and Lerna, developers need to do their configuration and setup. Turborepo provides a starter app; however, it is locked to the Expo and Next.js tech stack; if developers want to use a different tech stack, they still need to do their configuration.\n\nFor new developers, @x/react-native and @nx/expo provide a good developer experience and documentation to start; nevertheless, it still gives developers flexibility on the tech stack. To start, run this command:\n\n```\n# react-native\nnpx create-nx-workspace --preset=react-native\n\n# expo\nnpx create-nx-workspace --preset=expo\n```\n\n# Summary\n\nìƒˆë¡œìš´ React Native / Expo ì•±ì„ ë§Œë“¤ ë•Œ ì„ íƒí•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡ì…ë‹ˆë‹¤. ì´ ë¦¬ìŠ¤íŠ¸ëŠ” ìœ ì¼í•œ ì„ íƒì§€ëŠ” ì•„ë‹™ë‹ˆë‹¤.\n\nì•„ë¦„ë‹¤ìš´ React Native ì•±ì„ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.\n\n- ê³µì‹ @nx/expo í”ŒëŸ¬ê·¸ì¸: https://nx.dev/packages/expo\n- ê³µì‹ @nx/react-native í”ŒëŸ¬ê·¸ì¸: https://nx.dev/packages/react-native\n\n# ë” ì•Œì•„ë³´ê¸°\n\n- ğŸ§  Nx ë¬¸ì„œ\n- ğŸ‘©â€ğŸ’» Nx GitHub\n- ğŸ’¬ Nx ì»¤ë®¤ë‹ˆí‹° Slack\n- ğŸ“¹ Nx ìœ íŠœë¸Œ ì±„ë„\n- ğŸ¥š ë¬´ë£Œ Egghead ê°•ì¢Œ\n- ğŸš€ CIë¥¼ ë¹ ë¥´ê²Œ ì‹¤í–‰\n","ogImage":{"url":"/assets/img/2024-05-12-BoilerplatesLibrariesforReactNativeExpo2024_0.png"},"coverImage":"/assets/img/2024-05-12-BoilerplatesLibrariesforReactNativeExpo2024_0.png","tag":["Tech"],"readingTime":6},{"title":"Reactì—ì„œ JWT í† í°ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ëŠ” ë°©ë²•","description":"","date":"2024-05-12 19:15","slug":"2024-05-12-HowtostoreJWTTokeninLocalStorageforReact","content":"\n\n## ê°„ë‹¨íˆ ë§í•´, JWTë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nJWTì€ JSON Web Tokenì˜ ì•½ìì…ë‹ˆë‹¤. ì´ê²ƒì€ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ JSON ê°ì²´ë¡œ íŒŒí‹° ê°„ì— ì „ì†¡í•˜ëŠ” ê°„ê²°í•˜ê³  ìì²´ í¬í•¨ëœ ë°©ë²•ì…ë‹ˆë‹¤. ì›¹ ê°œë°œì—ì„œ ì¸ì¦ ë° ì •ë³´ êµí™˜ì— ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n## í”„ë¡ íŠ¸ì—”ë“œìš© ìš”ì•½\n\n\n\në°±ì—”ë“œì—ì„œ ê´€ë¦¬ë˜ëŠ” ì•”í˜¸í™”ëœ JSON ê°ì²´ë¡œ, ì‚¬ìš©ì ê³„ì •ì´ ìƒì„±ë˜ê±°ë‚˜ ë¡œê·¸ì¸í•  ë•Œ Frontendë¡œ ì „ì†¡ë©ë‹ˆë‹¤. ì´ í† í°ì„ ì´ìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì›¹ ì„œë¹„ìŠ¤ì˜ ì¼ë¶€ì— ëŒ€í•œ ê¶Œí•œ/ì ‘ì†ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì´ë¥¼ Local storage, ì„¸ì…˜ ë˜ëŠ” ì¿ í‚¤ì— ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ê°ê°ì—ëŠ” ê³ ìœ í•œ ë³´ì•ˆ ë¬¸ì œê°€ ìˆìœ¼ë‹ˆ ë” ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”).\n\në˜í•œ https://jwt.io/ë¥¼ ë°©ë¬¸í•˜ì—¬ í† í°ì„ í•´ë…í•˜ê³  ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì´ í˜ì´ì§€ëŠ” ì´ë¥¼ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ëŠ” ë‚´ìš©ì…ë‹ˆë‹¤.\n\ní† í°ì„ ì‚¬ìš©í•˜ë©´ì„œ, ì„±ê³µì ì¸ ë¡œê·¸ì¸ í›„ì— ì•¡ì„¸ìŠ¤ í† í°ê³¼ ë¦¬í”„ë ˆì‹œ í† í°ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ë ¤ê³  í–ˆìŠµë‹ˆë‹¤.\n\n\n\nê°œë°œì ë„êµ¬ë¥¼ ì—´ê³  `Application -` Local storageë¥¼ í´ë¦­í•˜ë©´ ì €ì¥ì†Œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ì‹¤ì œ ì½”ë“œë¡œ ë„˜ì–´ê°€ë³´ê² ìŠµë‹ˆë‹¤\n\n## ì—¬ê¸° styled-componentsë¥¼ ì‚¬ìš©í•˜ì—¬ ë§Œë“  Login.jsx íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤\n\nì•„ì§ í† í° ê¸°ëŠ¥ ì„¤ì •ì€ í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ìš”ì†Œë¥¼ ì„¤ì •í•˜ê³  Styled-componentsë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤íƒ€ì¼ì„ ì§€ì •í•˜ëŠ” ë°©ë²•ì˜ ê¸°ë³¸ êµ¬ì¡°ë§Œ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.\n\n\n\në§Œì•½ ì´ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ì½”ë“œë¥¼ ë” ê¹”ë”í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”! ê·¸ëŸ¬ë‚˜ ì´ ê²½ìš°ì—ëŠ” React hook useStateë§Œì„ ì‚¬ìš©í–ˆì–´ìš”.\n\n```js\nimport React, { useState } from \"react\";\nimport { styled } from \"styled-components\";\n```\n\n```js\nexport const Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n \n  return (\n    <LoginContainer>\n      <h1>Login</h1>\n      <Form >\n        <label htmlFor=\"email\">Email</label>\n        <Input\n          type=\"email\"\n          id=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <label htmlFor=\"password\">Password</label>\n        <Input\n          type=\"password\"\n          id=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <Button>Login</Button>\n        <button>Logout</button>\n      </Form>\n    </LoginContainer>\n  );\n};\nconst LoginContainer = styled.section`\n  border: 1px solid black;\n  height: 400px;\n  width: 350px;\n  margin: 100px auto;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n`;\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  height: 200px;\n`;\nconst Input = styled.input`\n  width: 240px;\n  height: 28px;\n  border-radius: 3px;\n  border-color: rgba(0, 0, 0, 0.2);\n  padding: 3px;\n`;\nconst Button = styled.button`\n  width: 200px;\n  border-color: rgba(0, 0, 0, 0.2);\n  height: 30px;\n  margin-top: 10px;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n```\n\n# ë¡œê·¸ì¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼ë§ ê²°ê³¼\n\n\n\n<img src=\"/assets/img/2024-05-12-HowtostoreJWTTokeninLocalStorageforReact_0.png\" /> \n\n# handleSubmit í•¨ìˆ˜ ìƒì„±\n\nhandleSubmit í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ë¡œê·¸ì¸ ì„¸ë¶€ ì •ë³´ë¥¼ ì„œë²„ë¡œ ì „ì†¡í–ˆìŠµë‹ˆë‹¤(fetchëŠ” ì•„ì§ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤). e.preventDefault()ë¥¼ ì‚¬ìš©í•˜ë©´ ë¡œê·¸ì¸ ë²„íŠ¼ì„ í´ë¦­í•  ë•Œ í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.\n\n```js\nconst handleSubmit = (e) => {\n    e.preventDefault();\n}\n```\n\n\n\n```js\n// JSX\n<Form onSubmit={handleSubmit}>\n```\n\n## (handleSubmit í•¨ìˆ˜ ì¶”ê°€) POSTë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  í—¤ë”ë¥¼ ì¶”ê°€í•˜ê¸°\n\nì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ë³„ë„ì˜ requestOptions ë³€ìˆ˜ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ë¡œê·¸ì¸ì´ ì„±ê³µí•˜ë©´ ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\n- ì‚¬ìš©ì ì´ë©”ì¼ ë° ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ìš”ì†Œë¥¼ \" \"ìœ¼ë¡œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.\n- console.log(data)ë¥¼ ì‚¬ìš©í•˜ì—¬ í† í°ì„ ê²€ìƒ‰í•©ë‹ˆë‹¤.\n- ì ‘ê·¼ í† í° ë° ë¦¬í”„ë ˆì‹œ í† í°ì´ ê°€ì ¸ì™€ì¡ŒìŒì„ í™•ì¸í•œ í›„, êµ¬ì¡°ë¶„í•´ í• ë‹¹ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- localStorage.setItem(\"_ë³€ìˆ˜\", _ì €ì¥ê°’)\n- localStorage.getItem(\"_ë³€ìˆ˜)\n\n\n\n```js\nconst handleSubmit = (e) => {\n    e.preventDefault();\n```\n\n```js\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n    };\n    fetch(INSERT_API_HERE, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        setEmail(\"\");\n        setPassword(\"\");\n        console.log(data);\n        // note using deconstructuring is better for cleaner code\n        const {access, refresh} = data.access_token;\n        localStorage.setItem(\"accessToken\", access);\n        localStorage.setItem(\"refreshToken\", refresh);\n      });\n    \n  };\n```\n\në§ˆì§€ë§‰ìœ¼ë¡œ, CORS ì˜¤ë¥˜ì™€ ê°™ì€ API ë¬¸ì œê°€ ì—†ë‹¤ë©´ í† í°ì´ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ëŠ” ë¸Œë¼ìš°ì €ì˜ ê°œë°œì ë„êµ¬ë¥¼ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìœ¼ë©° â€œApplication\"ìœ¼ë¡œ ì´ë™í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ì œ í† í°ì´ ìˆìœ¼ë¯€ë¡œ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆì„ê¹Œìš”? ì˜êµ¬ì  ë¡œê·¸ì¸ì„ ì„¤ì •í•˜ê±°ë‚˜, í—¤ë” UIë¥¼ ì‚¬ìš©ìì— ë§ê²Œ ë³€ê²½í•˜ê±°ë‚˜, ì¸ì¦ëœ í´ë¼ì´ì–¸íŠ¸ í˜ì´ì§€ë¥¼ ë”ìš± ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¡ , ìƒˆë¡œê³ ì¹¨ ì‹œ ë„¤ë¹„ê²Œì´ì…˜ ë°”ê°€ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ Zustand ë˜ëŠ” Reduxì™€ ê°™ì€ ìƒíƒœ ê´€ë¦¬ìë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.```\n\n\n\në‹¹ì‹ ì€ ì—¬ê¸°ì—ì„œ ë‚˜ì˜ persistent login ê²Œì‹œë¬¼ì— ëŒ€í•œ Zustand ì„¤ì •ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\n\n# ì¶”ê°€: ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì´ˆê¸°í™”\n\n```js\nconst handleLogout = () => {\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"refreshToken\");\n    alert(\"í† í°ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤\");\n};\n```\n\n```js\n<button onClick={handleLogout}>ë¡œê·¸ì•„ì›ƒ</button>\n```\n\n\n\nì—¬ê¸°ì— ì „ì²´ ì½”ë“œê°€ ìˆìŠµë‹ˆë‹¤.\n\n```js\nimport React, { useState } from \"react\";\nimport { styled } from \"styled-components\";\nimport { Navigate } from \"react-router-dom\";\n```\n\n```js\nexport const Login = ({ login }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [navigate, setNavigate] = useState(false);\n  const LOGIN_URL = \"INSERT_YOUR_API\";\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n    };\n    fetch(LOGIN_URL, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        setEmail(\"\");\n        setPassword(\"\");\n        setNavigate(true)\n        // console.log(data);\n        // note using deconstructuring is better for cleaner code\n        const {access, refresh} = data.access_token;\n        localStorage.setItem(\"accessToken\", access);\n        localStorage.setItem(\"refreshToken\", refresh);\n      });\n      \n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"refreshToken\");\n    alert(\"Tokens have been removed\");\n  };\n  if (navigate) {\n    return <Navigate to=\"/signup\" />;\n  }\n  return (\n    <LoginContainer>\n      <h1>Login</h1>\n      <Form onSubmit={handleSubmit}>\n        <label htmlFor=\"email\">Email</label>\n        <Input\n          type=\"email\"\n          id=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <label htmlFor=\"password\">Password</label>\n        <Input\n          type=\"password\"\n          id=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <Button>Login</Button>\n        <button onClick={handleLogout}>Logout</button>\n      </Form>\n    </LoginContainer>\n  );\n};\nconst LoginContainer = styled.section`\n  border: 1px solid black;\n  height: 400px;\n  width: 350px;\n  margin: 100px auto;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n`;\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  height: 200px;\n`;\nconst Input = styled.input`\n  width: 240px;\n  height: 28px;\n  border-radius: 3px;\n  border-color: rgba(0, 0, 0, 0.2);\n  padding: 3px;\n`;\nconst Button = styled.button`\n  width: 200px;\n  border-color: rgba(0, 0, 0, 0.2);\n  height: 30px;\n  margin-top: 10px;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n```","ogImage":{"url":"/assets/img/2024-05-12-HowtostoreJWTTokeninLocalStorageforReact_0.png"},"coverImage":"/assets/img/2024-05-12-HowtostoreJWTTokeninLocalStorageforReact_0.png","tag":["Tech"],"readingTime":7},{"title":"ì¸ì¦ í† í° ê°±ì‹  ë° ë³€ê²½Nodejs, React - íŒŒíŠ¸ 1","description":"","date":"2024-05-12 19:12","slug":"2024-05-12-RefreshAuthTokenRotationNodejsReactPart1","content":"\n\n<img src=\"/assets/img/2024-05-12-RefreshAuthTokenRotationNodejsReactPart1_0.png\" />\n\nìš”ì¦˜ì€ ë³´ì•ˆì´ ì ì  ì¤‘ìš”í•´ì§€ê³  ìˆì–´ìš”. ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ì ì–´ë„ ë³´ì•ˆ ë¬¸ì œì™€ íŒ ë° ìš”ë ¹ì˜ ê¸°ë³¸ì„ ëª…í™•íˆ ì´í•´í•´ì•¼ í•´ìš”. ë§ì€ ì›¹ì‚¬ì´íŠ¸ë“¤ì´ ì•½í•œ ì¸ì¦ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì‹¬ì§€ì–´ ê·€í•˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¯¼ê°í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ì§€ ì•Šë”ë¼ë„, ë‹¨ìˆœíˆ ì´ë©”ì¼ ì£¼ì†Œë§Œ ê°€ì§€ê³  ìˆë‹¤ í•˜ë”ë¼ë„, ê·€í•˜ì˜ ì‚¬ìš©ìë¥¼ ì¡´ì¤‘í•˜ê³  ìµœì†Œí•œì˜ ë³´ì•ˆì„ ì œê³µí•´ì•¼ í•´ìš”. ì´ ê¸€ì—ì„œëŠ” ì ‘ê·¼ ë° ìƒˆë¡œ ê³ ì¹¨ í† í°ì„ ì‚¬ìš©í•œ ê°„ë‹¨í•œ JWT í† í° ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œì„ ë³´ì—¬ë“œë¦´ê²Œìš”. ìš°ë¦¬ëŠ” Node.js ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œì—ëŠ” React, ê·¸ë¦¬ê³  MongoDBë¥¼ ì‚¬ìš©í•  ê±°ì—ìš”. ì´ ê¸°ìˆ ë“¤ì— ìµìˆ™í•˜ì§€ ì•Šë‹¤ë©´, ì´ì— ëŒ€í•´ ì¢€ ë” ì•Œì•„ë³´ê³  ì‹œì‘í•˜ê¸° ì „ì— ì‹œê°„ì„ ë‚´ì–´ ìˆ™ì§€í•´ì£¼ì„¸ìš”. ê·¸ëŸ¬ë‚˜ JavaScript ê¸°ìˆ ê³¼ ê¸°ë³¸ REST ì§€ì‹ì´ ìˆë‹¤ë©´, í•¨ê»˜ ì´ë¥¼ ì‚´í´ë³´ê³  í•¨ê»˜ íŒŒí—¤ì³ë³´ì•„ìš”. :)\n\nìš°ì„  Node.js ë°±ì—”ë“œë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•´ë´…ì‹œë‹¤. ë¨¼ì € Node ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì´ˆê¸°í™”í•˜ì„¸ìš”:\n\n```js\nnpm init\n```\n\n\n\në‹¤ìŒìœ¼ë¡œ, Expressë¥¼ ì„¤ì¹˜í•´ì£¼ì„¸ìš”:\n\n```js\nnpm install express\n```\n\në°±ì—”ë“œì—ì„œ ì‚¬ìš©í•  íŒŒì¼ ë° í´ë” ê³„ì¸µ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-RefreshAuthTokenRotationNodejsReactPart1_1.png)\n\n\n\nì„œë²„.js íŒŒì¼ì„ ìƒì„±í•´ì£¼ì„¸ìš”:\n\n```js\nconst express = require(\"express\");\nconst port = 5000;\nconst app = express();\n\napp.listen(port, () => {\n  console.log(`í¬íŠ¸ ${port}ì—ì„œ ì„œë²„ ì‹¤í–‰ ì¤‘`);\n});\n```\n\nì´ì œ ì•±ì„ ìœ„í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¶”ê°€í•´ë³¼ê¹Œìš”? MongoDBë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”. ìµìˆ™í•˜ì§€ ì•Šë‹¤ë©´ ìœ ìš©í•œ ë§í¬ê°€ ìˆìŠµë‹ˆë‹¤.\n\n```js\nnpm install mongoose\n```\n\n\n\nì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° íŒŒì¼ì„ ìƒì„±í•´ ì£¼ì„¸ìš”:\n\n```js\nconst mongoose = require(\"mongoose\");\n\nconst db = mongoose\n  .connect(\"mongodb://127.0.0.1/TokenRotation\") // TokenRotationì€ ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ì…ë‹ˆë‹¤\n  .then(() => console.log(\"MongoDBì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤...\"))\n  .catch((err) => console.error(\"MongoDBì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤...\", err));\n\nmodule.exports = db;\n```\n\nì„œë²„ì˜ server.js íŒŒì¼ì— ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ ì¶”ê°€í•˜ëŠ” ê±¸ ìŠì§€ ë§ˆì„¸ìš”:\n\n```js\nconst db = require(\"./dbconnection\");\n```\n\n\n\nì´ì œ ì¶”ê°€ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ë³¼ê²Œìš”:\n\n```js\nnpm install jsonwebtoken\nnpm install dotenv\nnpm install bcrypt\n```\n\nê·¸ëŸ¼ ì´ì œ ì‚¬ìš©ì ëª¨ë¸ì„ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤:\n\n```js\nconst jwt = require(\"jsonwebtoken\");\nconst mongoose = require(\"mongoose\");\nrequire(\"dotenv\").config();\n\nconst userSchema = new mongoose.Schema({\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n  },\n  password: {\n    type: String,\n    required: true,\n    unique: true,\n    minlength: 8,\n    maxlength: 1024,\n  },\n  refreshtoken: [String],\n});\n\nuserSchema.methods.generateAuthToken = function () {\n  const accesstoken = jwt.sign(\n    { _id: this._id },\n    process.env.ACCESS_SECRET_KEY,\n    {\n      expiresIn: \"10s\",\n    }\n  );\n  const refreshtoken = jwt.sign(\n    { _id: this._id },\n    process.env.REFRESH_SECRET_KEY,\n    { expiresIn: \"1d\" }\n  );\n\n  const tokens = { accesstoken: accesstoken, refreshtoken: refreshtoken };\n  return tokens;\n};\n\nconst User = mongoose.model(\"User\", userSchema);\n\nexports.User = User;\n```\n\n\n\nìš°ë¦¬ëŠ” MongoDBì—ì„œ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ìœ„í•œ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\nê° ì‚¬ìš©ì ë¬¸ì„œì—ëŠ” ì´ë©”ì¼, íŒ¨ìŠ¤ì›Œë“œ, ê·¸ë¦¬ê³  ë¦¬í”„ë ˆì‹œ í† í°ì„ ì €ì¥í•˜ê¸° ìœ„í•œ ë°°ì—´ì´ í¬í•¨ë  ê²ƒì…ë‹ˆë‹¤.\n\nìš°ë¦¬ëŠ” ì‚¬ìš©ì ìŠ¤í‚¤ë§ˆì— generateAuthTokenì´ë¼ëŠ” ë©”ì†Œë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.\n\n- ì´ ë©”ì†Œë“œëŠ” jsonwebtoken íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•¡ì„¸ìŠ¤ í† í°ê³¼ ë¦¬í”„ë ˆì‹œ í† í°ì„ ìƒì„±í•©ë‹ˆë‹¤.\n- ì•¡ì„¸ìŠ¤ í† í°ì€ 10ì´ˆ í›„ì— ë§Œë£Œë˜ë©° ì‚¬ìš©ìì˜ _idë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n- ë¦¬í”„ë ˆì‹œ í† í°ì€ 1ì¼ í›„ì— ë§Œë£Œë˜ë©° ë˜í•œ ì‚¬ìš©ìì˜ _idë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n\n\n\nìš°ë¦¬ëŠ” ì‚¬ìš©ì ìŠ¤í‚¤ë§ˆë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” Mongoose ëª¨ë¸ì¸ Userë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n\n- ì´ ëª¨ë¸ì€ ì‚¬ìš©ìë¥¼ ìœ„í•œ MongoDB ì»¬ë ‰ì…˜ê³¼ ìƒí˜¸ ì‘ìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n- ìš°ë¦¬ëŠ” ë‹¤ë¥¸ ë¶€ë¶„ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ User ëª¨ë¸ì„ ë‚´ë³´ëƒ…ë‹ˆë‹¤.\n\n# AppError ë° TryCatch\n\nìš°ë¦¬ëŠ” ë” ë‚˜ì€ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ìœ„í•´ ë‘ ê°€ì§€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ì¸ AppErrorì™€ tryCatchë¡œ ì½”ë“œë² ì´ìŠ¤ë¥¼ í–¥ìƒì‹œí‚¤ê³  ìˆìŠµë‹ˆë‹¤.\n\n\n\nAppError í´ë˜ìŠ¤ëŠ” êµ¬ì¡°í™”ëœ ë°©ì‹ìœ¼ë¡œ ì˜¤ë¥˜ ì •ë³´ë¥¼ ìº¡ìŠí™”í•˜ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ëŠ” ê¸°ë³¸ Error í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ê³  errorCode ë° statusCodeì™€ ê°™ì€ ì‚¬ìš©ì ì •ì˜ ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ ì˜¤ë¥˜ë¥¼ ë¶„ë¥˜í•˜ê³  ì ì ˆí•œ HTTP ìƒíƒœ ì½”ë“œë¡œ ì‘ë‹µí•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì´ê²ƒì€ ì‘ìš© í”„ë¡œê·¸ë¨ ì „ë°˜ì— ê±¸ì³ ì˜¤ë¥˜ ì²˜ë¦¬ì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\n```js\nclass AppError extends Error {\n  constructor(errorCode, message, statusCode) {\n    super(message);\n    this.errorCode = errorCode;\n    this.statusCode = statusCode;\n  }\n}\n\nmodule.exports = AppError;\n```\n\ntryCatch í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì»¨íŠ¸ë¡¤ëŸ¬ í•¨ìˆ˜ ë‚´ì—ì„œ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” í¸ë¦¬í•œ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ í•¨ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ê³  ìƒˆë¡œìš´ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ ìƒˆë¡œìš´ í•¨ìˆ˜ëŠ” ì›ë˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ í•¨ìˆ˜ë¥¼ try-catch ë¸”ë¡ìœ¼ë¡œ ê°ì‹¸ì¤ë‹ˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ í•¨ìˆ˜ ì‹¤í–‰ ì¤‘ì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ í•´ë‹¹ ì˜¤ë¥˜ê°€ catchë˜ì–´ ê¸°ë¡ë˜ê³  Expressì˜ next í•¨ìˆ˜ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. ì´ ì¶”ìƒí™”ëŠ” ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ê°„ì†Œí™”ì‹œí‚¤ë©° ë” ê¹”ë”í•˜ê³  ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ì¥ë ¤í•©ë‹ˆë‹¤.\n\n```js\nexports.tryCatch = (controller) => async (req, res, next) => {\n  try {\n    await controller(req, res);\n  } catch (error) {\n    console.log(error);\n    return next(error);\n  }\n};\n```\n\n\n\nì´ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤ì„ ì½”ë“œë² ì´ìŠ¤ì— í†µí•©í•¨ìœ¼ë¡œì¨, ìš°ë¦¬ì˜ ì—ëŸ¬ ì²˜ë¦¬ ë©”ì»¤ë‹ˆì¦˜ì˜ ê°€ë…ì„±ì´ í–¥ìƒë˜ì–´ ì „ì²´ ì‹ ë¢°ì„±ê³¼ ì‚¬ìš©ì ê²½í—˜ì´ í–¥ìƒë©ë‹ˆë‹¤.\n\n# ë£¨íŠ¸\n\në‹¤ìŒìœ¼ë¡œ, ì‚¬ìš©ì ì¸ì¦ ë° ì„¸ì…˜ ê´€ë¦¬ë¥¼ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì„¤ê³„í•  ê²ƒì…ë‹ˆë‹¤. SignIn, SignUp, RefreshToken ë° LogOutì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. ìš°ì„ , ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ ìœ„í•œ ë£¨íŠ¸ë¥¼ ì •ì˜í•´ ë³´ê² ìŠµë‹ˆë‹¤.\n\n```js\nconst express = require(\"express\");\nconst authController = require(\"./controllers\");\nconst verifyJWT = require(\"../../middleware/verifyJWT\");\n\nconst router = express.Router();\n\n//ì¸ì¦ ê¸°ë°˜ ë£¨íŠ¸\nrouter.post(\"/signUp\", authController.SignUp);\nrouter.post(\"/signIn\", authController.SignIn);\nrouter.get(\"/refresh\", authController.refreshToken);\nrouter.get(\"/logout\", authController.logOut);\n\nmodule.exports = router;\n```\n\n\n\nNode.js ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ, ì„œë¹„ìŠ¤ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì½”ë“œë² ì´ìŠ¤ë¥¼ ì¡°ì§í™”í•˜ê³  êµ¬ì¡°í™”í•˜ëŠ” ë° ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œë¡œì„œ ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ëŠ” ê´€ì‹¬ì‚¬ ë¶„ë¦¬ì™€ ìœ ì§€ë³´ìˆ˜ë¥¼ ì´‰ì§„í•©ë‹ˆë‹¤.\n\n- ì„œë¹„ìŠ¤: ì„œë¹„ìŠ¤ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„° ì¡°ì‘ ì‘ì—…ì„ ìº¡ìŠí™”í•©ë‹ˆë‹¤. íŠ¹ì • ë„ë©”ì¸ê³¼ ê´€ë ¨ëœ ì‘ì—…ì´ë‚˜ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë° ì±…ì„ì´ ìˆìŠµë‹ˆë‹¤. ì„œë¹„ìŠ¤ëŠ” ì‘ì—…ì´ ì–´ë–»ê²Œ êµ¬í˜„ë˜ëŠ”ì§€ì— ëŒ€í•œ ì„¸ë¶€ ì •ë³´ë¥¼ ì¶”ìƒí™”í•˜ì—¬ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ HTTP ìš”ì²­ ë° ì‘ë‹µ ì²˜ë¦¬ì— ì§‘ì¤‘í•˜ê³  ê°€ë³ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ëŠ” ì¢…ì¢… ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì—¬ëŸ¬ ë¶€ë¶„ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ë©° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™¸ë¶€ ì¢…ì†ì„±ìœ¼ë¡œë¶€í„° ê²©ë¦¬í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤.\n  \n- ì»¨íŠ¸ë¡¤ëŸ¬: ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ìˆ˜ì‹ ëœ HTTP ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ìš”ì²­ì—ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³  í•„ìš”í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì„œë¹„ìŠ¤ì™€ ìƒí˜¸ ì‘ìš©í•˜ë©° ì ì ˆí•œ ì‘ë‹µì„ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜í•©ë‹ˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì¸í„°í˜ì´ìŠ¤(ì˜ˆ: ì›¹ ë¸Œë¼ìš°ì € ë˜ëŠ” ëª¨ë°”ì¼ ì•±)ì™€ ê¸°ì € ì‘ìš© í”„ë¡œê·¸ë¨ ë¡œì§ ì‚¬ì´ì˜ ë‹¤ë¦¬ ì—­í• ì„ í•©ë‹ˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ í‘œí˜„ ê³„ì¸µê³¼ ë¶„ë¦¬ë˜ë„ë¡ í•˜ì—¬ ì‘ì—…ì„ ì¡°ì§í™”í•˜ê³  ì„œë¹„ìŠ¤ì— ì‘ì—…ì„ ìœ„ì„í•©ë‹ˆë‹¤. ë¼ìš°íŒ… ë° ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ì—¬ ìš”ì²­-ì‘ë‹µ ì£¼ê¸°ì—ì„œ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œë¡œ ì‘ìš©í•©ë‹ˆë‹¤.\n\nì´ì œ SignUp ê¸°ëŠ¥ì„ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.\n\n```js\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\nconst { tryCatch } = require(\"../../utils/tryCatch\");\nconst AppError = require(\"../../utils/AppError\");\nconst authServices = require(\"./services\");\nconst { User } = require(\"../../Models/user\");\n\nexports.SignUp = tryCatch(async (req, res) => {\n  const { email, password } = req.body;\n  const user = await User.find({ email: email });\n  \n  if (!user) {\n    throw new AppError(\n      409,\n      \"ë°ì´í„°ë² ì´ìŠ¤ì— ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ ì£¼ì†Œì…ë‹ˆë‹¤!\",\n      409\n    );\n  }\n\n  try {\n    const response = await authServices.signUp(email, password);\n    const accessToken = response.token.accesstoken;\n    const refreshToken = response.token.refreshtoken;\n    res.cookie(\"jwt\", refreshToken, {\n      httpOnly: true,\n      maxAge: 24 * 60 * 60 * 1000,\n    });\n    res.status(200).json({ accessToken: accessToken }).end();\n  } catch (err) {\n    console.log(err);\n    res.status(err.statusCode).json(err.message).end();\n  }\n});\n```\n\n\n\nìœ„ ì½”ë“œ ìŠ¤ë‹ˆí«ì€ Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ì ë“±ë¡ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” SignUp ì»¨íŠ¸ë¡¤ëŸ¬ í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ë¹„ë°€ë²ˆí˜¸ í•´ì‹±ì„ ìœ„í•œ bcrypt ë° í† í° ìƒì„±ì„ ìœ„í•œ jsonwebtokenê³¼ ê°™ì€ í•„ìš”í•œ ëª¨ë“ˆì„ ê°€ì ¸ì˜¤ë©° ì‚¬ìš©ì ì§€ì • ì˜¤ë¥˜ ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹°ë„ ê°€ì ¸ì˜µë‹ˆë‹¤. ìš”ì²­ì„ ë°›ìœ¼ë©´ ìš”ì²­ ë³¸ë¬¸ì—ì„œ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¶”ì¶œí•˜ê³  ë™ì¼í•œ ì´ë©”ì¼ì„ ê°€ì§„ ê¸°ì¡´ ì‚¬ìš©ìë¥¼ í™•ì¸í•˜ë©°, ì¤‘ë³µëœ ì´ë©”ì¼ì´ ì—†ìœ¼ë©´ SignUp ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©ì ìƒì„±ì„ ì²˜ë¦¬í•˜ê³  ì•¡ì„¸ìŠ¤ ë° ë¦¬í”„ë ˆì‹œ í† í°ì„ ìƒì„±í•˜ì—¬ ë³´ì•ˆì„ ìœ„í•´ ë¦¬í”„ë ˆì‹œ í† í°ì„ HTTP-only ì¿ í‚¤ì— ì„¤ì •í•˜ê³  ì‘ë‹µì— ì•¡ì„¸ìŠ¤ í† í°ì„ ë³´ëƒ…ë‹ˆë‹¤. SignUp í”„ë¡œì„¸ìŠ¤ ì¤‘ ë°œìƒí•˜ëŠ” ëª¨ë“  ì˜¤ë¥˜ëŠ” ì˜¤ë¥˜ ìƒíƒœ ì½”ë“œì™€ ë©”ì‹œì§€ë¡œ ì ì ˆíˆ ì²˜ë¦¬ë©ë‹ˆë‹¤.\n\nSignUp ì„œë¹„ìŠ¤:\n\n```js\nconst bcrypt = require(\"bcrypt\");\nconst { User } = require(\"../../Models/user\");\nconst { UserProfile } = require(\"../../Models/userProfile\");\nconst mongoose = require(\"mongoose\");\nconst ObjectId = mongoose.Types.ObjectId;\n\nconst signUp = async (email, password) => {\n  const newUser = new User({\n    email: email,\n    password: password,\n    refreshtoken: \"\",\n  });\n\n  const salt = await bcrypt.genSalt(10);\n  newUser.password = await bcrypt.hash(newUser.password, salt);\n\n  const tokens = newUser.generateAuthToken();\n  newUser.refreshtoken = tokens.refreshtoken;\n  await newUser.save();\n  const data = {\n    token: tokens,\n    id: newUser.id,\n  };\n\n  return data;\n};\n```\n\nì´ ì„œë¹„ìŠ¤ í•¨ìˆ˜ signUpì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ìƒì„±í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŠµë‹ˆë‹¤. í•¨ìˆ˜ ë‚´ì—ì„œëŠ” ì œê³µëœ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ User ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ë¹„ì–´ìˆëŠ” ë¦¬í”„ë ˆì‹œ í† í° í•„ë“œë¥¼ ê°€ì§‘ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë³´ì•ˆì„ ìœ„í•´ bcryptë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ í•´ì‹±í•©ë‹ˆë‹¤. ì‚¬ìš©ì ëª¨ë¸ì˜ generateAuthToken ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ì¦ í† í°ì„ ìƒì„±í•˜ëŠ” ì±…ì„ì´ ìˆëŠ” ì‚¬ìš©ì ëª¨ë¸ì˜ ê°ì²´ì— ë¦¬í”„ë ˆì‹œ í† í°ì„ í• ë‹¹í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒˆ ì‚¬ìš©ìë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ê³  ìƒì„±ëœ í† í°ê³¼ ì‚¬ìš©ì IDë¥¼ í¬í•¨í•˜ëŠ” ê°ì²´ê°€ ë°˜í™˜ë©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì‚¬ìš©ì ì•”í˜¸ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ê¸° ì „ì— ì•ˆì „í•˜ê²Œ í•´ì‹±ë˜ë©° ìƒˆë¡œ ìƒì„±ëœ ì‚¬ìš©ìì— ëŒ€í•œ ì¸ì¦ í† í°ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n\n\në™ì¼í•œ ìŠ¤í‚¤ë§ˆë¥¼ ì‚¬ìš©í•˜ì—¬ SignIn ê¸°ëŠ¥ì„ ì´ì œ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤:\n\n```js\nexports.SignIn = tryCatch(async (req, res) => {\n  const cookies = req.cookies;\n  const { email, password } = req.body;\n  const user = await User.findOne({ email: email });\n\n  if (!user) {\n    throw new AppError(\n      404,\n      \"ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ë©”ì¼ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\",\n      404\n    );\n  }\n\n  const validPassword = await bcrypt.compare(password, user.password);\n\n  if (!validPassword) {\n    throw new AppError(\n      401,\n      \"ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\",\n      401\n    );\n  }\n\n  try {\n    let newRefreshTokenArray = \"\";\n\n    // ì‚¬ìš©ìì˜ ê¸°ì¡´ refresh í† í° í™•ì¸\n    let refreshToken = \"\";\n    if (!cookies?.jwt) {\n      refreshToken = user.refreshtoken;\n    } else {\n      refreshToken = cookies.jwt;\n      const foundToken = await User.findOne({ refreshToken }).exec();\n      \n      if (!foundToken) {\n        console.log(\"ë¡œê·¸ì¸ ì‹œ ì‹œë„ëœ refresh í† í° ì¬ì‚¬ìš©!\");\n        // í† í°ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì—†ìœ¼ë©´ ì¿ í‚¤ë¥¼ ì§€ìš°ê¸°\n        res.clearCookie(\"jwt\", { httpOnly: true });\n        refreshToken = \"\";\n      }\n    }\n    const response = await authServices.signIn(user, newRefreshTokenArray);\n    const accessToken = response.token.accesstoken;\n    refreshToken = response.token.refreshtoken;\n    const profilePic = response.profilePic;\n    res.cookie(\"jwt\", refreshToken, {\n      httpOnly: true,\n      maxAge: 24 * 60 * 60 * 1000,\n    });\n    return res\n      .status(200)\n      .cookie(\"jwt\", refreshToken, {\n        httpOnly: true,\n        maxAge: 24 * 60 * 60 * 1000,\n      })\n      .json({ accessToken: accessToken, profilePic: profilePic })\n      .end();\n  } catch (err) {\n    console.log(err);\n    return res.status(err.statusCode).json(err.message).end();\n  }\n});\n```\n\nì´ ì½”ë“œ ì„¸ê·¸ë¨¼íŠ¸ëŠ” Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ SignIn ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ë¨¼ì € ìš”ì²­ ë³¸ë¬¸ì—ì„œ ì‚¬ìš©ì ìê²© ì¦ëª…ì„ ì¶”ì¶œí•˜ê³  ì œê³µëœ ì´ë©”ì¼ì— ë”°ë¼ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ìë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤. ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ê±°ë‚˜ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš° í•´ë‹¹ ë¬¸ì œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì‚¬ìš©ì ì •ì˜ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì‚¬ìš©ìì˜ ê¸°ì¡´ refresh í† í°ì„ í™•ì¸í•˜ê³  í† í°ì˜ ì¬ì‚¬ìš©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ìœ íš¨ì„±ì„ ê²€ì‚¬í•©ë‹ˆë‹¤. ì„±ê³µì ìœ¼ë¡œ ì¸ì¦ëœ í›„, ìƒˆë¡œìš´ ì•¡ì„¸ìŠ¤ ë° refresh í† í°ì„ ìƒì„±í•˜ê³  ì‚¬ìš©ìì˜ í”„ë¡œí•„ ì‚¬ì§„ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ì„œë¹„ìŠ¤ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ìƒˆ refresh í† í°ì€ ë³´ì•ˆì„ ìœ„í•´ HTTP-only ì¿ í‚¤ì— ì„¤ì •ë˜ê³ , ì•¡ì„¸ìŠ¤ í† í°ê³¼ í”„ë¡œí•„ ì‚¬ì§„ì€ ì‘ë‹µìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤. í”„ë¡œì„¸ìŠ¤ ì¤‘ ë°œìƒí•˜ëŠ” ëª¨ë“  ì˜¤ë¥˜ëŠ” ì ì ˆíˆ ì²˜ë¦¬ë˜ì–´ ìƒì‘í•˜ëŠ” ìƒíƒœ ì½”ë“œì™€ ë©”ì‹œì§€ë¡œ ì˜¤ë¥˜ ì‘ë‹µìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.\n\n```js\nconst signIn = async (user, newRefreshTokenArray) => {\n  const token = user.generateAuthToken();\n  user.refreshtoken = [...newRefreshTokenArray, token.refreshtoken];\n  await user.save();\n  const data = {\n    token: token,\n    userId: user.id,\n  };\n  return data;\n};\n\nmodule.exports = {\n  signUp,\n  signIn,\n};\n```\n\n\n\nì„œë¹„ìŠ¤ ê¸°ëŠ¥ signInì€ ì‚¬ìš©ì ì¸ì¦ì— ì„±ê³µí•œ ê²½ìš° ì¸ì¦ í† í°ì„ ìƒì„±í•˜ê³  ì‚¬ìš©ì í”„ë¡œí•„ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ëŠ” ì‘ì—…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì¸ì¦ëœ ì‚¬ìš©ì ê°ì²´ì™€ ìƒˆë¡œìš´ ë¦¬í”„ë ˆì‹œ í† í° ë°°ì—´ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŠµë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì‚¬ìš©ì ê°ì²´ì˜ generateAuthToken ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ì¦ í† í°ì„ ìƒì„±í•©ë‹ˆë‹¤. ìƒˆë¡œìš´ ë¦¬í”„ë ˆì‹œ í† í°ì€ ì‚¬ìš©ìì˜ refreshtoken ë°°ì—´ì— ì¶”ê°€ë˜ê³  ì‚¬ìš©ì ê°ì²´ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ë‹¤ì‹œ ì €ì¥ë©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒì„±ëœ í† í°ê³¼ ì‚¬ìš©ì IDê°€ í¬í•¨ëœ ê°ì²´ë¥¼ êµ¬ì„±í•˜ê³  ë°˜í™˜í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì¸ì¦ í† í°ì´ ì•ˆì „í•˜ê²Œ ìƒì„±ë˜ê³  ì €ì¥ë˜ë©° ì‚¬ìš©ì ì •ë³´ê°€ ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ë˜ì–´ ì œê³µë˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.\n\nì—¬ê¸°ê¹Œì§€ê°€ ê¸°ë³¸ ì¸ì¦ íë¦„ì…ë‹ˆë‹¤. ì´ì œ ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ë§Œ í•„ìš”í•©ë‹ˆë‹¤.\n\n```js\nexports.logOut = tryCatch(async (req, res) => {\n  // í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” accessTokenë„ ì‚­ì œí•˜ì„¸ìš”\n  const cookies = req.cookies;\n  if (!cookies?.jwt) return res.sendStatus(204);\n  const refreshToken = cookies.jwt;\n  // ë°ì´í„°ë² ì´ìŠ¤ì— ë¦¬í”„ë ˆì‹œ í† í°ì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\n  const foundUser = await User.findOne({ refreshtoken: refreshToken });\n\n  if (!foundUser) {\n    res.clearCookie(\"jwt\", { httpOnly: true });\n    return res.sendStatus(204);\n  }\n\n  // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë¦¬í”„ë ˆì‹œ í† í° ì‚­ì œ\n  foundUser.refreshtoken = foundUser.refreshtoken.filter(\n    (rt) => rt !== refreshToken\n  );\n  await foundUser.save();\n\n  res.clearCookie(\"jwt\", { httpOnly: true });\n  res.sendStatus(204);\n});\n```\n\nì´ ì½”ë“œ ìŠ¤ë‹ˆí«ì€ Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” logOut ì»¨íŠ¸ë¡¤ëŸ¬ í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ìœ„í•´ tryCatch ìœ í‹¸ë¦¬í‹°ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ë¨¼ì € ì‚¬ìš©ìê°€ ì¿ í‚¤ì— ì €ì¥ëœ ë¦¬í”„ë ˆì‹œ í† í°ì„ í™•ì¸í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° 204(ë‚´ìš© ì—†ìŒ) ìƒíƒœ ì½”ë“œë¥¼ ë³´ë‚´ì–´ ì‘ì—…ì´ í•„ìš”í•˜ì§€ ì•ŠìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ë¦¬í”„ë ˆì‹œ í† í°ì´ ë°œê²¬ë˜ë©´ í•¨ìˆ˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¿¼ë¦¬í•˜ì—¬ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë¦¬í”„ë ˆì‹œ í† í°ì„ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš° ë¦¬í”„ë ˆì‹œ í† í° ì¿ í‚¤ë¥¼ ì§€ìš°ê³  204 ìƒíƒœ ì½”ë“œë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì‚¬ìš©ìê°€ ì €ì¥í•œ ë¦¬í”„ë ˆì‹œ í† í°ì—ì„œ ë¦¬í”„ë ˆì‹œ í† í°ì„ ì œê±°í•˜ê³  ì—…ë°ì´íŠ¸ëœ ì‚¬ìš©ì ê°ì²´ë¥¼ ë‹¤ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œ ë‹¤ìŒ ë¦¬í”„ë ˆì‹œ í† í° ì¿ í‚¤ë¥¼ ì§€ìš°ê³  204 ìƒíƒœ ì½”ë“œë¥¼ ë³´ë‚´ ì„±ê³µì ìœ¼ë¡œ ë¡œê·¸ì•„ì›ƒ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ë¦¬í”„ë ˆì‹œ í† í°ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ì—¬ ê´€ë¦¬í•˜ê³  ê´€ë ¨ ì¿ í‚¤ë¥¼ ì§€ì›€ìœ¼ë¡œì¨ ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ ìš”ì²­ì„ ì ì ˆí•˜ê²Œ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n\n\n# ë¦¬í”„ë ˆì‹œ ì—”ë“œí¬ì¸íŠ¸\n\në¦¬í”„ë ˆì‹œ í† í°ì„ ì‚¬ìš©í•˜ë©´ ì¸ì¦ ì‹œìŠ¤í…œì—ì„œ ìƒˆ ì•¡ì„¸ìŠ¤ í† í°ì„ ì–»ì„ ìˆ˜ ìˆì–´ìš”. ì•¡ì„¸ìŠ¤ í† í°ì´ ë§Œë£Œë  ë•Œ ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆ ì•¡ì„¸ìŠ¤ í† í°ì„ ìš”ì²­í•  ìˆ˜ ìˆì–´ìš”. ì•¡ì„¸ìŠ¤ í† í°ì´ ìˆ˜ëª…ì´ ì§§ì§€ë§Œ, ë¦¬í”„ë ˆì‹œ í† í°ì€ ê¸´ ìˆ˜ëª…ì„ ê°€ì§€ë©° ë³´í†µ ëª‡ ì¼ì´ë‚˜ ì‹¬ì§€ì–´ ëª‡ ì£¼ ë™ì•ˆ ìœ íš¨í•©ë‹ˆë‹¤. ì•¡ì„¸ìŠ¤ í† í°ì´ ë§Œë£Œë˜ì—ˆì„ ë•Œ ë¦¬í”„ë ˆì‹œ í† í°ì€ ì‚¬ìš©ìê°€ ë‹¤ì‹œ ë¡œê·¸ì¸í•  í•„ìš” ì—†ì´ ìƒˆ ì•¡ì„¸ìŠ¤ í† í°ì„ ìš”ì²­í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤˜ìš”. ì´ë¥¼ í†µí•´ ë¯¼ê°í•œ ìê²© ì¦ëª… ë…¸ì¶œì„ ìµœì†Œí™”í•˜ê³  ì‚¬ìš©ì ì¸ì¦ ë¹ˆë„ë¥¼ ì¤„ì—¬ ë³´ì•ˆì„ ê°•í™”í•  ìˆ˜ ìˆì–´ìš”. ë¦¬í”„ë ˆì‹œ í† í°ì€ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì— ì•ˆì „í•˜ê²Œ ì €ì¥ë˜ë©° ë³´í†µ HTTP-only ì¿ í‚¤ì— ì €ì¥ë˜ë©° ì•ˆì „í•œ ì¸ì¦ íë¦„ì„ í†µí•´ ìƒˆ ì•¡ì„¸ìŠ¤ í† í°ìœ¼ë¡œ êµí™˜ë©ë‹ˆë‹¤.\n\nê·¸ë˜ì„œ ì¡°ê¸ˆ ë” ëª…í™•í•˜ê²Œ ì„¤ëª…ë˜ì—ˆë‚˜ìš”? ì´ë¥¼ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ì‚¬ìš©ì ì•¡ì„¸ìŠ¤ í‚¤ê°€ ë§Œë£Œëœ ê²½ìš° â€œë¬´ìŒ\"ì´ë¼ê³  ë¶€ë¥¼ ìˆ˜ ìˆëŠ” ë¦¬í”„ë ˆì‹œ í† í° ì—”ë“œí¬ì¸íŠ¸ê°€ í•„ìš”í•´ìš”.\n\n\n\n```js\nexports.refreshToken = tryCatch(async (req, res) => {\n  const cookies = req.cookies;\n  if (!cookies?.jwt) return res.sendStatus(401);\n  const refreshToken = cookies.jwt;\n  res.clearCookie(\"jwt\", { httpOnly: true });\n  const foundUser = await User.findOne({ refreshtoken: refreshToken });\n  \n  if (!foundUser) {\n    jwt.verify(\n      refreshToken,\n      process.env.REFRESH_SECRET_KEY,\n      async (err, decoded) => {\n        if (err) return res.sendStatus(403); //Forbidden\n        const hackedUser = await User.findOne({ username: decoded._id });\n        hackedUser.refreshtoken = [];\n        const result = await hackedUser.save();\n      }\n    );\n    return res.sendStatus(403);\n  }\n\n  const newRefreshTokenArray = foundUser.refreshtoken.filter(\n    (rt) => rt !== refreshToken\n  );\n\n  //evaluate jwt\n  jwt.verify(\n    refreshToken,\n    process.env.REFRESH_SECRET_KEY,\n    async (err, decoded) => {\n      if (err) {\n        foundUser.refreshtoken = [...newRefreshTokenArray];\n        const result = await foundUser.save();\n      }\n      if (err || foundUser._id.toString() !== decoded._id) {\n        return res.sendStatus(403);\n      }\n      //refreshtoken still valid\n      const accessToken = jwt.sign(\n        { _id: decoded._id },\n        process.env.ACCESS_SECRET_KEY,\n        { expiresIn: \"10s\" }\n      );\n\n      const newRefreshToken = jwt.sign(\n        { _id: foundUser._id },\n        process.env.REFRESH_SECRET_KEY,\n        { expiresIn: \"1d\" }\n      );\n      foundUser.refreshtoken = [...newRefreshTokenArray, newRefreshToken];\n      const result = await foundUser.save();\n      res.cookie(\"jwt\", newRefreshToken, {\n        httpOnly: true,\n        maxAge: 24 * 60 * 60 * 1000,\n      });\n      res.status(200).json(accessToken);\n    }\n  );\n});\n```\n\n- Refresh Token í™•ì¸: ë¨¼ì € \"jwt\"ë¼ëŠ” ì¿ í‚¤ì— ì €ì¥ëœ ë¦¬í”„ë ˆì‹œ í† í°ì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ë§Œì•½ ì—†ë‹¤ë©´ 401(ê¶Œí•œì—†ìŒ) ìƒíƒœ ì½”ë“œë¡œ ì‘ë‹µí•˜ì—¬ ì‚¬ìš©ìê°€ ì¸ì¦í•´ì•¼ í•¨ì„ ì•Œë¦½ë‹ˆë‹¤.\n- ì¿ í‚¤ ì‚­ì œ: ë¦¬í”„ë ˆì‹œ í† í°ì˜ ì¡´ì¬ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ë³´ì•ˆì„ ìœ„í•´ \"jwt\" ì¿ í‚¤ë¥¼ ì œê±°í•©ë‹ˆë‹¤.\n- ì‚¬ìš©ì ì°¾ê¸°: ê·¸ í›„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë¦¬í”„ë ˆì‹œ í† í°ê³¼ ì—°ê²°ëœ ì‚¬ìš©ìë¥¼ ì°¾ìŠµë‹ˆë‹¤. ì‚¬ìš©ìë¥¼ ì°¾ì§€ ëª»í•˜ë©´ ë¦¬í”„ë ˆì‹œ í† í°ì˜ ë¬´ê²°ì„±ì„ í™•ì¸í•©ë‹ˆë‹¤.\n- ë¦¬í”„ë ˆì‹œ í† í° í™•ì¸: í™˜ê²½ ë³€ìˆ˜ì— ì €ì¥ëœ ë¹„ë°€ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¦¬í”„ë ˆì‹œ í† í°ì„ í™•ì¸í•©ë‹ˆë‹¤. í† í°ì´ ìœ íš¨í•˜ì§€ ì•Šê±°ë‚˜ ë§Œë£Œë˜ì—ˆë‹¤ë©´ 403(ê¸ˆì§€ë¨) ìƒíƒœ ì½”ë“œë¡œ ì‘ë‹µí•©ë‹ˆë‹¤. ë˜í•œ í™•ì¸ì— ì‚¬ìš©ëœ ì‚¬ìš©ìë¥¼ ì°¾ì•„ ì‚¬ìš©ìì™€ ì—°ê´€ëœ ëª¨ë“  ë¦¬í”„ë ˆì‹œ í† í°ì„ ì œê±°í•˜ì—¬ ì ì¬ì ì¸ ë‚¨ìš©ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n- í† í° ê°±ì‹ : ë¦¬í”„ë ˆì‹œ í† í°ì´ ìœ íš¨í•˜ê³  ì‚¬ìš©ìì™€ ì—°ê´€ë˜ì–´ ìˆë‹¤ë©´ ì•¡ì„¸ìŠ¤ í† í°ê³¼ ë¦¬í”„ë ˆì‹œ í† í°ì„ ê°±ì‹ í•©ë‹ˆë‹¤. ì§§ì€ ë§Œë£Œ ì‹œê°„(ì—¬ê¸°ì„œ 10ì´ˆ)ì„ ê°–ëŠ” ìƒˆë¡œìš´ ì•¡ì„¸ìŠ¤ í† í°ê³¼ ê¸´ ë§Œë£Œ ì‹œê°„(ì—¬ê¸°ì„œ 1ì¼)ì„ ê°–ëŠ” ìƒˆë¡œìš´ ë¦¬í”„ë ˆì‹œ í† í°ì„ ìƒì„±í•©ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ë¦¬í”„ë ˆì‹œ í† í° ë°°ì—´ì„ ìƒˆë¡œìš´ ë¦¬í”„ë ˆì‹œ í† í°ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•©ë‹ˆë‹¤.\n- ìƒˆë¡œìš´ ì¿ í‚¤ ì„¤ì •: ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒˆë¡œìš´ ë¦¬í”„ë ˆì‹œ í† í°ì„ ì•ˆì „í•˜ê²Œ ì„¤ì •í•˜ê¸° ìœ„í•´ HTTP-only í”Œë˜ê·¸ì™€ ìµœëŒ€ 24ì‹œê°„ ë‚˜ì´ê°€ ìˆëŠ” ì¿ í‚¤ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ìƒˆë¡œìš´ ì•¡ì„¸ìŠ¤ í† í°ê³¼ í•¨ê»˜ 200(ì„±ê³µ) ìƒíƒœ ì½”ë“œë¡œ ì‘ë‹µí•©ë‹ˆë‹¤.\n\në˜í•œ ë°ì´í„°ë² ì´ìŠ¤ë¡œë¶€í„° ì‚¬ìš©ì ì´ë©”ì¼ì„ ê°€ì ¸ì˜¤ëŠ” ë³´ì•ˆëœ ì—”ë“œí¬ì¸íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤:\n\n```js\nexports.getUserData = tryCatch(async (req, res) => {\n  const userId = req.params.id;\n  const foundUser = await User.findOne({ _id: userId });\n\n  const data = {\n    userEmail: foundUser.email,\n  };\n\n  res.status(200).json(data).end();\n});\n```\n\n\n\nì €í¬ ë¼ìš°íŠ¸ì—ë„ ë‹¤ìŒì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤:\n\n```js\nconst express = require(\"express\");\nconst authController = require(\"./controllers\");\nconst verifyJWT = require(\"../../middleware/verifyJWT\");\n\nconst router = express.Router();\n\n//Auth ê¸°ë°˜ ë¼ìš°íŠ¸\nrouter.post(\"/signUp\", authController.SignUp);\nrouter.post(\"/signIn\", authController.SignIn);\nrouter.get(\"/refresh\", authController.refreshToken);\nrouter.get(\"/logout\", authController.logOut);\n\nrouter.get(\"/getUser/:id\", verifyJWT, authController.getUserData);\n\nmodule.exports = router;\n```\n\nì—¬ê¸°ì„œ verifyJWT ë¯¸ë“¤ì›¨ì–´ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ì•¼ í•©ë‹ˆë‹¤:\n\n```js\nconst jwt = require(\"jsonwebtoken\");\nrequire(\"dotenv\").config();\n\nconst verifyJWT = (req, res, next) => {\n  const authHeader = req.headers[\"authorization\"];\n  if (!authHeader) return res.sendStatus(401);\n  console.log(authHeader);\n  const token = authHeader.split(\"Bearer \")[1];\n  console.log(token);\n  console.log(\"access secret\", process.env.ACCESS_SECRET_KEY);\n  jwt.verify(token, process.env.ACCESS_SECRET_KEY, (err, decoded) => {\n    console.log(decoded);\n    if (err) {\n      console.log(err);\n      return res.status(403).json({ error: \"Forbidden: JWT token expired!\" });\n    }\n    req.user = decoded.username;\n    next();\n  });\n};\n\nmodule.exports = verifyJWT;\n```\n\n\n\nì´ ì½”ë“œì—ì„œëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì¸ì¦ì— ì‚¬ìš©ë˜ëŠ” JSON Web Token (JWT)ì„ í™•ì¸í•˜ëŠ” verifyJWTë¼ëŠ” ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ë¨¼ì €, JWT í™•ì¸ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ jsonwebtoken íŒ¨í‚¤ì§€ë¥¼ ê°€ì ¸ì˜¤ê³  í™˜ê²½ ë³€ìˆ˜ì— ì•ˆì „í•˜ê²Œ ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ dotenv íŒ¨í‚¤ì§€ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. verifyJWT í•¨ìˆ˜ëŠ” req (ìš”ì²­), res (ì‘ë‹µ) ë° nextë¼ëŠ” ì„¸ ê°€ì§€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ Express ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¯¸ë“¤ì›¨ì–´ë¡œ ì‘ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•¨ìˆ˜ ë‚´ì—ì„œëŠ” ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì˜ Authorization í—¤ë”ì—ì„œ JWT í† í°ì„ ì¶”ì¶œí•©ë‹ˆë‹¤. í—¤ë”ê°€ ëˆ„ë½ë˜ê±°ë‚˜ í˜•ì‹ì´ ì˜ëª»ëœ ê²½ìš° ì¦‰ì‹œ ìƒíƒœ ì½”ë“œê°€ 401 (ì¸ì¦ë˜ì§€ ì•ŠìŒ)ìœ¼ë¡œ ì‘ë‹µë©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í—¤ë”ë¥¼ ë¶„í• í•˜ì—¬ \"Bearer \" ì ‘ë‘ì‚¬ë¥¼ ì œê±°í•˜ê³  í† í°ì„ ë¶„ë¦¬í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ jwt.verifyë¥¼ ì‚¬ìš©í•˜ì—¬ í† í°ì„ ë””ì½”ë”©í•˜ê³  í™˜ê²½ ë³€ìˆ˜ì— ì €ì¥ëœ ì—‘ì„¸ìŠ¤ ì‹œí¬ë¦¿ í‚¤ì™€ì˜ ì¼ì¹˜ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. í™•ì¸ì´ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš°(ì˜ˆ: í† í° ë§Œë£Œ ë˜ëŠ” ì˜ëª»ëœ ì„œëª…), ìƒíƒœ ì½”ë“œê°€ 403(ê¸ˆì§€ë¨)ìœ¼ë¡œ ì‘ë‹µë˜ê³  ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í† í°ì´ ìœ íš¨í•œ ê²½ìš° ë””ì½”ë”©ëœ í˜ì´ë¡œë“œ(ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ì ì •ë³´ë¥¼ í¬í•¨)ë¥¼ ì¶”ì¶œí•˜ì—¬ req.userë¡œì¨ ìš”ì²­ ê°ì²´ì— ì²¨ë¶€í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ next í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìš”ì²­-ì‘ë‹µ ì£¼ê¸°ì—ì„œ ë‹¤ìŒ ë¯¸ë“¤ì›¨ì–´ë‚˜ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ì œì–´ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤. ì´ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ íš¨í•œ JWT í† í°ì„ ê°€ì§„ ìš”ì²­ë§Œ ë³´í˜¸ëœ ê²½ë¡œì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡í•˜ë©° ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.\n\ní•„ìš”í•œ ëª¨ë“  ê²ƒì„ ìƒì„±í•œ í›„ì—ëŠ” ì„œë²„.jsì— cors ë° ì¿ í‚¤ êµ¬ë¬¸ ë¶„ì„ì„ ìœ„í•œ ì¶”ê°€ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤:\n\n```js\nconst express = require(\"express\");\nconst cors = require(\"cors\");\nconst db = require(\"./dbconnection\");\nconst port = 5000;\nconst bodyParser = require(\"body-parser\");\nconst cookieParser = require(\"cookie-parser\");\nconst app = express();\n\nconst userRoutes = require(\"./apis/users/routes\");\n\nconst frontendURI = \"http://localhost:5173\";\n\napp.use(bodyParser.json({ limit: \"5mb\" }));\napp.use(cookieParser());\napp.use(\n  cors({\n    origin: frontendURI, // ê·€í•˜ì˜ í”„ë¡ íŠ¸ì—”ë“œ ë„ë©”ì¸ìœ¼ë¡œ ëŒ€ì²´\n    credentials: true, // ìê²© ì¦ëª…(ì¿ í‚¤, ì¸ê°€ í—¤ë”) í—ˆìš©\n  })\n);\napp.use(\"/users\", userRoutes);\napp.listen(port, () => {\n  console.log(`ì„œë²„ê°€ í¬íŠ¸ ${port}ì—ì„œ ì‹¤í–‰ì¤‘ì…ë‹ˆë‹¤.`);\n});\n```\n\n- CORS(Cross-Origin Resource Sharing):\n\n\n\n- Cors ë¯¸ë“¤ì›¨ì–´ëŠ” ìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Cross-Origin Resource Sharingì„ í™œì„±í™”í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ê°€ ì›ë˜ ì¶œì²˜(origin)ì™€ ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ìš”ì²­ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ ì„œë¡œ ë‹¤ë¥¸ ë„ë©”ì¸ì˜ ì„œë²„ë¡œ ìš”ì²­ì„ í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ê²Œ ì¤‘ìš”í•©ë‹ˆë‹¤.\n- ìš°ë¦¬ì˜ ì½”ë“œì—ì„œëŠ” corsë¥¼ íŠ¹ì •í•œ ì˜µì…˜ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤:\n  - origin: í¬ë¡œìŠ¤-ì˜¤ë¦¬ì§„ ìš”ì²­ì˜ í—ˆìš©ëœ ì›ë³¸ì„ ì§€ì •í•©ë‹ˆë‹¤. ì´ ê²½ìš°, \"http://localhost:5173\"ì¸ íŠ¹ì • í”„ë¡ íŠ¸ì—”ë“œ URI(frontendURI)ì—ì„œì˜ ìš”ì²­ì„ í—ˆìš©í•©ë‹ˆë‹¤.\n  - credentials: ì„œë²„ê°€ ìš”ì²­ì— ì¿ í‚¤ë‚˜ ì¸ì¦ í—¤ë”ì™€ ê°™ì€ ìê²© ì¦ëª…ì„ í¬í•¨í•´ì•¼ í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ë¥¼ trueë¡œ ì„¤ì •í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ê·¸ëŸ¬í•œ ìê²© ì¦ëª…ì„ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n2. bodyParser:\n\n- bodyParser ë¯¸ë“¤ì›¨ì–´ëŠ” ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ ë³¸ë¬¸ì„ êµ¬ë¬¸ ë¶„ì„í•˜ê³  êµ¬ë¬¸ ë¶„ì„ëœ ë°ì´í„°ë¥¼ req.body ì†ì„± ì•„ë˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. íŠ¹íˆ POST ë˜ëŠ” PUT ìš”ì²­ì„ ì²˜ë¦¬í•  ë•Œ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì „ì†¡ëœ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n- ìš°ë¦¬ì˜ ì½”ë“œì—ì„œëŠ” bodyParser.json()ì„ ì‚¬ìš©í•˜ì—¬ JSON ì¸ì½”ë”©ëœ ìš”ì²­ ë³¸ë¬¸ì„ êµ¬ë¬¸ ë¶„ì„í•©ë‹ˆë‹¤. ë˜í•œ ìš”ì²­ ë³¸ë¬¸ í¬ê¸°ì˜ ì œí•œì„ 5MBë¡œ ì„¤ì •í•˜ì—¬ ë‹¨ì¼ ìš”ì²­ì—ì„œ ì „ì†¡í•  ìˆ˜ ìˆëŠ” ë°ì´í„° ì–‘ì„ ì œí•œí•˜ì—¬ ì ì¬ì ì¸ ì„œë¹„ìŠ¤ ê±°ë¶€ ê³µê²©ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n\n3. cookieParser:\n\n\n\n- CookieParser ë¯¸ë“¤ì›¨ì–´ëŠ” í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì— ì²¨ë¶€ëœ ì¿ í‚¤ë¥¼ êµ¬ë¬¸ ë¶„ì„í•˜ê³  req.cookies ì†ì„± ì•„ë˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“­ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚¸ ì¿ í‚¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ì¤‘ìš”í•œë°, ì´ëŠ” ì„¸ì…˜ ê´€ë¦¬, ì¸ì¦ ë° ê¸°íƒ€ ëª©ì ìœ¼ë¡œ ìì£¼ ì‚¬ìš©ë©ë‹ˆë‹¤.\n- ì €í¬ ì½”ë“œì—ì„œëŠ” ì¶”ê°€ êµ¬ì„± ì—†ì´ cookieParserì˜ ê¸°ë³¸ ì„¤ì •ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nì´ì œ ë°±ì—”ë“œ êµ¬í˜„ì„ ë‹¤ë£¼ìœ¼ë¡œì¨, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ìµœì†Œí•œì˜ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ë§Œë“¤ì–´ ëª¨ë“  ê²ƒì„ ì—°ê²°í•´ ë³´ê² ìŠµë‹ˆë‹¤. í”„ë¡ íŠ¸ì—”ë“œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì¶•í•¨ìœ¼ë¡œì¨ ë°©ê¸ˆ ê°œë°œí•œ ë°±ì—”ë“œ ê¸°ëŠ¥ê³¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. Reactë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°ë¥¼ ì„¤ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” SignUp, SignIn, RefreshToken ë° LogOutê³¼ ê°™ì€ ë°±ì—”ë“œì— êµ¬í˜„í•œ ì¸ì¦ ì—”ë“œí¬ì¸íŠ¸ì™€ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ êµ¬ì„± ìš”ì†Œë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤. ë”ë¶ˆì–´ Axiosì™€ ê°™ì€ ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ ë°±ì—”ë“œ APIë¡œ HTTP ìš”ì²­ì„ ë³´ë‚´ê³  ì‚¬ìš©ì ì¸ì¦ íë¦„ì„ ì›í™œí•˜ê²Œ ì²˜ë¦¬í•  ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆ ì´ì œ ì†Œë§¤ë¥¼ ê±·ì–´ ì˜¬ë¦¬ê³  í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ í”„ë¡œì„¸ìŠ¤ë¡œ ë›°ì–´ ë“¤ì–´ ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ë¥¼ ë³´ì™„í•´ ë´…ì‹œë‹¤!\n\nëª¨ë“  ê²ƒì´ ì •í™•íˆ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê³  ë³´ì¥í•˜ë ¤ë©´, ì´ ì½”ë“œì˜ GitHub ì €ì¥ì†Œë¥¼ ë°©ë¬¸í•´ ì£¼ì„¸ìš”.\n\nì œ2ë¶€ì—ì„œ ì—¬ëŸ¬ë¶„ì„ ë§Œë‚˜ëŠ” ê²ƒì„ ê³ ëŒ€í•˜ê² ìŠµë‹ˆë‹¤!","ogImage":{"url":"/assets/img/2024-05-12-RefreshAuthTokenRotationNodejsReactPart1_0.png"},"coverImage":"/assets/img/2024-05-12-RefreshAuthTokenRotationNodejsReactPart1_0.png","tag":["Tech"],"readingTime":19},{"title":"ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš©ì ì •ì˜ ë“œë¡­ë‹¤ìš´ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸° ë‹¨ê³„ë³„ ê°€ì´ë“œ","description":"","date":"2024-05-12 19:10","slug":"2024-05-12-BuildingaCustomDropdownComponentinReactStepbyStep","content":"\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-BuildingaCustomDropdownComponentinReactStepbyStep_0.png)\n\nì•ˆë…•í•˜ì„¸ìš”! ì´ ê¸°ì‚¬ì—ì„œëŠ” React ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë™ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì •ì˜ Dropdown ì»´í¬ë„ŒíŠ¸ë¥¼ ì†Œê°œí•˜ë ¤ê³ í•´ìš”. ì´ Dropdown ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©ìê°€ ëª©ë¡ì—ì„œ í•­ëª©ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ í•˜ë©´ì„œ ë‹¤ì–‘í•œ ìœ„ì¹˜ì™€ ìŠ¤íƒ€ì¼ë¡œ í‘œì‹œë  ìˆ˜ ìˆì–´ìš”. ë˜í•œ ì´ë¯¸ì§€ê°€ ìˆëŠ” ê²½ìš°ì™€ ì—†ëŠ” ê²½ìš° ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ì´ ì»´í¬ë„ŒíŠ¸ëŠ” Typescript, Tailwind CSS, React Icons ë° Classnamesì™€ ê°™ì€ ì¸ê¸°ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë°œë˜ì—ˆì–´ìš”.\n\nğŸ‘‰ ë¨¼ì € ë‹¨ê³„ë³„ë¡œ ë¬´ì—‡ì´ ì¼ì–´ë‚˜ê³  ìˆëŠ”ì§€ ì„¤ëª…í•œ í›„ì— ë§ˆì§€ë§‰ì— ì „ì²´ ì½”ë“œì™€ ì‚¬ìš©ë²•ì„ ì¶”ê°€í•  ê±°ì˜ˆìš”. ì¤€ë¹„ê°€ ë˜ì…¨ë‚˜ìš”? ê·¸ëŸ¼ ì‹œì‘í•´ë´…ì‹œë‹¤!\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-BuildingaCustomDropdownComponentinReactStepbyStep_1.png)\n\n## 1. Imports:\n\n```js\nimport { useEffect, useRef, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { GoChevronDown } from \"react-icons/go\";\nimport useOutsideClick from \"../hooks/useOutsideClick\";\n```\n\nğŸ”¸ useEffect, useRef ë° useState âœ ì´ë“¤ì€ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  DOM ìš”ì†Œì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ëŠ” React í›…ì…ë‹ˆë‹¤.\n\nğŸ”¸ classNames âœ ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì¡°ê±´ë¶€ë¡œ classNamesì„ ê²°í•©í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nğŸ”¹ goChevronDown âœ ì´ ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ëŠ” ë“œë¡­ë‹¤ìš´ í† ê¸€ ë²„íŠ¼ì— ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nğŸ”¹ useOutsideClick âœ ì´ ì‚¬ìš©ì ì •ì˜ í›„í¬ëŠ” ì§€ì •ëœ ìš”ì†Œ ì™¸ë¶€ë¥¼ í´ë¦­ ê°ì§€í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n## 2. ì¸í„°í˜ì´ìŠ¤:\n\n```js\nì¸í„°í˜ì´ìŠ¤ DropdownItem {\n  id: string;\n  name: string;\n  imageUrl?: string;\n}\n\nì¸í„°í˜ì´ìŠ¤ DropdownProps {\n  id: string;\n  title?: string;\n  data: DropdownItem[];\n  position?: \"bottom-right\" | \"bottom-left\" | \"top-right\" | \"top-left\";\n  hasImage?: boolean;\n  style?: string;\n  selectedId?: string;\n  onSelect?: (id: string) => void;\n}\n```\n\nğŸ”¹DropdownItemâœ DropdownItemì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ ì¸í„°í˜ì´ìŠ¤ëŠ” ê° ë“œë¡­ë‹¤ìš´ ì•„ì´í…œì— í•„ìš”í•œ ì†ì„±ì¸ id, name ë° ì˜µì…˜ìœ¼ë¡œ imageUrlì„ ì§€ì •í•©ë‹ˆë‹¤.\n\nğŸ”¹DropdownPropsâœ ì´ ì¸í„°í˜ì´ìŠ¤ëŠ” Dropdown ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•  ìˆ˜ ìˆëŠ” í”„ë¡œí¼í‹°ë“¤ì„ ì§€ì •í•©ë‹ˆë‹¤. ì´ í”„ë¡œí¼í‹°ë“¤ì˜ ì„¤ëª…ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-BuildingaCustomDropdownComponentinReactStepbyStep_2.png)\n\nğŸ“Œ id: Dropdown ì»´í¬ë„ŒíŠ¸ì˜ ê³ ìœ  ì‹ë³„ìì…ë‹ˆë‹¤.\n\nğŸ“Œ ì œëª©: ë“œë¡­ë‹¤ìš´ì´ ì—´ë¦´ ë•Œ í‘œì‹œë˜ëŠ” ê¸°ë³¸ ì œëª©. ê¸°ë³¸ ì œëª©ì€ \"Select\"ì…ë‹ˆë‹¤.\n\nğŸ“Œ ë°ì´í„°: ë“œë¡­ë‹¤ìš´ ì½˜í…ì¸ ë¥¼ êµ¬ì„±í•˜ëŠ” í•­ëª© ëª©ë¡.\n\nğŸ“Œ ìœ„ì¹˜: ë“œë¡­ë‹¤ìš´ì˜ ìœ„ì¹˜ë¥¼ ë²„íŠ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤. (\"bottom-right\", \"bottom-left\", \"top-right\", \"top-left\"). ê¸°ë³¸ ìœ„ì¹˜ëŠ” \"bottom-left\"ì…ë‹ˆë‹¤.\n\nğŸ“Œ ì´ë¯¸ì§€ í¬í•¨ ì—¬ë¶€: ë“œë¡­ë‹¤ìš´ í•­ëª©ì— ì´ë¯¸ì§€ê°€ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¶€ìš¸ ê°’.\n\nğŸ“Œ ìŠ¤íƒ€ì¼ : ë“œë¡­ë‹¤ìš´ ì»´í¬ë„ŒíŠ¸ì— ì ìš©í•  ì¶”ê°€ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.\n\nğŸ“Œ selectedId : ì´ˆê¸° ì„ íƒ í•­ëª©ì˜ ì‹ë³„ìì…ë‹ˆë‹¤.\n\nğŸ“Œ onSelect : í•­ëª©ì´ ì„ íƒë  ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜ì…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-BuildingaCustomDropdownComponentinReactStepbyStep_3.png)\n\nì´ í”„ë¡­ë“¤ì€ Dropdown ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì–‘í•œ ì‚¬ìš© ì‚¬ë¡€ì— ë§ê²Œ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆë„ë¡ í•´ ì¤ë‹ˆë‹¤. ì‚¬ìš©ìê°€ í•„ìš”ì— ë§ê²Œ ë“œëë‹¤ìš´ì˜ ë™ì‘, ë‚´ìš©, ì™¸ê´€ì„ ë§ì¶¤ ì„¤ì •í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.\n\n## 3. Dropdown ì»´í¬ë„ŒíŠ¸ ìƒì„±:\n\n```js\nconst Dropdown = ({\n  id,\n  title = \"Select\", //ê¸°ë³¸ ê°’\n  data,\n  position = \"bottom-left\", //ê¸°ë³¸ ê°’\n  hasImage,\n  style,\n  selectedId,\n  onSelect,\n}: DropdownProps) => {\n  return (\n    <div ref={dropdownRef} className=\"relative\">\n      {/* ... */}\n    </div>\n  );\n};\nexport default Dropdown;\n```\n\nğŸ”¹Dropdown ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©ì ì •ì˜ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ì»´í¬ë„ŒíŠ¸ì´ë©° ìœ„ì˜ í”„ë¡­ì„ í—ˆìš©í•©ë‹ˆë‹¤.\n\n## 4. ìƒíƒœ ë³€ìˆ˜:\n\n```js\nconst [isOpen, setIsOpen] = useState < boolean > false;\n\nconst [selectedItem, setSelectedItem] =\n  (useState < DropdownItem) | (undefined > (selectedId ? data?.find((item) => item.id === selectedId) : undefined));\n```\n\nğŸ”¹isOpenâœ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì˜ ì—´ê¸°/ë‹«ê¸° ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.\n\nğŸ”¹selectedItemâœ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì—ì„œ í˜„ì¬ ì„ íƒëœ í•­ëª©ì„ ì¶”ì í•©ë‹ˆë‹¤.\n\n## 5. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬:\n\n```js\nconst handleChange = (item: DropdownItem) => {\n  setSelectedItem(item);\n  onSelect && onSelect(item.id);\n  setIsOpen(false);\n};\n```\n\nğŸ”¹handleChangeâœ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì—ì„œ í•­ëª©ì„ ì„ íƒí•˜ëŠ” í•¸ë“¤ëŸ¬ì…ë‹ˆë‹¤. ì„ íƒëœ í•­ëª©ì„ ì—…ë°ì´íŠ¸í•˜ê³ , onSelect ì½œë°±ì„ í˜¸ì¶œ(ì œê³µëœ ê²½ìš°)í•˜ë©°, ë“œë¡­ë‹¤ìš´ ë©”ë‰´ë¥¼ ë‹«ìŠµë‹ˆë‹¤.\n\n## 6. useEffect í›…:\n\n```js\nuseEffect(() => {\n  if (selectedId && data) {\n    const newSelectedItem = data.find((item) => item.id === selectedId);\n    newSelectedItem && setSelectedItem(newSelectedItem);\n  } else {\n    setSelectedItem(undefined);\n  }\n}, [selectedId, data]);\n```\n\nğŸ”¹ ì´ useEffect í›…ì€ selectedIdì™€ dataì˜ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•©ë‹ˆë‹¤. ë‘˜ ì¤‘ í•˜ë‚˜ê°€ ë³€ê²½ë˜ë©´ ë°ì´í„°ì—ì„œ selectedIdì™€ ì¼ì¹˜í•˜ëŠ” í•­ëª©ì„ ì°¾ì•„ selectedItemì— ì„¤ì •í•©ë‹ˆë‹¤.\n\n## 7. Ref:\n\n```js\nconst dropdownRef = useRef < HTMLDivElement > null;\nuseOutsideClick({\n  ref: dropdownRef,\n  handler: () => setIsOpen(false),\n});\n```\n\nğŸ”¹ dropdownRefâœ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ì™¸ë¶€ í´ë¦­ì„ ê°ì§€í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” Refì…ë‹ˆë‹¤.\n\n## 8. CSS í´ë˜ìŠ¤:\n\n```js\nconst dropdownClass = classNames(\"absolute bg-gray-100 w-max max-h-52 overflow-y-auto py-3 rounded shadow-md z-10\", {\n  \"top-full right-0 mt-2\": position === \"bottom-right\",\n  \"top-full left-0 mt-2\": position === \"bottom-left\",\n  \"bottom-full right-0 mb-2\": position === \"top-right\",\n  \"bottom-full left-0 mb-2\": position === \"top-left\",\n});\n```\n\nğŸ”¹ dropdownClassâœ ìœ„ì¹˜ propì— ë”°ë¼ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ë¥¼ ë°°ì¹˜í•˜ê¸° ìœ„í•´ CSS í´ë˜ìŠ¤ë¥¼ ë™ì ìœ¼ë¡œ ê³„ì‚°í•©ë‹ˆë‹¤.\n\n## 9. ë“œë¡­ë‹¤ìš´ í† ê¸€ ë²„íŠ¼ ìƒì„±:\n\n```js\n<button\n  id={id}\n  aria-label=\"ë“œë¡­ë‹¤ìš´ í† ê¸€\"\n  aria-haspopup=\"true\"\n  aria-expanded={isOpen}\n  type=\"button\"\n  onClick={() => setIsOpen(!isOpen)}\n  className={classNames(\n    \"flex justify-between items-center gap-5 rounded w-full py-2 px-4 bg-blue-500 text-white\",\n    style\n  )}\n>\n  <span>{selectedItem?.name || title}</span>\n  <GoChevronDown\n    size={20}\n    className={classNames(\"transform duration-500 ease-in-out\", {\n      \"rotate-180\": isOpen,\n    })}\n  />\n</button>\n```\n\nğŸ”¹ë²„íŠ¼ ì—˜ë¦¬ë¨¼íŠ¸ëŠ” ì œëª© ë˜ëŠ” ì„ íƒí•œ í•­ëª©ì˜ í…ìŠ¤íŠ¸ì™€ í™”ì‚´í‘œ ì•„ì´ì½˜ì´ ë“¤ì–´ ìˆìŠµë‹ˆë‹¤.\n\nğŸ”¹í´ë¦­í•  ë•Œë§ˆë‹¤ ë²„íŠ¼ì€ isOpen ìƒíƒœë¥¼ í† ê¸€í•©ë‹ˆë‹¤.\n\n## 10. ë“œë¡­ë‹¤ìš´ ì½˜í…ì¸  ìƒì„±:\n\n```js\n{\n  isOpen && (\n    <div aria-label=\"ë“œë¡­ë‹¤ìš´ ë©”ë‰´\" className={dropdownClass}>\n      <ul role=\"menu\" aria-labelledby={id} aria-orientation=\"vertical\" className=\"leading-10\">\n        {data?.map((item) => (\n          <li\n            key={item.id}\n            onClick={() => handleChange(item)}\n            className={classNames(\"flex items-center cursor-pointer hover:bg-gray-200 px-3\", {\n              \"bg-gray-300\": selectedItem?.id === item.id,\n            })}\n          >\n            {hasImage && (\n              <img\n                src={item.imageUrl}\n                alt=\"ì´ë¯¸ì§€\"\n                loading=\"lazy\"\n                className=\"w-8 h-8 rounded-full bg-gray-400 object-cover me-2\"\n              />\n            )}\n            <span>{item.name}</span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n```\n\nğŸ”¹ë§Œì•½ ë“œë¡­ë‹¤ìš´ì´ ì—´ë ¤ìˆìœ¼ë©´(isOpenì´ true), ë“œë¡­ë‹¤ìš´ ë©”ë‰´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” divê°€ ë Œë”ë§ë©ë‹ˆë‹¤.\n\nğŸ”¹ë“œë¡­ë‹¤ìš´ ë©”ë‰´ëŠ” data propìœ¼ë¡œë¶€í„° ìƒì„±ëœ í•­ëª© ëª©ë¡ì„ í¬í•¨í•©ë‹ˆë‹¤.\n\nğŸ”¹ë¦¬ìŠ¤íŠ¸ì˜ ê° í•­ëª©ì€ `li` ìš”ì†Œë¡œ í‘œì‹œë©ë‹ˆë‹¤.\n\nğŸ”¹hasImage ê°’ì´ trueì¼ ê²½ìš°, ê° í•­ëª© ì˜†ì— ì´ë¯¸ì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.\n\n## ì‚¬ìš©ë²•: â¤µï¸\n\n```js\nconst handleSelect = (id: string) => {\n  console.log(`idê°€ ${id}ì¸ í•­ëª©ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤`);\n};\n\n<Dropdown\n  id=\"person\"\n  title=\"ì‚¬ëŒ ì„ íƒ\"\n  data={data}\n  hasImage\n  style=\"bg-purple-800\"\n  selectedId=\"3\"\n  onSelect={handleSelect}\n/>;\n```\n\n## âœ”ï¸ ì—¬ê¸°ì— ì „ì²´ ì½”ë“œê°€ ìˆì–´ìš”: ğŸ‘‡\n\nDropdown.tsx\n\n```js\nimport { useEffect, useRef, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { GoChevronDown } from \"react-icons/go\";\nimport useOutsideClick from \"../hooks/useOutsideClick\";\n\ninterface DropdownItem {\n  id: string;\n  name: string;\n  imageUrl?: string;\n}\n\ninterface DropdownProps {\n  id: string;\n  title?: string;\n  data: DropdownItem[];\n  position?: \"bottom-right\" | \"bottom-left\" | \"top-right\" | \"top-left\";\n  hasImage?: boolean;\n  style?: string;\n  selectedId?: string;\n  onSelect?: (id: string) => void;\n}\n\nconst Dropdown = ({\n  id,\n  title = \"Select\",\n  data,\n  position = \"bottom-left\",\n  hasImage,\n  style,\n  selectedId,\n  onSelect,\n}: DropdownProps) => {\n  const [isOpen, setIsOpen] = useState < boolean > false;\n  const [selectedItem, setSelectedItem] =\n    (useState < DropdownItem) | (undefined > (selectedId ? data?.find((item) => item.id === selectedId) : undefined));\n\n  const handleChange = (item: DropdownItem) => {\n    setSelectedItem(item);\n    onSelect && onSelect(item.id);\n    setIsOpen(false);\n  };\n\n  useEffect(() => {\n    if (selectedId && data) {\n      const newSelectedItem = data.find((item) => item.id === selectedId);\n      newSelectedItem && setSelectedItem(newSelectedItem);\n    } else {\n      setSelectedItem(undefined);\n    }\n  }, [selectedId, data]);\n\n  const dropdownRef = useRef < HTMLDivElement > null;\n  useOutsideClick({\n    ref: dropdownRef,\n    handler: () => setIsOpen(false),\n  });\n\n  const dropdownClass = classNames(\"absolute bg-gray-100 w-max max-h-52 overflow-y-auto py-3 rounded shadow-md z-10\", {\n    \"top-full right-0 mt-2\": position === \"bottom-right\",\n    \"top-full left-0 mt-2\": position === \"bottom-left\",\n    \"bottom-full right-0 mb-2\": position === \"top-right\",\n    \"bottom-full left-0 mb-2\": position === \"top-left\",\n  });\n\n  return (\n    <div ref={dropdownRef} className=\"relative\">\n      <button\n        id={id}\n        aria-label=\"Toggle dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded={isOpen}\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        className={classNames(\n          \"flex justify-between items-center gap-5 rounded w-full py-2 px-4 bg-blue-500 text-white\",\n          style\n        )}\n      >\n        <span>{selectedItem?.name || title}</span>\n        <GoChevronDown\n          size={20}\n          className={classNames(\"transform duration-500 ease-in-out\", {\n            \"rotate-180\": isOpen,\n          })}\n        />\n      </button>\n      {/* Open */}\n      {isOpen && (\n        <div aria-label=\"Dropdown menu\" className={dropdownClass}>\n          <ul role=\"menu\" aria-labelledby={id} aria-orientation=\"vertical\" className=\"leading-10\">\n            {data?.map((item) => (\n              <li\n                key={item.id}\n                onClick={() => handleChange(item)}\n                className={classNames(\"flex items-center cursor-pointer hover:bg-gray-200 px-3\", {\n                  \"bg-gray-300\": selectedItem?.id === item.id,\n                })}\n              >\n                {hasImage && (\n                  <img\n                    src={item.imageUrl}\n                    alt=\"image\"\n                    loading=\"lazy\"\n                    className=\"w-8 h-8 rounded-full bg-gray-400 object-cover me-2\"\n                  />\n                )}\n                <span>{item.name}</span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dropdown;\n```\n\n## useOutSideClick Hook Code: â¤µï¸\n\nuseOutsideClick.tsx\n\n```js\nimport { useEffect } from 'react';\n\ninterface OutsideClickHandlerProps {\n  ref: React.RefObject<HTMLElement>;\n  handler: () => void;\n}\n\nconst useOutsideClick = ({ ref, handler }: OutsideClickHandlerProps) => {\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (ref.current && !ref.current.contains(event.target as Node)) {\n        handler();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [ref, handler]);\n};\n\nexport default useOutsideClick;\n```\n\n## ìƒ˜í”Œ ë°ì´í„° (JSON): â¤µï¸\n\ndata.json\n\n```json\n[\n  {\n    \"id\": \"1\",\n    \"name\": \"Minnie Barrett\",\n    \"imageUrl\": \"https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\"\n  },\n  {\n    \"id\": \"2\",\n    \"name\": \"Andy Holmes\",\n    \"imageUrl\": \"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\"\n  },\n  {\n    \"id\": \"3\",\n    \"name\": \"Felicia Watts\",\n    \"imageUrl\": \"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1888&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\"\n  },\n  {\n    \"id\": \"4\",\n    \"name\": \"Hailey Green\",\n    \"imageUrl\": \"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\"\n  },\n  {\n    \"id\": \"5\",\n    \"name\": \"Jeremiah Hughes\",\n    \"imageUrl\": \"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\"\n  },\n  {\n    \"id\": \"6\",\n    \"name\": \"Amy Perkins\",\n    \"imageUrl\": \"https://images.unsplash.com/photo-1587677171791-8b93c752999b?q=80&w=1949&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\"\n  }\n]\n```\n\nGithub ì£¼ì†Œ:\n\nì‹¤ì‹œê°„ ë°ëª¨:\n\n## ê²°ë¡ \n\nìš”ì•½í•˜ìë©´, React ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì •ì˜ Dropdown ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ê³  ì„¤ëª…ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì–‘í•œ ìœ„ì¹˜ì™€ ìŠ¤íƒ€ì¼ì—ì„œ í™œìš©ë  ìˆ˜ ìˆìœ¼ë©° ì‚¬ìš©ìê°€ ëª©ë¡ì—ì„œ í•­ëª©ì„ ì„ íƒí•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. TypeScript, Tailwind CSS, React Icons ë° Classnamesë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë°œëœ ì´ Dropdown ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ê°œë°œ í”„ë¡œì„¸ìŠ¤ì—ì„œ ìƒë‹¹í•œ í¸ì˜ì„±ì„ ì œê³µí•˜ë©° React ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-05-12-BuildingaCustomDropdownComponentinReactStepbyStep_0.png"},"coverImage":"/assets/img/2024-05-12-BuildingaCustomDropdownComponentinReactStepbyStep_0.png","tag":["Tech"],"readingTime":12},{"title":"Expo Dev Client ì„¤ì¹˜ ë°©ë²• ì™„ë²½í•œ ê°€ì´ë“œ 2024","description":"","date":"2024-05-12 19:08","slug":"2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024","content":"\n\n<img src=\"/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_0.png\" />\n\n# ê·¸ëŸ¼, ì‹œì‘í•´ë´…ì‹œë‹¤!\n\në‹¤ìŒ íŠœí† ë¦¬ì–¼ì€ Windows ê¸°ê¸°ìš©ìœ¼ë¡œ ì œì‘ë˜ì—ˆìœ¼ë©°, íŠ¹íˆ Windows 10 (64ë¹„íŠ¸)ì— ë§ì¶°ì ¸ ìˆìŠµë‹ˆë‹¤. ë§Œì•½ ë§¥ì´ë‚˜ ë¦¬ëˆ…ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ê³„ì‹ ë‹¤ë©´, ì „ë°˜ì ì¸ ê³¼ì •ì„ ì´í•´í•˜ê¸° ìœ„í•´ ì½ì–´ë³´ì„¸ìš”.\n\n## ëª©ì°¨ â€”\n\n\n\n- Java Development Kit (JDK)ì„ ì„¤ì¹˜í•˜ì„¸ìš”.\n- í™˜ê²½ ë³€ìˆ˜ ì„¤ì •: JAVA_HOME ë° JAVA ê²½ë¡œ\n- Android Studio ë‹¤ìš´ë¡œë“œ\n- SDK ë° ë¹Œë“œ ë„êµ¬ êµ¬ì„±\n- Android ì—ë®¬ë ˆì´í„° êµ¬ì„±\n- Android í™˜ê²½ ë³€ìˆ˜ ì„¤ì •: ANDROID_HOME ë° ê²½ë¡œ\n- NodeJS ì„¤ì¹˜\n- Expo í”„ë¡œì íŠ¸ ì„¤ì •\n- Expo ê°œë°œ í´ë¼ì´ì–¸íŠ¸ ì„¤ì • ë° Expo í”„ë¡œì íŠ¸ ë¡œì»¬ì—ì„œ ì»´íŒŒì¼\n- ì²« ë²ˆì§¸ ë””ë²„ê·¸-ê°œë°œ ë¹Œë“œ ìƒì„±\n\n## Expo Dev ClientëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n\nê³µì‹ Expo ë¬¸ì„œì— ë”°ë¥´ë©´, Expo Go ëŒ€ì‹  ê°œë°œ ë¹Œë“œë¥¼ ì„ íƒí•˜ë©´ ì›ì‹œ ëŸ°íƒ€ì„ì„ ì™„ì „íˆ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì›ì‹œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ê±°ë‚˜ í”„ë¡œì íŠ¸ êµ¬ì„±ì„ ì¡°ì •í•˜ê±°ë‚˜ ì‹¬ì§€ì–´ ê³ ìœ ì˜ ì›ì‹œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në” ê°„ë‹¨í•˜ê²Œ ë§í•˜ë©´, ê¸°ë³¸ Expo êµ¬ì„±ì€ í”„ë¡œì íŠ¸ë¥¼ Expo í´ë¼ìš°ë“œì— ì—…ë¡œë“œí•œ ë‹¤ìŒ ë¹Œë“œë¥¼ ë°›ëŠ” ê³¼ì •ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ í”„ë¡œì„¸ìŠ¤ëŠ” Expo ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì›í™œí•˜ê²Œ ì§€ì›í•©ë‹ˆë‹¤. @react-native-google-signin/google-signinê³¼ ê°™ì€ ì›ì‹œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n\n\n## Expo Dev Client ì„¤ì •í•˜ê¸°: ë‹¨ê³„ë³„ ì•ˆë‚´\n\nì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” JAVA Development Kit (JDK), ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ ë° Nodeê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\nOracle ë˜ëŠ” OpenJDK í”Œë«í¼ì„ ë°©ë¬¸í•˜ì—¬ JDKë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  Gradle ë²„ì „ê³¼ í˜¸í™˜ë˜ëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤. 2024ë…„ ê¸°ì¤€ìœ¼ë¡œ React NativeëŠ” Gradle 8.3ì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë©° ì´ëŠ” JDK 17ê³¼ í˜¸í™˜ë©ë‹ˆë‹¤.\n\nì„¤ì¹˜ ê°€ì´ë“œë¥¼ ë”°ë¥´ê³  JAVAë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²½ë¡œë¥¼ ë©”ëª¨í•´ë‘ì„¸ìš”. ê¸°ë³¸ì ìœ¼ë¡œ C:\\Program Files\\Java\\jdk-17 ê²½ë¡œì— ì„¤ì¹˜ë©ë‹ˆë‹¤.\n\n\n\n<img src=\"/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_1.png\" />\n\nì‹œìŠ¤í…œ ì†ì„±ì—ì„œ â€˜í™˜ê²½ ë³€ìˆ˜â€™ë¥¼ ê²€ìƒ‰í•˜ì„¸ìš”. ì´ ì„¹ì…˜ì—ì„œ ì‚¬ìš©ì ê³„ì •ê³¼ ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ë‘˜ ë‹¤ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\në‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥´ì„¸ìš”:\n\n- â€˜JAVA_HOMEâ€™ì´ë¼ëŠ” ì´ë¦„ì˜ ìƒˆ ë³€ìˆ˜ë¥¼ ì‹œìŠ¤í…œ ë° ì‚¬ìš©ì ë³€ìˆ˜ì— ìƒì„±í•˜ê³  JDKë¥¼ ì„¤ì¹˜í•œ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”\n(ì˜ˆ: C:\\Program Files\\Java\\jdk-17).\n- ì‹œìŠ¤í…œ ë³€ìˆ˜ ì•„ë˜ì— â€˜Pathâ€™ ë³€ìˆ˜ë¥¼ ì°¾ìœ¼ì„¸ìš”. â€˜jdk/binâ€™ í´ë”ì˜ ê²½ë¡œë¥¼ ì¶”ê°€í•˜ì„¸ìš” (ì˜ˆ: C:\\Program Files\\Java\\jdk-17\\bin).\n\n\n\në“œë””ì–´ ì„¤ì¹˜ë¥¼ í™•ì¸í•˜ë ¤ë©´ ëª…ë ¹ í”„ë¡¬í”„íŠ¸(cmd)ì—ì„œ 'java -version'ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”. ì œëŒ€ë¡œ ì„¤ì •í–ˆë‹¤ë©´ ìë°” ë²„ì „ ì •ë³´ê°€ í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤.\n\nì—ë®¬ë ˆì´í„°, SDK ë° í”Œë«í¼ ë„êµ¬ë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë˜í•œ IDEë¥¼ í†µí•´ ë¡œì»¬ ë¹Œë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\nê³µì‹ ì•ˆë“œë¡œì´ë“œ ì›¹ì‚¬ì´íŠ¸ì— ë°©ë¬¸í•˜ì—¬ ìµœì‹  IDEë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”. ê¸°ë³¸ ì„¤ì¹˜ ê°€ì´ë“œë¥¼ ë”°ë¼ ì„¤ì¹˜ ê²½ë¡œë¥¼ ê¸°ì–µí•´ì£¼ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_2.png)\n\n\n\nì„¤ì¹˜ë¥¼ ì™„ë£Œí•œ í›„ ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ë¥¼ ì—´ê³  SDK ê´€ë¦¬ìë¥¼ ì—½ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_3.png)\n\ní˜¸í™˜ì„±ì„ ìœ„í•´ ê°€ì¥ ìµœì‹  SDK ë²„ì „ê³¼ ë°”ë¡œ ì „ ë²„ì „ì„ í•¨ê»˜ ì„¤ì¹˜í•´ì£¼ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´, í˜„ì¬ ê°€ì¥ ìµœì‹  SDK ë²„ì „ì€ 34ì´ë¯€ë¡œ 33 ë²„ì „ë„ ì„¤ì¹˜í•˜ì‹œë©´ ë©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_4.png)\n\n\n\nSDKì™€ í•¨ê»˜ í•„ìš”í•œ ë„êµ¬ë“¤ì´ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì„¤ì¹˜ë˜ëŠ” ì¼ë¶€ ë„êµ¬ë“¤ ì™¸ì— ì¶”ê°€ë¡œ í•„ìš”í•œ ê²ƒë“¤ì´ ìˆìŠµë‹ˆë‹¤:\n\n- ì•ˆë“œë¡œì´ë“œ SDK ëª…ë ¹ì¤„ ë„êµ¬\n- ì•ˆë“œë¡œì´ë“œ SDK í”Œë«í¼ ë„êµ¬\n- ì•ˆë“œë¡œì´ë“œ SDK ë¹Œë“œ ë„êµ¬\n- ì•ˆë“œë¡œì´ë“œ ì—ë®¬ë ˆì´í„°\n- Google Play ë¼ì´ì„¼ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì„ íƒ ì‚¬í•­)\n\nì²´í¬ë°•ìŠ¤ë¥¼ ì„ íƒí•˜ê³  ì ìš©ì„ í´ë¦­í•˜ë©´ ì„¤ì¹˜ë©ë‹ˆë‹¤.\n\n![Android SDK](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_5.png)\n\n\n\në‹¹ì‹ ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ê¸°ë³¸ ì—ë®¬ë ˆì´í„°ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì¥ì¹˜ì—ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì ì–´ë„ í•˜ë‚˜ì˜ ì—ë®¬ë ˆì´í„°ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n\nê°€ìƒ ì¥ì¹˜ ê´€ë¦¬ìë¡œ ì´ë™í•´ì£¼ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_6.png)\n\nì²˜ìŒì—ëŠ” ìƒˆë¡œìš´ ì¥ì¹˜ê°€ ë³´ì´ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. + ì•„ì´ì½˜ 'ìƒˆ ê°€ìƒ ì¥ì¹˜ ìƒì„±'ì„ í´ë¦­í•˜ê³ , ì¥ì¹˜ë¥¼ ì„ íƒí•œ í›„ 'ë‹¤ìŒ'ì„ í´ë¦­í•˜ì—¬ OS ë²„ì „ê³¼ ì„¸ë¡œ ë°©í–¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”.\n\n\n\nìƒˆ ì¥ì¹˜ë¥¼ ì„¤ì •í•˜ëŠ” ë™ì•ˆ Intel HAXM ì„¤ì¹˜ ì‹¤íŒ¨ì™€ ê´€ë ¨ëœ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Stack Overflow ë‹µë³€ ê°€ì´ë“œë¥¼ ë”°ë¥´ì„¸ìš”.\n\nì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ê°€ìƒ ì¥ì¹˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë¡œë”©ì— ëª‡ ë¶„ì´ ì†Œìš”ë  ìˆ˜ ìˆìœ¼ë‹ˆ ì¡°ê¸‰í•´í•˜ì§€ ë§ˆì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_7.png)\n\nExpo ë° React Nativeê°€ SDK ë„êµ¬ì— ì˜¬ë°”ë¥´ê²Œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ í™˜ê²½ ë³€ìˆ˜ ì„¹ì…˜ì—ì„œ í•´ë‹¹ ê²½ë¡œë¥¼ ì„ ì–¸í•´ì•¼ í•©ë‹ˆë‹¤. 2ë‹¨ê³„ì™€ ìœ ì‚¬í•˜ê²Œ ì§„í–‰í•˜ì„¸ìš”.\n\n\n\nSDK ë„êµ¬ê°€ ì„¤ì¹˜ëœ ìœ„ì¹˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ SDK ê´€ë¦¬ìì—ì„œ ì œê³µë©ë‹ˆë‹¤. ì‚¬ìš©ì/AppData ë””ë ‰í† ë¦¬ì— ìˆìŠµë‹ˆë‹¤.\n\níŒŒì¼ íƒìƒ‰ê¸°ì—ì„œ í•´ë‹¹ ê²½ë¡œë¡œ ì´ë™í•´ì£¼ì„¸ìš”. ì‚¬ìš©ì ê³„ì • ë‚´ì˜ 'AppData' í´ë”ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê²¨ì ¸ ìˆìŠµë‹ˆë‹¤. 'ìˆ¨ê²¨ì§„ íŒŒì¼ í‘œì‹œ'ë¥¼ í™œì„±í™”í•´ì•¼ 'AppData' í´ë”ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ì œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ë‹¤ì‹œ ì—½ë‹ˆë‹¤.\n\n- ì‹œìŠ¤í…œ ë° ì‚¬ìš©ì ë³€ìˆ˜ì—ì„œ 'ANDROID_HOME'ì´ë¼ëŠ” ì •í™•í•œ ì´ë¦„ì˜ ìƒˆ ë³€ìˆ˜ë¥¼ ë§Œë“¤ê³  SDKë¥¼ ì„¤ì¹˜í•œ ê²½ë¡œ(C:\\Users\\ì‚¬ìš©ìëª…\\AppData\\Local\\Android\\Sdk)ë¥¼ í¬í•¨ì‹œí‚µë‹ˆë‹¤.\n- ì´ì œ ì‹œìŠ¤í…œ ë° ì‚¬ìš©ì ë³€ìˆ˜ì— ìœ„ì¹˜í•œ 'Path' ë³€ìˆ˜ì— ë‹¤ìŒ ê²½ë¡œë¥¼ ì¶”ê°€í•˜ì„¸ìš”. 'ì‚¬ìš©ìëª…'ì„ ì‹¤ì œ ê³„ì •ëª…ìœ¼ë¡œ êµì²´í•´ì£¼ì„¸ìš”:\n- C:\\Users\\ì‚¬ìš©ìëª…\\AppData\\Local\\Android\\Sdk\n- C:\\Users\\ì‚¬ìš©ìëª…\\AppData\\Local\\Android\\Sdk\\platform-tools\n- C:\\Users\\ì‚¬ìš©ìëª…\\AppData\\Local\\Android\\Sdk\\emulator\n- C:\\Users\\ì‚¬ìš©ìëª…\\AppData\\Local\\Android\\Sdk\\tools\n- C:\\Users\\ì‚¬ìš©ìëª…\\AppData\\Local\\Android\\Sdk\\tools\\bin\n\n\n\në§ˆì¹¨ë‚´ CMD ë‚´ì—ì„œ ADB ì‰˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì„¤ì •ì„ í™•ì¸í•˜ë ¤ë©´ 'adb --version'ì„ ì‹¤í–‰í•˜ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_8.png)\n\nNodeì˜ ì•ˆì • ë²„ì „ì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”. ì €ëŠ” í˜„ì¬ 18.18.0ì„ ì‚¬ìš© ì¤‘ì´ë©° ê¸°ë³¸ ì„¤ì¹˜ ê°€ì´ë“œë¥¼ ë”°ë¥´ë©´ ë©ë‹ˆë‹¤.\n\nCMD ë‚´ì—ì„œ 'node --version' ëª…ë ¹ìœ¼ë¡œ ì„¤ì¹˜ë¥¼ í™•ì¸í•˜ì„¸ìš”.\n\n\n\n```md\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_9.png)\n\në§ˆì¹¨ë‚´, ìš°ë¦¬ëŠ” Expo ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” NativeWind-Tailwind ì§€ì›, ìµœì‹  Expo SDK 50, Expo íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…, React Reanimated ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° TypeScript í†µí•©ì„ í¬í•¨í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ì •í•˜ëŠ” ë° ë‹¤ìŒ ì˜ˆì œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n```js\nnpx create-expo-app -e with-router-tailwind\n```\n\ní”„ë¡œì íŠ¸ê°€ ì‘ë™í•˜ê³  ì˜¤ë¥˜ê°€ ì—†ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. Play Store ë˜ëŠ” App Storeì—ì„œ ì‹¤ì œ ê¸°ê¸°ì— Expo Go Clientë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”. ê·¸ëŸ° ë‹¤ìŒ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ QR ì½”ë“œë¥¼ ìŠ¤ìº”í•˜ì—¬ ê¸°ê¸°ì—ì„œ Expo ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ì„¸ìš”. ì´ì œ Expo Go Clientë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰ ì¤‘ì„ì„ ì£¼ì˜í•˜ì„¸ìš”.\n```  \n\n\n\n```js\r\nnpm run start\r\n```\n\në§Œì•½ ëª¨ë“  ê²ƒì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ê³  ìˆë‹¤ë©´ Expo ëŒ€ì‹œë³´ë“œì— ë¡œê·¸ì¸í•˜ê¸° ìœ„í•´ EAS CLIë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì‹­ì‹œì˜¤.\n\n```js\r\nnpm install --global eas-cli\r\n```\n\nì‘ì—…ì„ ì™„ë£Œí•œ í›„ì—ëŠ” ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ì‹œë³´ë“œì— ë¡œê·¸ì¸í•˜ì‹­ì‹œì˜¤. Expo ê³„ì •ì´ ì—†ë‹¤ë©´ ì—¬ê¸°ì—ì„œ ìƒì„±í•˜ì‹­ì‹œì˜¤.\n\n\n\n```js\neas login  // ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë¼ëŠ” í”„ë¡¬í”„íŠ¸ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\neas whoami // ì‚¬ìš©ì ì´ë¦„ì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n```\n\neas.json íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ë¹Œë“œ êµ¬ì„± íŒŒì¼ë¡œ ì‚¬ìš©í•˜ì„¸ìš”. ì´ íŒŒì¼ì—ëŠ” ì„¸ ê°€ì§€ í”„ë¡œí•„ì´ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”. eas.json íŒŒì¼ì„ ë§Œë“¤ë ¤ë©´ í”„ë¡œì íŠ¸ í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.\n\n```js\neas:configure\n```\n\neas.json íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ë¹Œë“œ ìœ í˜•ì„ APKë¡œ ì§€ì •í•˜ì—¬ ê¸°ê¸°ì— ì§ì ‘ ì„¤ì¹˜í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.\n\n\n\n```js\n{\n  \"cli\": {\n    \"version\": \">= 7.2.0\"\n  },\n  \"build\": {\n    \"development\": {\n      \"developmentClient\": true,\n      \"distribution\": \"internal\",\n      \"android\": {\n        \"buildType\": \"apk\"\n      }\n    },\n    \"preview\": {\n      \"distribution\": \"internal\",\n      \"android\": {\n        \"buildType\": \"apk\"\n      }\n    },\n    \"production\": {}\n  },\n  \"submit\": {\n    \"production\": {}\n  }\n}\n```\n\nê²€ì¦ì„ ìœ„í•´, ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ Expo ëŒ€ì‹œë³´ë“œ ë‚´ì—ì„œ ë¯¸ë¦¬ë³´ê¸° í”„ë¡œí•„ë¡œ Expo ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì£¼ì˜í•´ì•¼ í•  ì ì€ developmentClientê°€ trueë¡œ ì„¤ì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê°œë°œìš© ë¹Œë“œëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n```js\neas build -p android --profile preview\n```\n\nê°œë°œ í™˜ê²½ì„ ì„¤ì •í•˜ëŠ” í•„ìˆ˜ í—¤ë”ë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì¶”ê°€í•˜ëŠ” Expo Dev Client ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.\n\n\n\n```js\nnpx expo install expo-dev-client\n```\n\nì°¸ê³ : ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ë©´ Expo í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ê¸°ë³¸ êµ¬ì„±(npm run start ì‚¬ìš©)ì´ ê°œë°œ ë¹Œë“œë¡œ ì „í™˜ë©ë‹ˆë‹¤. ë”°ë¼ì„œ Expo Go Client ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. Expo Client ë‚´ì—ì„œ ì‹¤í–‰í•˜ë ¤ë©´ í„°ë¯¸ë„ì„ ì‚¬ìš©í•˜ì—¬ Expo Goë¡œ ì „í™˜í•´ì•¼ í•©ë‹ˆë‹¤. ë˜í•œ, ë„¤ì´í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì§€ ì•Šì€ì§€ í™•ì¸í•˜ì„¸ìš”.\n\n<img src=\"/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_10.png\" />\n\në‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ë¡œì»¬ì—ì„œ ì»´íŒŒì¼í•˜ì„¸ìš”.```\n\n\n\n```js\nnpx expo run:android \n```\n\nì´ ëª…ë ¹ì€ ì´ì „ì— ì„¤ì¹˜í•œ JDK ë° SDK ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ Gradle íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ë¨¼ì € í”„ë¡œì íŠ¸ ë‚´ì— .android í´ë”ë¥¼ ë§Œë“¤ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì—ë®¬ë ˆì´í„°ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ì»´íŒŒì¼ í”„ë¡œì„¸ìŠ¤ëŠ” ì•½ 15ë¶„ ì´ìƒ ì†Œìš”ë˜ë¯€ë¡œ ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ì£¼ì‹­ì‹œì˜¤.\n\nì²« ë²ˆì§¸ ê°œë°œ ë¹Œë“œë¥¼ ìƒì„±í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤:\n\n```js\neas build --profile development --platform android\n```  \n\n\n\nì´ ì‘ì—…ì€ EAS ì„œë²„ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì»´íŒŒì¼í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë¡œê·¸ì¸í•œ í›„ ëŒ€ì‹œë³´ë“œì—ì„œ ì§„í–‰ ìƒí™©ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\n\nì‘ì—…ì´ ì™„ë£Œë˜ë©´ \"ì„¤ì¹˜\" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ (APK)ì„ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆì–´ìš”. ì¶”ê°€ë¡œ í„°ë¯¸ë„ì—ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—ë®¬ë ˆì´í„° ë‚´ì—ì„œ ì‹¤í–‰í•  ê²ƒì¸ì§€ ì„ íƒí•˜ë¼ê³  ì•ˆë‚´í•  ê±°ì—ìš”. ì €ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤ì œ ì¥ì¹˜ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•˜ë‹ˆ, ê°™ì€ ì·¨í–¥ì„ ê°€ì§„ë‹¤ë©´ ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €ì—ì„œ ë§í¬ë¥¼ ì—´ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.\n\nì°¸ê³ : ì• í”Œë¦¬ì¼€ì´ì…˜ í¬ê¸°ì— ëŒ€í•´ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”; ìµœì í™”ë˜ì§€ ì•Šì€ APK ë¹Œë“œì…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_11.png)\n\n\n\nì•±ì„ ë‹¤ìš´ë¡œë“œí•˜ê³  ì„¤ì¹˜í•œ í›„, ë§¨ ìœ„ì— ì•± ì´ë¦„ê³¼ í•¨ê»˜ ë‹¤ìŒê³¼ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ê°€ í‘œì‹œë©ë‹ˆë‹¤.\n\n![ì•± ì¸í„°í˜ì´ìŠ¤](/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_12.png)\n\nì´ì œ í”„ë¡œì íŠ¸ í„°ë¯¸ë„ë¡œ ëŒì•„ê°€ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•´ë³´ì„¸ìš”:\n\n```js\nnpx expo start --dev-client\n```\n\n\n\nì²˜ìŒì— ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê°œë°œ ì„œë²„ë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•˜ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ìˆ˜ë™ìœ¼ë¡œ URLì„ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤. ìœ„ ëª…ë ¹ìœ¼ë¡œ ì½”ë“œë¥¼ ì»´íŒŒì¼í•œ í›„ì—ëŠ” localhost URLì„ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, http://localhost:8081ê³¼ ê°™ì´ ë‚˜ì˜¬ ê²ë‹ˆë‹¤.\n\nì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ \"localhost\" ë¶€ë¶„ì„ ìì‹ ì˜ IP ì£¼ì†Œë¡œ ë°”ê¾¸ì„¸ìš”. í•¸ë“œí°ì´ ë™ì¼í•œ Wi-Fi ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•œ í›„, ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ http://192.168.0.100:8081ê³¼ ê°™ì´ ìˆ˜ë™ìœ¼ë¡œ URLì„ ì…ë ¥í•˜ì„¸ìš”. ê·¸ëŸ¬ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¡œë“œë˜ê³ , Expo Go Clientì™€ ìœ ì‚¬í•œ í•« ë¦¬í”„ë ˆì‹œ ê¸°ëŠ¥ì„ ì§€ì›í•  ê²ë‹ˆë‹¤.\n\nì°¸ê³ : ìƒˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•  ë•Œë§ˆë‹¤ ìœ„ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ì‹œ ë¹Œë“œí•˜ê³ , ê¸°ê¸°ì— ìµœì‹  ë¹Œë“œë¥¼ ë‹¤ìš´ë¡œë“œ/ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‹ˆê¹Œ, í•œìˆ¨ì„ ë‚´ì‰¬ì„¸ìš”. Expo ê°œë°œ í´ë¼ì´ì–¸íŠ¸ ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ê±´ë°°! ğŸ¥‚\n\n\n\nì–´ë ¤ì›€ì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì—°ë½í•´ì£¼ì„¸ìš”.\nLinkedIn | Twitter (X)","ogImage":{"url":"/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_0.png"},"coverImage":"/assets/img/2024-05-12-HowtoSetUpExpoDevClientACompleteGuide2024_0.png","tag":["Tech"],"readingTime":8},{"title":"NET Coreì—ì„œ ì›¹ ì†Œì¼“ê³¼ SignalRì„ í™œìš©í•œ ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡","description":"","date":"2024-05-12 19:05","slug":"2024-05-12-Real-TimeDataTransferwithWebSocketsandSignalRinNETCore","content":"\n\nì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì€ ì¦‰ê°ì ì¸ ì—…ë°ì´íŠ¸ì™€ ì•Œë¦¼ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ê¼­ í•„ìš”í•©ë‹ˆë‹¤. .NET Coreì—ì„œ WebSockets ë° SignalRì€ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ì‹¤ì‹œê°„ í†µì‹ ì„ êµ¬í˜„í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ ì•ˆë‚´ì„œì—ì„œëŠ” WebSockets ë° SignalRì„ ì‚¬ìš©í•˜ì—¬ .NET Core ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì„ ì–´ë–»ê²Œ êµ¬í˜„í•˜ëŠ”ì§€ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤.\n\nDotNet-FullStack-Devì™€ í•¨ê»˜ ê³„ì†í•´ì„œ í•™ìŠµê³¼ íƒí—˜ì˜ ì—¬ì •ì„ ë– ë‚˜ë³´ì„¸ìš”. ë” ë§ì€ ì •ë³´ í™•ì¸ì€ https://dotnet-fullstack-dev.blogspot.comì„ ë°©ë¬¸í•˜ê±°ë‚˜ ì¶”ê°€ ì •ë³´ë¥¼ ì–»ìœ¼ë ¤ë©´ ì—°ë½í•´ì£¼ì„¸ìš”.\n\n# WebSockets ë° SignalRì´ë€?\n\n# WebSockets:\n\n\n\nWebSocketsëŠ” ë‹¨ì¼ TCP ì—°ê²°ì„ í†µí•´ ì „ ì´ì¤‘ í†µì‹  ì±„ë„ì„ ì œê³µí•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì— ì–‘ë°©í–¥ í†µì‹ ì´ ê°€ëŠ¥í•˜ë©° HTTP í´ë§ì˜ ì˜¤ë²„í—¤ë“œ ì—†ì´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# WebSocketsë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ \n\n- ì‹¤ì‹œê°„ í†µì‹ : WebSocketsë¥¼ ì´ìš©í•˜ë©´ ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì´ ê°€ëŠ¥í•´ì§€ë©°, ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜, ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ, ì˜¨ë¼ì¸ ê²Œì„ í”Œë«í¼ê³¼ ê°™ì€ ì¦‰ê°ì ì¸ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì´ìƒì ì…ë‹ˆë‹¤.\n- íš¨ìœ¨ì„±: ì „í†µì ì¸ HTTP í´ë§ì´ë‚˜ ë¡± í´ë§ ê¸°ìˆ ê³¼ ë‹¬ë¦¬ WebSocketsëŠ” ì§€ì†ì ì¸ ì—°ê²°ì„ ìœ ì§€í•˜ì—¬ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì´ê³  ì§€ì—° ì‹œê°„ì„ ìµœì†Œí™”í•˜ë©° ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ ê°ì†Œì‹œí‚µë‹ˆë‹¤.\n- ì „ ì´ì¤‘ í†µì‹ : WebSocketsëŠ” ì–‘ìª½ìœ¼ë¡œ ë™ì‹œì— ë°ì´í„° ì „ì†¡ì„ ì§€ì›í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ë…ë¦½ì ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì†¡ìˆ˜ì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í™•ì¥ì„±: WebSocketsëŠ” ëŒ€ê·œëª¨ ë™ì‹œ ì—°ê²°ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ í™•ì¥ ê°€ëŠ¥í•˜ê³  ê³ ì„±ëŠ¥ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.\n\n# WebSockets ëŒ€ì•ˆ:\n\n| **ëŒ€ì•ˆ**                  | **ì„¤ëª…**                                                                                                    |\n|-----------------------|---------------------------------------------------------------------------------------------------------|\n| Server-Sent Events    | ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë‹¨ ë°©í–¥ ë©”ì‹œì§€ ìŠ¤íŠ¸ë¦¼ì„ ì „ì†¡í•˜ëŠ” ê¸°ìˆ ë¡œ, WebSocketsì™€ ìœ ì‚¬í•˜ì§€ë§Œ ë‹¨ë°©í–¥ í†µì‹ ë§Œ ì§€ì›í•©ë‹ˆë‹¤.   |\n| Long Polling           | í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì—ê²Œ ìš”ì²­ì„ ë³´ë‚´ê³ , ì„œë²„ëŠ” ë°ì´í„°ë¥¼ ì¤€ë¹„í•  ë•Œê¹Œì§€ ì‘ë‹µì„ ì§€ì—°ì‹œí‚¤ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.                  |\n\n\n\nì›¹ì†Œì¼“ì€ ì‹¤ì‹œê°„ í†µì‹ ì— ë„ë¦¬ ì‚¬ìš©ë˜ì§€ë§Œ, ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ëª‡ ê°€ì§€ ëŒ€ì•ˆì´ ìˆìŠµë‹ˆë‹¤:\n\n- Server-Sent Events (SSE): SSEì€ ì„œë²„ê°€ HTTP ì—°ê²°ì„ í†µí•´ í´ë¼ì´ì–¸íŠ¸ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•  ìˆ˜ ìˆëŠ” ë‹¨ë°©í–¥ í†µì‹  í”„ë¡œí† ì½œì…ë‹ˆë‹¤. ì›¹ì†Œì¼“ê³¼ ë‹¬ë¦¬ SSEëŠ” ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œì˜ í†µì‹ ì—ë§Œ ì œí•œë˜ë©° ì–‘ë°©í–¥ í†µì‹ ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n- Long Polling: Long Pollingì€ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ê³ , ì„œë²„ê°€ ìƒˆë¡œìš´ ë°ì´í„°ê°€ ë‚˜íƒ€ë‚  ë•Œê¹Œì§€ ì—°ê²°ì„ ìœ ì§€í•˜ê±°ë‚˜ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•  ë•Œê¹Œì§€ ì—°ê²°ì„ ì—´ì–´ë‘ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. Long Pollingì€ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆì§€ë§Œ, ì—°ê²°ì„ ìì£¼ ì—´ê³  ë‹«ê¸° ë•Œë¬¸ì— ì›¹ì†Œì¼“ë³´ë‹¤ íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤.\n\n# ì›¹ì†Œì¼“ì˜ ì¥ë‹¨ì :\n\n## ì¥ì :\n\n\n\n- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸: ì›¹ ì†Œì¼“ì„ í†µí•´ ì‹¤ì‹œê°„ í†µì‹ ì´ ê°€ëŠ¥í•˜ë©° í´ë¼ì´ì–¸íŠ¸ì— ì¦‰ì‹œ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n- íš¨ìœ¨ì„±: ì›¹ ì†Œì¼“ì€ í´ë§ ê¸°ìˆ ê³¼ ë¹„êµí•˜ì—¬ ëŒ€ê¸° ì‹œê°„ê³¼ ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì…ë‹ˆë‹¤.\n- ì „ì´ì¤‘ í†µì‹ : ì–‘ë°©í–¥ ë°ì´í„° ì „ì†¡ì„ ì§€ì›í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ë™ì‹œì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í™•ì¥ì„±: ì›¹ ì†Œì¼“ì€ ë§ì€ ë™ì‹œ ì—°ê²°ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ í™•ì¥ ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.\n\n## ë‹¨ì :\n\n- ë³µì¡ì„±: ì›¹ ì†Œì¼“ ì—°ê²°ì„ êµ¬í˜„í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ì „í†µì ì¸ HTTP í†µì‹ ë³´ë‹¤ ë” ë³µì¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ë¸Œë¼ìš°ì € ì§€ì›: ìµœì‹  ë¸Œë¼ìš°ì €ëŠ” ì›¹ ì†Œì¼“ì„ ì§€ì›í•˜ì§€ë§Œ ì˜¤ë˜ëœ ë¸Œë¼ìš°ì €ëŠ” ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì–´ ëŒ€ì²´ ë©”ì»¤ë‹ˆì¦˜ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ë°©í™”ë²½ ë¬¸ì œ: ì›¹ ì†Œì¼“ì€ ì œí•œì ì¸ ë°©í™”ë²½ì´ë‚˜ í”„ë¡ì‹œ ì„œë²„ì—ì„œ ì›¹ ì†Œì¼“ íŠ¸ë˜í”½ì„ ì°¨ë‹¨í•  ìˆ˜ ìˆëŠ” ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# SignalR:\n\n\n\nSignalRì€ .NET ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‹¤ì‹œê°„ ì›¹ ê¸°ëŠ¥ì„ ê°„ë‹¨í•˜ê²Œ ë§Œë“œëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì›¹ì†Œì¼“ê³¼ ê¸°íƒ€ ì „ì†¡ ë§¤ì»¤ë‹ˆì¦˜ ìœ„ì— êµ¬ì¶•ëœ ê³ ìˆ˜ì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì´ëŠ” ì—°ê²° ê´€ë¦¬ë¥¼ ì¶”ìƒí™”í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•˜ê³  í´ë¼ì´ì–¸íŠ¸-ì„œë²„ í†µì‹ ì„ ë‹¤ë£¨ê¸° ìœ„í•œ ê°„ë‹¨í•œ APIë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n# SignalRì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ :\n\n- ê°„ë‹¨í•œ ê°œë°œ: SignalRì€ ì›¹ì†Œì¼“ ì—°ê²° ê´€ë¦¬ì˜ ë³µì¡ì„±ì„ ê°ì¶”ê³  .NET ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‹¤ì‹œê°„ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ ê°„ë‹¨í•œ APIë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì—°ê²° ê´€ë¦¬, ë©”ì‹œì§€ ë¼ìš°íŒ… ë° ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ì²˜ë¦¬í•˜ì—¬ ê°œë°œìê°€ ì‘ìš©í”„ë¡œê·¸ë¨ ë…¼ë¦¬ì— ì§‘ì¤‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í¬ë¡œìŠ¤ í”Œë«í¼ ì§€ì›: SignalRì€ ì„œë²„ ì¸¡ .NET ì• í”Œë¦¬ì¼€ì´ì…˜ ë° í´ë¼ì´ì–¸íŠ¸ ì¸¡ JavaScript í”„ë ˆì„ì›Œí¬ë¥¼ ëª¨ë‘ ì§€ì›í•˜ì—¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜, ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜ ë° ëª¨ë°”ì¼ ì•±ì—ì„œ ì‹¤ì‹œê°„ ê¸°ëŠ¥ì„ êµ¬ì¶•í•˜ê¸°ì— ì í•©í•©ë‹ˆë‹¤.\n- í™•ì¥ì„±: SignalRì€ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ í•¨ê»˜ í™•ì¥ë˜ë„ë¡ ì„¤ê³„ë˜ì–´ ë§ì€ ë™ì‹œ ì—°ê²°ì„ ì§€ì›í•˜ë©° ë‹¤ì¤‘ ì„œë²„ë¡œ í™•ì¥í•˜ê±°ë‚˜ Azure SignalR ì„œë¹„ìŠ¤ì™€ ê°™ì€ í´ë¼ìš°ë“œ ê¸°ë°˜ ì†”ë£¨ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n- í›„í–‰ ë©”ì»¤ë‹ˆì¦˜: SignalRì€ ì›¹ì†Œì¼“ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•´ Server-Sent Events (SSE) ë˜ëŠ” ë¡± í´ë§ê³¼ ê°™ì€ ëŒ€ì²´ ì „ì†¡ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ìë™ìœ¼ë¡œ í›„í–‰í•˜ë¯€ë¡œ ë¸Œë¼ìš°ì € ë° ê¸°ê¸°ì— ê±¸ì³ ë„“ì€ í˜¸í™˜ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\n\n\nì‹ í˜¸Rì´ .NET ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‹¤ì‹œê°„ ì›¹ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë° ì¸ê¸° ìˆëŠ” ì„ íƒì§€ë¼ëŠ” ê²ƒì„ ì•Œê³  ê³„ì‹¤ ê²ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ ëŒ€ì•ˆë“¤ë„ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:\n\n- Raw WebSocket APIs: ê°œë°œìë“¤ì€ .NETì´ë‚˜ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ ì œê³µí•˜ëŠ” Raw WebSocket APIsë¥¼ í™œìš©í•˜ì—¬, SignalRì´ ì œê³µí•˜ëŠ” ì¶”ìƒí™” ì—†ì´ ì‹¤ì‹œê°„ í†µì‹ ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë°©ì‹ì€ ë” ë§ì€ ìˆ˜ë™ êµ¬ì„±ì„ ìš”êµ¬í•˜ë©°, ê°œë°œìë“¤ì—ê²ŒëŠ” ë¶ˆí¸í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n- Third-Party Libraries: .NET ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‹¤ì‹œê°„ í†µì‹ ì„ êµ¬í˜„í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ìˆìŠµë‹ˆë‹¤. Socket.IO for .NETì´ë‚˜ Fleckê³¼ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ ì¶”ê°€ ê¸°ëŠ¥ê³¼ ìœ ì—°ì„±ì„ ì œê³µí•˜ì§€ë§Œ, í†µí•© ë° ìœ ì§€ë³´ìˆ˜ì— ë” ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# SignalRì˜ ì¥ë‹¨ì :\n\n## ì¥ì :\n\n\n\n- ê°„í¸í•œ ê°œë°œ: SignalRì€ ì‹¤ì‹œê°„ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë° ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê³ ìˆ˜ì¤€ APIë¥¼ ì œê³µí•˜ì—¬ ê°œë°œ ì‹œê°„ê³¼ ë³µì¡ì„±ì„ ì¤„ì—¬ì¤ë‹ˆë‹¤.\n- í¬ë¡œìŠ¤ í”Œë«í¼ ì§€ì›: SignalRì€ ì›¹ ë¸Œë¼ìš°ì €, ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜ ë° ëª¨ë°”ì¼ ê¸°ê¸°ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ í´ë¼ì´ì–¸íŠ¸ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.\n- í™•ì¥ì„±: SignalRì€ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ í•¨ê»˜ í™•ì¥ë˜ë„ë¡ ì„¤ê³„ë˜ì–´ ë§ì€ ë™ì‹œ ì—°ê²°ì„ ì§€ì›í•˜ê³  ì—¬ëŸ¬ ì„œë²„ë¡œ í™•ì¥í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n- í›„í–‰ ë©”ì»¤ë‹ˆì¦˜: SignalRì€ ì›¹ì†Œì¼“ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•´ ëŒ€ì²´ ì „ì†¡ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ìë™ìœ¼ë¡œ í›„í–‰í•˜ë¯€ë¡œ ë„“ì€ í˜¸í™˜ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\n## ë‹¨ì :\n\n- .NET í”„ë ˆì„ì›Œí¬/Coreì— ëŒ€í•œ ì˜ì¡´ì„±: SignalRì€ .NET ìƒíƒœê³„ì™€ ê¸´ë°€í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆì–´ ë‹¤ë¥¸ ê¸°ìˆ ë¡œ ê°œë°œëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ëŠ” ì í•©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì„±ëŠ¥ ë¶€í•˜: SignalRì€ ê°œë°œì„ ë‹¨ìˆœí™”í•˜ì§€ë§Œ ì›ì‹œ ì›¹ì†Œì¼“ êµ¬í˜„ê³¼ ë¹„êµí•´ ì¼ë¶€ ì„±ëŠ¥ ë¶€í•˜ë¥¼ ë„ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ë³µì¡ì„±: SignalRì€ ì‹¤ì‹œê°„ í†µì‹ ì˜ ì¼ë¶€ ë³µì¡ì„±ì„ ì¶”ìƒí™”í•˜ì§€ë§Œ ë³µì¡í•œ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” ì¶”ê°€ êµ¬ì„± ë° ë¬¸ì œ í•´ê²°ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ì™œ ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì„ ì‚¬ìš©í•´ì•¼ í• ê¹Œìš”?\n\n\n\nì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì€ ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜, ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ ë° ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ, í˜‘ì—… ë¬¸ì„œ í¸ì§‘ ë„êµ¬, ì˜¨ë¼ì¸ ê²Œì„ í”Œë«í¼, ì£¼ì‹ ì‹œì¥ ì¶”ì  ì• í”Œë¦¬ì¼€ì´ì…˜, ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ì ìˆ˜íŒê³¼ ê°™ì´ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n# SignalRì„ ì‚¬ìš©í•œ .NET Core êµ¬í˜„\n\n## ë‹¨ê³„ 1: SignalR ì„¤ì¹˜\n\n\n\nNuGet Package Managerë¥¼ ì‚¬ìš©í•˜ì—¬ SignalR íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”:\n\n```js\ndotnet add package Microsoft.AspNetCore.SignalR\n```\n\n## ë‹¨ê³„ 2: SignalR í—ˆë¸Œ ë§Œë“¤ê¸°\n\ní´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ê´€ë¦¬í•˜ê³  ë©”ì‹œì§€ ë¸Œë¡œë“œìºìŠ¤íŒ…ì„ ì²˜ë¦¬í•˜ëŠ” SignalR í—ˆë¸Œë¥¼ ë§Œë“œì„¸ìš”.\n\n\n\n```js\nMicrosoft.AspNetCore.SignalRë¥¼ ì‚¬ìš©í•˜ì—¬ SignalRì„ êµ¬ì„±í•˜ê³  ìˆì–´ìš”. WebSocket ì§€ì›ì„ í™œì„±í™”í•˜ê³  í—ˆë¸Œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë§¤í•‘í•˜ë ¤ë©´ Startup í´ë˜ìŠ¤ì—ì„œ SignalRì„ êµ¬ì„±í•˜ì„¸ìš”.\n\n```js\npublic void ConfigureServices(IServiceCollection services)\n{\n    services.AddSignalR();\n}\n\npublic void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n{\n    app.UseRouting();\n\n    app.UseEndpoints(endpoints =>\n    {\n        endpoints.MapHub<ChatHub>(\"/chatHub\");\n    });\n}\n```\n\n\n\n## ë‹¨ê³„ 4: í´ë¼ì´ì–¸íŠ¸ ì¸¡ í†µí•©\n\ní´ë¼ì´ì–¸íŠ¸ ì¸¡ì— SignalRì„ í†µí•©í•˜ì—¬ ì—°ê²°ì„ ì„¤ì •í•˜ê³  ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ë°›ìœ¼ì„¸ìš”.\n\n```js\n<!DOCTYPE html>\n<html>\n<head>\n    <title>SignalR ì±„íŒ…</title>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/signalr/5.0.0/signalr.min.js\"></script>\n</head>\n<body>\n    <div id=\"messages\"></div>\n    <input type=\"text\" id=\"messageInput\" />\n    <button onclick=\"sendMessage()\">ì „ì†¡</button>\n\n    <script>\n        const connection = new signalR.HubConnectionBuilder()\n            .withUrl(\"/chatHub\")\n            .build();\n\n        connection.on(\"ReceiveMessage\", (user, message) => {\n            document.getElementById(\"messages\").innerHTML += `<p><strong>${user}</strong>: ${message}</p>`;\n        });\n\n        connection.start().then(() => {\n            console.log(\"SignalR í—ˆë¸Œì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤\");\n        }).catch((err) => {\n            console.error(\"SignalR í—ˆë¸Œì— ì—°ê²°í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\", err);\n        });\n\n        function sendMessage() {\n            const user = \"ì‚¬ìš©ì\"; // ì…ë ¥ê°’ìœ¼ë¡œë¶€í„° ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n            const message = document.getElementById(\"messageInput\").value;\n            connection.invoke(\"SendMessage\", user, message);\n        }\n    </script>\n</body>\n</html>\n```\n\nì´ ì˜ˆì œë¥¼ í™•ì¥í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ë©”ì‹œì§€ë¥¼ ë°›ê³  ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œë¥¼ ì‚¬ìš©í•œ ì—”ë“œ íˆ¬ ì—”ë“œ ì†”ë£¨ì…˜ì„ ì œê³µí•´ë³´ì£ .\n\n\n\n# Backend: ASP.NET Core Web API with SignalR\n\n## Step 1: SignalR í—ˆë¸Œ ìƒì„±\n\ní´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ê´€ë¦¬í•˜ê³  ë©”ì‹œì§€ ë¸Œë¡œë“œìºìŠ¤íŒ…ì„ ì²˜ë¦¬í•˜ëŠ” SignalR í—ˆë¸Œë¥¼ ìƒì„±í•˜ì„¸ìš”.\n\n```javascript\nusing Microsoft.AspNetCore.SignalR;\nusing System.Threading.Tasks;\n\npublic class ChatHub : Hub\n{\n    public async Task SendMessage(string user, string message)\n    {\n        await Clients.All.SendAsync(\"ReceiveMessage\", user, message);\n    }\n\n    public void ReceiveMessage(string user, string message)\n    {\n        // ë°›ì€ ë©”ì‹œì§€ ì²˜ë¦¬(ì˜ˆ: ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥, ì²˜ë¦¬ ë“±)\n    }\n}\n```\n\n\n\n## ë‹¨ê³„ 2: Startupì—ì„œ SignalR êµ¬ì„±\n\nStartup í´ë˜ìŠ¤ì—ì„œ SignalRì„ êµ¬ì„±í•˜ì—¬ WebSocket ì§€ì›ì„ í™œì„±í™”í•˜ê³  í—ˆë¸Œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë§¤í•‘í•©ë‹ˆë‹¤.\n\n```js\npublic void ConfigureServices(IServiceCollection services)\n{\n    services.AddSignalR();\n}\n\npublic void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n{\n    app.UseRouting();\n\n    app.UseEndpoints(endpoints =>\n    {\n        endpoints.MapHub<ChatHub>(\"/chatHub\");\n    });\n}\n```\n\n## ë‹¨ê³„ 3: ë©”ì‹œì§€ ìˆ˜ì‹ ì„ ìœ„í•œ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±\n\n\n\ní´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ìˆ˜ì‹ ëœ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”.\n\n```js\nusing Microsoft.AspNetCore.Mvc;\n\n[Route(\"api/[controller]\")]\n[ApiController]\npublic class ChatController : ControllerBase\n{\n    private readonly IHubContext<ChatHub> _hubContext;\n\n    public ChatController(IHubContext<ChatHub> hubContext)\n    {\n        _hubContext = hubContext;\n    }\n\n    [HttpPost(\"ReceiveMessage\")]\n    public async Task<IActionResult> ReceiveMessage(string user, string message)\n    {\n        await _hubContext.Clients.All.SendAsync(\"ReceiveMessage\", user, message);\n        return Ok();\n    }\n}\n```\n\n# Frontend: React UI with SignalR\n\n## Step 1: SignalR í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜\n\n\n\nJavaScript SignalR í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ npmì„ ì‚¬ìš©í•´ì„œ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.\n\n```js\nnpm install @microsoft/signalr\n```\n\n## ë‹¨ê³„ 2: WebSocket ì—°ê²° ìƒì„±\n\nSignalR í—ˆë¸Œì— ëŒ€í•œ WebSocket ì—°ê²°ì„ ìƒì„±í•˜ê³  ë“¤ì–´ì˜¤ëŠ” ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ì„¸ìš”.\n\n\n\n```js\nimport React, { useState, useEffect } from 'react';\nimport * as signalR from '@microsoft/signalr';\n\nconst Chat = () => {\n    const [messages, setMessages] = useState([]);\n    const [connection, setConnection] = useState(null);\n\n    useEffect(() => {\n        const newConnection = new signalR.HubConnectionBuilder()\n            .withUrl(\"/chatHub\")\n            .build();\n\n        newConnection.on(\"ReceiveMessage\", (user, message) => {\n            setMessages([...messages, { user, message }]);\n        });\n\n        newConnection.start()\n            .then(() => console.log(\"SignalR í—ˆë¸Œì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.\"))\n            .catch(error => console.error(\"SignalR í—ˆë¸Œì— ì—°ê²° ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", error));\n\n        setConnection(newConnection);\n    }, []);\n\n    const sendMessage = () => {\n        const user = \"User\"; // ì…ë ¥ì—ì„œ ì‚¬ìš©ì ê°€ì ¸ì˜¤ê¸°\n        const message = \"ì•ˆë…•, SignalR!\"; // ì…ë ¥ì—ì„œ ë©”ì‹œì§€ ê°€ì ¸ì˜¤ê¸°\n        connection.invoke(\"SendMessage\", user, message)\n            .catch(error => console.error(\"ë©”ì‹œì§€ ì „ì†¡ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:\", error));\n    };\n\n    return (\n        <div>\n            <div>\n                {messages.map((message, index) => (\n                    <div key={index}>\n                        <strong>{message.user}</strong>: {message.message}\n                    </div>\n                ))}\n            </div>\n            <input type=\"text\" />\n            <button onClick={sendMessage}>ì „ì†¡</button>\n        </div>\n    );\n};\n\nexport default Chat;\n```\n\n# ê²°ë¡ \n\nì´ ê°€ì´ë“œì—ì„œëŠ” .NET Core ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì›¹ì†Œì¼“ê³¼ SignalRì„ ì‚¬ìš©í•˜ì—¬ ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. SignalRì„ í™œìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ì‹¤ì‹œê°„ í†µì‹ ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì–´ì„œ ìƒí˜¸ì‘ìš©ì ì´ê³  í˜‘ì—…ì´ ê°€ëŠ¥í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê¸°ì— ì´ìƒì ì…ë‹ˆë‹¤. ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜, ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ, ë©€í‹°í”Œë ˆì´ì–´ ê²Œì„ì„ êµ¬ì¶•í•  ë•Œ, ì‚¬ìš©ìì—ê²Œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ë° í•„ìš”í•œ ë„êµ¬ë¥¼ ì œê³µí•˜ëŠ” SignalRì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ê°€ì´ë“œì—ì„œëŠ” .NET Core ë°±ì—”ë“œì™€ React í”„ëŸ°íŠ¸ì—”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ SignalRì„ í†µí•œ ì‹¤ì‹œê°„ ë©”ì‹œì§•ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìëŠ” í”„ëŸ°íŠ¸ì—”ë“œì—ì„œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ , ë°±ì—”ë“œ SignalR í—ˆë¸Œì—ì„œ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹  ë° ë¸Œë¡œë“œìºìŠ¤íŠ¸í•©ë‹ˆë‹¤. ì´ ìµœì¢… ì†”ë£¨ì…˜ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ ì‹¤ì‹œê°„ ë©”ì‹œì§• ê²½í—˜ì„ ì›í™œí•˜ê²Œ ì œê³µí•©ë‹ˆë‹¤.\n```\n\n\n\ní‘œ íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì‹¤ë˜ìš”.","ogImage":{"url":"/assets/img/2024-05-12-Real-TimeDataTransferwithWebSocketsandSignalRinNETCore_0.png"},"coverImage":"/assets/img/2024-05-12-Real-TimeDataTransferwithWebSocketsandSignalRinNETCore_0.png","tag":["Tech"],"readingTime":10},{"title":"ë¦¬ì•¡íŠ¸ì—ì„œ ë‚´ ìƒíƒœê°€ ë¹„ìš©ì´ ë“œëŠ” ê±¸ê¹Œìš”","description":"","date":"2024-05-12 19:04","slug":"2024-05-12-Ismystateinreactgoingtocostme","content":"\n\nê²½ê³ : í…Œì´ë¸”ì„ ìˆëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ ì•½ê°„ ì–´ìƒ‰í•´ë³´ì¼ ìˆ˜ ìˆì–´ìš”. ëŒ€ì‹  Markdown í˜•ì‹ì„ ì‚¬ìš©í•˜ë©´ ë³´ê¸°ê°€ í¸í•  ê±°ì˜ˆìš”.\n\n\n\nê° ì‚¬ìš© ì‚¬ë¡€ì— ë§ëŠ” ë‹¤ì–‘í•œ ìƒíƒœ ì†”ë£¨ì…˜ì´ ìˆì–´ìš”.\n\nì„±ëŠ¥ì„ ê· í˜• ìˆê²Œ ìœ ì§€í•˜ë©´ì„œ Reactë¥¼ ë‹¤ì‹œ ë Œë”ë§í•´ì•¼ í•  ë•ŒëŠ” ì‹ ì¤‘íˆ ìƒê°í•´ì•¼ í•´ìš”.\n\nìº”ë²„ìŠ¤ ê¸°ë°˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ ìƒíƒœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•˜ë©´ ê°€ì ¸ë‹¤ì“°ëŠ” ë° ë¹„ìš©ì´ ë“¤ ê±°ì˜ˆìš”.\n\nê·¸ë ‡ë‹¤ê³  í•´ì„œ ì‚¬ìš© ì¤‘ì¸ ê²ƒë³´ë‹¤ í›¨ì”¬ ë‚˜ì„ì§€ë„ ëª°ë¼ìš”.\n\n\n\ní•˜ì§€ë§Œ í˜„ì‹¤ì—ì„œëŠ” ë‹¨ìˆœíˆ ë³´ìŠ¤í„´ì—ì„œ ë‰´ìš•ìœ¼ë¡œ ëŒì•„ì˜¤ëŠ” ê¸¸ì— ê±·ëŠ” ê²ƒì—ì„œ ìì „ê±°ë¡œ ì „í™˜í•˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤. ëŒ€ì‹  ë²„ìŠ¤ë¥¼ íƒ€ê±°ë‚˜ íƒì‹œë¥¼ ì¡ì„ ê²ƒì…ë‹ˆë‹¤.\n\nìƒíƒœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì˜ë„í•˜ì§€ ì•Šì€ ìš©ë„ë¡œ ì‚¬ìš©í•˜ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œë“¤ì´ ìŸì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në¨¸ë¦¿ì†ì—ì„œ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‘ì„±í•  ì§€ì‹ ì—†ì´ ìƒíƒœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê±´ë“œë¦°ë‹¤ë©´, ì˜ë„í•˜ì§€ ì•Šì€ ìš©ë„ë¡œ ì‚¬ìš©í•˜ê¸°ì— ì ê²©í•˜ì§€ ì•Šì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.\n\nì‹œê°„ì„ ì ˆì•½í•˜ê³  ì‚¬ìš© ì‚¬ë¡€ì— ì™„ë²½í•˜ê±°ë‚˜ ê±°ì˜ ì™„ë²½í•˜ê²Œ ë§ëŠ” ê²ƒì„ ì°¾ì•„ë³´ì„¸ìš”.\n\n\n\nì •ë°€ë„ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. Xê°€ Yë³´ë‹¤ ë‚˜ì€ ê²ƒì´ ì ˆëŒ€ ì•„ë‹™ë‹ˆë‹¤. 0.1235 í•´ê²°ì±…ì„ ì›í•˜ëŠ” ì´ìœ ëŠ” 3.01234 ë¬¸ì œë¥¼ ì™„ë²½í•˜ê²Œ í•´ê²°í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.\n\në¬¸ìì—´ì´ë‚˜ ë¶€ìš¸ í”Œë˜ê·¸ ì´ìƒì„ ì œì–´í•˜ëŠ” ë° ë‹¨ìˆœí•œ useStateë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‚˜ìš”? í•œ ë°œ ë¬¼ëŸ¬ë‚˜ì„œì„œ í•´ê²°í•˜ë ¤ëŠ” ìƒíƒœ ë¬¸ì œì— ëŒ€í•´ ì‹¤ì œë¡œ ë¬´ì—‡ì´ ìˆëŠ”ì§€ ì‚´í´ë³´ì„¸ìš”.\n\nGithubì—ì„œ ë‚ ì§œê°€ ì§€ë‚˜ì§€ ì•Šì€ ëª‡ ê°€ì§€ ì‹¤ì œ ì˜ˆì œë¥¼ ì°¾ì•„ë³´ì„¸ìš”. ë‹¤ë¥¸ ì‚¬ëŒì´ ì–´ë–»ê²Œ í•´ë‹¹ ë¬¸ì œë¥¼ í•´ê²°í–ˆëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”. ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  í•˜ëŠ” ê±´ê°€ìš”? íŠ¸ìœ„í„°ì—ì„œ ëˆ„êµ°ê°€ì—ê²Œ ì§ˆë¬¸í•´ë³´ì„¸ìš”.\n\n\n\nReactì—ì„œ ìƒíƒœ(State)ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ìš”ì†Œ ì¤‘ í•˜ë‚˜ì´ë©° ê·¸ì— ë§ê²Œ ë‹¤ë¤„ì ¸ì•¼ í•©ë‹ˆë‹¤.\n\nìƒíƒœ(State)ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì„ ë” í™•ì¥í•˜ë ¤ëŠ” ì‹œë„ì—ì„œ ë¹ ë¥´ê²Œ ë³‘ëª© í˜„ìƒì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¤‘ìš”í•©ë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ ì‚¬í•­ì´ ë³€ê²½ë  ë•Œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ìƒíƒœë¥¼ ë¦¬íŒ©í† ë§í•˜ëŠ” ê²ƒì´ ì§€ë£¨í•˜ê²Œ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní¼ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ìƒíƒœ(State) ì†”ë£¨ì…˜ì´ ìˆìŠµë‹ˆë‹¤.\n\nì´ ì†”ë£¨ì…˜ì€ ê° ì¸µì„ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ë•Œë§ˆë‹¤ ê³ ë‚œì„ ê²ªì§€ ì•Šë„ë¡ í•´ì¤ë‹ˆë‹¤. í™”ë©´ì„ ë‹¤ì‹œ ë Œë”ë§í•˜ê³  ëŒ€ë¶€ë¶„ì˜ ìœ íš¨ì„± ê²€ì‚¬ ì½”ë“œë¥¼ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ë˜ë„ë¡ ìº¡ìŠí™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n\n\nì‘ì€ ìƒíƒœë¥¼ ê³µìœ í•  ìˆ˜ ìˆëŠ” ìƒíƒœ ì†”ë£¨ì…˜ì´ ìˆìŠµë‹ˆë‹¤.\n\nê·€í•˜ì˜ ì‚¬ìš© ì‚¬ë¡€ê°€ ë…íŠ¹í•œ ì ì€ ë¬´ì—‡ì´ë©°, ì–´ë–¤ ì ì„ ì—°ê²°í•˜ë ¤ê³  í•˜ê³  ê³„ì‹­ë‹ˆê¹Œ? ì• ë‹ˆë©”ì´ì…˜ ì¡°ìœ¨ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆê¹Œ? ê·¸ ì¤‘ ì–´ë–¤ ì†”ë£¨ì…˜ì´ ê·€í•˜ì˜ ì‚¬ìš© ì‚¬ë¡€ì— ì™„ë²½í•˜ê±°ë‚˜ ê±°ì˜ ì™„ë²½í•˜ê²Œ ë§ë‚˜ìš”?\n\në°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê°€ë²¼ìš´ ìƒíƒœ ì†”ë£¨ì…˜ì´ ìˆìŠµë‹ˆë‹¤.\n\në˜í•œ ê¸°ë³¸ìœ¼ë¡œ ìºì‹±ì„ ì§€ì›í•˜ë©° í†µí•©í•˜ëŠ” ë° 1ë¶„ë§Œ ê±¸ë¦½ë‹ˆë‹¤. ìµœëŒ€í•œ ë¹¨ë¦¬ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ìµœì†Œí•œìœ¼ë¡œ ë…¸ë ¥í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ë¬´ì—‡ì¼ê¹Œìš”. ì´ëŠ” ì„±ì˜ ì—†ëŠ” ì¼ì„ í•˜ë„ë¡ ì¥ë ¤í•˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤.\n\n\n\në¦¬ì•¡íŠ¸ì˜ ê°€ì¥ ì—­ë™ì ì¸ ì¸¡ë©´ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n\në‹¤ë¥¸ ì‚¬ëŒë“¤ë„ ê°™ì€ ë¬¸ì œì— ë¶€ë”ªí˜”ê³  ê·¸ í›„ ì˜¤í”ˆ ì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì—ˆìœ¼ë©°, ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì°¨í›„ì— ê¸°ì—¬í•¨ìœ¼ë¡œì¨ ê¶ê·¹ì ìœ¼ë¡œ ë‹¹ì‹ ì´ ê°€ì¥ ë§ì€ í˜œíƒì„ ëˆ„ë¦´ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì •ë§ ë†€ëë‹¤ëŠ” ê²ƒì— ëŒ€í•´ ì ì‹œ ìƒê°í•´ ë³´ì„¸ìš”.\n\në¦¬ì•¡íŠ¸ëŠ” 10ë…„ì´ ë„˜ëŠ” ì‹œê°„ ë™ì•ˆ ì¡´ì¬í•´ ì™”ìœ¼ë©° ì•„ì§ë„ ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ ìµœê³ ì˜ ì¸í„°í˜ì´ìŠ¤ ë„êµ¬ë¡œ ë‚¨ì•„ ìˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë¬¸ì œì— ë„ì „í•œ ì‚¬ëŒì´ ìˆê³  ê·¸ì˜ í•´ê²°ì±…ì´ npm ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ í™•ì¥ë˜ì—ˆì„ ê°€ëŠ¥ì„±ì´ ì•„ì£¼ ë†’ìŠµë‹ˆë‹¤.\n\n\n\n\në„¤, ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ê³„í•  ë•Œ ì‚¬ìš© ì‚¬ë¡€ê°€ ì‹¬ê°í•˜ê²Œ ê³ ë ¤ë˜ì—ˆëŠ”ì§€ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.\n\në„¤, ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì—¬ì „íˆ ìœ ì§€ë³´ìˆ˜ë˜ê³  í”„ë¡œì íŠ¸ ê¸°ê°„ ë™ì•ˆ ê³„ì† ì‚¬ìš©ë ì§€ í‰ê°€í•´ì•¼ í•©ë‹ˆë‹¤.\n\në„¤, ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒ¨í„´ì´ ì½”ë“œë² ì´ìŠ¤ ì „ë°˜ì— í¼ì§€ëŠ” ê³¼ì •ì„ í‰ê°€í•´ì•¼ í•©ë‹ˆë‹¤.\n\nìˆ˜ ì‹œê°„ì˜ ì—°êµ¬ì™€ í‰ê°€ëŠ” ê·€í•˜ì—ê²Œ ì£¼ê°„ì˜ ë¨¸ë¦¬ ì•„í””ì„ ëœì–´ì¤„ ê²ƒì…ë‹ˆë‹¤. ë„ì›€ì´ ë˜ì—ˆë‚˜ìš”?\n\n\n\nì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  í•˜ëŠ” ê±´ ë¬´ì—‡ì¸ê°€ìš”?\nì˜ ëª¨ë¥´ê² ë”ë¼ë„ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”. ì´ ì§ˆë¬¸ì´ ë‹¹ì‹ ì´ ì²˜ìŒë¶€í„° ì˜ëª»ëœ ìƒíƒœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„ íƒí•˜ê³  ê·¸ì— ë”°ë¼ í° ê·œëª¨ë¡œ ì´ì–´ì§€ëŠ” ì—„ì²­ë‚œ ë¹„ìš©ì„ í”¼í•  ìˆ˜ ìˆê²Œ í•´ì¤„ ê±°ì˜ˆìš”. ì‹¤ì œë¡œ ì‰½ê²Œ ë˜ëŒì•„ì„¤ ìˆ˜ ì—†ê²Œ ë˜ì„œ ìì‹ ì˜ í•˜ìš°ìŠ¤ ì˜¤ë¸Œ ì¹´ë“œë¥¼ ê·¸ ê¸°ë°˜ ìœ„ì— ìŒ“ìœ¼ì‹  í›„ì— ê·¸ê²Œ ì–´ë ¤ìš´ ìƒí™©ìœ¼ë¡œ ë³€í•´ë²„ë¦¬ëŠ” ê±¸ ë°©ì§€í•  ê±°ì˜ˆìš”.\n\nìì‹ ì˜ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì •ì˜í•˜ê³ \ní•´ê²° ë°©ë²•ì„ ì°¾ê¸° ì „ì—\n\n\n\nì½”ë”©í•˜ê¸° ì „ì— ì¡°ì‹¬í•´! \n\në©ì²­í•œ ì‹¤ìˆ˜ëŠ” í”¼í•´ì•¼ í•´. ì¤€ë¹„ê°€ ë˜ì–´ ìˆê³  ë¹¨ë¦¬ ì›€ì§ì¼ ìˆ˜ ìˆëŠ” ìì„¸ê°€ í•„ìš”í•´.\n\nê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¹„ìš©ì´ ë°œìƒí•  ê±°ì•¼.","ogImage":{"url":"/assets/img/2024-05-12-Ismystateinreactgoingtocostme_0.png"},"coverImage":"/assets/img/2024-05-12-Ismystateinreactgoingtocostme_0.png","tag":["Tech"],"readingTime":3},{"title":"í’€ ìŠ¤íƒ íŠœí† ë¦¬ì–¼ Reactì™€ NodejsAWS S3ì—ì„œ ì‚¬ì „ ì„œëª…ëœ URLë¡œ ì•ˆì „í•œ íŒŒì¼ ì—…ë¡œë“œí•˜ê¸°","description":"","date":"2024-05-12 19:03","slug":"2024-05-12-FullStackTutorialSecureFileUploadwithPresignedURLsinReactandNodejsAWSS3","content":"\n\nì•ˆë…•í•˜ì„¸ìš”! ì•ˆì „í•œ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ í¬ê´„ì ì¸ ììŠµì„œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤. ì´ ê°€ì´ë“œì—ì„œëŠ” React í”„ëŸ°íŠ¸ì—”ë“œ ì„¤ì •ë¶€í„° Node.js ë°±ì—”ë“œ(Express ì‚¬ìš©) ìƒì„± ë° ì•ˆì „í•œ ì €ì¥ì†Œë¡œ AWS S3ë¥¼ í™œìš©í•˜ëŠ” ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì•ˆë‚´í•´ ë“œë¦´ ê²ƒì…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-FullStackTutorialSecureFileUploadwithPresignedURLsinReactandNodejsAWSS3_0.png)\n\n## ì™œ Presigned URLsë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ê°€?\n\nê¸°ì¡´ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œì—ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¥¼ í†µí•´ íŒŒì¼ì„ ì „ë‹¬í•˜ê³ , ì„œë²„ê°€ í•´ë‹¹ íŒŒì¼ì„ ì €ì¥ì†Œì— ì—…ë¡œë“œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤. ì´ ë°©ë²•ì€ ì‘ë™ì€ í•˜ì§€ë§Œ ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬ ì‹œ íš¨ìœ¨ì ì´ê±°ë‚˜ ì•ˆì „í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ Presigned URLsê°€ ë“±ì¥í•©ë‹ˆë‹¤.\n\n\n\n**ì‚¬ì „ ì„œëª…ëœ URL**ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ìŠ¤í† ë¦¬ì§€ ì œê³µ ì—…ì²´, ì´ ê²½ìš° AWS S3ì™€ ì§ì ‘ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°±ì—”ë“œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‹œê°„ ì œí•œì´ ìˆëŠ” ì•ˆì „í•œ ë§í¬ì¸ ì‚¬ì „ ì„œëª…ëœ URLì„ ìƒì„±í•˜ì—¬ ì „ë‹¬í•©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ê°€ íŒŒì¼ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šê³ ë„ íŒŒì¼ì„ S3ì— ì§ì ‘ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì„œë²„ ë¶€í•˜ë¥¼ ì¤„ì´ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ ìŠ¤í† ë¦¬ì§€ ìê²© ì¦ëª…ì˜ ë…¸ì¶œì„ ì œí•œí•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\n## ì‚¬ìš©ëœ ê¸°ìˆ \n\ní”„ë¡ íŠ¸ì—”ë“œ: React, ë°±ì—”ë“œ: Node.jsì™€ Express, ìŠ¤í† ë¦¬ì§€: AWS S3.\n\n## ì•ìœ¼ë¡œì˜ ì—¬ì •\n\n\n\nì´ ê°•ì¢Œì—ëŠ” í”„ë¡ íŠ¸ì—”ë“œ, ë°±ì—”ë“œ ë° AWS S3 ì„¸ ê°€ì§€ ì£¼ìš” ì„¹ì…˜ì´ ìˆìŠµë‹ˆë‹¤.\në¨¼ì € í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •ë¶€í„° ì‹œì‘í•˜ì—¬ React ë° AWS S3ì˜ ì‚¬ì „ ì„œëª… ëœ URLì„ ì‚¬ìš©í•˜ì—¬ ê°•ë ¥í•œ íŒŒì¼ ì—…ë¡œë“œ ì†”ë£¨ì…˜ì„ êµ¬ì¶•í•´ ë³´ê² ìŠµë‹ˆë‹¤!\n\n# í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •-( íŒŒíŠ¸ 1 )\n\n## ë‹¨ê³„ 1: React ì•± ì„¤ì •\n\në¨¼ì € Create React Appì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ React ì•±ì„ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤:\n\n\n\n```js\nnpx create-react-app presigned-url-upload\ncd presigned-url-upload\n```\n\n## ë‹¨ê³„ 2: ì¢…ì† í•­ëª© ì„¤ì¹˜\n\níŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬ë¥¼ ìœ„í•´ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”:\n\n```js\nnpm install aws-amplify aws-amplify-react axios react-dropzone\n```\n\n\n\n## ë‹¨ê³„ 3: AWS Amplify êµ¬ì„±\n\ní”„ë¡œì íŠ¸ì— AWS Amplifyë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤:\n\n```js\namplify init\n```\n\n## ë‹¨ê³„ 4: FileUpload ì»´í¬ë„ŒíŠ¸ ìƒì„±\n\n\n\nìƒˆë¡œìš´ FileUpload.js ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ì—¬ íŒŒì¼ ì—…ë¡œë“œë¥¼ ì²˜ë¦¬í•˜ì„¸ìš”. íŒŒì¼ ì„ íƒì„ ê°„ë‹¨í•˜ê²Œ í•˜ê¸° ìœ„í•´ react-dropzone ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ê±°ì—ìš”:\n\n```js\n// FileUpload.js\nimport React, { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\n\nconst FileUpload = ({ onFileSelected }) => {\n  const onDrop = useCallback((acceptedFiles) => {\n    onFileSelected(acceptedFiles[0]);\n  }, [onFileSelected]);\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop });\n\n  return (\n    <div {...getRootProps()} className=\"dropzone\">\n      <input {...getInputProps()} />\n      <p>ì—¬ê¸°ë¡œ íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”</p>\n    </div>\n  );\n};\n\nexport default FileUpload;\n```\n\n## ë‹¨ê³„ 5: ì‚¬ì „ ì„œëª… URL ë¡œì§ êµ¬í˜„\n\në°±ì•¤ë“œë¡œë¶€í„° ì‚¬ì „ ì„œëª… URLì„ ê°€ì ¸ì˜¤ëŠ” ì„œë¹„ìŠ¤ë¥¼ ìƒì„±í•˜ì„¸ìš”. api.js íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”:\n\n\n\n```js\n// api.js\nimport axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:3001'; // ê·€í•˜ì˜ ë°±ì—”ë“œ ì„œë²„ URLë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”\n\nexport const getPresignedUrl = async (fileName) => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/getPresignedUrl`, {\n      fileName,\n    });\n    return response.data.url;\n  } catch (error) {\n    console.error('ì‚¬ì „ ì„œëª…ëœ URLì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);\n    throw error;\n  }\n};\n```\n\n## ë‹¨ê³„ 6: íŒŒì¼ ì—…ë¡œë“œ ë° ì‚¬ì „ ì„œëª…ëœ URL ë¡œì§ í†µí•©\n\në©”ì¸ ì»´í¬ë„ŒíŠ¸(App.js)ë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ íŒŒì¼ ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸ì™€ ì‚¬ì „ ì„œëª…ëœ URL ë¡œì§ì„ í†µí•©í•˜ì„¸ìš”:\n\n```js\n// App.js\nimport React from 'react';\nimport FileUpload from './FileUpload';\nimport { Storage } from 'aws-amplify';\nimport { getPresignedUrl } from './api';\n\nconst App = () => {\n  const handleFileUpload = async (file) => {\n    try {\n      const presignedUrl = await getPresignedUrl(file.name);\n\n      // ì‚¬ì „ ì„œëª…ëœ URLì„ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì„ S3ì— ì—…ë¡œë“œ\n      await Storage.put(file.name, file, {\n        contentType: file.type,\n        customPrefix: { public: 'public/' },\n        level: 'public',\n      });\n\n      console.log('íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');\n    } catch (error) {\n      console.error('íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>AWS S3ì™€ í•¨ê»˜ ì‚¬ì „ ì„œëª…ëœ URL íŒŒì¼ ì—…ë¡œë“œ</h1>\n      <FileUpload onFileSelected={handleFileUpload} />\n    </div>\n  );\n};\n\nexport default App;\n```\n\n\n\n# ë°±ì—”ë“œ ì„¤ì • - (íŒŒíŠ¸ 2)\n\n## ë‹¨ê³„ 1: Node.js í”„ë¡œì íŠ¸ ì„¤ì •\n\nì´ì œ ë°±ì—”ë“œ ì„¤ì •ìœ¼ë¡œ ì „í™˜í•´ ë³¼ê¹Œìš”? ë°±ì—”ë“œë¥¼ ìœ„í•œ ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”:\n\n```js\nmkdir backend\ncd backend\nnpm init -y\nnpm install express aws-sdk\n```\n\n\n\n## ë‹¨ê³„ 2: AWS SDK êµ¬ì„±í•˜ê¸°\n\nAWS SDKë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ awsConfig.jsë¼ëŠ” ìƒˆ íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”. `YOUR_ACCESS_KEY`ì™€ `YOUR_SECRET_KEY`ë¥¼ ì—¬ëŸ¬ë¶„ì˜ AWS ì•¡ì„¸ìŠ¤ í‚¤ì™€ ì‹œí¬ë¦¿ í‚¤ë¡œ êµì²´í•˜ì„¸ìš”. `YOUR_ACCESS_KEY`ì™€ `YOUR_SECRET_KEY`ë¥¼ ì–´ë–»ê²Œ ìƒì„±í•˜ëŠ” ì§€ëŠ” ì´í›„ Part -3ì—ì„œ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤.\n\n```js\n// awsConfig.js\nconst AWS = require('aws-sdk');\n\nAWS.config.update({\n  accessKeyId: 'YOUR_ACCESS_KEY',\n  secretAccessKey: 'YOUR_SECRET_KEY',\n  region: 'us-east-1', // ì›í•˜ëŠ” ì§€ì—­ìœ¼ë¡œ êµì²´í•˜ì„¸ìš”\n});\n\nmodule.exports = AWS;\n```\n\n## ë‹¨ê³„ 3: Express ì„œë²„ ìƒì„±í•˜ê¸°\n\n\n\nìƒˆ íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ server.jsë¼ê³  ì´ë¦„ ì§“ê³  Express ì„œë²„ë¥¼ ì„¤ì •í•˜ê³  ì‚¬ì „ ì„œëª…ëœ URL ìš”ì²­ì„ ì²˜ë¦¬í•˜ì„¸ìš”.\n\n```js\n// server.js\nconst express = require('express');\nconst bodyParser = require('body-parser');\nconst { S3 } = require('./awsConfig');\n\nconst app = express();\nconst PORT = 3001;\n\napp.use(bodyParser.json());\n\n// ì‹¤ì œ S3 ë²„í‚· ì´ë¦„ìœ¼ë¡œ 'your-bucket-name'ì„(ë¥¼) ë°”ê¿”ì£¼ì„¸ìš”.\nconst BUCKET_NAME = 'your-bucket-name';\n\napp.post('/getPresignedUrl', (req, res) => {\n  const { fileName } = req.body;\n\n  const s3 = new S3();\n  const params = {\n    Bucket: BUCKET_NAME,\n    Key: fileName,\n    ContentType: 'application/octet-stream', // íŒŒì¼ ìœ í˜•ì— ë”°ë¼ ì½˜í…ì¸  ìœ í˜•ì„ ì¡°ì •í•˜ì„¸ìš”\n    Expires: 60, // ì‚¬ì „ ì„œëª… URL ë§Œë£Œ ì‹œê°„(ì´ˆ) ì„¤ì •\n  };\n\n  s3.getSignedUrl('putObject', params, (err, url) => {\n    if (err) {\n      console.error('ì‚¬ì „ ì„œëª…ëœ URL ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', err);\n      return res.status(500).json({ error: 'ì‚¬ì „ ì„œëª…ëœ URL ìƒì„± ì‹¤íŒ¨' });\n    }\n\n    res.json({ url });\n  });\n});\n\napp.listen(PORT, () => {\n  console.log(`ì„œë²„ê°€ http://localhost:${PORT}ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.`);\n});\n```\n\n## ë‹¨ê³„ 4: ë°±ì—”ë“œ ì„œë²„ ì‹œì‘í•˜ê¸°\n\në‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë°±ì—”ë“œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.\n\n\n\n```js\nnode server.js\n```\n\nì„œë²„ê°€ http://localhost:3001ì—ì„œ ì‹¤í–‰ ì¤‘ì´ì—ìš”. ì„œë²„ íŒŒì¼ì—ì„œ `your-bucket-name`ì„ ì‹¤ì œ S3 ë²„í‚· ì´ë¦„ìœ¼ë¡œ êµì²´í•´ì£¼ì„¸ìš”.\n\n# AWS S3 ì„¤ì • - 3ë¶€\n\n## ë‹¨ê³„ 1: AWS ê³„ì • ìƒì„±í•˜ê¸°\n\n\n\nAWS ê³„ì •ì´ ì—†ìœ¼ì‹  ê²½ìš°, ìƒˆë¡œ ë§Œë“œì…”ì•¼ í•´ìš”. AWS ê°€ì… í˜ì´ì§€ë¡œ ì´ë™í•˜ì—¬ ê³„ì •ì„ ìƒì„±í•´ë³´ì„¸ìš”.\n\n## ë‹¨ê³„ 2: AWS ê´€ë¦¬ ì½˜ì†”ì— ì•¡ì„¸ìŠ¤í•˜ê¸°\n\nAWS ê´€ë¦¬ ì½˜ì†”ì— ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.\n\n## ë‹¨ê³„ 3: S3ìœ¼ë¡œ ì´ë™í•˜ê¸°\n\n\n\nAWS ê´€ë¦¬ ì½˜ì†”ì—ì„œ \"ì„œë¹„ìŠ¤\" ë“œë¡­ë‹¤ìš´ì„ ì°¾ì•„ í´ë¦­í•´ì£¼ì„¸ìš”. \"ì €ì¥ì†Œ\" ì•„ë˜ì—ì„œ \"S3\"ë¥¼ í´ë¦­í•˜ì—¬ ê°„í¸ ì €ì¥ì†Œ ì„œë¹„ìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆì–´ìš”.\n\n## ë‹¨ê³„ 4: ìƒˆ ë²„í‚· ë§Œë“¤ê¸°\n\n- S3 ëŒ€ì‹œë³´ë“œì—ì„œ \"ë²„í‚· ìƒì„±\" ë²„íŠ¼ì„ í´ë¦­í•´ì£¼ì„¸ìš”.\n\n2. ë²„í‚· êµ¬ì„±:\n- ì´ë¦„ê³¼ ì§€ì—­: ë²„í‚·ì— ì „ ì„¸ê³„ì ìœ¼ë¡œ ê³ ìœ í•œ ì´ë¦„ì„ ì„ íƒí•´ì£¼ì„¸ìš”. ì´ë¦„ì€ DNS í˜¸í™˜ì„±ì´ ìˆì–´ì•¼í•˜ë©° ì„ íƒí•œ ì´ë¦„ì´ ì´ë¯¸ ì‚¬ìš© ì¤‘ì´ë©´ AWSê°€ ì•Œë ¤ì¤„ ê±°ì˜ˆìš”. ì‚¬ìš©ìì—ê²Œ ë” ë‚˜ì€ ëŒ€ê¸° ì‹œê°„ì„ ì œê³µí•˜ê¸° ìœ„í•´ ì§€ë¦¬ì ìœ¼ë¡œ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì—­ì„ ì„ íƒí•´ì£¼ì„¸ìš”.\n- ì €ì¥ í´ë˜ìŠ¤: ìš”êµ¬ ì‚¬í•­ì— ë”°ë¼ ì €ì¥ í´ë˜ìŠ¤ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”. ì¼ë°˜ ëª©ì  ì €ì¥ì†Œì— ëŒ€í•œ ê¸°ë³¸ ì„¤ì •ì´ ì¼ë°˜ì ìœ¼ë¡œ ì í•©í•©ë‹ˆë‹¤.\n\n\n\n3. ì„¤ì • ì˜µì…˜ êµ¬ì„±í•˜ê¸° (ì„ íƒì‚¬í•­):\n- ì‚¬ìš©ìì˜ ì„ í˜¸ ë° í”„ë¡œì íŠ¸ ìš”êµ¬ì— ë§ê²Œ ë²„ì „ ê´€ë¦¬, ë¡œê¹… ë° íƒœê·¸ ì„¤ì •ì„ êµ¬ì„±í•©ë‹ˆë‹¤.\n\n4. ê¶Œí•œ ì„¤ì •:\n- ë²„í‚·ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ìë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ê°„ë‹¨íˆ í•˜ë ¤ë©´ í˜„ì¬ ê¸°ë³¸ ì„¤ì •ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n5. ê²€í† :\n- ì„¤ì •ì„ ê²€í† í•˜ê³  \"ë²„í‚· ìƒì„±\" ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.\n\n## ë‹¨ê³„ 5: ë²„í‚· ì •ì±… (ì„ íƒì‚¬í•­)\n\n\n\në§Œì•½ í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ë²„í‚·ì„ ê³µê°œí•˜ë ¤ë©´ ê³µê°œ ì•¡ì„¸ìŠ¤ë¥¼ í—ˆìš©í•˜ëŠ” ë²„í‚· ì •ì±…ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ê¶Œì¥ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë°ì´í„° ë…¸ì¶œì˜ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.\n\n- ë²„í‚·ì˜ \"Permissions\" íƒ­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.\n- \"Bucket Policy\"ë¥¼ í´ë¦­í•˜ê³  ì•„ë˜ì™€ ìœ ì‚¬í•œ ì •ì±…ì„ ì¶”ê°€í•©ë‹ˆë‹¤. your-bucket-nameì„ ì‹¤ì œ ë²„í‚· ì´ë¦„ìœ¼ë¡œ ë°”ê¿”ì£¼ì„¸ìš”.\n\n```js\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": \"*\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::your-bucket-name/*\"\n    }\n  ]\n}\n```\n\ní•„ìš”ì— ë”°ë¼ ê¶Œí•œì„ ì¡°ì •í•˜ì—¬ ì‚¬ìš© ì‚¬ë¡€ì— ë§ê²Œ ì„¤ì •í•˜ì„¸ìš”.\n\n\n\n## 6ë‹¨ê³„: ì•¡ì„¸ìŠ¤ ìê²© ì¦ëª…\n\nS3 ë²„í‚·ê³¼ í”„ë¡œê·¸ë˜ë°ì ìœ¼ë¡œ ìƒí˜¸ ì‘ìš©í•˜ë ¤ë©´ AWS ì•¡ì„¸ìŠ¤ í‚¤ì™€ ë¹„ë°€ í‚¤ ìê²© ì¦ëª…ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n- AWS ê´€ë¦¬ ì½˜ì†”ì—ì„œ â€œServices\"ë¥¼ ì„ íƒí•œ í›„ â€œIAM\"(Identity and Access Management)ì„ í´ë¦­í•©ë‹ˆë‹¤.\n- IAM ëŒ€ì‹œ ë³´ë“œì—ì„œ ì™¼ìª½ íƒìƒ‰ ì°½ì—ì„œ â€œUsers\"ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.\n- ìƒˆ ì‚¬ìš©ìë¥¼ ë§Œë“¤ë ¤ë©´ â€œAdd user\"ë¥¼ í´ë¦­í•©ë‹ˆë‹¤. ì‚¬ìš©ì ì´ë¦„ì„ ì œê³µí•˜ê³  â€œProgrammatic access\"ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.\n- ì‚¬ìš©ìì—ê²Œ â€œAmazonS3FullAccess\" ì •ì±…ì„ ë¶€ì—¬í•©ë‹ˆë‹¤ (ë˜ëŠ” í•„ìš”ì— ë”°ë¼ ë” ì œí•œì ì¸ ì •ì±…ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤).\n- ì‚¬ìš©ìë¥¼ ê²€í† í•˜ê³  ë§Œë“­ë‹ˆë‹¤. ì œê³µëœ ì•¡ì„¸ìŠ¤ í‚¤ IDì™€ ë¹„ë°€ ì•¡ì„¸ìŠ¤ í‚¤ë¥¼ ì €ì¥í•˜ì„¸ìš”. ì´ëŸ¬í•œ ìê²© ì¦ëª…ì„ ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ì„¸ìš”.\n\nì´ì œ AWSì—ì„œ S3 ë²„í‚·ì„ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •í–ˆìœ¼ë©° ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ í†µí•©í•˜ê±°ë‚˜ S3 ì €ì¥ì†Œë¥¼ í™œìš©í•œ ììŠµì„œë¥¼ ë”°ë¼ ì§„í–‰í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n\n\n# ê²°ë¡ \n\nì¶•í•˜í•©ë‹ˆë‹¤! ì•ˆì „í•˜ê²Œ íŒŒì¼ì„ AWS S3ì— ì—…ë¡œë“œí•˜ê¸° ìœ„í•œ í”„ë¡œì íŠ¸ì˜ ì „ì²´ì ì¸ ì†”ë£¨ì…˜ì„ ì„±ê³µì ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” React í”„ë¡ íŠ¸ì—”ë“œì™€ Node.js ë°±ì—”ë“œë¥¼ AWS S3ì™€ í•¨ê»˜ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë¤˜ìŠµë‹ˆë‹¤. ì½”ë“œë¥¼ í”„ë¡œì íŠ¸ ìš”êµ¬ì— ë§ê²Œ ì‚¬ìš©ì ì •ì˜í•˜ê³ , ì•ˆì „í•œ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œì„ ë°°í¬í•  ì¤€ë¹„ê°€ ëœ ê²ƒì…ë‹ˆë‹¤. ì¦ê±°ìš´ ì½”ë”©í•˜ì„¸ìš”.....","ogImage":{"url":"/assets/img/2024-05-12-FullStackTutorialSecureFileUploadwithPresignedURLsinReactandNodejsAWSS3_0.png"},"coverImage":"/assets/img/2024-05-12-FullStackTutorialSecureFileUploadwithPresignedURLsinReactandNodejsAWSS3_0.png","tag":["Tech"],"readingTime":7},{"title":"ë¦¬ì•¡íŠ¸ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ë§ˆìŠ¤í„°í•˜ê¸° useFetchCache ì†Œê°œ","description":"","date":"2024-05-12 19:02","slug":"2024-05-12-MasteringDataFetchinginReactIntroducinguseFetchCache","content":"\n\n# TL;DR\n\nuseFetchCache í›…ì€ React ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°, ìºì‹± ë° ì—…ë°ì´íŠ¸ë¥¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ ì„¤ê³„ëœ ì‚¬ìš©ì ì •ì˜ í›…ì…ë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ë¡œì»¬ ìºì‹±ê³¼ ì›í™œí•˜ê²Œ í†µí•©í•¨ìœ¼ë¡œì¨, ë¹ˆë²ˆí•œ ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•˜ì§€ë§Œ ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” íš¨ìœ¨ì ì¸ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n## React ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°™ì€ ë°ì´í„°ë¥¼ ê³„ì†í•´ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì— ì§€ì³¤ìŠµë‹ˆê¹Œ?\n\nuseFetchCacheë¥¼ ë§Œë‚˜ë³´ì„¸ìš”! ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ì™€ ìºì‹±ì˜ ìŠˆí¼íˆì–´ë¡œ! ğŸ¦¸â€â™‚ï¸\n\n\n\nuseFetchCacheëŠ” ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ ê°„í¸í•˜ê²Œ ë§Œë“¤ì–´ ì£¼ëŠ” ì»¤ìŠ¤í…€ React í›…ì´ì—ìš”. ê°œì¸ ë¹„ì„œì²˜ëŸ¼ ì‘ë™í•˜ì—¬ í•„ìš”í•œ ëª¨ë“  ê²ƒì„ ê¸°ì–µí•´ ì£¼ì–´ì„œ ë§¤ë²ˆ ìš”ì²­í•  í•„ìš”ê°€ ì—†ì–´ìš”. ë°˜ë³µì ì¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ë¡œì§ ì‘ì„±ì´ë‚˜ ì—¬ëŸ¬ ê°œì˜ ë¡œë”© ë° ì˜¤ë¥˜ ìƒíƒœë¥¼ ì²˜ë¦¬í•˜ëŠ” ë²ˆê±°ë¡œì›€ë„ ì—†ì–´ìš”. ğŸ˜Œ\n\nuseFetchCacheë¥¼ ì‚¬ìš©í•˜ë©´ API URLê³¼ í•„ìš”í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì œê³µí•˜ê³ , í›„ëŠ” ëª¨ë‘ ë§¡ê¸°ë©´ ë¼ìš”. ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ë¡œë”© ìƒíƒœë¥¼ ì²˜ë¦¬í•˜ë©°, AsyncStorageë¥¼ ì‚¬ìš©í•˜ì—¬ ê²°ê³¼ë¥¼ ë¡œì»¬ë¡œ ìºì‹±í•´ìš”. ì´ë ‡ê²Œ í•˜ë©´ ê°™ì€ ë°ì´í„°ì— ëŒ€í•œ í›„ì† ìš”ì²­ì€ ìºì‹œì—ì„œ ì œê³µë˜ì–´ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ ì¤„ì´ê³  ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆì–´ìš”. âš¡\n\ní•˜ì§€ë§Œ ì—¬ê¸°ì„œ ëì´ ì•„ë‹ˆì—ìš”! useFetchCacheì—ëŠ” ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜ê°€ ì œê³µë˜ì–´ ë°ì´í„°ë¥¼ í•„ìš”í•  ë•Œë§ˆë‹¤ ìƒˆë¡­ê²Œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆì–´ìš”. ì‚¬ìš©ì ìƒí˜¸ì‘ìš©ì´ë‚˜ ì£¼ê¸°ì ì¸ ì—…ë°ì´íŠ¸ ë•Œë¬¸ì´ë”ë¼ë„ useFetchCacheê°€ í•­ìƒ ë„ì™€ì¤„ ê±°ì˜ˆìš”. ğŸ”„\n\nê·¸ëŸ¬ë‹ˆ React ì»´í¬ë„ŒíŠ¸ë¥¼ ê°•í™”í•˜ê³  ë°ì´í„° ê°€ì ¸ì˜¤ê¸° í”„ë¡œì„¸ìŠ¤ë¥¼ ê°„ì†Œí™”í•˜ë ¤ë©´ useFetchCacheê°€ ì—¬ëŸ¬ë¶„ì˜ ìƒˆë¡œìš´ ì¹œêµ¬ê°€ ë  ê±°ì—ìš”. ì´ ìŠˆí¼íˆì–´ë¡œ í›…ìœ¼ë¡œ ë¬´ê±°ìš´ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³  ì‚¬ìš©ìë“¤ì„ ìœ„í•œ ë†€ë¼ìš´ ê²½í—˜ì„ ë§Œë“œëŠ” ë° ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ í•´ ì£¼ì„¸ìš”. ğŸ’¯\n\n\n\nuseFetchCacheë¥¼ í†µí•´ ë§¤ë„ëŸ¬ìš´ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ì™€ ìºì‹±ì˜ ë§ˆë²•ì„ ê²½í—˜í•  ì¤€ë¹„ê°€ ë˜ì…¨ë‚˜ìš”? ğŸš€âœ¨\n\n## useFetchCacheë€?\n\nuseFetchCacheëŠ” APIì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê³¼ì •ì„ ìë™í™”í•˜ê³ , ê·¸ ë°ì´í„°ë¥¼ ë¡œì»¬ ì €ì¥ì†Œ(AsyncStorage ì‚¬ìš©)ì— ì €ì¥í•˜ë©°, ì´í›„ ìš”ì²­ì—ì„œ í•´ë‹¹ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” Reactì˜ ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤. ì´ í›…ì€ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°, ìºì‹±, ì˜¤ë¥˜ ê´€ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê³ , ê°•ì œ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ì„ í—ˆìš©í•©ë‹ˆë‹¤.\n\n## useFetchCache ì‚¬ìš©ì˜ ì¥ì \n\n\n\n- ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ ê°ì†Œ: ë°ì´í„°ë¥¼ ë¡œì»¬ë¡œ ìºì‹±í•¨ìœ¼ë¡œì¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë§Œë“œëŠ” API ìš”ì²­ ìˆ˜ê°€ ì¤„ì–´ë“¤ì–´ ëª¨ë°”ì¼ ë°ì´í„° ì‚¬ìš© ë° ì œí•œì ì´ê±°ë‚˜ ê³ ë¹„ìš©ì˜ ì—°ê²° í™˜ê²½ì—ì„œ íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.\n- ì„±ëŠ¥ í–¥ìƒ: ë°ì´í„°ë¥¼ ë¡œì»¬ë¡œ ìºì‹±í•˜ë©´ ë°ì´í„° ê²€ìƒ‰ ì‹œê°„ì´ ë¹¨ë¼ì§€ë©°, ë°ì´í„°ê°€ ëŒ€ë¶€ë¶„ ë¡œì»¬ ì €ì¥ì†Œì—ì„œ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì„œë²„ë¡œì˜ ì™•ë³µì„ í•„ìš”ë¡œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n- ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ: ì‚¬ìš©ìë“¤ì€ ë¹ ë¥¸ ë¡œë“œ ì‹œê°„ê³¼ ë” ë¹ ë¥¸ ë°˜ì‘ì´ ê°€ëŠ¥í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê²½í—˜í•  ìˆ˜ ìˆìœ¼ë©°, ë°ì´í„°ê°€ ë¹ ë¥¸ ì•¡ì„¸ìŠ¤ ë¡œì»¬ ìºì‹œì—ì„œ ë¡œë“œë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n- ê°„í¸í™”ëœ ë°ì´í„° ê´€ë¦¬: í›…ì€ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°, ìºì‹± ë° ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ìº¡ìŠí™”í•˜ì—¬ êµ¬ì„± ìš”ì†Œ ì½”ë“œë¥¼ ë‹¨ìˆœí™”í•©ë‹ˆë‹¤.\n\n# useFetchCache ì‚¬ìš© ë°©ë²•\n\n- í›… ê°€ì ¸ì˜¤ê¸°: React ì»´í¬ë„ŒíŠ¸ íŒŒì¼ì— useFetchCacheë¥¼ ê°€ì ¸ì™€ì„œ ì‹œì‘í•©ë‹ˆë‹¤.\n- í›… ì´ˆê¸°í™”: í•„ìš”í•œ ë§¤ê°œë³€ìˆ˜(API URL ë° ì„ íƒì ìœ¼ë¡œ ê¸°ë³¸ ìºì‹œ í‚¤ ë° ë§Œë£Œ ì‹œê°„)ë¥¼ ì‚¬ìš©í•˜ì—¬ useFetchCacheë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. íŠ¹ì • í‚¤ê°€ ì œê³µë˜ì§€ ì•Šìœ¼ë©´ URLë„ ìºì‹œ í‚¤ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ë°ì´í„° í‘œì‹œ: í›…ì´ ë°˜í™˜í•˜ëŠ” ë°ì´í„° ìƒíƒœë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ì‚¬ìš©ìì—ê²Œ í”¼ë“œë°±ì„ ì œê³µí•˜ê¸° ìœ„í•´ í•„ìš”í•œëŒ€ë¡œ ë¡œë”© ìƒíƒœ ë° ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ì„¸ìš”.\n- ìƒˆë¡œ ê³ ì¹¨ ë° í˜ì´ì§€ë„¤ì´ì…˜ êµ¬í˜„: í•„ìš”í•œ ê²½ìš° ì‹ ì„ í•œ ë°ì´í„°ê°€ í•„ìš”í•œ ì‹œë‚˜ë¦¬ì˜¤ì— ëŒ€ë¹„í•´ í›…ì´ ì œê³µí•˜ëŠ” refetch ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê³ , APIì—ì„œ ì§€ì›í•˜ëŠ” ê²½ìš° API URL ë˜ëŠ” ë‚´ë¶€ ìƒíƒœë¥¼ ì¡°ì •í•˜ì—¬ í˜ì´ì§€ë„¤ì´ì…˜ì„ ê´€ë¦¬í•˜ì„¸ìš”.\n- ì½”ë“œ ë°°ì¹˜: í›…ì€ ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ ìƒë‹¨ì— ë°°ì¹˜ë˜ì–´ì•¼ í•˜ë©°, ì¡°ê±´ë¬¸ì´ë‚˜ ë°˜ë³µë¬¸ ì™¸ë¶€ì— ìœ„ì¹˜í•˜ì—¬ í›…ì˜ ê·œì¹™ì„ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n## ì´ê²ƒì´ ë°”ë¡œ í›…ì…ë‹ˆë‹¤â€¦\n\n\n\n```js\n// useFetchCache.js\n\nimport { useState, useEffect, useCallback } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\n\n/**\n * AsyncStorageë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ìºì‹±í•˜ëŠ” ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤. ì˜µì…˜ìœ¼ë¡œ ê°•ì œ ìƒˆë¡œê³ ì¹¨ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n * \n * @param {string} url - ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ API URLì…ë‹ˆë‹¤.\n * @param {string} [baseCacheKey=null] - ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê¸°ë³¸ ìºì‹œ í‚¤ì…ë‹ˆë‹¤. ì œê³µë˜ì§€ ì•Šìœ¼ë©´ URLì´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n * @param {number} [expirationTime=3600000] - ìºì‹œ ë§Œë£Œê¹Œì§€ì˜ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ ì‹œê°„ì…ë‹ˆë‹¤ (ê¸°ë³¸ê°’ì€ 1ì‹œê°„).\n * @return {Object} ë°ì´í„°, ë¡œë”© ìƒíƒœ, ì˜¤ë¥˜ ë° ë¦¬í˜ì¹˜ í•¨ìˆ˜ë¥¼ í¬í•¨í•œ ê°ì²´ì…ë‹ˆë‹¤.\n */\nconst useFetchCache = (url, baseCacheKey = null, expirationTime = 1000 * 60 * 60) => {\n  // ì œê³µëœ baseCacheKey ë˜ëŠ” URLì„ ì‚¬ìš©í•˜ì—¬ ìºì‹œ í‚¤ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.\n  const cacheKey = `${baseCacheKey ? baseCacheKey : encodeURIComponent(url)}`;\n\n  // ë°ì´í„°, ë¡œë”© ìƒíƒœ, ì˜¤ë¥˜ë¥¼ ê´€ë¦¬í•˜ëŠ” ìƒíƒœ í›…ì…ë‹ˆë‹¤.\n  const [data, setData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ë¡œ, ì˜µì…˜ìœ¼ë¡œ ìºì‹œë¥¼ ë¬´ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n  const fetchData = async (forceFetch = false) => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const storedDataString = await AsyncStorage.getItem(cacheKey);\n\n      // ê°•ì œ ìƒˆë¡œê³ ì¹¨í•˜ì§€ ì•Šê³  ìºì‹œê°€ ìˆê³  ìœ íš¨í•œ ê²½ìš° ìºì‹œëœ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n      if (!forceFetch && storedDataString) {\n        const storedData = JSON.parse(storedDataString);\n        const now = Date.now();\n        if (now - storedData.timestamp < expirationTime) {\n          console.log(\"ìºì‹œë¡œë¶€í„° ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤ for key:\", cacheKey);\n          setData(storedData.data);\n          return;\n        }\n      }\n\n      // ê°•ì œ ìƒˆë¡œê³ ì¹¨ì´ê±°ë‚˜ ìºì‹œê°€ ë§Œë£Œëœ ê²½ìš° ë˜ëŠ” ìºì‹œê°€ ì—†ëŠ” ê²½ìš° APIì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\n      console.log(\"APIë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ for URL:\", url);\n      const response = await axios.get(url);\n      const newData = response.data;\n      setData(newData);\n      await AsyncStorage.setItem(cacheKey, JSON.stringify({\n        data: newData,\n        timestamp: Date.now(),\n      }));\n    } catch (err) {\n      console.error(\"ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\", err);\n      setError(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // ìºì‹œë¥¼ ë¬´ì‹œí•˜ì—¬ ë°ì´í„°ë¥¼ ê°•ì œë¡œ ë‹¤ì‹œ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.\n  const refetch = useCallback(() => {\n    console.log(\"ìºì‹œë¥¼ ë¬´ì‹œí•˜ê³  ë°ì´í„°ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜µë‹ˆë‹¤...\");\n    fetchData(true);\n  }, [url, cacheKey]);\n\n  // URLì´ë‚˜ cacheKeyê°€ ë³€ê²½ë  ë•Œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” íš¨ê³¼ì…ë‹ˆë‹¤.\n  useEffect(() => {\n    fetchData();\n  }, [url, cacheKey]);\n\n  return { data, isLoading, error, refetch };\n};\n\nexport default useFetchCache;\n```\n\n## ê·¸ë¦¬ê³  ì—¬ê¸°ì— ìƒ˜í”Œ ì‚¬ìš©ë²•ì´ ìˆìŠµë‹ˆë‹¤...\n\n```js\n// DataFetchingComponent.js \n\nimport React from 'react';\nimport { View, Text, ActivityIndicator, Button } from 'react-native';\nimport useFetchCache from './useFetchCache'; // useFetchCacheê°€ ì •ì˜ëœ íŒŒì¼ë¡œ ì˜¬ë°”ë¥´ê²Œ ì§€ì •í•˜ì„¸ìš”.\n\nconst DataFetchingComponent = () => {\n  // ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ URLì…ë‹ˆë‹¤.\n  const url = \"https://api.example.com/data\";\n\n  // URLì„ ì‚¬ìš©í•˜ì—¬ í›…ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. baseCacheKeyë¥¼ ì œê³µí•˜ì§€ ì•Šìœ¼ë©´ URLì´ ìë™ìœ¼ë¡œ ìºì‹œ í‚¤ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n  const { data, isLoading, error, refetch } = useFetchCache(url);\n\n  // ì‚¬ìš©ìê°€ \"ìƒˆë¡œê³ ì¹¨\" ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œ ìƒˆë¡œ ê³ ì¹¨ ë™ì‘ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n  const handleRefresh = () => {\n    refetch(); // í›…ì—ì„œ ì œê³µí•˜ëŠ” refetch í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ê°•ì œë¡œ ë‹¤ì‹œ ê°€ì ¸ì˜µë‹ˆë‹¤.\n  };\n\n  // ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë™ì•ˆ ë¡œë”© í‘œì‹œì¤„ì„ ë Œë”ë§í•©ë‹ˆë‹¤.\n  if (isLoading) return <ActivityIndicator size=\"large\" color=\"#0000ff\" />;\n\n  // ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë™ì•ˆ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤.\n  if (error) return <Text>Error: {error.toString()}</Text>;\n\n  // ê°€ì ¸ì˜¨ ë°ì´í„° ë˜ëŠ” ê°€ì ¸ì˜¨ ë°ì´í„°ê°€ ì—†ì„ ê²½ìš° ë©”ì‹œì§€ë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤.\n  return (\n    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n      <Text>Data: {data ? JSON.stringify(data) : 'ë°ì´í„° ì—†ìŒ'}</Text>\n      <Button title=\"ë°ì´í„° ìƒˆë¡œê³ ì¹¨\" onPress={handleRefresh} color=\"#0000ff\" />\n    </View>\n  );\n};\n\nexport default DataFetchingComponent;\n```\n\n# ì£¼ìš” ë‚´ìš©```\n\n\n\n- ì¼ê´€ì„±ì´ ì¤‘ìš”í•©ë‹ˆë‹¤: í•­ìƒ ë™ì¼í•œ ë°ì´í„° ì§‘í•©ì— ëŒ€í•´ ë™ì¼í•œ ìºì‹œ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ìš© í”„ë¡œê·¸ë¨ ì „ì²´ì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ì„¸ìš”.\n- ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ì„¸ë ¨ë˜ê²Œ: ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ì„¸ë ¨ë˜ê²Œ ì²˜ë¦¬í•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ì„¸ìš”.\n- ìºì‹œ ì •ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸: ìºì‹œëœ ë°ì´í„°ì— ì ì ˆí•œ ë§Œë£Œ ì‹œê°„ì„ ì„¤ì •í•˜ê³  ì£¼ê¸°ì ìœ¼ë¡œ ë˜ëŠ” ì‚¬ìš©ì ìš”êµ¬ì— ë”°ë¼ ìºì‹œë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” refetch í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\n\n# ê²°ë¡ \n\nReact ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ useFetchCache í›…ì„ ì‚¬ìš©í•˜ë©´ ë°ì´í„° ì²˜ë¦¬ë¥¼ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë³µì ì´ê³  ë¹„ìš© ì†Œëª¨ì ì¸ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ì¤„ì–´ë“¤ë©° ë°ì´í„° ë¡œë“œ ì‹œê°„ì„ ë‹¨ì¶•í•˜ê³  êµ¬ì„± ìš”ì†Œì—ì„œì˜ ë°ì´í„° ê´€ë¦¬ë¥¼ ê°„ë‹¨í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í›…ì„ í†µí•©í•¨ìœ¼ë¡œì¨ ê°œë°œìë“¤ì€ ì¢‹ì€ ê¸°ëŠ¥ì„ ê°œë°œí•˜ëŠ” ë° ë” ì§‘ì¤‘í•  ìˆ˜ ìˆê³  ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ì™€ ìƒíƒœ ê´€ë¦¬ì˜ ë³µì¡ì„±ì— ëŒ€í•´ ëœ ê±±ì •í•´ë„ ë©ë‹ˆë‹¤.","ogImage":{"url":"/assets/img/2024-05-12-MasteringDataFetchinginReactIntroducinguseFetchCache_0.png"},"coverImage":"/assets/img/2024-05-12-MasteringDataFetchinginReactIntroducinguseFetchCache_0.png","tag":["Tech"],"readingTime":7},{"title":"ì›¹ ì„±ëŠ¥ ìµœì í™” Tree Shaking ì„¤ëª…","description":"","date":"2024-05-12 19:01","slug":"2024-05-12-OptimizingWebPerformanceTreeShakingExplained","content":"\n\nğŸ“ ì´ ë¸”ë¡œê·¸ì—ì„œëŠ” ì›¹ ê°œë°œì—ì„œ ì¤‘ìš”í•œ í”„ë¡œì„¸ìŠ¤ì¸ Tree Shakingì˜ ê°œë…ì„ ìì„¸íˆ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤. Tree shakingì„ ì´í•´í•˜ëŠ” ê²ƒì€ ì½”ë“œì˜ ì„±ëŠ¥ì„ ìµœì í™”í•˜ê³  ìµœì¢… ì œí’ˆì— í•„ìš”í•œ ë¶€ë¶„ë§Œ í¬í•¨ë˜ë„ë¡ ë³´ì¥í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤. ğŸ•µï¸â€â™€ï¸ ì´ ê¸°ìˆ ì´ ë¬´ì—‡ì´ë©°, íš¨ìœ¨ì ì´ê³  ê°„ì†Œí™”ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” ë° ì™œ ì¤‘ìš”í•œì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n\nğŸ¤” ë¨¼ì € Tree Shakingì´ ë¬´ì—‡ì¸ì§€ ì •ì˜í•´ ë³´ê² ìŠµë‹ˆë‹¤.\n\nğŸ’¡ TREE SHAKINGì€ JavaScriptì—ì„œ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ ë¡œ, ë²ˆë“¤ë§ í”„ë¡œì„¸ìŠ¤ ì¤‘ì— ë²ˆë“¤ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì½”ë“œë‚˜ ëª¨ë“ˆì„ ì œê±°í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. Tree shakingì€ ì¼ë°˜ì ìœ¼ë¡œ JavaScript ê¸°ë°˜ ê°œë°œì˜ ë²ˆë“¤ë§ í”„ë¡œì„¸ìŠ¤ì˜ ì¼ë¶€ì…ë‹ˆë‹¤. JavaScript ì½”ë“œë¥¼ ë²ˆë“¤ë§í•  ë•Œ ì—¬ëŸ¬ íŒŒì¼ì„ ìµœì í™”ëœ ìƒíƒœë¡œ ë¬¶ì–´ ë¸Œë¼ìš°ì €ë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nğŸ“š ì—¬ê¸°ì„œ ì½ê¸°: ë²ˆë“¤ë§: ì›¹ ì„±ëŠ¥ ìµœì í™”\n\n\n\nğŸ¤¯ ì´ ì˜ˆì œë¥¼ í†µí•´ ì´í•´í•´ ë´…ì‹œë‹¤.\n\nğŸ˜€ ì½”ë“œì˜ í° íŠ¸ë¦¬ì™€ (ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì½”ë“œì¸) ê°€ì§€ë“¤ì´ ê·¸ê²ƒì„ ë¬´ê²ê²Œ ë§Œë“ ë‹¤ê³  ìƒìƒí•´ë³´ì„¸ìš”. (ì¦‰, ì›¹ ì•± ì„±ëŠ¥ì„ ë‚®ì¶¥ë‹ˆë‹¤). Tree shakingì€ ê·¸ ê°€ì§€ë¥¼ í”ë“¤ì–´ì„œ ë¶ˆí•„ìš”í•œ ê°€ì§€ë“¤ì„ ë†“ì•„ë²„ë¦¬ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œë¥¼ ê°€ë³ê³  ë¹ ë¥´ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ğŸ«¡\n\nì§€ê¸ˆ ì½”ë“œë¡œ ë” ì˜ ì´í•´í•´ ë´…ì‹œë‹¤ ğŸ¤©\n\n```js\nexport function add(num1, num2){\n  return num1 + num2;\n}\n\nexport function sub(num1, num2){\n  return num1 - num2;\n}\n\nexport function mul(num1, num2){\n  return num1 * num2;\n}\n\nexport function div(num1, num2){\n  return num1 / num2;\n}\n```\n\nMain.js\n\n```js\nimport { mul, add } from './Operators';\n\nconsole.log(mul(3, 8));\n\nconsole.log(add(55, 23));\n```\n\nğŸ”¥ When all these files are bundled together, Here is the final bundled code\n```\n\n\n\n```js\n// ë²ˆë“¤ëœ ì—°ì‚°ì\n\nexport function add(num1, num2) {\n  return num1 + num2;\n}\n\nexport function mul(num1, num2) {\n  return num1 * num2;\n}\n\nconsole.log(mul(3, 8));\nconsole.log(add(55, 23));\n```\n\nì—¬ê¸°ì„œ sub, div í•¨ìˆ˜ëŠ” ìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìµœì¢… ë²ˆë“¤ì—ì„œ ì œì™¸ë©ë‹ˆë‹¤. ì´ëŠ” ë²ˆë“¤ë§ í”„ë¡œì„¸ìŠ¤ ì¤‘ì— ìˆ˜í–‰ë˜ëŠ” íŠ¸ë¦¬ ì‰ì´í‚¹ ê¸°ìˆ ì— ì˜í•´ ìˆ˜í–‰ë©ë‹ˆë‹¤.\n\nğŸ¤¨ ì•Œê² ì–´! í•˜ì§€ë§Œ í•¨ìˆ˜ê°€ ì‚¬ìš©ì ì…ë ¥ [ì¦‰, ë™ì  ì‚¬ìš©ì ì…ë ¥]ì— ì˜ì¡´í•˜ëŠ” ê²½ìš° ì–´ë–»ê²Œ ë˜ë‚˜ìš”? íŠ¸ë¦¬ ì‰ì´í‚¹ ê¸°ìˆ ì€ ì—¬ì „íˆ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ì˜ ì‚¬ìš©ì„ ì œê±°í• ê¹Œìš”?\n\nğŸ‘‰ ì—¬ëŸ¬ í•¨ìˆ˜ê°€ ì‚¬ìš©ì ì…ë ¥ì— ì¢…ì†ë˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” íŠ¸ë¦¬ ì‰ì´í‚¹ì´ ë„ì „ì„ ê²ªì„ ìˆ˜ ìˆìœ¼ë©° íš¨ê³¼ê°€ ëœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ì…ë ¥ì€ ì‹¤í–‰ ì‹œê°„ê¹Œì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë¹Œë“œ ë„êµ¬ëŠ” ë²ˆë“¤ì— ëª¨ë“  ì ì¬ì ìœ¼ë¡œ ê´€ë ¨ ìˆëŠ” í•¨ìˆ˜ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë™ì  ì‚¬ìš©ì ì˜ì¡´ì„±ì˜ íŠ¹ì„±ì€ íŠ¸ë¦¬ ì‰ì´í‚¹ì´ íš¨ê³¼ì ìœ¼ë¡œ ìµœì í™”í•˜ëŠ” ê²ƒì„ ì–´ë µê²Œ ë§Œë“¤ë©°, ê°œë°œìë“¤ì€ ì´ëŸ¬í•œ ê²½ìš°ì— ì½”ë“œ ë¶„í•  ë˜ëŠ” ì§€ì—° ë¡œë”©ê³¼ ê°™ì€ ëŒ€ì²´ ì „ëµì„ ê³ ë ¤í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n```\n\n\n\n```js\n// Module A\nexport function add(num1, num2) {\n  return num1 + num2;\n}\n\n// Module B\nexport function multiply(num1, num2) {\n  return num1 * num2;\n}\n\n// Main application file\nimport { add, multiply } from './modules';\n\n// User input\nconst userInput = prompt('ë”í•˜ê¸°ëŠ” 1ì„ ì…ë ¥í•˜ê³ , ê³±í•˜ê¸°ëŠ” 2ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');\n\nlet result;\n\nif (userInput === '1') {\n  result = add(3, 4);\n} else if (userInput === '2') {\n  result = multiply(3, 4);\n}\n\nconsole.log(result);\n```\n\nì´ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì‚¬ìš©ìì˜ ì…ë ¥ì— ë”°ë¼ 'add' ë˜ëŠ” 'multiply' í•¨ìˆ˜ê°€ ë™ì ìœ¼ë¡œ í˜¸ì¶œë˜ë¯€ë¡œ ë¹Œë“œ ê³¼ì • ì¤‘ tree shakingì´ ë„ì „ì ì…ë‹ˆë‹¤. Tree shakingì„ ì ìš©í•´ë„ ì‚¬ìš©ì ì…ë ¥ì˜ ë™ì  ì„±í–¥ìœ¼ë¡œ ì¸í•´ ë‘ í•¨ìˆ˜ ëª¨ë‘ ìµœì¢… ë²ˆë“¤ì— í¬í•¨ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìµœì ì˜ ì„±ëŠ¥ì„ ìœ„í•´ ê°œë°œìê°€ ì½”ë“œ ë¶„í•  ë˜ëŠ” ì§€ì—° ë¡œë”©ê³¼ ê°™ì€ ëŒ€ì•ˆì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.\n\nğŸ˜€ ì¥ì \n1. ë²ˆë“¤ í¬ê¸° ì¶•ì†Œ: ì‘ì€ ë²ˆë“¤ì€ ì‚¬ìš©ìì—ê²Œ ë¹ ë¥¸ ë‹¤ìš´ë¡œë“œë¥¼ ì œê³µí•˜ì—¬ í˜ì´ì§€ ë¡œë“œ ì‹œê°„ì„ ê°œì„ í•©ë‹ˆë‹¤.\n2. ëŒ€ì—­í­ ì ˆì•½: ì‘ì€ ë²ˆë“¤ì€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì „ì†¡í•˜ëŠ” ë° ë” ì ì€ ëŒ€ì—­í­ì´ í•„ìš”í•´ í˜¸ìŠ¤íŒ… ë¹„ìš©ì„ ì ˆê°í•˜ê³  ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì „ë°˜ì ì¸ íš¨ìœ¨ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.\n\nğŸ«£ ë‹¨ì \n1. ë™ì  ì‚¬ìš©ì ì…ë ¥, ì¡°ê±´ë¶€ ë¡œë”© ë“±ì—ì„œ íš¨ê³¼ì ì´ì§€ ì•Šì„ ìˆ˜ ìˆìŒ.\n2. ì‘ìš© í”„ë¡œê·¸ë¨ì´ ë™ì  ê°€ì ¸ì˜¤ê¸°ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” í”„ë ˆì„ì›Œí¬ê°€ ì™„ì „íˆ í˜¸í™˜ë˜ì§€ ì•Šì„ ë•Œ ì˜ˆê¸°ì¹˜ ì•Šì€ ë™ì‘ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n\nğŸ’¡ ê²°ë¡ : íŠ¸ë¦¬ ì‰ì´í‚¹ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ë²ˆë“¤ë§ í”„ë¡œì„¸ìŠ¤ ì¤‘ì— ì œê±°í•˜ëŠ” ê°€ì¹˜ ìˆëŠ” ê¸°ìˆ ë¡œ, ë” ì‘ì€ ë²ˆë“¤ê³¼ í–¥ìƒëœ ì‘ìš©í”„ë¡œê·¸ë¨ ì„±ëŠ¥ì„ ì´ëŒì–´ëƒ…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë™ì  ì‚¬ìš©ì ì…ë ¥, ì¡°ê±´ë¶€ ë¡œë”© ë° íŠ¹ì • ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” í”„ë ˆì„ì›Œí¬ì™€ì˜ í˜¸í™˜ì„± ë¬¸ì œì™€ ê´€ë ¨í•˜ì—¬ ê·¸ íš¨ê³¼ëŠ” ì†ìƒë  ìˆ˜ ìˆìœ¼ë©°, ê°œë°œìë“¤ì´ ëŒ€ì²´ ìµœì í™” ì „ëµì„ ì£¼ì˜ ê¹Šê²Œ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.\n\nğŸ“š ì´ì „ í¬ìŠ¤íŠ¸:\n\nğŸ‘‰ NPMì´ ë¬´ì—‡ì¸ê°€ìš”?\nğŸ‘‰ ì˜ë¯¸ ìˆëŠ” ë²„ì „ ê´€ë¦¬ í•´ë¶€\nğŸ‘‰ Dependencies, DevDependencies ë° PeerDependencies\nğŸ‘‰ ë¡œì»¬ ëŒ€ ê¸€ë¡œë²Œ íŒ¨í‚¤ì§€\nğŸ‘‰ ë²ˆë“¤ë§: ì›¹ ì„±ëŠ¥ ìµœì í™” ë°©ë²•\n\nğŸ” ë‹¤ìŒì€:\n\n\n\nğŸ‘‰ ìµœì†Œí™”, ê²€ì‚¬\nğŸ‘‰ ì½”ë“œ ë¶„í• , ì§€ì—° ë¡œë”©\n\në” ë§ì€ ReactJs ê°œë°œì— ëŒ€í•œ í†µì°°ë ¥ì„ ê¸°ëŒ€í•´ì£¼ì„¸ìš”! ğŸš€ğŸ“¦","ogImage":{"url":"/assets/img/2024-05-12-OptimizingWebPerformanceTreeShakingExplained_0.png"},"coverImage":"/assets/img/2024-05-12-OptimizingWebPerformanceTreeShakingExplained_0.png","tag":["Tech"],"readingTime":4}],"page":"83","totalPageCount":94,"totalPageGroupCount":5,"lastPageGroup":14,"currentPageGroup":4},"__N_SSG":true}