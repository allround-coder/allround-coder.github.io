{"pageProps":{"post":{"title":"Daggerë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ì €ë¸”ì„ ì£¼ì…ì‹œí‚¤ë˜, ê·¸ê²ƒì„ ìƒì§€ ì•ŠëŠ” ë°©ë²•","description":"","date":"2024-05-15 15:54","slug":"2024-05-15-InjectingComposableswithDaggerwithoutlosingit","content":"\n\n\n![Injecting Composables with Dagger without losing it](/assets/img/2024-05-15-InjectingComposableswithDaggerwithoutlosingit_0.png)\n\nEveryone is using Hilt/Koin or some other fancy DI framework that just worksâ„¢.\n\nIn this house, we still use plain Dagger2. Itâ€™sâ€¦ not going great.\n\nConsider the predicament of a composable that can only work with certain parameters:\n\n\n\n\nê°€ë” composableë“¤ì´ í˜¸ì¶œìì—ê²Œ ë„ˆë¬´ ë§ì€ ê²ƒì„ ìš”êµ¬í•˜ëŠ” ê²½ìš°ê°€ ìˆì–´ìš”.\n\nì´ ë•ŒëŠ” ì•„ë§ˆë„ ì´ë¯¸ ë„ˆë¬´ ê¹Šì´ ë“¤ì–´ê°„ ìƒí™©ì¼ ê²ƒì´ê³ , ì´ë¥¼ ë°”ê¾¸ë ¤ë©´ ë‹¤ë¥¸ 10ê°€ì§€ ê²ƒë“¤ì„ ê¹¨ëœ¨ë ¤ì•¼ í•  ìˆ˜ë„ ìˆì–´ìš”.\n\n## ì •ë¦¬\n\nì´ ê²Œì‹œë¬¼ì˜ ëª©í‘œëŠ” ë…ë¦½ì ì¸ composableì„ ë§Œë“œëŠ” ë°©ë²•ì„ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤:\n\n\n\n- ìì²´ Dagger ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n- ìì‹ ì„ ì£¼ì…í•©ë‹ˆë‹¤.\n- ì‚¬ìš©ì ì •ì˜ íŒ©í† ë¦¬ë¡œ ViewModelì„ ë¹Œë“œí•©ë‹ˆë‹¤.\n- ViewModels ë° Composeì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ì´ ë¯¸ë¯¸/ë¸”ë¡œê·¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\n\n## ìš”ì•½\n\n## ì‹œì‘ì \n\nDagger2ë¡œ í™œë™/í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n\n\n- ìì²´ Dagger ì»´í¬ë„ŒíŠ¸ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤\n- ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¼ë¶€ ì˜ì¡´ì„±ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\n\nê·¸ëŸ° ë‹¤ìŒ ì˜ì¡´ì„±ì„ íŒŒë¼ë¯¸í„°ë¡œ ì»´í¬ì €ë¸”ì— ì•„ë˜ë¡œ ì „ë‹¬í•  ê²ƒì…ë‹ˆë‹¤ (í˜„ì¬ ê·¸ëŒ€ë¡œ ë˜ëŠ” í•¨ìˆ˜ë¥¼ í†µí•´):\n\nì •ë³´ëŠ” CompositionLocalsë¡œë„ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ë°©ë²•ì€ ë…¼ë€ì˜ ì—¬ì§€ê°€ ìˆëŠ”ë°, ìµœì†Œí•œ ì´ ê¸€ì—ì„œëŠ” ë‹¤ë£¨ì§€ ì•Šê² ìŠµë‹ˆë‹¤.\n\n\n\n<img src=\"/assets/img/2024-05-15-InjectingComposableswithDaggerwithoutlosingit_1.png\" />\n\n## ì´ì£¼\n\nFirstScreenì„ ë…ë¦½ì ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì£¼ì…ëœ ì¢…ì†ì„±ì„ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.\n\n@Stable ì£¼ì„ì„ ì‚¬ìš©í•˜ë©´ ìƒì„±ëœ í›„ì— ì‹¤ì œë¡œ ë³€ê²½ë˜ì§€ ì•Šì„ ê²ƒì„ compose ì»´íŒŒì¼ëŸ¬ì— ì•Œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n\n## Dagger êµ¬ì„± ìš”ì†Œ\n\n## Compose ë ˆì´ì–´\n\nì´ ë°©ë²•ì€ ì²˜ìŒì—ëŠ” ì‘ë™í•˜ì§€ë§Œ ë§¤ë²ˆ ì¬êµ¬ì„±í•  ë•Œë§ˆë‹¤ Dagger êµ¬ì„± ìš”ì†Œê°€ ë‹¤ì‹œ ìƒì„±ë©ë‹ˆë‹¤.\n\nì´ì™€ ê°™ì´ ë¬´í•´í•œ ì˜ˆì œì— ëŒ€í•´ì„œëŠ” ì„±ëŠ¥ì— ê±°ì˜ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë³´ë‹¤ ë³µì¡í•œ í™”ë©´ì— ëŒ€í•´ì„œëŠ” ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n\n\nLetâ€™s use the classic remember keyword, then:\n\n![image](/assets/img/2024-05-15-InjectingComposableswithDaggerwithoutlosingit_2.png)\n\n## Should someone actually do this?\n\nThis approach goes against most compose guidelines. Composables should really be pure functions, fast, idempotent, and free of side effects.\n\n\n\n\ní•˜ì§€ë§Œ ì£¼ìš” ë¦¬íŒ©í„°ë§ì´ ì‹¤í˜„ ê°€ëŠ¥í•˜ì§€ ì•Šì„ ë•Œ, ë„ˆë¬´ ë§ì€ ë…¸ë ¥ì„ ë“¤ì´ì§€ ì•Šê³  ì‘ë™ì‹œí‚¬ ìˆ˜ ìˆì–´ìš”.\n\n## ìŠì§€ë§ê³ ìš” (ë¯¸ì•ˆí•´ìš”ğŸ˜‘)\n\níš¨ìœ¨ì„±ì´ ì¤‘ìš”í•˜ë‹¤ë©´, ê°„ë‹¨íˆ ì²˜ë¦¬í•  ìˆ˜ ì—†ì„ ê±°ì—ìš”. Ian Lakeê°€ ì—¬ê¸°ì—ì„œ ì™œ ì„¤ëª…í•˜ëŠ”ì§€ ì•Œë ¤ì¤„ê²Œìš”:\n\nìœ„ì™€ ê°™ì€ ê²½ìš°ì—ëŠ” DI êµ¬ì„± ìš”ì†Œê°€ ë‹¤ì‹œ ìƒì„±ë˜ì–´ composableë¡œ ì£¼ì…ë  ê±°ì˜ˆìš”.\n\n\n\nì„¸ê³„ì˜ ëì€ ì•„ë‹ˆì§€ë§Œ, íŠ¹íˆ ë¬´ê±°ìš´ Dagger êµ¬ì„± ìš”ì†Œì˜ ê²½ìš°ì—ëŠ” ì•½ê°„ì˜ ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.\n\në§Œì•½ ê¸°ì–µí•˜ëŠ” ê°’ì„ ë„ˆë¬´ ì‰½ê²Œ ìƒì–´ë²„ë¦¬ì§€ ì•Šì„ê¹Œ ê±±ì •ëœë‹¤ë©´, ë” ê³ ê¸‰ ìŠ¤ì½”í•‘ ì˜µì…˜ 2ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤:\n\n- **resaca**\n    - sebaslogenì— ì˜í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì •ë§ ì¢‹ì•„ìš”! ğŸ‘\n- **Circuit**\n    - Slackì— ì˜í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ë” ê°•ë ¥í•œ ê¸°ì–µ í˜•íƒœ ì´ì™¸ì—ë„ ë” ë§ì€ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤. ê°œì¸ì ì¸ ê²½í—˜ì€ ì—†ìŠµë‹ˆë‹¤.\n\n## ê·¸ë˜ë„ìš”\n\n\n\nì¡°ê¸ˆì´ë‚˜ë§ˆ ë„ì›€ì´ ë˜ì—ˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤.\n\n@markasduplicate\n\në‚˜ì¤‘ì— ë´ìš”.","ogImage":{"url":"/assets/img/2024-05-15-InjectingComposableswithDaggerwithoutlosingit_0.png"},"coverImage":"/assets/img/2024-05-15-InjectingComposableswithDaggerwithoutlosingit_0.png","tag":["Tech"],"readingTime":3},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-InjectingComposableswithDaggerwithoutlosingit_0.png\",\n        alt: \"Injecting Composables with Dagger without losing it\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Everyone is using Hilt/Koin or some other fancy DI framework that just worksâ„¢.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In this house, we still use plain Dagger2. Itâ€™sâ€¦ not going great.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Consider the predicament of a composable that can only work with certain parameters:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê°€ë” composableë“¤ì´ í˜¸ì¶œìì—ê²Œ ë„ˆë¬´ ë§ì€ ê²ƒì„ ìš”êµ¬í•˜ëŠ” ê²½ìš°ê°€ ìˆì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ë•ŒëŠ” ì•„ë§ˆë„ ì´ë¯¸ ë„ˆë¬´ ê¹Šì´ ë“¤ì–´ê°„ ìƒí™©ì¼ ê²ƒì´ê³ , ì´ë¥¼ ë°”ê¾¸ë ¤ë©´ ë‹¤ë¥¸ 10ê°€ì§€ ê²ƒë“¤ì„ ê¹¨ëœ¨ë ¤ì•¼ í•  ìˆ˜ë„ ìˆì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì •ë¦¬\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ê²Œì‹œë¬¼ì˜ ëª©í‘œëŠ” ë…ë¦½ì ì¸ composableì„ ë§Œë“œëŠ” ë°©ë²•ì„ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ìì²´ Dagger ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ìì‹ ì„ ì£¼ì…í•©ë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ì‚¬ìš©ì ì •ì˜ íŒ©í† ë¦¬ë¡œ ViewModelì„ ë¹Œë“œí•©ë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ViewModels ë° Composeì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ì´ ë¯¸ë¯¸/ë¸”ë¡œê·¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ìš”ì•½\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì‹œì‘ì \"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Dagger2ë¡œ í™œë™/í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ìì²´ Dagger ì»´í¬ë„ŒíŠ¸ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¼ë¶€ ì˜ì¡´ì„±ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ëŸ° ë‹¤ìŒ ì˜ì¡´ì„±ì„ íŒŒë¼ë¯¸í„°ë¡œ ì»´í¬ì €ë¸”ì— ì•„ë˜ë¡œ ì „ë‹¬í•  ê²ƒì…ë‹ˆë‹¤ (í˜„ì¬ ê·¸ëŒ€ë¡œ ë˜ëŠ” í•¨ìˆ˜ë¥¼ í†µí•´):\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì •ë³´ëŠ” CompositionLocalsë¡œë„ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ë°©ë²•ì€ ë…¼ë€ì˜ ì—¬ì§€ê°€ ìˆëŠ”ë°, ìµœì†Œí•œ ì´ ê¸€ì—ì„œëŠ” ë‹¤ë£¨ì§€ ì•Šê² ìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-15-InjectingComposableswithDaggerwithoutlosingit_1.png\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì´ì£¼\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"FirstScreenì„ ë…ë¦½ì ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì£¼ì…ëœ ì¢…ì†ì„±ì„ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"@Stable ì£¼ì„ì„ ì‚¬ìš©í•˜ë©´ ìƒì„±ëœ í›„ì— ì‹¤ì œë¡œ ë³€ê²½ë˜ì§€ ì•Šì„ ê²ƒì„ compose ì»´íŒŒì¼ëŸ¬ì— ì•Œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Dagger êµ¬ì„± ìš”ì†Œ\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Compose ë ˆì´ì–´\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ë°©ë²•ì€ ì²˜ìŒì—ëŠ” ì‘ë™í•˜ì§€ë§Œ ë§¤ë²ˆ ì¬êµ¬ì„±í•  ë•Œë§ˆë‹¤ Dagger êµ¬ì„± ìš”ì†Œê°€ ë‹¤ì‹œ ìƒì„±ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì™€ ê°™ì´ ë¬´í•´í•œ ì˜ˆì œì— ëŒ€í•´ì„œëŠ” ì„±ëŠ¥ì— ê±°ì˜ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë³´ë‹¤ ë³µì¡í•œ í™”ë©´ì— ëŒ€í•´ì„œëŠ” ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Letâ€™s use the classic remember keyword, then:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-15-InjectingComposableswithDaggerwithoutlosingit_2.png\",\n        alt: \"image\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Should someone actually do this?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This approach goes against most compose guidelines. Composables should really be pure functions, fast, idempotent, and free of side effects.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í•˜ì§€ë§Œ ì£¼ìš” ë¦¬íŒ©í„°ë§ì´ ì‹¤í˜„ ê°€ëŠ¥í•˜ì§€ ì•Šì„ ë•Œ, ë„ˆë¬´ ë§ì€ ë…¸ë ¥ì„ ë“¤ì´ì§€ ì•Šê³  ì‘ë™ì‹œí‚¬ ìˆ˜ ìˆì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ìŠì§€ë§ê³ ìš” (ë¯¸ì•ˆí•´ìš”ğŸ˜‘)\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"íš¨ìœ¨ì„±ì´ ì¤‘ìš”í•˜ë‹¤ë©´, ê°„ë‹¨íˆ ì²˜ë¦¬í•  ìˆ˜ ì—†ì„ ê±°ì—ìš”. Ian Lakeê°€ ì—¬ê¸°ì—ì„œ ì™œ ì„¤ëª…í•˜ëŠ”ì§€ ì•Œë ¤ì¤„ê²Œìš”:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ì™€ ê°™ì€ ê²½ìš°ì—ëŠ” DI êµ¬ì„± ìš”ì†Œê°€ ë‹¤ì‹œ ìƒì„±ë˜ì–´ composableë¡œ ì£¼ì…ë  ê±°ì˜ˆìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì„¸ê³„ì˜ ëì€ ì•„ë‹ˆì§€ë§Œ, íŠ¹íˆ ë¬´ê±°ìš´ Dagger êµ¬ì„± ìš”ì†Œì˜ ê²½ìš°ì—ëŠ” ì•½ê°„ì˜ ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§Œì•½ ê¸°ì–µí•˜ëŠ” ê°’ì„ ë„ˆë¬´ ì‰½ê²Œ ìƒì–´ë²„ë¦¬ì§€ ì•Šì„ê¹Œ ê±±ì •ëœë‹¤ë©´, ë” ê³ ê¸‰ ìŠ¤ì½”í•‘ ì˜µì…˜ 2ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"resaca\"\n        }), \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"sebaslogenì— ì˜í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì •ë§ ì¢‹ì•„ìš”! ğŸ‘\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Circuit\"\n        }), \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"Slackì— ì˜í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ë” ê°•ë ¥í•œ ê¸°ì–µ í˜•íƒœ ì´ì™¸ì—ë„ ë” ë§ì€ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤. ê°œì¸ì ì¸ ê²½í—˜ì€ ì—†ìŠµë‹ˆë‹¤.\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ê·¸ë˜ë„ìš”\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¡°ê¸ˆì´ë‚˜ë§ˆ ë„ì›€ì´ ë˜ì—ˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"@markasduplicate\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‚˜ì¤‘ì— ë´ìš”.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}