{"pageProps":{"post":{"title":"jQuery를 이용한 다중 이미지 업로드 및 미리 보기와 삭제 기능","description":"","date":"2024-05-18 22:13","slug":"2024-05-18-jQueryMultipleImageUploadwithPreviewandDelete","content":"\n\njQuery를 이용한 다중 이미지 업로드 기능에 미리 보기 및 삭제가 포함되어 있습니다. 이 기능을 사용하면 사용자가 로컬 디바이스에서 여러 이미지를 선택하고 실제로 서버에 업로드하기 전에 미리 보여줄 수 있습니다. 또한 업로드 전에 미리 보기된 선택한 이미지를 삭제할 수 있는 기능도 포함되어 있습니다. 이 기능은 사진 갤러리, 이미지 공유 플랫폼, 콘텐츠 관리 시스템 등 사용자가 여러 이미지를 업로드해야 하는 웹 애플리케이션에서 일반적으로 사용됩니다.\n\n일반적으로 구현 방식은 JavaScript의 FileReader API를 사용하여 선택한 이미지 파일을 읽고 브라우저에서 미리 보여주는 것이 포함됩니다. DOM 조작과 이벤트 처리를 간단하게하기 위해 jQuery가 종종 사용됩니다.\n\n다음은 작동 방식에 대한 기본 개요입니다:\n\n- 사용자는 `input type=\"file\"` 요소를 사용하여 여러 이미지 파일을 선택합니다. (multiple 속성 사용)\n- JavaScript (대부분 jQuery 사용)을 사용하여 파일 선택 변경 이벤트를 처리합니다.\n- 각 선택한 파일에 대해 FileReader 객체를 생성하여 파일 내용을 데이터 URL로 읽습니다.\n- 데이터 URL을 사용하여 미리 보기 영역에 `img` 요소를 만들어 선택한 이미지의 썸네일 미리 보기를 표시합니다.\n- 선택한 이미지를 업로드하기 전에 사용자가 이미지를 선택 해제할 수 있는 삭제 버튼을 제공할 수도 있습니다.\n- 사용자가 선택한 이미지를 업로드할 준비가 되면 실제 파일 데이터를 서버로 보내기 위해 폼 제출 또는 AJAX 요청을 사용합니다.\n\n<div class=\"content-ad\"></div>\n\n여기 여러 이미지를 미리보기 및 삭제할 수 있는 방법을 구현하는 간단한 가이드입니다.\n\n1단계: HTML 마크업\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <title>다중 이미지 업로드 및 미리보기 및 삭제</title>\n    <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\n    <style>\n        .preview {\n            display: inline-block;\n            margin: 10px;\n        }\n        .preview img {\n            width: 100px;\n            height: 100px;\n            margin-right: 10px;\n        }\n    </style>\n</head>\n<body>\n    <input type=\"file\" id=\"file-input\" multiple>\n    <div id=\"preview-container\"></div>\n<script src=\"script.js\"></script>\n</body>\n</html>\n```\n\n2단계: JavaScript\nJavaScript 파일을 script.js로 만들고 다음 코드를 추가하세요.\n\n<div class=\"content-ad\"></div>\n\n```js\n$(document).ready(function(){\n    $(\"#file-input\").on(\"change\", function(){\n        var files = $(this)[0].files;\n        $(\"#preview-container\").empty();\n        if(files.length > 0){\n            for(var i = 0; i < files.length; i++){\n                var reader = new FileReader();\n                reader.onload = function(e){\n                    $(\"<div class='preview'><img src='\" + e.target.result + \"'><button class='delete'>Delete</button></div>\").appendTo(\"#preview-container\");\n                };\n                reader.readAsDataURL(files[i]);\n            }\n        }\n    });\n    $(\"#preview-container\").on(\"click\", \".delete\", function(){\n        $(this).parent(\".preview\").remove();\n        $(\"#file-input\").val(\"\"); // Clear input value if needed\n    });\n});\n```\n\n설명:\n\n- 먼저 multiple 특성을 가진 파일 형식의 input 요소를 만듭니다.\n- 선택된 이미지의 미리 보기를 표시할 preview-container라는 id를 가진 div를 만듭니다.\n- 파일 입력이 변경되면 FileReader API를 사용하여 선택한 파일을 읽고 그들의 미리 보기 이미지를 preview-container에 표시합니다.\n- 각 선택된 파일마다, 해당 파일의 데이터 URL로 src를 설정한 img 태그와 삭제를 위한 delete 클래스가 지정된 버튼이 있는 preview 클래스를 가진 div를 생성합니다.\n- 삭제 버튼을 클릭하면 preview 클래스를 가진 부모 div를 preview-container에서 제거합니다.\n\n총적으로 jQuery를 이용한 여러 이미지 업로드 및 미리 보기와 삭제 기능은 사용자가 선택한 이미지의 시각적 표현을 제공하고 업로드를 완료하기 전에 선택을 관리할 수 있으므로 사용자 경험을 향상시켜 줍니다.```","ogImage":{"url":"/assets/img/2024-05-18-jQueryMultipleImageUploadwithPreviewandDelete_0.png"},"coverImage":"/assets/img/2024-05-18-jQueryMultipleImageUploadwithPreviewandDelete_0.png","tag":["Tech"],"readingTime":3},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    code: \"code\",\n    pre: \"pre\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"jQuery를 이용한 다중 이미지 업로드 기능에 미리 보기 및 삭제가 포함되어 있습니다. 이 기능을 사용하면 사용자가 로컬 디바이스에서 여러 이미지를 선택하고 실제로 서버에 업로드하기 전에 미리 보여줄 수 있습니다. 또한 업로드 전에 미리 보기된 선택한 이미지를 삭제할 수 있는 기능도 포함되어 있습니다. 이 기능은 사진 갤러리, 이미지 공유 플랫폼, 콘텐츠 관리 시스템 등 사용자가 여러 이미지를 업로드해야 하는 웹 애플리케이션에서 일반적으로 사용됩니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"일반적으로 구현 방식은 JavaScript의 FileReader API를 사용하여 선택한 이미지 파일을 읽고 브라우저에서 미리 보여주는 것이 포함됩니다. DOM 조작과 이벤트 처리를 간단하게하기 위해 jQuery가 종종 사용됩니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"다음은 작동 방식에 대한 기본 개요입니다:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"사용자는 \", _jsx(_components.code, {\n          children: \"input type=\\\"file\\\"\"\n        }), \" 요소를 사용하여 여러 이미지 파일을 선택합니다. (multiple 속성 사용)\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"JavaScript (대부분 jQuery 사용)을 사용하여 파일 선택 변경 이벤트를 처리합니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"각 선택한 파일에 대해 FileReader 객체를 생성하여 파일 내용을 데이터 URL로 읽습니다.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"데이터 URL을 사용하여 미리 보기 영역에 \", _jsx(_components.code, {\n          children: \"img\"\n        }), \" 요소를 만들어 선택한 이미지의 썸네일 미리 보기를 표시합니다.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"선택한 이미지를 업로드하기 전에 사용자가 이미지를 선택 해제할 수 있는 삭제 버튼을 제공할 수도 있습니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"사용자가 선택한 이미지를 업로드할 준비가 되면 실제 파일 데이터를 서버로 보내기 위해 폼 제출 또는 AJAX 요청을 사용합니다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"여기 여러 이미지를 미리보기 및 삭제할 수 있는 방법을 구현하는 간단한 가이드입니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"1단계: HTML 마크업\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-html\",\n        children: [_jsxs(_components.span, {\n          className: \"hljs-meta\",\n          children: [\"<!DOCTYPE \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"html\"\n          }), \">\"]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"<\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"html\"\n          }), \">\"]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"<\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"head\"\n          }), \">\"]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"<\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"title\"\n          }), \">\"]\n        }), \"다중 이미지 업로드 및 미리보기 및 삭제\", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"</\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"title\"\n          }), \">\"]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"<\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"script\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"src\"\n          }), \"=\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"https://code.jquery.com/jquery-3.6.0.min.js\\\"\"\n          }), \">\"]\n        }), _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"</\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"script\"\n          }), \">\"]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"<\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"style\"\n          }), \">\"]\n        }), _jsxs(_components.span, {\n          className: \"css\",\n          children: [\"\\n        \", _jsx(_components.span, {\n            className: \"hljs-selector-class\",\n            children: \".preview\"\n          }), \" {\\n            \", _jsx(_components.span, {\n            className: \"hljs-attribute\",\n            children: \"display\"\n          }), \": inline-block;\\n            \", _jsx(_components.span, {\n            className: \"hljs-attribute\",\n            children: \"margin\"\n          }), \": \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"10px\"\n          }), \";\\n        }\\n        \", _jsx(_components.span, {\n            className: \"hljs-selector-class\",\n            children: \".preview\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-selector-tag\",\n            children: \"img\"\n          }), \" {\\n            \", _jsx(_components.span, {\n            className: \"hljs-attribute\",\n            children: \"width\"\n          }), \": \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"100px\"\n          }), \";\\n            \", _jsx(_components.span, {\n            className: \"hljs-attribute\",\n            children: \"height\"\n          }), \": \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"100px\"\n          }), \";\\n            \", _jsx(_components.span, {\n            className: \"hljs-attribute\",\n            children: \"margin-right\"\n          }), \": \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"10px\"\n          }), \";\\n        }\\n    \"]\n        }), _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"</\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"style\"\n          }), \">\"]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"</\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"head\"\n          }), \">\"]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"<\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"body\"\n          }), \">\"]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"<\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"input\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"type\"\n          }), \"=\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"file\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"id\"\n          }), \"=\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"file-input\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"multiple\"\n          }), \">\"]\n        }), \"\\n    \", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"<\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"div\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"id\"\n          }), \"=\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"preview-container\\\"\"\n          }), \">\"]\n        }), _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"</\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"div\"\n          }), \">\"]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"<\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"script\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"src\"\n          }), \"=\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"script.js\\\"\"\n          }), \">\"]\n        }), _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"</\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"script\"\n          }), \">\"]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"</\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"body\"\n          }), \">\"]\n        }), \"\\n\", _jsxs(_components.span, {\n          className: \"hljs-tag\",\n          children: [\"</\", _jsx(_components.span, {\n            className: \"hljs-name\",\n            children: \"html\"\n          }), \">\"]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"2단계: JavaScript\\nJavaScript 파일을 script.js로 만들고 다음 코드를 추가하세요.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"$(\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"ready\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \"){\\n    $(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"#file-input\\\"\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"on\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"change\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \"){\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"var\"\n        }), \" files = $(\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \")[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"files\"\n        }), \";\\n        $(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"#preview-container\\\"\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"empty\"\n        }), \"();\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \"(files.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"length\"\n        }), \" > \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"){\\n            \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"var\"\n        }), \" i = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"; i < files.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"length\"\n        }), \"; i++){\\n                \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"var\"\n        }), \" reader = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"FileReader\"\n        }), \"();\\n                reader.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"onload\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"e\"\n        }), \"){\\n                    $(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"<div class='preview'><img src='\\\"\"\n        }), \" + e.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"target\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"result\"\n        }), \" + \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"'><button class='delete'>Delete</button></div>\\\"\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"appendTo\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"#preview-container\\\"\"\n        }), \");\\n                };\\n                reader.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"readAsDataURL\"\n        }), \"(files[i]);\\n            }\\n        }\\n    });\\n    $(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"#preview-container\\\"\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"on\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"click\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\".delete\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \"){\\n        $(\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"parent\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\".preview\\\"\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"remove\"\n        }), \"();\\n        $(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"#file-input\\\"\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"val\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"\\\"\"\n        }), \"); \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// Clear input value if needed\"\n        }), \"\\n    });\\n});\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"설명:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"먼저 multiple 특성을 가진 파일 형식의 input 요소를 만듭니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"선택된 이미지의 미리 보기를 표시할 preview-container라는 id를 가진 div를 만듭니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"파일 입력이 변경되면 FileReader API를 사용하여 선택한 파일을 읽고 그들의 미리 보기 이미지를 preview-container에 표시합니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"각 선택된 파일마다, 해당 파일의 데이터 URL로 src를 설정한 img 태그와 삭제를 위한 delete 클래스가 지정된 버튼이 있는 preview 클래스를 가진 div를 생성합니다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"삭제 버튼을 클릭하면 preview 클래스를 가진 부모 div를 preview-container에서 제거합니다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"총적으로 jQuery를 이용한 여러 이미지 업로드 및 미리 보기와 삭제 기능은 사용자가 선택한 이미지의 시각적 표현을 제공하고 업로드를 완료하기 전에 선택을 관리할 수 있으므로 사용자 경험을 향상시켜 줍니다.```\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}