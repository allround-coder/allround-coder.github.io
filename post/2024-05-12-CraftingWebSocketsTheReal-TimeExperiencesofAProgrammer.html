<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜ | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜ | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜ | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer" data-gatsby-head="true"/><meta name="twitter:title" content="ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜ | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-12 23:06" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cd012fc8787133d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cd012fc8787133d0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/551-3069cf29fe274aab.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-985df180e46efe53.js" defer=""></script><script src="/_next/static/K-h7XvEVBqnNx_uXMgZoe/_buildManifest.js" defer=""></script><script src="/_next/static/K-h7XvEVBqnNx_uXMgZoe/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/assets/profile.jpg"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 12, 2024</span><span class="posts_reading_time__f7YPP">5<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><p><img src="/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png" alt="Crafting Web Sockets: The Real-Time Experiences of A Programmer"/></p>
<p>ê±°ì˜ 1ë…„ì´ ì§€ë‚œ ì§€ê¸ˆ, í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ í’ë¶€í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë ˆìŠ¤í† ë‘ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ëŠ” ì—¬ì •ì„ ì‹œì‘í•œ ì§€ ì–¼ë§ˆ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë‹¤ìŒ ì„¸ ê°€ì§€ ì£¼ìš” íŒ¨ë„ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤: ì›¹ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì íŒ¨ë„ê³¼ ì›¹ì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ììš© íŒ¨ë„ ê·¸ë¦¬ê³  ìµœì í™”ëœ ëª¨ë°”ì¼ ì‚¬ìš©ì„ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë¼ì´ë” íŒ¨ë„ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì—¬ì •ì—ì„œ ì›¹ ì†Œì¼“ì´ ë¬´ì—‡ì´ë©° ì™œ ì¤‘ìš”í•œì§€, ê·¸ë¦¬ê³  ì¼ë°˜ HTTP ìš”ì²­ê³¼ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ íƒí—˜í•˜ë©´ì„œ ê·¸ ë‚´ìš©ì„ ê¸°ë¡í•œ ì´ ë¸”ë¡œê·¸ëŠ” ê·¸ ì‹œê¸°ì— ë°°ìš´ ê¸°ë³¸ ì›ë¦¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.</p>
<h1>ì°¨ì´ ë°œê²¬í•˜ê¸°: ì›¹ ì†Œì¼“ VS HTTP ìš”ì²­</h1>
<p>ì›¹ ì†Œì¼“ê³¼ HTTPS ìš”ì²­ì€ ê°ê¸° ë‹¤ë¥¸ ì—°ê²° ë™ì‘ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. HTTPì—ì„œëŠ” í˜„ì¬ ìš”ì²­ì´ ëë‚˜ë©´ ì—°ê²°ì´ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì—ëŠ” ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ì— ë°˜í•´ ì›¹ ì†Œì¼“ì€ ì˜¤í”ˆ ì—°ê²°ì„ ìœ ì§€í•˜ì—¬ ì‚¬ìš©ìê°€ ì–¸ì œë“ ì§€ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ë°›ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì±„íŒ…ì´ ì›¹ ì†Œì¼“ ê¸°ìˆ ì˜ ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ì¼ ê²ƒì…ë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì€ ê³„ì†í•´ì„œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<p>YouTube ë™ì˜ìƒ, ê¸°ì‚¬ ë° ì›¹ ì†Œì¼“ ê´€ë ¨ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë„ MERN ìŠ¤íƒì—ì„œ ë‚´ ì›¹ ì•±ì„ ê°œë°œí•˜ëŠ” ê²ƒì€ ìƒë‹¹íˆ ì–´ë ¤ì› ì–´ìš”. ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸°ê°€ ì‰½ì§€ ì•Šì•„ì„œ ì„±ëŠ¥ì´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆì–´ìš”. ì•„ë˜ì— ëª‡ ê°€ì§€ ê´€ë ¨ ë‹¨ê³„ê°€ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li>ì„¤ì¹˜: Node.jsì—ì„œ ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸° ìœ„í•œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”</li>
</ul>
<pre><code class="hljs language-js">npm install socket.<span class="hljs-property">io</span>
npm install https
</code></pre>
<ol start="2">
<li>ì„¤ì •: React í”„ë¡ íŠ¸ ì—”ë“œì™€ Node.js ë°±ì—”ë“œì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ì—¬ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ í†µì‹ ì´ ì›í™œí•˜ì§€ ì•Šê²Œ ë˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•´ìš”</li>
</ol>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Server</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;socket.io&#x27;</span>;
<span class="hljs-keyword">import</span> http <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;http&quot;</span>

<span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(app)

<span class="hljs-keyword">const</span> io = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Server</span>(server,{
  <span class="hljs-attr">cors</span>: {
      <span class="hljs-attr">origin</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span>, 
      <span class="hljs-attr">methods</span>: [<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;POST&quot;</span>]
  }
})
<span class="hljs-comment">/*
í”„ë¡ íŠ¸ì—”ë“œì˜ URL ì£¼ì†ŒëŠ” í•´ë‹¹ originìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í”„ë¡ íŠ¸ì—”ë“œê°€ localhost:3000ì— ìœ„ì¹˜í•œë‹¤ë©´ http://localhost:3000/ ê°€ ë©ë‹ˆë‹¤.
/*
</span></code></pre>
<p>ìœ„ì˜ ì½”ë“œëŠ” ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë¨¼ì € ì„œë²„ëŠ” HTTP ì„œë²„ë¡œ ìƒì„±ë˜ê³  server ë³€ìˆ˜ì— ì €ì¥ë©ë‹ˆë‹¤. ê·¸ í›„, ì´ ì„œë²„ëŠ” ì‹¤ì‹œê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì›¹ ì†Œì¼“ ì„œë²„ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë²„ê°€ CORSë¥¼ ì§€ì›í•˜ë¯€ë¡œ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°„ ìƒí˜¸ì‘ìš©ì„ í—ˆìš©í•˜ì—¬ ì‹¤ì‹œê°„ í†µì‹ ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ ì§€ì •í•˜ì—¬ ë°±ì—”ë“œì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì§€ì •ëœ ì—”ë“œ í¬ì¸íŠ¸ë¥¼ í†µí•´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

app.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ì„œë²„ í¬íŠ¸: <span class="hljs-subst">${PORT}</span>`</span>));
</code></pre>
<p>ìœ„ì™€ ê°™ì´ ì•±ì„ ì„œë²„ë¥¼ í†µí•´ ë“£ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<pre><code>


```js
ì„œë²„.listen(PORT, () =&gt; console.log(`ì„œë²„ í¬íŠ¸: ${PORT}`));
</code></pre>
<p>ì›¹ ì†Œì¼“ì´ ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ ì†Œì¼“ì´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">io.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;connection&quot;</span>,<span class="hljs-function">(<span class="hljs-params">socket</span>)=&gt;</span>{
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ì‚¬ìš©ìê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤&quot;</span>,socket.<span class="hljs-property">id</span>);
}
</code></pre>
<ol start="3">
<li>ê¸°ëŠ¥ êµ¬í˜„: í•„ìš”í•œ ê¸°ëŠ¥ì„ êµ¬ì„±í•˜ê³  ì›¹ ì†Œì¼“ì„ í†µí•´ ì œê³µë˜ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì ìš©í•˜ì„¸ìš”. ê¸°ëŠ¥ êµ¬í˜„</li>
</ol>
<p>ë¼ì´ë¸Œ ë°ì´í„° ì „ì†¡ ëŠ¥ë ¥ì„ ê°€ì§„ ëŒ€ì‹œ ê°€ëŠ¥ì„±ìœ¼ë¡œ ì¸í•´ êµ¬í˜„ ê¸°ëŠ¥ì˜ ê°€ëŠ¥ì„±ì€ ë¬´í•œí•˜ì§€ë§Œ ì–´ë µìŠµë‹ˆë‹¤. ê´€ë¦¬ì íŒ¨ë„ì—ì„œ ì°½ì˜ì„±ì„ ì‹œì—°í•˜ê¸° ìœ„í•´ í•œ ì˜ˆë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ê´€ë¦¬ì íŒ¨ë„ì„ í†µí•´ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì‹œìŠ¤í…œì˜ ê¸°ëŠ¥ì„ ì „ë°˜ì ìœ¼ë¡œ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì¦‰ê°ì ì¸ ì¸ì‹ê³¼ ì‹ ì†í•œ ì˜ì‚¬ ê²°ì • ì˜µì…˜ì„ ì œê³µí•˜ëŠ” ê²ƒ ì™¸ì—ë„ ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤ì˜ ì‘ë‹µ ì†ë„ì™€ íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Orders</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./model/orders.js&quot;</span>
<span class="hljs-keyword">const</span> changeStream = <span class="hljs-title class_">Orders</span>.<span class="hljs-title function_">watch</span>()

changeStream.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€&quot;</span>);
}
</code></pre>
<p>ìœ„ì˜ ì½”ë“œëŠ” Node.jsë¥¼ ì‚¬ìš©í•˜ì—¬ MongoDB í…Œì´ë¸”ì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ê²½ìš° Orders ëª¨ë¸ì´ ìˆìœ¼ë©° ì´ëŠ” íŒŒì¼ model/orders.jsì— ìœ„ì¹˜í•œ MongoDB ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤. Orders ì»¬ë ‰ì…˜ì€ watch() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë³€ê²½ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ changeStream.on(&#x27;change&#x27;, function(data) &#x27;...&#x27;)ë¡œ ê°ì§€ëœ ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš° ì½˜ì†”ì— ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤. ë³€ê²½ ìŠ¤íŠ¸ë¦¼ ê¸°ëŠ¥ì€ MongoDBë¥¼ ì‚¬ìš©í•  ë•Œ í…Œì´ë¸” ë‚´ì—ì„œ í¸ì§‘, ì‚­ì œ ë˜ëŠ” ì¶”ê°€ì™€ ê°™ì€ ë³€ê²½ ì‚¬í•­ì„ ë” ë‚˜ì€ ë°©ì‹ìœ¼ë¡œ íš¨ê³¼ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ ì‹¤ì œë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>React.JSì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” socket.io-clientë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">npm i socket.<span class="hljs-property">io</span>-client
</code></pre>
<p>ì´í›„ì— ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ React JSì—ì„œ ì›¹ì†Œì¼“ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> io <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;socket.io-client&#x27;</span>;
<span class="hljs-keyword">const</span> socket=io.<span class="hljs-title function_">connect</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span>);

<span class="hljs-comment">/*
process.env.BASE_URLë¥¼ ê¸°ë°˜ URLë¡œ ì—°ê²°í•˜ë©´ 
ì„œë²„ URLì¸ localhost:5000ì™€ ê°™ì€ ì„œë²„ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” 
http://localhost:5000/ê°€ ë©ë‹ˆë‹¤.
/*
</span></code></pre>
<p>ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” ë°±ì—”ë“œì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ ì›¹ì†Œì¼“ì„ í™œìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°, ì„œë²„ ì‚¬ì´íŠ¸ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë©”ì‹œì§€ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì „ì†¡í•  ìˆ˜ ìˆì„ê¹Œìš”?</p>
<p>ìš°ë¦¬ëŠ” ì‚¬ì‹¤ io.emit ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì´ê²ƒì„ í•  ìˆ˜ ìˆì–´ìš”. ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì‹œ ì‘ì„±í•´ ë´…ì‹œë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Orders</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./model/orders.js&quot;</span>
<span class="hljs-keyword">const</span> changeStream = <span class="hljs-title class_">Orders</span>.<span class="hljs-title function_">watch</span>()

changeStream.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {

  io.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&quot;statusChanged&quot;</span>, { <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤&quot;</span> });
}
</code></pre>
<p>ì´ì œ io.emit()ì€ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ , ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.</p>
<pre><code class="hljs language-js"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {

  socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;statusChanged&#x27;</span>, <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> filtered = data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">status</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;ë³´ë¥˜ ì¤‘&quot;</span>));
    <span class="hljs-title class_">SetOrdersData</span>(filtered)
  });

}, [socket])
</code></pre>
<p>useEffect()ì€ React ì»´í¬ë„ŒíŠ¸ë¡œ, ì»´í¬ë„ŒíŠ¸ê°€ ë¡œë“œë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ [socket]ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— useEffect()ì€ socketì— ë³€ê²½ì´ ìˆì„ ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>
<h1>Stackademic ğŸ“</h1>
<p>ëê¹Œì§€ ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë– ë‚˜ì‹œê¸° ì „ì—:</p>
<ul>
<li>ë°•ìˆ˜ë¥¼ ì¹˜ê³  ì‘ê°€ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ‘</li>
<li>ì €í¬ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš” X | LinkedIn | YouTube | Discord</li>
<li>ë‹¤ë¥¸ í”Œë«í¼ë„ ë°©ë¬¸í•´ ì£¼ì„¸ìš”: In Plain English | CoFeed | Venture | Cubed</li>
<li>ì•Œê³ ë¦¬ì¦˜ ì½˜í…ì¸ ë¥¼ ë‹¤ë£¨ëŠ” ë¸”ë¡œê·¸ í”Œë«í¼ì— ì§€ì³¤ë‚˜ìš”? Differë¥¼ ì‹œë„í•´ ë³´ì„¸ìš”</li>
<li>Stackademic.comì—ì„œ ë” ë§ì€ ì½˜í…ì¸ ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”</li>
</ul></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜","description":"","date":"2024-05-12 23:06","slug":"2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer","content":"\n\n![Crafting Web Sockets: The Real-Time Experiences of A Programmer](/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png)\n\nê±°ì˜ 1ë…„ì´ ì§€ë‚œ ì§€ê¸ˆ, í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ í’ë¶€í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë ˆìŠ¤í† ë‘ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ëŠ” ì—¬ì •ì„ ì‹œì‘í•œ ì§€ ì–¼ë§ˆ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë‹¤ìŒ ì„¸ ê°€ì§€ ì£¼ìš” íŒ¨ë„ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤: ì›¹ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì íŒ¨ë„ê³¼ ì›¹ì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ììš© íŒ¨ë„ ê·¸ë¦¬ê³  ìµœì í™”ëœ ëª¨ë°”ì¼ ì‚¬ìš©ì„ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë¼ì´ë” íŒ¨ë„ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì—¬ì •ì—ì„œ ì›¹ ì†Œì¼“ì´ ë¬´ì—‡ì´ë©° ì™œ ì¤‘ìš”í•œì§€, ê·¸ë¦¬ê³  ì¼ë°˜ HTTP ìš”ì²­ê³¼ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ íƒí—˜í•˜ë©´ì„œ ê·¸ ë‚´ìš©ì„ ê¸°ë¡í•œ ì´ ë¸”ë¡œê·¸ëŠ” ê·¸ ì‹œê¸°ì— ë°°ìš´ ê¸°ë³¸ ì›ë¦¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.\n\n# ì°¨ì´ ë°œê²¬í•˜ê¸°: ì›¹ ì†Œì¼“ VS HTTP ìš”ì²­\n\nì›¹ ì†Œì¼“ê³¼ HTTPS ìš”ì²­ì€ ê°ê¸° ë‹¤ë¥¸ ì—°ê²° ë™ì‘ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. HTTPì—ì„œëŠ” í˜„ì¬ ìš”ì²­ì´ ëë‚˜ë©´ ì—°ê²°ì´ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì—ëŠ” ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ì— ë°˜í•´ ì›¹ ì†Œì¼“ì€ ì˜¤í”ˆ ì—°ê²°ì„ ìœ ì§€í•˜ì—¬ ì‚¬ìš©ìê°€ ì–¸ì œë“ ì§€ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ë°›ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì±„íŒ…ì´ ì›¹ ì†Œì¼“ ê¸°ìˆ ì˜ ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ì¼ ê²ƒì…ë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì€ ê³„ì†í•´ì„œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n\n\nYouTube ë™ì˜ìƒ, ê¸°ì‚¬ ë° ì›¹ ì†Œì¼“ ê´€ë ¨ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë„ MERN ìŠ¤íƒì—ì„œ ë‚´ ì›¹ ì•±ì„ ê°œë°œí•˜ëŠ” ê²ƒì€ ìƒë‹¹íˆ ì–´ë ¤ì› ì–´ìš”. ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸°ê°€ ì‰½ì§€ ì•Šì•„ì„œ ì„±ëŠ¥ì´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆì–´ìš”. ì•„ë˜ì— ëª‡ ê°€ì§€ ê´€ë ¨ ë‹¨ê³„ê°€ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤.\n\n- ì„¤ì¹˜: Node.jsì—ì„œ ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸° ìœ„í•œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”\n\n```js\nnpm install socket.io\nnpm install https\n```\n\n2. ì„¤ì •: React í”„ë¡ íŠ¸ ì—”ë“œì™€ Node.js ë°±ì—”ë“œì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ì—¬ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ í†µì‹ ì´ ì›í™œí•˜ì§€ ì•Šê²Œ ë˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•´ìš”\n\n\n\n```js\nimport { Server } from 'socket.io';\nimport http from \"http\"\n\nconst server = http.createServer(app)\n\nconst io = new Server(server,{\n  cors: {\n      origin: process.env.BASE_URL, \n      methods: [\"GET\", \"POST\"]\n  }\n})\n/*\ní”„ë¡ íŠ¸ì—”ë“œì˜ URL ì£¼ì†ŒëŠ” í•´ë‹¹ originìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í”„ë¡ íŠ¸ì—”ë“œê°€ localhost:3000ì— ìœ„ì¹˜í•œë‹¤ë©´ http://localhost:3000/ ê°€ ë©ë‹ˆë‹¤.\n/*\n```\n\nìœ„ì˜ ì½”ë“œëŠ” ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë¨¼ì € ì„œë²„ëŠ” HTTP ì„œë²„ë¡œ ìƒì„±ë˜ê³  server ë³€ìˆ˜ì— ì €ì¥ë©ë‹ˆë‹¤. ê·¸ í›„, ì´ ì„œë²„ëŠ” ì‹¤ì‹œê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì›¹ ì†Œì¼“ ì„œë²„ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë²„ê°€ CORSë¥¼ ì§€ì›í•˜ë¯€ë¡œ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°„ ìƒí˜¸ì‘ìš©ì„ í—ˆìš©í•˜ì—¬ ì‹¤ì‹œê°„ í†µì‹ ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ ì§€ì •í•˜ì—¬ ë°±ì—”ë“œì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì§€ì •ëœ ì—”ë“œ í¬ì¸íŠ¸ë¥¼ í†µí•´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\nconst app = express();\n\napp.listen(PORT, () =\u003e console.log(`ì„œë²„ í¬íŠ¸: ${PORT}`));\n```\n\nìœ„ì™€ ê°™ì´ ì•±ì„ ì„œë²„ë¥¼ í†µí•´ ë“£ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n```\n\n\n\n```js\nì„œë²„.listen(PORT, () =\u003e console.log(`ì„œë²„ í¬íŠ¸: ${PORT}`));\n```\n\nì›¹ ì†Œì¼“ì´ ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ ì†Œì¼“ì´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nio.on(\"connection\",(socket)=\u003e{\n  console.log(\"ì‚¬ìš©ìê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤\",socket.id);\n}\n```\n\n3. ê¸°ëŠ¥ êµ¬í˜„: í•„ìš”í•œ ê¸°ëŠ¥ì„ êµ¬ì„±í•˜ê³  ì›¹ ì†Œì¼“ì„ í†µí•´ ì œê³µë˜ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì ìš©í•˜ì„¸ìš”. ê¸°ëŠ¥ êµ¬í˜„\n\n\n\në¼ì´ë¸Œ ë°ì´í„° ì „ì†¡ ëŠ¥ë ¥ì„ ê°€ì§„ ëŒ€ì‹œ ê°€ëŠ¥ì„±ìœ¼ë¡œ ì¸í•´ êµ¬í˜„ ê¸°ëŠ¥ì˜ ê°€ëŠ¥ì„±ì€ ë¬´í•œí•˜ì§€ë§Œ ì–´ë µìŠµë‹ˆë‹¤. ê´€ë¦¬ì íŒ¨ë„ì—ì„œ ì°½ì˜ì„±ì„ ì‹œì—°í•˜ê¸° ìœ„í•´ í•œ ì˜ˆë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ê´€ë¦¬ì íŒ¨ë„ì„ í†µí•´ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì‹œìŠ¤í…œì˜ ê¸°ëŠ¥ì„ ì „ë°˜ì ìœ¼ë¡œ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì¦‰ê°ì ì¸ ì¸ì‹ê³¼ ì‹ ì†í•œ ì˜ì‚¬ ê²°ì • ì˜µì…˜ì„ ì œê³µí•˜ëŠ” ê²ƒ ì™¸ì—ë„ ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤ì˜ ì‘ë‹µ ì†ë„ì™€ íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.\n\n```js\nimport Orders from \"./model/orders.js\"\nconst changeStream = Orders.watch()\n\nchangeStream.on('change', function(data) {\n\nconsole.log(\"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€\");\n}\n```\n\nìœ„ì˜ ì½”ë“œëŠ” Node.jsë¥¼ ì‚¬ìš©í•˜ì—¬ MongoDB í…Œì´ë¸”ì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ê²½ìš° Orders ëª¨ë¸ì´ ìˆìœ¼ë©° ì´ëŠ” íŒŒì¼ model/orders.jsì— ìœ„ì¹˜í•œ MongoDB ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤. Orders ì»¬ë ‰ì…˜ì€ watch() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë³€ê²½ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ changeStream.on('change', function(data) '...')ë¡œ ê°ì§€ëœ ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš° ì½˜ì†”ì— ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤. ë³€ê²½ ìŠ¤íŠ¸ë¦¼ ê¸°ëŠ¥ì€ MongoDBë¥¼ ì‚¬ìš©í•  ë•Œ í…Œì´ë¸” ë‚´ì—ì„œ í¸ì§‘, ì‚­ì œ ë˜ëŠ” ì¶”ê°€ì™€ ê°™ì€ ë³€ê²½ ì‚¬í•­ì„ ë” ë‚˜ì€ ë°©ì‹ìœ¼ë¡œ íš¨ê³¼ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ ì‹¤ì œë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nReact.JSì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” socket.io-clientë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n\n\n```js\nnpm i socket.io-client\n```\n\nì´í›„ì— ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ React JSì—ì„œ ì›¹ì†Œì¼“ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n```js\nimport io from 'socket.io-client';\nconst socket=io.connect(process.env.BASE_URL);\n\n/*\nprocess.env.BASE_URLë¥¼ ê¸°ë°˜ URLë¡œ ì—°ê²°í•˜ë©´ \nì„œë²„ URLì¸ localhost:5000ì™€ ê°™ì€ ì„œë²„ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” \nhttp://localhost:5000/ê°€ ë©ë‹ˆë‹¤.\n/*\n```\n\në§ˆì§€ë§‰ ë‹¨ê³„ëŠ” ë°±ì—”ë“œì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ ì›¹ì†Œì¼“ì„ í™œìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°, ì„œë²„ ì‚¬ì´íŠ¸ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë©”ì‹œì§€ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì „ì†¡í•  ìˆ˜ ìˆì„ê¹Œìš”?\n\n\n\nìš°ë¦¬ëŠ” ì‚¬ì‹¤ io.emit ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì´ê²ƒì„ í•  ìˆ˜ ìˆì–´ìš”. ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì‹œ ì‘ì„±í•´ ë´…ì‹œë‹¤.\n\n```js\nimport Orders from \"./model/orders.js\"\nconst changeStream = Orders.watch()\n\nchangeStream.on('change', function(data) {\n\n  io.emit(\"statusChanged\", { message: \"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤\" });\n}\n```\n\nì´ì œ io.emit()ì€ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ , ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.\n\n```js\nuseEffect(() =\u003e {\n\n  socket.on('statusChanged', data =\u003e {\n\n    const filtered = data.filter(item =\u003e item.status.includes(\"ë³´ë¥˜ ì¤‘\"));\n    SetOrdersData(filtered)\n  });\n\n}, [socket])\n```\n\n\n\nuseEffect()ì€ React ì»´í¬ë„ŒíŠ¸ë¡œ, ì»´í¬ë„ŒíŠ¸ê°€ ë¡œë“œë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ [socket]ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— useEffect()ì€ socketì— ë³€ê²½ì´ ìˆì„ ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.\n\n# Stackademic ğŸ“\n\nëê¹Œì§€ ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë– ë‚˜ì‹œê¸° ì „ì—:\n\n- ë°•ìˆ˜ë¥¼ ì¹˜ê³  ì‘ê°€ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ‘\n- ì €í¬ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš” X | LinkedIn | YouTube | Discord\n- ë‹¤ë¥¸ í”Œë«í¼ë„ ë°©ë¬¸í•´ ì£¼ì„¸ìš”: In Plain English | CoFeed | Venture | Cubed\n- ì•Œê³ ë¦¬ì¦˜ ì½˜í…ì¸ ë¥¼ ë‹¤ë£¨ëŠ” ë¸”ë¡œê·¸ í”Œë«í¼ì— ì§€ì³¤ë‚˜ìš”? Differë¥¼ ì‹œë„í•´ ë³´ì„¸ìš”\n- Stackademic.comì—ì„œ ë” ë§ì€ ì½˜í…ì¸ ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”","ogImage":{"url":"/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png"},"coverImage":"/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png","tag":["Tech"],"readingTime":5},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    h1: \"h1\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    ol: \"ol\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png\",\n        alt: \"Crafting Web Sockets: The Real-Time Experiences of A Programmer\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê±°ì˜ 1ë…„ì´ ì§€ë‚œ ì§€ê¸ˆ, í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ í’ë¶€í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë ˆìŠ¤í† ë‘ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ëŠ” ì—¬ì •ì„ ì‹œì‘í•œ ì§€ ì–¼ë§ˆ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë‹¤ìŒ ì„¸ ê°€ì§€ ì£¼ìš” íŒ¨ë„ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤: ì›¹ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì íŒ¨ë„ê³¼ ì›¹ì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ììš© íŒ¨ë„ ê·¸ë¦¬ê³  ìµœì í™”ëœ ëª¨ë°”ì¼ ì‚¬ìš©ì„ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë¼ì´ë” íŒ¨ë„ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì—¬ì •ì—ì„œ ì›¹ ì†Œì¼“ì´ ë¬´ì—‡ì´ë©° ì™œ ì¤‘ìš”í•œì§€, ê·¸ë¦¬ê³  ì¼ë°˜ HTTP ìš”ì²­ê³¼ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ íƒí—˜í•˜ë©´ì„œ ê·¸ ë‚´ìš©ì„ ê¸°ë¡í•œ ì´ ë¸”ë¡œê·¸ëŠ” ê·¸ ì‹œê¸°ì— ë°°ìš´ ê¸°ë³¸ ì›ë¦¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ì°¨ì´ ë°œê²¬í•˜ê¸°: ì›¹ ì†Œì¼“ VS HTTP ìš”ì²­\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì›¹ ì†Œì¼“ê³¼ HTTPS ìš”ì²­ì€ ê°ê¸° ë‹¤ë¥¸ ì—°ê²° ë™ì‘ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. HTTPì—ì„œëŠ” í˜„ì¬ ìš”ì²­ì´ ëë‚˜ë©´ ì—°ê²°ì´ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì—ëŠ” ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ì— ë°˜í•´ ì›¹ ì†Œì¼“ì€ ì˜¤í”ˆ ì—°ê²°ì„ ìœ ì§€í•˜ì—¬ ì‚¬ìš©ìê°€ ì–¸ì œë“ ì§€ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ë°›ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì±„íŒ…ì´ ì›¹ ì†Œì¼“ ê¸°ìˆ ì˜ ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ì¼ ê²ƒì…ë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì€ ê³„ì†í•´ì„œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"YouTube ë™ì˜ìƒ, ê¸°ì‚¬ ë° ì›¹ ì†Œì¼“ ê´€ë ¨ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë„ MERN ìŠ¤íƒì—ì„œ ë‚´ ì›¹ ì•±ì„ ê°œë°œí•˜ëŠ” ê²ƒì€ ìƒë‹¹íˆ ì–´ë ¤ì› ì–´ìš”. ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸°ê°€ ì‰½ì§€ ì•Šì•„ì„œ ì„±ëŠ¥ì´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆì–´ìš”. ì•„ë˜ì— ëª‡ ê°€ì§€ ê´€ë ¨ ë‹¨ê³„ê°€ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì„¤ì¹˜: Node.jsì—ì„œ ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸° ìœ„í•œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"npm install socket.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"io\"\n        }), \"\\nnpm install https\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì„¤ì •: React í”„ë¡ íŠ¸ ì—”ë“œì™€ Node.js ë°±ì—”ë“œì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ì—¬ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ í†µì‹ ì´ ì›í™œí•˜ì§€ ì•Šê²Œ ë˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•´ìš”\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Server\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'socket.io'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" http \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"http\\\"\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" server = http.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"createServer\"\n        }), \"(app)\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" io = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Server\"\n        }), \"(server,{\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"cors\"\n        }), \": {\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"origin\"\n        }), \": process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"BASE_URL\"\n        }), \", \\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"methods\"\n        }), \": [\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"GET\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"POST\\\"\"\n        }), \"]\\n  }\\n})\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/*\\ní”„ë¡ íŠ¸ì—”ë“œì˜ URL ì£¼ì†ŒëŠ” í•´ë‹¹ originìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í”„ë¡ íŠ¸ì—”ë“œê°€ localhost:3000ì— ìœ„ì¹˜í•œë‹¤ë©´ http://localhost:3000/ ê°€ ë©ë‹ˆë‹¤.\\n/*\\n\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ì˜ ì½”ë“œëŠ” ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë¨¼ì € ì„œë²„ëŠ” HTTP ì„œë²„ë¡œ ìƒì„±ë˜ê³  server ë³€ìˆ˜ì— ì €ì¥ë©ë‹ˆë‹¤. ê·¸ í›„, ì´ ì„œë²„ëŠ” ì‹¤ì‹œê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì›¹ ì†Œì¼“ ì„œë²„ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë²„ê°€ CORSë¥¼ ì§€ì›í•˜ë¯€ë¡œ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°„ ìƒí˜¸ì‘ìš©ì„ í—ˆìš©í•˜ì—¬ ì‹¤ì‹œê°„ í†µì‹ ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ ì§€ì •í•˜ì—¬ ë°±ì—”ë“œì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì§€ì •ëœ ì—”ë“œ í¬ì¸íŠ¸ë¥¼ í†µí•´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" app = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"express\"\n        }), \"();\\n\\napp.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"listen\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"PORT\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`ì„œë²„ í¬íŠ¸: \", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${PORT}\"\n          }), \"`\"]\n        }), \"));\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ì™€ ê°™ì´ ì•±ì„ ì„œë²„ë¥¼ í†µí•´ ë“£ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"\\n\\n\\n```js\\nì„œë²„.listen(PORT, () =\u003e console.log(`ì„œë²„ í¬íŠ¸: ${PORT}`));\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì›¹ ì†Œì¼“ì´ ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ ì†Œì¼“ì´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"io.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"on\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"connection\\\"\"\n        }), \",\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"socket\"\n          }), \")=\u003e\"]\n        }), \"{\\n  \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ì‚¬ìš©ìê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤\\\"\"\n        }), \",socket.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"id\"\n        }), \");\\n}\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ê¸°ëŠ¥ êµ¬í˜„: í•„ìš”í•œ ê¸°ëŠ¥ì„ êµ¬ì„±í•˜ê³  ì›¹ ì†Œì¼“ì„ í†µí•´ ì œê³µë˜ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì ìš©í•˜ì„¸ìš”. ê¸°ëŠ¥ êµ¬í˜„\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë¼ì´ë¸Œ ë°ì´í„° ì „ì†¡ ëŠ¥ë ¥ì„ ê°€ì§„ ëŒ€ì‹œ ê°€ëŠ¥ì„±ìœ¼ë¡œ ì¸í•´ êµ¬í˜„ ê¸°ëŠ¥ì˜ ê°€ëŠ¥ì„±ì€ ë¬´í•œí•˜ì§€ë§Œ ì–´ë µìŠµë‹ˆë‹¤. ê´€ë¦¬ì íŒ¨ë„ì—ì„œ ì°½ì˜ì„±ì„ ì‹œì—°í•˜ê¸° ìœ„í•´ í•œ ì˜ˆë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ê´€ë¦¬ì íŒ¨ë„ì„ í†µí•´ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì‹œìŠ¤í…œì˜ ê¸°ëŠ¥ì„ ì „ë°˜ì ìœ¼ë¡œ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì¦‰ê°ì ì¸ ì¸ì‹ê³¼ ì‹ ì†í•œ ì˜ì‚¬ ê²°ì • ì˜µì…˜ì„ ì œê³µí•˜ëŠ” ê²ƒ ì™¸ì—ë„ ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤ì˜ ì‘ë‹µ ì†ë„ì™€ íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Orders\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./model/orders.js\\\"\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" changeStream = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Orders\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"watch\"\n        }), \"()\\n\\nchangeStream.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"on\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'change'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"data\"\n        }), \") {\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€\\\"\"\n        }), \");\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ì˜ ì½”ë“œëŠ” Node.jsë¥¼ ì‚¬ìš©í•˜ì—¬ MongoDB í…Œì´ë¸”ì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ê²½ìš° Orders ëª¨ë¸ì´ ìˆìœ¼ë©° ì´ëŠ” íŒŒì¼ model/orders.jsì— ìœ„ì¹˜í•œ MongoDB ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤. Orders ì»¬ë ‰ì…˜ì€ watch() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë³€ê²½ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ changeStream.on('change', function(data) '...')ë¡œ ê°ì§€ëœ ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš° ì½˜ì†”ì— ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤. ë³€ê²½ ìŠ¤íŠ¸ë¦¼ ê¸°ëŠ¥ì€ MongoDBë¥¼ ì‚¬ìš©í•  ë•Œ í…Œì´ë¸” ë‚´ì—ì„œ í¸ì§‘, ì‚­ì œ ë˜ëŠ” ì¶”ê°€ì™€ ê°™ì€ ë³€ê²½ ì‚¬í•­ì„ ë” ë‚˜ì€ ë°©ì‹ìœ¼ë¡œ íš¨ê³¼ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ ì‹¤ì œë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"React.JSì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” socket.io-clientë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"npm i socket.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"io\"\n        }), \"-client\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´í›„ì— ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ React JSì—ì„œ ì›¹ì†Œì¼“ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" io \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'socket.io-client'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" socket=io.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"connect\"\n        }), \"(process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"BASE_URL\"\n        }), \");\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/*\\nprocess.env.BASE_URLë¥¼ ê¸°ë°˜ URLë¡œ ì—°ê²°í•˜ë©´ \\nì„œë²„ URLì¸ localhost:5000ì™€ ê°™ì€ ì„œë²„ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” \\nhttp://localhost:5000/ê°€ ë©ë‹ˆë‹¤.\\n/*\\n\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” ë°±ì—”ë“œì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ ì›¹ì†Œì¼“ì„ í™œìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°, ì„œë²„ ì‚¬ì´íŠ¸ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë©”ì‹œì§€ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì „ì†¡í•  ìˆ˜ ìˆì„ê¹Œìš”?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìš°ë¦¬ëŠ” ì‚¬ì‹¤ io.emit ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì´ê²ƒì„ í•  ìˆ˜ ìˆì–´ìš”. ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì‹œ ì‘ì„±í•´ ë´…ì‹œë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Orders\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./model/orders.js\\\"\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" changeStream = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Orders\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"watch\"\n        }), \"()\\n\\nchangeStream.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"on\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'change'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"data\"\n        }), \") {\\n\\n  io.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"emit\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"statusChanged\\\"\"\n        }), \", { \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"message\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤\\\"\"\n        }), \" });\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ io.emit()ì€ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ , ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useEffect\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" {\\n\\n  socket.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"on\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'statusChanged'\"\n        }), \", \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"data\"\n          }), \" =\u003e\"]\n        }), \" {\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" filtered = data.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"filter\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"item\"\n          }), \" =\u003e\"]\n        }), \" item.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"status\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"includes\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ë³´ë¥˜ ì¤‘\\\"\"\n        }), \"));\\n    \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"SetOrdersData\"\n        }), \"(filtered)\\n  });\\n\\n}, [socket])\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"useEffect()ì€ React ì»´í¬ë„ŒíŠ¸ë¡œ, ì»´í¬ë„ŒíŠ¸ê°€ ë¡œë“œë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ [socket]ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— useEffect()ì€ socketì— ë³€ê²½ì´ ìˆì„ ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Stackademic ğŸ“\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ëê¹Œì§€ ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë– ë‚˜ì‹œê¸° ì „ì—:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ë°•ìˆ˜ë¥¼ ì¹˜ê³  ì‘ê°€ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ‘\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ì €í¬ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš” X | LinkedIn | YouTube | Discord\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë‹¤ë¥¸ í”Œë«í¼ë„ ë°©ë¬¸í•´ ì£¼ì„¸ìš”: In Plain English | CoFeed | Venture | Cubed\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ì•Œê³ ë¦¬ì¦˜ ì½˜í…ì¸ ë¥¼ ë‹¤ë£¨ëŠ” ë¸”ë¡œê·¸ í”Œë«í¼ì— ì§€ì³¤ë‚˜ìš”? Differë¥¼ ì‹œë„í•´ ë³´ì„¸ìš”\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Stackademic.comì—ì„œ ë” ë§ì€ ì½˜í…ì¸ ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”\"\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer"},"buildId":"K-h7XvEVBqnNx_uXMgZoe","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>