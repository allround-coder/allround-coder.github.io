<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜ | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜ | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜ | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer" data-gatsby-head="true"/><meta name="twitter:title" content="ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜ | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-12 23:06" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/QH5Mz7n7Y6w0r4_gCGFQf/_buildManifest.js" defer=""></script><script src="/_next/static/QH5Mz7n7Y6w0r4_gCGFQf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 12, 2024</span><span class="posts_reading_time__f7YPP">5<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p><img src="/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png" alt="Crafting Web Sockets: The Real-Time Experiences of A Programmer"></p>
<p>ê±°ì˜ 1ë…„ì´ ì§€ë‚œ ì§€ê¸ˆ, í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ í’ë¶€í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë ˆìŠ¤í† ë‘ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ëŠ” ì—¬ì •ì„ ì‹œì‘í•œ ì§€ ì–¼ë§ˆ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë‹¤ìŒ ì„¸ ê°€ì§€ ì£¼ìš” íŒ¨ë„ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤: ì›¹ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì íŒ¨ë„ê³¼ ì›¹ì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ììš© íŒ¨ë„ ê·¸ë¦¬ê³  ìµœì í™”ëœ ëª¨ë°”ì¼ ì‚¬ìš©ì„ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë¼ì´ë” íŒ¨ë„ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì—¬ì •ì—ì„œ ì›¹ ì†Œì¼“ì´ ë¬´ì—‡ì´ë©° ì™œ ì¤‘ìš”í•œì§€, ê·¸ë¦¬ê³  ì¼ë°˜ HTTP ìš”ì²­ê³¼ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ íƒí—˜í•˜ë©´ì„œ ê·¸ ë‚´ìš©ì„ ê¸°ë¡í•œ ì´ ë¸”ë¡œê·¸ëŠ” ê·¸ ì‹œê¸°ì— ë°°ìš´ ê¸°ë³¸ ì›ë¦¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.</p>
<h1>ì°¨ì´ ë°œê²¬í•˜ê¸°: ì›¹ ì†Œì¼“ VS HTTP ìš”ì²­</h1>
<p>ì›¹ ì†Œì¼“ê³¼ HTTPS ìš”ì²­ì€ ê°ê¸° ë‹¤ë¥¸ ì—°ê²° ë™ì‘ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. HTTPì—ì„œëŠ” í˜„ì¬ ìš”ì²­ì´ ëë‚˜ë©´ ì—°ê²°ì´ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì—ëŠ” ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ì— ë°˜í•´ ì›¹ ì†Œì¼“ì€ ì˜¤í”ˆ ì—°ê²°ì„ ìœ ì§€í•˜ì—¬ ì‚¬ìš©ìê°€ ì–¸ì œë“ ì§€ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ë°›ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì±„íŒ…ì´ ì›¹ ì†Œì¼“ ê¸°ìˆ ì˜ ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ì¼ ê²ƒì…ë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì€ ê³„ì†í•´ì„œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<p>YouTube ë™ì˜ìƒ, ê¸°ì‚¬ ë° ì›¹ ì†Œì¼“ ê´€ë ¨ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë„ MERN ìŠ¤íƒì—ì„œ ë‚´ ì›¹ ì•±ì„ ê°œë°œí•˜ëŠ” ê²ƒì€ ìƒë‹¹íˆ ì–´ë ¤ì› ì–´ìš”. ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸°ê°€ ì‰½ì§€ ì•Šì•„ì„œ ì„±ëŠ¥ì´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆì–´ìš”. ì•„ë˜ì— ëª‡ ê°€ì§€ ê´€ë ¨ ë‹¨ê³„ê°€ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li>ì„¤ì¹˜: Node.jsì—ì„œ ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸° ìœ„í•œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”</li>
</ul>
<pre><code class="hljs language-js">npm install socket.<span class="hljs-property">io</span>
npm install https
</code></pre>
<ol start="2">
<li>ì„¤ì •: React í”„ë¡ íŠ¸ ì—”ë“œì™€ Node.js ë°±ì—”ë“œì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ì—¬ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ í†µì‹ ì´ ì›í™œí•˜ì§€ ì•Šê²Œ ë˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•´ìš”</li>
</ol>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Server</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'socket.io'</span>;
<span class="hljs-keyword">import</span> http <span class="hljs-keyword">from</span> <span class="hljs-string">"http"</span>

<span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(app)

<span class="hljs-keyword">const</span> io = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Server</span>(server,{
  <span class="hljs-attr">cors</span>: {
      <span class="hljs-attr">origin</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span>, 
      <span class="hljs-attr">methods</span>: [<span class="hljs-string">"GET"</span>, <span class="hljs-string">"POST"</span>]
  }
})
<span class="hljs-comment">/*
í”„ë¡ íŠ¸ì—”ë“œì˜ URL ì£¼ì†ŒëŠ” í•´ë‹¹ originìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í”„ë¡ íŠ¸ì—”ë“œê°€ localhost:3000ì— ìœ„ì¹˜í•œë‹¤ë©´ http://localhost:3000/ ê°€ ë©ë‹ˆë‹¤.
/*
</span></code></pre>
<p>ìœ„ì˜ ì½”ë“œëŠ” ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë¨¼ì € ì„œë²„ëŠ” HTTP ì„œë²„ë¡œ ìƒì„±ë˜ê³  server ë³€ìˆ˜ì— ì €ì¥ë©ë‹ˆë‹¤. ê·¸ í›„, ì´ ì„œë²„ëŠ” ì‹¤ì‹œê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì›¹ ì†Œì¼“ ì„œë²„ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë²„ê°€ CORSë¥¼ ì§€ì›í•˜ë¯€ë¡œ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°„ ìƒí˜¸ì‘ìš©ì„ í—ˆìš©í•˜ì—¬ ì‹¤ì‹œê°„ í†µì‹ ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ ì§€ì •í•˜ì—¬ ë°±ì—”ë“œì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì§€ì •ëœ ì—”ë“œ í¬ì¸íŠ¸ë¥¼ í†µí•´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

app.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>, <span class="hljs-function">() =></span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ì„œë²„ í¬íŠ¸: <span class="hljs-subst">${PORT}</span>`</span>));
</code></pre>
<p>ìœ„ì™€ ê°™ì´ ì•±ì„ ì„œë²„ë¥¼ í†µí•´ ë“£ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">ì„œë²„.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>, <span class="hljs-function">() =></span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ì„œë²„ í¬íŠ¸: <span class="hljs-subst">${PORT}</span>`</span>));
</code></pre>
<p>ì›¹ ì†Œì¼“ì´ ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ ì†Œì¼“ì´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">io.<span class="hljs-title function_">on</span>(<span class="hljs-string">"connection"</span>,<span class="hljs-function">(<span class="hljs-params">socket</span>)=></span>{
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ì‚¬ìš©ìê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤"</span>,socket.<span class="hljs-property">id</span>);
}
</code></pre>
<ol start="3">
<li>ê¸°ëŠ¥ êµ¬í˜„: í•„ìš”í•œ ê¸°ëŠ¥ì„ êµ¬ì„±í•˜ê³  ì›¹ ì†Œì¼“ì„ í†µí•´ ì œê³µë˜ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì ìš©í•˜ì„¸ìš”. ê¸°ëŠ¥ êµ¬í˜„</li>
</ol>
<p>ë¼ì´ë¸Œ ë°ì´í„° ì „ì†¡ ëŠ¥ë ¥ì„ ê°€ì§„ ëŒ€ì‹œ ê°€ëŠ¥ì„±ìœ¼ë¡œ ì¸í•´ êµ¬í˜„ ê¸°ëŠ¥ì˜ ê°€ëŠ¥ì„±ì€ ë¬´í•œí•˜ì§€ë§Œ ì–´ë µìŠµë‹ˆë‹¤. ê´€ë¦¬ì íŒ¨ë„ì—ì„œ ì°½ì˜ì„±ì„ ì‹œì—°í•˜ê¸° ìœ„í•´ í•œ ì˜ˆë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ê´€ë¦¬ì íŒ¨ë„ì„ í†µí•´ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì‹œìŠ¤í…œì˜ ê¸°ëŠ¥ì„ ì „ë°˜ì ìœ¼ë¡œ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì¦‰ê°ì ì¸ ì¸ì‹ê³¼ ì‹ ì†í•œ ì˜ì‚¬ ê²°ì • ì˜µì…˜ì„ ì œê³µí•˜ëŠ” ê²ƒ ì™¸ì—ë„ ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤ì˜ ì‘ë‹µ ì†ë„ì™€ íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Orders</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./model/orders.js"</span>
<span class="hljs-keyword">const</span> changeStream = <span class="hljs-title class_">Orders</span>.<span class="hljs-title function_">watch</span>()

changeStream.<span class="hljs-title function_">on</span>(<span class="hljs-string">'change'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€"</span>);
}
</code></pre>
<p>ìœ„ì˜ ì½”ë“œëŠ” Node.jsë¥¼ ì‚¬ìš©í•˜ì—¬ MongoDB í…Œì´ë¸”ì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ê²½ìš° Orders ëª¨ë¸ì´ ìˆìœ¼ë©° ì´ëŠ” íŒŒì¼ model/orders.jsì— ìœ„ì¹˜í•œ MongoDB ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤. Orders ì»¬ë ‰ì…˜ì€ watch() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë³€ê²½ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ changeStream.on('change', function(data) '...')ë¡œ ê°ì§€ëœ ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš° ì½˜ì†”ì— ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤. ë³€ê²½ ìŠ¤íŠ¸ë¦¼ ê¸°ëŠ¥ì€ MongoDBë¥¼ ì‚¬ìš©í•  ë•Œ í…Œì´ë¸” ë‚´ì—ì„œ í¸ì§‘, ì‚­ì œ ë˜ëŠ” ì¶”ê°€ì™€ ê°™ì€ ë³€ê²½ ì‚¬í•­ì„ ë” ë‚˜ì€ ë°©ì‹ìœ¼ë¡œ íš¨ê³¼ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ ì‹¤ì œë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>React.JSì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” socket.io-clientë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">npm i socket.<span class="hljs-property">io</span>-client
</code></pre>
<p>ì´í›„ì— ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ React JSì—ì„œ ì›¹ì†Œì¼“ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> io <span class="hljs-keyword">from</span> <span class="hljs-string">'socket.io-client'</span>;
<span class="hljs-keyword">const</span> socket=io.<span class="hljs-title function_">connect</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span>);

<span class="hljs-comment">/*
process.env.BASE_URLë¥¼ ê¸°ë°˜ URLë¡œ ì—°ê²°í•˜ë©´ 
ì„œë²„ URLì¸ localhost:5000ì™€ ê°™ì€ ì„œë²„ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” 
http://localhost:5000/ê°€ ë©ë‹ˆë‹¤.
/*
</span></code></pre>
<p>ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” ë°±ì—”ë“œì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ ì›¹ì†Œì¼“ì„ í™œìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°, ì„œë²„ ì‚¬ì´íŠ¸ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë©”ì‹œì§€ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì „ì†¡í•  ìˆ˜ ìˆì„ê¹Œìš”?</p>
<p>ìš°ë¦¬ëŠ” ì‚¬ì‹¤ io.emit ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì´ê²ƒì„ í•  ìˆ˜ ìˆì–´ìš”. ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì‹œ ì‘ì„±í•´ ë´…ì‹œë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Orders</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./model/orders.js"</span>
<span class="hljs-keyword">const</span> changeStream = <span class="hljs-title class_">Orders</span>.<span class="hljs-title function_">watch</span>()

changeStream.<span class="hljs-title function_">on</span>(<span class="hljs-string">'change'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {

  io.<span class="hljs-title function_">emit</span>(<span class="hljs-string">"statusChanged"</span>, { <span class="hljs-attr">message</span>: <span class="hljs-string">"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤"</span> });
}
</code></pre>
<p>ì´ì œ io.emit()ì€ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ , ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.</p>
<pre><code class="hljs language-js"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {

  socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">'statusChanged'</span>, <span class="hljs-function"><span class="hljs-params">data</span> =></span> {

    <span class="hljs-keyword">const</span> filtered = data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =></span> item.<span class="hljs-property">status</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"ë³´ë¥˜ ì¤‘"</span>));
    <span class="hljs-title class_">SetOrdersData</span>(filtered)
  });

}, [socket])
</code></pre>
<p>useEffect()ì€ React ì»´í¬ë„ŒíŠ¸ë¡œ, ì»´í¬ë„ŒíŠ¸ê°€ ë¡œë“œë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ [socket]ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— useEffect()ì€ socketì— ë³€ê²½ì´ ìˆì„ ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>
<h1>Stackademic ğŸ“</h1>
<p>ëê¹Œì§€ ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë– ë‚˜ì‹œê¸° ì „ì—:</p>
<ul>
<li>ë°•ìˆ˜ë¥¼ ì¹˜ê³  ì‘ê°€ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ‘</li>
<li>ì €í¬ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš” X | LinkedIn | YouTube | Discord</li>
<li>ë‹¤ë¥¸ í”Œë«í¼ë„ ë°©ë¬¸í•´ ì£¼ì„¸ìš”: In Plain English | CoFeed | Venture | Cubed</li>
<li>ì•Œê³ ë¦¬ì¦˜ ì½˜í…ì¸ ë¥¼ ë‹¤ë£¨ëŠ” ë¸”ë¡œê·¸ í”Œë«í¼ì— ì§€ì³¤ë‚˜ìš”? Differë¥¼ ì‹œë„í•´ ë³´ì„¸ìš”</li>
<li>Stackademic.comì—ì„œ ë” ë§ì€ ì½˜í…ì¸ ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”</li>
</ul>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ì›¹ ì†Œì¼“ ë§Œë“¤ê¸° í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ì‹œê°„ ê²½í—˜","description":"","date":"2024-05-12 23:06","slug":"2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer","content":"\n\n![Crafting Web Sockets: The Real-Time Experiences of A Programmer](/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png)\n\nê±°ì˜ 1ë…„ì´ ì§€ë‚œ ì§€ê¸ˆ, í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ í’ë¶€í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë ˆìŠ¤í† ë‘ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ëŠ” ì—¬ì •ì„ ì‹œì‘í•œ ì§€ ì–¼ë§ˆ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë‹¤ìŒ ì„¸ ê°€ì§€ ì£¼ìš” íŒ¨ë„ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤: ì›¹ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì íŒ¨ë„ê³¼ ì›¹ì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ììš© íŒ¨ë„ ê·¸ë¦¬ê³  ìµœì í™”ëœ ëª¨ë°”ì¼ ì‚¬ìš©ì„ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë¼ì´ë” íŒ¨ë„ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì—¬ì •ì—ì„œ ì›¹ ì†Œì¼“ì´ ë¬´ì—‡ì´ë©° ì™œ ì¤‘ìš”í•œì§€, ê·¸ë¦¬ê³  ì¼ë°˜ HTTP ìš”ì²­ê³¼ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ íƒí—˜í•˜ë©´ì„œ ê·¸ ë‚´ìš©ì„ ê¸°ë¡í•œ ì´ ë¸”ë¡œê·¸ëŠ” ê·¸ ì‹œê¸°ì— ë°°ìš´ ê¸°ë³¸ ì›ë¦¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.\n\n# ì°¨ì´ ë°œê²¬í•˜ê¸°: ì›¹ ì†Œì¼“ VS HTTP ìš”ì²­\n\nì›¹ ì†Œì¼“ê³¼ HTTPS ìš”ì²­ì€ ê°ê¸° ë‹¤ë¥¸ ì—°ê²° ë™ì‘ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. HTTPì—ì„œëŠ” í˜„ì¬ ìš”ì²­ì´ ëë‚˜ë©´ ì—°ê²°ì´ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì—ëŠ” ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ì— ë°˜í•´ ì›¹ ì†Œì¼“ì€ ì˜¤í”ˆ ì—°ê²°ì„ ìœ ì§€í•˜ì—¬ ì‚¬ìš©ìê°€ ì–¸ì œë“ ì§€ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ë°›ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì±„íŒ…ì´ ì›¹ ì†Œì¼“ ê¸°ìˆ ì˜ ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ì¼ ê²ƒì…ë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì€ ê³„ì†í•´ì„œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n\n\nYouTube ë™ì˜ìƒ, ê¸°ì‚¬ ë° ì›¹ ì†Œì¼“ ê´€ë ¨ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë„ MERN ìŠ¤íƒì—ì„œ ë‚´ ì›¹ ì•±ì„ ê°œë°œí•˜ëŠ” ê²ƒì€ ìƒë‹¹íˆ ì–´ë ¤ì› ì–´ìš”. ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸°ê°€ ì‰½ì§€ ì•Šì•„ì„œ ì„±ëŠ¥ì´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆì–´ìš”. ì•„ë˜ì— ëª‡ ê°€ì§€ ê´€ë ¨ ë‹¨ê³„ê°€ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤.\n\n- ì„¤ì¹˜: Node.jsì—ì„œ ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸° ìœ„í•œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”\n\n```js\nnpm install socket.io\nnpm install https\n```\n\n2. ì„¤ì •: React í”„ë¡ íŠ¸ ì—”ë“œì™€ Node.js ë°±ì—”ë“œì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ì—¬ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ í†µì‹ ì´ ì›í™œí•˜ì§€ ì•Šê²Œ ë˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•´ìš”\n\n\n\n```js\nimport { Server } from 'socket.io';\nimport http from \"http\"\n\nconst server = http.createServer(app)\n\nconst io = new Server(server,{\n  cors: {\n      origin: process.env.BASE_URL, \n      methods: [\"GET\", \"POST\"]\n  }\n})\n/*\ní”„ë¡ íŠ¸ì—”ë“œì˜ URL ì£¼ì†ŒëŠ” í•´ë‹¹ originìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í”„ë¡ íŠ¸ì—”ë“œê°€ localhost:3000ì— ìœ„ì¹˜í•œë‹¤ë©´ http://localhost:3000/ ê°€ ë©ë‹ˆë‹¤.\n/*\n```\n\nìœ„ì˜ ì½”ë“œëŠ” ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë¨¼ì € ì„œë²„ëŠ” HTTP ì„œë²„ë¡œ ìƒì„±ë˜ê³  server ë³€ìˆ˜ì— ì €ì¥ë©ë‹ˆë‹¤. ê·¸ í›„, ì´ ì„œë²„ëŠ” ì‹¤ì‹œê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì›¹ ì†Œì¼“ ì„œë²„ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë²„ê°€ CORSë¥¼ ì§€ì›í•˜ë¯€ë¡œ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°„ ìƒí˜¸ì‘ìš©ì„ í—ˆìš©í•˜ì—¬ ì‹¤ì‹œê°„ í†µì‹ ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ ì§€ì •í•˜ì—¬ ë°±ì—”ë“œì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì§€ì •ëœ ì—”ë“œ í¬ì¸íŠ¸ë¥¼ í†µí•´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\nconst app = express();\n\napp.listen(PORT, () =\u003e console.log(`ì„œë²„ í¬íŠ¸: ${PORT}`));\n```\n\nìœ„ì™€ ê°™ì´ ì•±ì„ ì„œë²„ë¥¼ í†µí•´ ë“£ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\n\n\n```js\nì„œë²„.listen(PORT, () =\u003e console.log(`ì„œë²„ í¬íŠ¸: ${PORT}`));\n```\n\nì›¹ ì†Œì¼“ì´ ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ ì†Œì¼“ì´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nio.on(\"connection\",(socket)=\u003e{\n  console.log(\"ì‚¬ìš©ìê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤\",socket.id);\n}\n```\n\n3. ê¸°ëŠ¥ êµ¬í˜„: í•„ìš”í•œ ê¸°ëŠ¥ì„ êµ¬ì„±í•˜ê³  ì›¹ ì†Œì¼“ì„ í†µí•´ ì œê³µë˜ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì ìš©í•˜ì„¸ìš”. ê¸°ëŠ¥ êµ¬í˜„\n\n\n\në¼ì´ë¸Œ ë°ì´í„° ì „ì†¡ ëŠ¥ë ¥ì„ ê°€ì§„ ëŒ€ì‹œ ê°€ëŠ¥ì„±ìœ¼ë¡œ ì¸í•´ êµ¬í˜„ ê¸°ëŠ¥ì˜ ê°€ëŠ¥ì„±ì€ ë¬´í•œí•˜ì§€ë§Œ ì–´ë µìŠµë‹ˆë‹¤. ê´€ë¦¬ì íŒ¨ë„ì—ì„œ ì°½ì˜ì„±ì„ ì‹œì—°í•˜ê¸° ìœ„í•´ í•œ ì˜ˆë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ê´€ë¦¬ì íŒ¨ë„ì„ í†µí•´ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì‹œìŠ¤í…œì˜ ê¸°ëŠ¥ì„ ì „ë°˜ì ìœ¼ë¡œ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì¦‰ê°ì ì¸ ì¸ì‹ê³¼ ì‹ ì†í•œ ì˜ì‚¬ ê²°ì • ì˜µì…˜ì„ ì œê³µí•˜ëŠ” ê²ƒ ì™¸ì—ë„ ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤ì˜ ì‘ë‹µ ì†ë„ì™€ íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.\n\n```js\nimport Orders from \"./model/orders.js\"\nconst changeStream = Orders.watch()\n\nchangeStream.on('change', function(data) {\n\nconsole.log(\"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€\");\n}\n```\n\nìœ„ì˜ ì½”ë“œëŠ” Node.jsë¥¼ ì‚¬ìš©í•˜ì—¬ MongoDB í…Œì´ë¸”ì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ê²½ìš° Orders ëª¨ë¸ì´ ìˆìœ¼ë©° ì´ëŠ” íŒŒì¼ model/orders.jsì— ìœ„ì¹˜í•œ MongoDB ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤. Orders ì»¬ë ‰ì…˜ì€ watch() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë³€ê²½ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ changeStream.on('change', function(data) '...')ë¡œ ê°ì§€ëœ ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš° ì½˜ì†”ì— ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤. ë³€ê²½ ìŠ¤íŠ¸ë¦¼ ê¸°ëŠ¥ì€ MongoDBë¥¼ ì‚¬ìš©í•  ë•Œ í…Œì´ë¸” ë‚´ì—ì„œ í¸ì§‘, ì‚­ì œ ë˜ëŠ” ì¶”ê°€ì™€ ê°™ì€ ë³€ê²½ ì‚¬í•­ì„ ë” ë‚˜ì€ ë°©ì‹ìœ¼ë¡œ íš¨ê³¼ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ ì‹¤ì œë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nReact.JSì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” socket.io-clientë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n\n\n```js\nnpm i socket.io-client\n```\n\nì´í›„ì— ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ React JSì—ì„œ ì›¹ì†Œì¼“ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n```js\nimport io from 'socket.io-client';\nconst socket=io.connect(process.env.BASE_URL);\n\n/*\nprocess.env.BASE_URLë¥¼ ê¸°ë°˜ URLë¡œ ì—°ê²°í•˜ë©´ \nì„œë²„ URLì¸ localhost:5000ì™€ ê°™ì€ ì„œë²„ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” \nhttp://localhost:5000/ê°€ ë©ë‹ˆë‹¤.\n/*\n```\n\në§ˆì§€ë§‰ ë‹¨ê³„ëŠ” ë°±ì—”ë“œì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ ì›¹ì†Œì¼“ì„ í™œìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°, ì„œë²„ ì‚¬ì´íŠ¸ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë©”ì‹œì§€ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì „ì†¡í•  ìˆ˜ ìˆì„ê¹Œìš”?\n\n\n\nìš°ë¦¬ëŠ” ì‚¬ì‹¤ io.emit ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì´ê²ƒì„ í•  ìˆ˜ ìˆì–´ìš”. ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì‹œ ì‘ì„±í•´ ë´…ì‹œë‹¤.\n\n```js\nimport Orders from \"./model/orders.js\"\nconst changeStream = Orders.watch()\n\nchangeStream.on('change', function(data) {\n\n  io.emit(\"statusChanged\", { message: \"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤\" });\n}\n```\n\nì´ì œ io.emit()ì€ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ , ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.\n\n```js\nuseEffect(() =\u003e {\n\n  socket.on('statusChanged', data =\u003e {\n\n    const filtered = data.filter(item =\u003e item.status.includes(\"ë³´ë¥˜ ì¤‘\"));\n    SetOrdersData(filtered)\n  });\n\n}, [socket])\n```\n\n\n\nuseEffect()ì€ React ì»´í¬ë„ŒíŠ¸ë¡œ, ì»´í¬ë„ŒíŠ¸ê°€ ë¡œë“œë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ [socket]ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— useEffect()ì€ socketì— ë³€ê²½ì´ ìˆì„ ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.\n\n# Stackademic ğŸ“\n\nëê¹Œì§€ ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë– ë‚˜ì‹œê¸° ì „ì—:\n\n- ë°•ìˆ˜ë¥¼ ì¹˜ê³  ì‘ê°€ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ‘\n- ì €í¬ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš” X | LinkedIn | YouTube | Discord\n- ë‹¤ë¥¸ í”Œë«í¼ë„ ë°©ë¬¸í•´ ì£¼ì„¸ìš”: In Plain English | CoFeed | Venture | Cubed\n- ì•Œê³ ë¦¬ì¦˜ ì½˜í…ì¸ ë¥¼ ë‹¤ë£¨ëŠ” ë¸”ë¡œê·¸ í”Œë«í¼ì— ì§€ì³¤ë‚˜ìš”? Differë¥¼ ì‹œë„í•´ ë³´ì„¸ìš”\n- Stackademic.comì—ì„œ ë” ë§ì€ ì½˜í…ì¸ ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”","ogImage":{"url":"/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png"},"coverImage":"/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png","tag":["Tech"],"readingTime":5},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer_0.png\" alt=\"Crafting Web Sockets: The Real-Time Experiences of A Programmer\"\u003e\u003c/p\u003e\n\u003cp\u003eê±°ì˜ 1ë…„ì´ ì§€ë‚œ ì§€ê¸ˆ, í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ í’ë¶€í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë ˆìŠ¤í† ë‘ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ëŠ” ì—¬ì •ì„ ì‹œì‘í•œ ì§€ ì–¼ë§ˆ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë‹¤ìŒ ì„¸ ê°€ì§€ ì£¼ìš” íŒ¨ë„ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤: ì›¹ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì íŒ¨ë„ê³¼ ì›¹ì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ììš© íŒ¨ë„ ê·¸ë¦¬ê³  ìµœì í™”ëœ ëª¨ë°”ì¼ ì‚¬ìš©ì„ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë¼ì´ë” íŒ¨ë„ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì—¬ì •ì—ì„œ ì›¹ ì†Œì¼“ì´ ë¬´ì—‡ì´ë©° ì™œ ì¤‘ìš”í•œì§€, ê·¸ë¦¬ê³  ì¼ë°˜ HTTP ìš”ì²­ê³¼ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ íƒí—˜í•˜ë©´ì„œ ê·¸ ë‚´ìš©ì„ ê¸°ë¡í•œ ì´ ë¸”ë¡œê·¸ëŠ” ê·¸ ì‹œê¸°ì— ë°°ìš´ ê¸°ë³¸ ì›ë¦¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eì°¨ì´ ë°œê²¬í•˜ê¸°: ì›¹ ì†Œì¼“ VS HTTP ìš”ì²­\u003c/h1\u003e\n\u003cp\u003eì›¹ ì†Œì¼“ê³¼ HTTPS ìš”ì²­ì€ ê°ê¸° ë‹¤ë¥¸ ì—°ê²° ë™ì‘ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. HTTPì—ì„œëŠ” í˜„ì¬ ìš”ì²­ì´ ëë‚˜ë©´ ì—°ê²°ì´ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì—ëŠ” ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ì— ë°˜í•´ ì›¹ ì†Œì¼“ì€ ì˜¤í”ˆ ì—°ê²°ì„ ìœ ì§€í•˜ì—¬ ì‚¬ìš©ìê°€ ì–¸ì œë“ ì§€ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ë°›ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì±„íŒ…ì´ ì›¹ ì†Œì¼“ ê¸°ìˆ ì˜ ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ì¼ ê²ƒì…ë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì€ ê³„ì†í•´ì„œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eYouTube ë™ì˜ìƒ, ê¸°ì‚¬ ë° ì›¹ ì†Œì¼“ ê´€ë ¨ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë„ MERN ìŠ¤íƒì—ì„œ ë‚´ ì›¹ ì•±ì„ ê°œë°œí•˜ëŠ” ê²ƒì€ ìƒë‹¹íˆ ì–´ë ¤ì› ì–´ìš”. ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸°ê°€ ì‰½ì§€ ì•Šì•„ì„œ ì„±ëŠ¥ì´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆì–´ìš”. ì•„ë˜ì— ëª‡ ê°€ì§€ ê´€ë ¨ ë‹¨ê³„ê°€ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì„¤ì¹˜: Node.jsì—ì„œ ì›¹ ì†Œì¼“ì„ ë‹¤ë£¨ê¸° ìœ„í•œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install socket.\u003cspan class=\"hljs-property\"\u003eio\u003c/span\u003e\nnpm install https\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eì„¤ì •: React í”„ë¡ íŠ¸ ì—”ë“œì™€ Node.js ë°±ì—”ë“œì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ì—¬ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ í†µì‹ ì´ ì›í™œí•˜ì§€ ì•Šê²Œ ë˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•´ìš”\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eServer\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'socket.io'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e http \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"http\"\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e server = http.\u003cspan class=\"hljs-title function_\"\u003ecreateServer\u003c/span\u003e(app)\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e io = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eServer\u003c/span\u003e(server,{\n  \u003cspan class=\"hljs-attr\"\u003ecors\u003c/span\u003e: {\n      \u003cspan class=\"hljs-attr\"\u003eorigin\u003c/span\u003e: process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eBASE_URL\u003c/span\u003e, \n      \u003cspan class=\"hljs-attr\"\u003emethods\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"GET\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"POST\"\u003c/span\u003e]\n  }\n})\n\u003cspan class=\"hljs-comment\"\u003e/*\ní”„ë¡ íŠ¸ì—”ë“œì˜ URL ì£¼ì†ŒëŠ” í•´ë‹¹ originìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í”„ë¡ íŠ¸ì—”ë“œê°€ localhost:3000ì— ìœ„ì¹˜í•œë‹¤ë©´ http://localhost:3000/ ê°€ ë©ë‹ˆë‹¤.\n/*\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ì˜ ì½”ë“œëŠ” ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë¨¼ì € ì„œë²„ëŠ” HTTP ì„œë²„ë¡œ ìƒì„±ë˜ê³  server ë³€ìˆ˜ì— ì €ì¥ë©ë‹ˆë‹¤. ê·¸ í›„, ì´ ì„œë²„ëŠ” ì‹¤ì‹œê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì›¹ ì†Œì¼“ ì„œë²„ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„œë²„ê°€ CORSë¥¼ ì§€ì›í•˜ë¯€ë¡œ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°„ ìƒí˜¸ì‘ìš©ì„ í—ˆìš©í•˜ì—¬ ì‹¤ì‹œê°„ í†µì‹ ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ ì§€ì •í•˜ì—¬ ë°±ì—”ë“œì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì§€ì •ëœ ì—”ë“œ í¬ì¸íŠ¸ë¥¼ í†µí•´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003eexpress\u003c/span\u003e();\n\napp.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`ì„œë²„ í¬íŠ¸: \u003cspan class=\"hljs-subst\"\u003e${PORT}\u003c/span\u003e`\u003c/span\u003e));\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ì™€ ê°™ì´ ì•±ì„ ì„œë²„ë¥¼ í†µí•´ ë“£ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eì„œë²„.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`ì„œë²„ í¬íŠ¸: \u003cspan class=\"hljs-subst\"\u003e${PORT}\u003c/span\u003e`\u003c/span\u003e));\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì›¹ ì†Œì¼“ì´ ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ ì†Œì¼“ì´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eio.\u003cspan class=\"hljs-title function_\"\u003eon\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"connection\"\u003c/span\u003e,\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003esocket\u003c/span\u003e)=\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì‚¬ìš©ìê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤\"\u003c/span\u003e,socket.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003eê¸°ëŠ¥ êµ¬í˜„: í•„ìš”í•œ ê¸°ëŠ¥ì„ êµ¬ì„±í•˜ê³  ì›¹ ì†Œì¼“ì„ í†µí•´ ì œê³µë˜ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì ìš©í•˜ì„¸ìš”. ê¸°ëŠ¥ êµ¬í˜„\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eë¼ì´ë¸Œ ë°ì´í„° ì „ì†¡ ëŠ¥ë ¥ì„ ê°€ì§„ ëŒ€ì‹œ ê°€ëŠ¥ì„±ìœ¼ë¡œ ì¸í•´ êµ¬í˜„ ê¸°ëŠ¥ì˜ ê°€ëŠ¥ì„±ì€ ë¬´í•œí•˜ì§€ë§Œ ì–´ë µìŠµë‹ˆë‹¤. ê´€ë¦¬ì íŒ¨ë„ì—ì„œ ì°½ì˜ì„±ì„ ì‹œì—°í•˜ê¸° ìœ„í•´ í•œ ì˜ˆë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ê´€ë¦¬ì íŒ¨ë„ì„ í†µí•´ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì‹œìŠ¤í…œì˜ ê¸°ëŠ¥ì„ ì „ë°˜ì ìœ¼ë¡œ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì¦‰ê°ì ì¸ ì¸ì‹ê³¼ ì‹ ì†í•œ ì˜ì‚¬ ê²°ì • ì˜µì…˜ì„ ì œê³µí•˜ëŠ” ê²ƒ ì™¸ì—ë„ ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤ì˜ ì‘ë‹µ ì†ë„ì™€ íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOrders\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./model/orders.js\"\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e changeStream = \u003cspan class=\"hljs-title class_\"\u003eOrders\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ewatch\u003c/span\u003e()\n\nchangeStream.\u003cspan class=\"hljs-title function_\"\u003eon\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'change'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e) {\n\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€\"\u003c/span\u003e);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ì˜ ì½”ë“œëŠ” Node.jsë¥¼ ì‚¬ìš©í•˜ì—¬ MongoDB í…Œì´ë¸”ì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ê²½ìš° Orders ëª¨ë¸ì´ ìˆìœ¼ë©° ì´ëŠ” íŒŒì¼ model/orders.jsì— ìœ„ì¹˜í•œ MongoDB ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤. Orders ì»¬ë ‰ì…˜ì€ watch() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë³€ê²½ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ changeStream.on('change', function(data) '...')ë¡œ ê°ì§€ëœ ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš° ì½˜ì†”ì— ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ ê°ì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤. ë³€ê²½ ìŠ¤íŠ¸ë¦¼ ê¸°ëŠ¥ì€ MongoDBë¥¼ ì‚¬ìš©í•  ë•Œ í…Œì´ë¸” ë‚´ì—ì„œ í¸ì§‘, ì‚­ì œ ë˜ëŠ” ì¶”ê°€ì™€ ê°™ì€ ë³€ê²½ ì‚¬í•­ì„ ë” ë‚˜ì€ ë°©ì‹ìœ¼ë¡œ íš¨ê³¼ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ ì‹¤ì œë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eReact.JSì—ì„œ ì›¹ ì†Œì¼“ì„ ì„¤ì •í•˜ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” socket.io-clientë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm i socket.\u003cspan class=\"hljs-property\"\u003eio\u003c/span\u003e-client\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´í›„ì— ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ React JSì—ì„œ ì›¹ì†Œì¼“ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e io \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'socket.io-client'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e socket=io.\u003cspan class=\"hljs-title function_\"\u003econnect\u003c/span\u003e(process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eBASE_URL\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e/*\nprocess.env.BASE_URLë¥¼ ê¸°ë°˜ URLë¡œ ì—°ê²°í•˜ë©´ \nì„œë²„ URLì¸ localhost:5000ì™€ ê°™ì€ ì„œë²„ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” \nhttp://localhost:5000/ê°€ ë©ë‹ˆë‹¤.\n/*\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” ë°±ì—”ë“œì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ ì›¹ì†Œì¼“ì„ í™œìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°, ì„œë²„ ì‚¬ì´íŠ¸ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë©”ì‹œì§€ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì „ì†¡í•  ìˆ˜ ìˆì„ê¹Œìš”?\u003c/p\u003e\n\u003cp\u003eìš°ë¦¬ëŠ” ì‚¬ì‹¤ io.emit ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì´ê²ƒì„ í•  ìˆ˜ ìˆì–´ìš”. ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì‹œ ì‘ì„±í•´ ë´…ì‹œë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOrders\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./model/orders.js\"\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e changeStream = \u003cspan class=\"hljs-title class_\"\u003eOrders\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ewatch\u003c/span\u003e()\n\nchangeStream.\u003cspan class=\"hljs-title function_\"\u003eon\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'change'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e) {\n\n  io.\u003cspan class=\"hljs-title function_\"\u003eemit\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"statusChanged\"\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì£¼ë¬¸ í…Œì´ë¸”ì—ì„œ ë³€ê²½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤\"\u003c/span\u003e });\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ì œ io.emit()ì€ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ , ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n\n  socket.\u003cspan class=\"hljs-title function_\"\u003eon\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'statusChanged'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e =\u003e\u003c/span\u003e {\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e filtered = data.\u003cspan class=\"hljs-title function_\"\u003efilter\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eitem\u003c/span\u003e =\u003e\u003c/span\u003e item.\u003cspan class=\"hljs-property\"\u003estatus\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ë³´ë¥˜ ì¤‘\"\u003c/span\u003e));\n    \u003cspan class=\"hljs-title class_\"\u003eSetOrdersData\u003c/span\u003e(filtered)\n  });\n\n}, [socket])\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003euseEffect()ì€ React ì»´í¬ë„ŒíŠ¸ë¡œ, ì»´í¬ë„ŒíŠ¸ê°€ ë¡œë“œë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ [socket]ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— useEffect()ì€ socketì— ë³€ê²½ì´ ìˆì„ ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eStackademic ğŸ“\u003c/h1\u003e\n\u003cp\u003eëê¹Œì§€ ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë– ë‚˜ì‹œê¸° ì „ì—:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eë°•ìˆ˜ë¥¼ ì¹˜ê³  ì‘ê°€ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ‘\u003c/li\u003e\n\u003cli\u003eì €í¬ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš” X | LinkedIn | YouTube | Discord\u003c/li\u003e\n\u003cli\u003eë‹¤ë¥¸ í”Œë«í¼ë„ ë°©ë¬¸í•´ ì£¼ì„¸ìš”: In Plain English | CoFeed | Venture | Cubed\u003c/li\u003e\n\u003cli\u003eì•Œê³ ë¦¬ì¦˜ ì½˜í…ì¸ ë¥¼ ë‹¤ë£¨ëŠ” ë¸”ë¡œê·¸ í”Œë«í¼ì— ì§€ì³¤ë‚˜ìš”? Differë¥¼ ì‹œë„í•´ ë³´ì„¸ìš”\u003c/li\u003e\n\u003cli\u003eStackademic.comì—ì„œ ë” ë§ì€ ì½˜í…ì¸ ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-12-CraftingWebSocketsTheReal-TimeExperiencesofAProgrammer"},"buildId":"QH5Mz7n7Y6w0r4_gCGFQf","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>