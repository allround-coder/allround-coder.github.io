<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Android Jetpack Compose로 Custom TopAppBar 만드는 방법 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-30-CustomTopAppBarusingAndroidJetpackCompose" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Android Jetpack Compose로 Custom TopAppBar 만드는 방법 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="Android Jetpack Compose로 Custom TopAppBar 만드는 방법 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-30-CustomTopAppBarusingAndroidJetpackCompose_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-30-CustomTopAppBarusingAndroidJetpackCompose" data-gatsby-head="true"/><meta name="twitter:title" content="Android Jetpack Compose로 Custom TopAppBar 만드는 방법 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-30-CustomTopAppBarusingAndroidJetpackCompose_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-30 22:49" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/aCCUs-qPrLLLWRnkN0AOd/_buildManifest.js" defer=""></script><script src="/_next/static/aCCUs-qPrLLLWRnkN0AOd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Android Jetpack Compose로 Custom TopAppBar 만드는 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Android Jetpack Compose로 Custom TopAppBar 만드는 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 30, 2024</span><span class="posts_reading_time__f7YPP">4<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-30-CustomTopAppBarusingAndroidJetpackCompose&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>현대적인 안드로이드 앱을 개발할 때 TopAppBar composable을 사용하면 디자인이나 사용자 경험을 보완하는 데 문제가 발생할 수 있다는 것을 확신합니다.</p>
<p>문제점 몇 가지 예시:</p>
<ul>
<li>TopAppBar에서 SearchBar를 사용할 수 없습니다(호환이 되지 않습니다).</li>
<li>TopAppBar의 높이를 사용자 정의할 수 없습니다.</li>
<li>기본 높이를 초과하는 다른 composable를 정의할 수 없습니다. 즉, Text composable만 사용해야 합니다(물론 "title"이라는 매개변수 때문에 Text composable만 사용하는 것이 권장됩니다).</li>
</ul>
<p>여기 참고할 만한 "title" 매개변수에 대한 내용이 있습니다:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">TopAppBar</span><span class="hljs-params">(
    title: @<span class="hljs-type">Composable</span> () -> <span class="hljs-type">Unit</span>,
    modifier: <span class="hljs-type">Modifier</span> = Modifier,
    navigationIcon: @<span class="hljs-type">Composable</span> () -> <span class="hljs-type">Unit</span> = {},
    actions: @<span class="hljs-type">Composable</span> <span class="hljs-type">RowScope</span>.() -> <span class="hljs-type">Unit</span> = {},
    windowInsets: <span class="hljs-type">WindowInsets</span> = TopAppBarDefaults.windowInsets,
    colors: <span class="hljs-type">TopAppBarColors</span> = TopAppBarDefaults.topAppBarColors()</span></span>,
    scrollBehavior: TopAppBarScrollBehavior? = <span class="hljs-literal">null</span>
) { ... }
</code></pre>
<p>왜 정확히 TopAppBar를 사용자 정의해야 하나요? 그게 꼭 필요한 건가요? 그냥 Scaffold 내부의 composable을 사용자 정의하고 TopAppBar(topBar)를 사용하지 않으면 안 되나요?</p>
<p>모든 것을 맥락을 가지고 대답하겠습니다. 여기서 시작해봅시다.</p>
<p>아래 gif를 보세요. 거기서 무엇을 보셨나요? 경험을 개선할 방법은 없을까요?
Google이라는 걸 알고 있고, 개발자들의 작업을 칭찬합니다. 그래도 여전히 TopAppBar의 추가 색상 패딩 대신 투명 컨테이너 색상이면 좋겠다고 생각합니다. (여기서 statusBar 색상과 패딩을 무시합시다)</p>
<div class="content-ad"></div>
<img src="https://miro.medium.com/v2/resize:fit:1172/1*AxYM9552OKFCjkjQIh4Y_A.gif">
<p>이 것이 간단한 수정이겠지 생각하고 있을 것입니다. 하지만 문제는 그렇게 쉽게 해결되지 않는다는 것입니다. TopAppBar가 SearchBar가 확장될 때의 높이 제한에 갇히고 예기치 않은 동작을 볼 것입니다.</p>
<pre><code class="hljs language-js">  <span class="hljs-comment">// TopAppBar에 대한 매개변수</span>
colors = <span class="hljs-title class_">TopAppBarDefaults</span>.<span class="hljs-title function_">topAppBarColors</span>().<span class="hljs-title function_">copy</span>(
      containerColor = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Transparent</span>,
      scrolledContainerColor = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Transparent</span>,
  )
</code></pre>
<p>기대했던 것 vs 실제 결과, (또한 아래의 SearchBar 뒤의 리스트와 Gmail을 비교해봅시다)</p>
<div class="content-ad"></div>
<p>'TopAppBar'의 "content" 안에 있는 SearchBar를 사용하는 것이 좋은 방법으로 보일 수 있습니다. 그러나 scrollState를 관리하고 scrollBehavior를 제어하는 것은 더 어려운 작업일 수 있고 머리 아플 수도 있습니다. Scaffold는 이미 우리에게 topBar를 제공하므로 동일한 목적으로 body content를 사용하는 까닭이 무엇인가요?</p>
<p>그것은 SearchBar에만 해당되는 경우일 뿐입니다. 사용하고 싶은 사용자 정의 컴포넌트는 어떻게 해야 할까요? 배너나 브랜드 이름 하이라이트와 같은 Composables와 같은 것입니다.</p>
<p>TopAppBar의 가장 좋은 점은 scrollBehavior를 관리하고 적응할 수 있는 여러 동작을 갖고 있다는 것입니다. 예를 들면,</p>
<ul>
<li>enterAlwaysScrollBehavior</li>
<li>pinnedScrollBehavior</li>
<li>exitUntilCollapsedScrollBehavior 등이 있습니다.</li>
</ul>
<div class="content-ad"></div>
<p>이러한 이유로 TopAppBar의 nestedScroll을 사용하여 topBar 동작을 제어하는 것이 더 쉽습니다. 이 모든 것은 이를 만들어낸 개발자들 덕분입니다!</p>
<p>이제, 해결책은,</p>
<p>다양한 기술을 시도해 보고 원하는 결과를 얻기 위해 매우 오랜 시간을 검색했지만 예상했던 동작을 얻지 못했습니다. 마침내, 긴 시간 뒤에 디폴트 TopAppBar로 발생한 문제와 이를 수정하여 원하는 동작을 얻는 방법을 기술한 Oya Canlı의 기사를 발견했습니다. 그녀는 TopAppBar의 내장된 scrollBehaviors의 장점을 살리면서 원하는 동작을 얻기 위해 코드를 수정하는 방법을 설명했습니다.</p>
<p>요약하면, Oya Canlı 씨는 더 많은 사용자 정의를 허용하면서 다양한 scrollBehaviors를 지원하는 사용자 정의 FlexibleTopBar를 만들었습니다.</p>
<div class="content-ad"></div>
<p>이 솔루션은 topBar의 무한한 사용 사례를 열어줬어요. 여기서는 사용자 정의 composables를 사용할 수 있으면서도 topBar scrollBehavior를 활용할 수 있는 곳이 많아요.</p>
<p>TopAppBar composable에 익숙하다면 사용자 정의 TopAppBar(i.e. Oya Canlı의 FlexibleTopBar)에서는 거의 차이를 찾아보기 어려울 거에요. 제목, navigationIcon, actions가 지금은 composables를 취하는 content로 대체되었고 더 유연성을 제공합니다.
다음은 코드 조각이에요,</p>
<pre><code class="hljs language-js">@<span class="hljs-title class_">Composable</span>
fun <span class="hljs-title class_">CustomFlexibleTopAppBar</span>(
    <span class="hljs-attr">modifier</span>: <span class="hljs-title class_">Modifier</span> = <span class="hljs-title class_">Modifier</span>,
    <span class="hljs-attr">colors</span>: <span class="hljs-title class_">FlexibleTopBarColors</span> = <span class="hljs-title class_">FlexibleTopBarDefaults</span>.<span class="hljs-title function_">topAppBarColors</span>(),
    <span class="hljs-attr">scrollBehavior</span>: <span class="hljs-title class_">TopAppBarScrollBehavior</span>? = <span class="hljs-literal">null</span>,
    <span class="hljs-attr">content</span>: @<span class="hljs-title class_">Composable</span> () -> <span class="hljs-title class_">Unit</span>,
) { ... }
</code></pre>
<p>매개변수들에 대해 안내해 드릴게요,</p>
<div class="content-ad"></div>
<ul>
<li>color: 이 커스텀 색상 클래스는 FlexibleTopBarColors와 같이 사용되어 이 상단 앱 바의 다른 상태에 사용되는 색상을 해결하는 데 사용됩니다.</li>
<li>scrollBehavior: 콘텐츠가 스크롤된 양에 따라 topBar의 높이와 색상을 조정합니다. 이를 통해 앱 콘텐츠를 스크롤할 때 top 바가 동적으로 모양을 변경하게 됩니다. (기본 동작)</li>
<li>content: Scaffold의 topBar에서 사용하려는 조직 가능한 콘텐츠입니다. (topBar에 그리려고 시도한 콘텐츠)</li>
</ul>
<p>아래는 사용 예시입니다. 이 커스텀 FlexibleTopAppBar 조직 가능성으로 많은 가능성이 있습니다.</p>
<p>전체 코드를 보시려면 파일을 참조하시거나 문서를 따르세요.
전체 앱은 이 리포지토리에서 확인할 수 있습니다.</p>
<p>이 글 작성에 유용한 참고 자료로 Oya Canlı 님의 기사에 대해 특별히 감사를 전합니다.</p>
<div class="content-ad"></div>
<p>방문해 주셔서 감사합니다!</p>
<p>잊지 말고, 항상 더 나은 방법이 있어요!</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Android Jetpack Compose로 Custom TopAppBar 만드는 방법","description":"","date":"2024-06-30 22:49","slug":"2024-06-30-CustomTopAppBarusingAndroidJetpackCompose","content":"\n\n현대적인 안드로이드 앱을 개발할 때 TopAppBar composable을 사용하면 디자인이나 사용자 경험을 보완하는 데 문제가 발생할 수 있다는 것을 확신합니다.\n\n문제점 몇 가지 예시:\n\n- TopAppBar에서 SearchBar를 사용할 수 없습니다(호환이 되지 않습니다).\n- TopAppBar의 높이를 사용자 정의할 수 없습니다.\n- 기본 높이를 초과하는 다른 composable를 정의할 수 없습니다. 즉, Text composable만 사용해야 합니다(물론 \"title\"이라는 매개변수 때문에 Text composable만 사용하는 것이 권장됩니다).\n\n여기 참고할 만한 \"title\" 매개변수에 대한 내용이 있습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```kotlin\n@Composable\nfun TopAppBar(\n    title: @Composable () -\u003e Unit,\n    modifier: Modifier = Modifier,\n    navigationIcon: @Composable () -\u003e Unit = {},\n    actions: @Composable RowScope.() -\u003e Unit = {},\n    windowInsets: WindowInsets = TopAppBarDefaults.windowInsets,\n    colors: TopAppBarColors = TopAppBarDefaults.topAppBarColors(),\n    scrollBehavior: TopAppBarScrollBehavior? = null\n) { ... }\n```\n\n왜 정확히 TopAppBar를 사용자 정의해야 하나요? 그게 꼭 필요한 건가요? 그냥 Scaffold 내부의 composable을 사용자 정의하고 TopAppBar(topBar)를 사용하지 않으면 안 되나요?\n\n모든 것을 맥락을 가지고 대답하겠습니다. 여기서 시작해봅시다.\n\n아래 gif를 보세요. 거기서 무엇을 보셨나요? 경험을 개선할 방법은 없을까요?\nGoogle이라는 걸 알고 있고, 개발자들의 작업을 칭찬합니다. 그래도 여전히 TopAppBar의 추가 색상 패딩 대신 투명 컨테이너 색상이면 좋겠다고 생각합니다. (여기서 statusBar 색상과 패딩을 무시합시다)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1172/1*AxYM9552OKFCjkjQIh4Y_A.gif\" /\u003e\n\n이 것이 간단한 수정이겠지 생각하고 있을 것입니다. 하지만 문제는 그렇게 쉽게 해결되지 않는다는 것입니다. TopAppBar가 SearchBar가 확장될 때의 높이 제한에 갇히고 예기치 않은 동작을 볼 것입니다.\n\n```js\n  // TopAppBar에 대한 매개변수\ncolors = TopAppBarDefaults.topAppBarColors().copy(\n      containerColor = Color.Transparent,\n      scrolledContainerColor = Color.Transparent,\n  )\n```\n\n기대했던 것 vs 실제 결과, (또한 아래의 SearchBar 뒤의 리스트와 Gmail을 비교해봅시다)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n'TopAppBar'의 \"content\" 안에 있는 SearchBar를 사용하는 것이 좋은 방법으로 보일 수 있습니다. 그러나 scrollState를 관리하고 scrollBehavior를 제어하는 것은 더 어려운 작업일 수 있고 머리 아플 수도 있습니다. Scaffold는 이미 우리에게 topBar를 제공하므로 동일한 목적으로 body content를 사용하는 까닭이 무엇인가요?\n\n그것은 SearchBar에만 해당되는 경우일 뿐입니다. 사용하고 싶은 사용자 정의 컴포넌트는 어떻게 해야 할까요? 배너나 브랜드 이름 하이라이트와 같은 Composables와 같은 것입니다.\n\nTopAppBar의 가장 좋은 점은 scrollBehavior를 관리하고 적응할 수 있는 여러 동작을 갖고 있다는 것입니다. 예를 들면,\n\n- enterAlwaysScrollBehavior\n- pinnedScrollBehavior\n- exitUntilCollapsedScrollBehavior 등이 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이러한 이유로 TopAppBar의 nestedScroll을 사용하여 topBar 동작을 제어하는 것이 더 쉽습니다. 이 모든 것은 이를 만들어낸 개발자들 덕분입니다!\n\n이제, 해결책은,\n\n다양한 기술을 시도해 보고 원하는 결과를 얻기 위해 매우 오랜 시간을 검색했지만 예상했던 동작을 얻지 못했습니다. 마침내, 긴 시간 뒤에 디폴트 TopAppBar로 발생한 문제와 이를 수정하여 원하는 동작을 얻는 방법을 기술한 Oya Canlı의 기사를 발견했습니다. 그녀는 TopAppBar의 내장된 scrollBehaviors의 장점을 살리면서 원하는 동작을 얻기 위해 코드를 수정하는 방법을 설명했습니다.\n\n요약하면, Oya Canlı 씨는 더 많은 사용자 정의를 허용하면서 다양한 scrollBehaviors를 지원하는 사용자 정의 FlexibleTopBar를 만들었습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 솔루션은 topBar의 무한한 사용 사례를 열어줬어요. 여기서는 사용자 정의 composables를 사용할 수 있으면서도 topBar scrollBehavior를 활용할 수 있는 곳이 많아요.\n\nTopAppBar composable에 익숙하다면 사용자 정의 TopAppBar(i.e. Oya Canlı의 FlexibleTopBar)에서는 거의 차이를 찾아보기 어려울 거에요. 제목, navigationIcon, actions가 지금은 composables를 취하는 content로 대체되었고 더 유연성을 제공합니다.\n다음은 코드 조각이에요,\n\n```js\n@Composable\nfun CustomFlexibleTopAppBar(\n    modifier: Modifier = Modifier,\n    colors: FlexibleTopBarColors = FlexibleTopBarDefaults.topAppBarColors(),\n    scrollBehavior: TopAppBarScrollBehavior? = null,\n    content: @Composable () -\u003e Unit,\n) { ... }\n```\n\n매개변수들에 대해 안내해 드릴게요,\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- color: 이 커스텀 색상 클래스는 FlexibleTopBarColors와 같이 사용되어 이 상단 앱 바의 다른 상태에 사용되는 색상을 해결하는 데 사용됩니다.\n- scrollBehavior: 콘텐츠가 스크롤된 양에 따라 topBar의 높이와 색상을 조정합니다. 이를 통해 앱 콘텐츠를 스크롤할 때 top 바가 동적으로 모양을 변경하게 됩니다. (기본 동작)\n- content: Scaffold의 topBar에서 사용하려는 조직 가능한 콘텐츠입니다. (topBar에 그리려고 시도한 콘텐츠)\n\n아래는 사용 예시입니다. 이 커스텀 FlexibleTopAppBar 조직 가능성으로 많은 가능성이 있습니다.\n\n전체 코드를 보시려면 파일을 참조하시거나 문서를 따르세요.\n전체 앱은 이 리포지토리에서 확인할 수 있습니다.\n\n이 글 작성에 유용한 참고 자료로 Oya Canlı 님의 기사에 대해 특별히 감사를 전합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n방문해 주셔서 감사합니다!\n\n잊지 말고, 항상 더 나은 방법이 있어요!","ogImage":{"url":"/assets/img/2024-06-30-CustomTopAppBarusingAndroidJetpackCompose_0.png"},"coverImage":"/assets/img/2024-06-30-CustomTopAppBarusingAndroidJetpackCompose_0.png","tag":["Tech"],"readingTime":4},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e현대적인 안드로이드 앱을 개발할 때 TopAppBar composable을 사용하면 디자인이나 사용자 경험을 보완하는 데 문제가 발생할 수 있다는 것을 확신합니다.\u003c/p\u003e\n\u003cp\u003e문제점 몇 가지 예시:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTopAppBar에서 SearchBar를 사용할 수 없습니다(호환이 되지 않습니다).\u003c/li\u003e\n\u003cli\u003eTopAppBar의 높이를 사용자 정의할 수 없습니다.\u003c/li\u003e\n\u003cli\u003e기본 높이를 초과하는 다른 composable를 정의할 수 없습니다. 즉, Text composable만 사용해야 합니다(물론 \"title\"이라는 매개변수 때문에 Text composable만 사용하는 것이 권장됩니다).\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e여기 참고할 만한 \"title\" 매개변수에 대한 내용이 있습니다:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-kotlin\"\u003e\u003cspan class=\"hljs-meta\"\u003e@Composable\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efun\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eTopAppBar\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(\n    title: @\u003cspan class=\"hljs-type\"\u003eComposable\u003c/span\u003e () -\u003e \u003cspan class=\"hljs-type\"\u003eUnit\u003c/span\u003e,\n    modifier: \u003cspan class=\"hljs-type\"\u003eModifier\u003c/span\u003e = Modifier,\n    navigationIcon: @\u003cspan class=\"hljs-type\"\u003eComposable\u003c/span\u003e () -\u003e \u003cspan class=\"hljs-type\"\u003eUnit\u003c/span\u003e = {},\n    actions: @\u003cspan class=\"hljs-type\"\u003eComposable\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eRowScope\u003c/span\u003e.() -\u003e \u003cspan class=\"hljs-type\"\u003eUnit\u003c/span\u003e = {},\n    windowInsets: \u003cspan class=\"hljs-type\"\u003eWindowInsets\u003c/span\u003e = TopAppBarDefaults.windowInsets,\n    colors: \u003cspan class=\"hljs-type\"\u003eTopAppBarColors\u003c/span\u003e = TopAppBarDefaults.topAppBarColors()\u003c/span\u003e\u003c/span\u003e,\n    scrollBehavior: TopAppBarScrollBehavior? = \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e\n) { ... }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e왜 정확히 TopAppBar를 사용자 정의해야 하나요? 그게 꼭 필요한 건가요? 그냥 Scaffold 내부의 composable을 사용자 정의하고 TopAppBar(topBar)를 사용하지 않으면 안 되나요?\u003c/p\u003e\n\u003cp\u003e모든 것을 맥락을 가지고 대답하겠습니다. 여기서 시작해봅시다.\u003c/p\u003e\n\u003cp\u003e아래 gif를 보세요. 거기서 무엇을 보셨나요? 경험을 개선할 방법은 없을까요?\nGoogle이라는 걸 알고 있고, 개발자들의 작업을 칭찬합니다. 그래도 여전히 TopAppBar의 추가 색상 패딩 대신 투명 컨테이너 색상이면 좋겠다고 생각합니다. (여기서 statusBar 색상과 패딩을 무시합시다)\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1172/1*AxYM9552OKFCjkjQIh4Y_A.gif\"\u003e\n\u003cp\u003e이 것이 간단한 수정이겠지 생각하고 있을 것입니다. 하지만 문제는 그렇게 쉽게 해결되지 않는다는 것입니다. TopAppBar가 SearchBar가 확장될 때의 높이 제한에 갇히고 예기치 않은 동작을 볼 것입니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e  \u003cspan class=\"hljs-comment\"\u003e// TopAppBar에 대한 매개변수\u003c/span\u003e\ncolors = \u003cspan class=\"hljs-title class_\"\u003eTopAppBarDefaults\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etopAppBarColors\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ecopy\u003c/span\u003e(\n      containerColor = \u003cspan class=\"hljs-title class_\"\u003eColor\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eTransparent\u003c/span\u003e,\n      scrolledContainerColor = \u003cspan class=\"hljs-title class_\"\u003eColor\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eTransparent\u003c/span\u003e,\n  )\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e기대했던 것 vs 실제 결과, (또한 아래의 SearchBar 뒤의 리스트와 Gmail을 비교해봅시다)\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e'TopAppBar'의 \"content\" 안에 있는 SearchBar를 사용하는 것이 좋은 방법으로 보일 수 있습니다. 그러나 scrollState를 관리하고 scrollBehavior를 제어하는 것은 더 어려운 작업일 수 있고 머리 아플 수도 있습니다. Scaffold는 이미 우리에게 topBar를 제공하므로 동일한 목적으로 body content를 사용하는 까닭이 무엇인가요?\u003c/p\u003e\n\u003cp\u003e그것은 SearchBar에만 해당되는 경우일 뿐입니다. 사용하고 싶은 사용자 정의 컴포넌트는 어떻게 해야 할까요? 배너나 브랜드 이름 하이라이트와 같은 Composables와 같은 것입니다.\u003c/p\u003e\n\u003cp\u003eTopAppBar의 가장 좋은 점은 scrollBehavior를 관리하고 적응할 수 있는 여러 동작을 갖고 있다는 것입니다. 예를 들면,\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eenterAlwaysScrollBehavior\u003c/li\u003e\n\u003cli\u003epinnedScrollBehavior\u003c/li\u003e\n\u003cli\u003eexitUntilCollapsedScrollBehavior 등이 있습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이러한 이유로 TopAppBar의 nestedScroll을 사용하여 topBar 동작을 제어하는 것이 더 쉽습니다. 이 모든 것은 이를 만들어낸 개발자들 덕분입니다!\u003c/p\u003e\n\u003cp\u003e이제, 해결책은,\u003c/p\u003e\n\u003cp\u003e다양한 기술을 시도해 보고 원하는 결과를 얻기 위해 매우 오랜 시간을 검색했지만 예상했던 동작을 얻지 못했습니다. 마침내, 긴 시간 뒤에 디폴트 TopAppBar로 발생한 문제와 이를 수정하여 원하는 동작을 얻는 방법을 기술한 Oya Canlı의 기사를 발견했습니다. 그녀는 TopAppBar의 내장된 scrollBehaviors의 장점을 살리면서 원하는 동작을 얻기 위해 코드를 수정하는 방법을 설명했습니다.\u003c/p\u003e\n\u003cp\u003e요약하면, Oya Canlı 씨는 더 많은 사용자 정의를 허용하면서 다양한 scrollBehaviors를 지원하는 사용자 정의 FlexibleTopBar를 만들었습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이 솔루션은 topBar의 무한한 사용 사례를 열어줬어요. 여기서는 사용자 정의 composables를 사용할 수 있으면서도 topBar scrollBehavior를 활용할 수 있는 곳이 많아요.\u003c/p\u003e\n\u003cp\u003eTopAppBar composable에 익숙하다면 사용자 정의 TopAppBar(i.e. Oya Canlı의 FlexibleTopBar)에서는 거의 차이를 찾아보기 어려울 거에요. 제목, navigationIcon, actions가 지금은 composables를 취하는 content로 대체되었고 더 유연성을 제공합니다.\n다음은 코드 조각이에요,\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e@\u003cspan class=\"hljs-title class_\"\u003eComposable\u003c/span\u003e\nfun \u003cspan class=\"hljs-title class_\"\u003eCustomFlexibleTopAppBar\u003c/span\u003e(\n    \u003cspan class=\"hljs-attr\"\u003emodifier\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eModifier\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eModifier\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ecolors\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eFlexibleTopBarColors\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eFlexibleTopBarDefaults\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etopAppBarColors\u003c/span\u003e(),\n    \u003cspan class=\"hljs-attr\"\u003escrollBehavior\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eTopAppBarScrollBehavior\u003c/span\u003e? = \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e: @\u003cspan class=\"hljs-title class_\"\u003eComposable\u003c/span\u003e () -\u003e \u003cspan class=\"hljs-title class_\"\u003eUnit\u003c/span\u003e,\n) { ... }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e매개변수들에 대해 안내해 드릴게요,\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003ecolor: 이 커스텀 색상 클래스는 FlexibleTopBarColors와 같이 사용되어 이 상단 앱 바의 다른 상태에 사용되는 색상을 해결하는 데 사용됩니다.\u003c/li\u003e\n\u003cli\u003escrollBehavior: 콘텐츠가 스크롤된 양에 따라 topBar의 높이와 색상을 조정합니다. 이를 통해 앱 콘텐츠를 스크롤할 때 top 바가 동적으로 모양을 변경하게 됩니다. (기본 동작)\u003c/li\u003e\n\u003cli\u003econtent: Scaffold의 topBar에서 사용하려는 조직 가능한 콘텐츠입니다. (topBar에 그리려고 시도한 콘텐츠)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e아래는 사용 예시입니다. 이 커스텀 FlexibleTopAppBar 조직 가능성으로 많은 가능성이 있습니다.\u003c/p\u003e\n\u003cp\u003e전체 코드를 보시려면 파일을 참조하시거나 문서를 따르세요.\n전체 앱은 이 리포지토리에서 확인할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e이 글 작성에 유용한 참고 자료로 Oya Canlı 님의 기사에 대해 특별히 감사를 전합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e방문해 주셔서 감사합니다!\u003c/p\u003e\n\u003cp\u003e잊지 말고, 항상 더 나은 방법이 있어요!\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-30-CustomTopAppBarusingAndroidJetpackCompose"},"buildId":"aCCUs-qPrLLLWRnkN0AOd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>