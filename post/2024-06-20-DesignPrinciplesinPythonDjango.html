<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>파이썬 장고에서의 디자인 원칙 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-20-DesignPrinciplesinPythonDjango" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="파이썬 장고에서의 디자인 원칙 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="파이썬 장고에서의 디자인 원칙 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-DesignPrinciplesinPythonDjango_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-20-DesignPrinciplesinPythonDjango" data-gatsby-head="true"/><meta name="twitter:title" content="파이썬 장고에서의 디자인 원칙 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-DesignPrinciplesinPythonDjango_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 02:11" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/QH5Mz7n7Y6w0r4_gCGFQf/_buildManifest.js" defer=""></script><script src="/_next/static/QH5Mz7n7Y6w0r4_gCGFQf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">파이썬 장고에서의 디자인 원칙</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="파이썬 장고에서의 디자인 원칙" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">11<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-DesignPrinciplesinPythonDjango&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>파이썬에서의 디자인 원칙은 다른 프로그래밍 언어와 마찬가지로 깔끔하고 유지보수가 용이하며 효율적인 코드를 만드는 데 도움이 됩니다. 다음은 몇 가지 주요 디자인 원칙과 예시입니다:</p>
<p><img src="/assets/img/2024-06-20-DesignPrinciplesinPythonDjango_0.png" alt="Design Principles in Python"></p>
<h2>1. DRY(Don’t Repeat Yourself)</h2>
<p>코드의 중복을 피하기 위해 반복되는 패턴을 함수나 클래스로 추상화합니다.</p>
<div class="content-ad"></div>
<p>장고는 ORM, 폼 및 관리자 인터페이스를 통해 DRY 원칙을 자연스럽게 촉진합니다.</p>
<h2>예시: 시리얼라이저 사용하기</h2>
<p>DRF 시리얼라이저를 사용하면 유효성 검사 로직을 별도로 작성하는 대신, 해당 로직을 시리얼라이저 자체에 캡슐화할 수 있습니다.</p>
<pre><code class="hljs language-js"># serializers.<span class="hljs-property">py</span>
<span class="hljs-keyword">from</span> rest_framework <span class="hljs-keyword">import</span> serializers
<span class="hljs-keyword">from</span> .<span class="hljs-property">models</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">Expense</span>, <span class="hljs-title class_">Category</span>, <span class="hljs-title class_">Balance</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpenseSerializer</span>(serializers.<span class="hljs-property">ModelSerializer</span>):
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:
        model = <span class="hljs-title class_">Expense</span>
        fields = [<span class="hljs-string">'id'</span>, <span class="hljs-string">'user'</span>, <span class="hljs-string">'category'</span>, <span class="hljs-string">'amount'</span>, <span class="hljs-string">'description'</span>, <span class="hljs-string">'date'</span>]

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CategorySerializer</span>(serializers.<span class="hljs-property">ModelSerializer</span>):
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:
        model = <span class="hljs-title class_">Category</span>
        fields = [<span class="hljs-string">'id'</span>, <span class="hljs-string">'name'</span>, <span class="hljs-string">'description'</span>, <span class="hljs-string">'user'</span>]

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BalanceSerializer</span>(serializers.<span class="hljs-property">ModelSerializer</span>):
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:
        model = <span class="hljs-title class_">Balance</span>
        fields = [<span class="hljs-string">'id'</span>, <span class="hljs-string">'total_balance'</span>]
</code></pre>
<div class="content-ad"></div>
<h1>2. KISS (Keep It Simple, Stupid)</h1>
<p>코드를 가능한 한 간단하게 유지하세요. 불필요한 복잡성을 피하세요.</p>
<p>Django의 설계 철학은 간결성과 가독성을 강조합니다.</p>
<h2>예시: Django Rest Framework의 일반 뷰 사용</h2>
<div class="content-ad"></div>
<p>복잡한 뷰 로직을 작성하는 대신, DRF의 일반적인 뷰를 사용하여 객체 생성, 검색 및 목록을 처리할 수 있어요.</p>
<pre><code class="hljs language-js"># views.<span class="hljs-property">py</span>
<span class="hljs-keyword">from</span> rest_framework <span class="hljs-keyword">import</span> generics
<span class="hljs-keyword">from</span> .<span class="hljs-property">models</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">Expense</span>, <span class="hljs-title class_">Category</span>, <span class="hljs-title class_">Balance</span>
<span class="hljs-keyword">from</span> .<span class="hljs-property">serializers</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">ExpenseSerializer</span>, <span class="hljs-title class_">CategorySerializer</span>, <span class="hljs-title class_">BalanceSerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpenseListView</span>(generics.<span class="hljs-property">ListCreateAPIView</span>):
    queryset = <span class="hljs-title class_">Expense</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">ExpenseSerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpenseDetailView</span>(generics.<span class="hljs-property">RetrieveUpdateDestroyAPIView</span>):
    queryset = <span class="hljs-title class_">Expense</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">ExpenseSerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CategoryListView</span>(generics.<span class="hljs-property">ListCreateAPIView</span>):
    queryset = <span class="hljs-title class_">Category</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">CategorySerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CategoryDetailView</span>(generics.<span class="hljs-property">RetrieveUpdateDestroyAPIView</span>):
    queryset = <span class="hljs-title class_">Category</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">CategorySerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BalanceListView</span>(generics.<span class="hljs-property">ListCreateAPIView</span>):
    queryset = <span class="hljs-title class_">Balance</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">BalanceSerializer</span>
</code></pre>
<h1>3. YAGNI (You Ain’t Gonna Need It)</h1>
<p>필요할 때까지 기능을 추가하지 마세요.</p>
<div class="content-ad"></div>
<p>현재 요구 사항에 주안점을 두세요. 미래의 가능성에 집중하기보다는 현재의 요구 사항을 중심으로 작업하세요.</p>
<h2>예: 간단한 사용자 프로필</h2>
<p>간단한 사용자 모델로 시작하고 필요할 때만 복잡성을 추가하세요.</p>
<pre><code class="hljs language-js"># models.<span class="hljs-property">py</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-title class_">AbstractUser</span>):
    first_name = models.<span class="hljs-title class_">CharField</span>(max_length=<span class="hljs-number">30</span>)
    last_name = models.<span class="hljs-title class_">CharField</span>(max_length=<span class="hljs-number">30</span>)
    email = models.<span class="hljs-title class_">EmailField</span>(unique=<span class="hljs-title class_">True</span>)

    def <span class="hljs-title function_">__str__</span>(self):
        <span class="hljs-keyword">return</span> self.<span class="hljs-property">username</span>
</code></pre>
<div class="content-ad"></div>
<h1>4. 역할의 분리</h1>
<p>여러분의 코드의 각 부분은 서로 다른 책임을 가져야 합니다.</p>
<p>장고의 MVC (Model-View-Controller) 아키텍처는 데이터 처리를 분리한 모델(models), 사용자 인터페이스를 분리한 템플릿(templates), 그리고 응용 프로그램 로직을 분리한 뷰(views)로 구성됩니다.</p>
<h2>예시: 뷰에서 비즈니스 로직 분리</h2>
<div class="content-ad"></div>
<p>비즈니스 로직은 뷰가 아닌 모델이나 서비스에 유지하는 것이 좋습니다.</p>
<pre><code class="hljs language-js"># models.<span class="hljs-property">py</span>
<span class="hljs-keyword">from</span> django.<span class="hljs-property">contrib</span>.<span class="hljs-property">auth</span>.<span class="hljs-property">models</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">AbstractUser</span>
<span class="hljs-keyword">from</span> django.<span class="hljs-property">db</span> <span class="hljs-keyword">import</span> models

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DKModel</span>(models.<span class="hljs-property">Model</span>):
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:
        abstract = <span class="hljs-title class_">True</span>

    deleted = models.<span class="hljs-title class_">BooleanField</span>(<span class="hljs-keyword">default</span>=<span class="hljs-title class_">False</span>)
    date_created = models.<span class="hljs-title class_">DateTimeField</span>(<span class="hljs-string">'Date created'</span>, auto_now_add=<span class="hljs-title class_">True</span>)
    date_last_updated = models.<span class="hljs-title class_">DateTimeField</span>(<span class="hljs-string">'Data last updated'</span>, auto_now=<span class="hljs-title class_">True</span>)

    def <span class="hljs-title function_">__id__</span>(self) -> <span class="hljs-attr">int</span>:
        <span class="hljs-keyword">return</span> self.<span class="hljs-property">id</span>

    def <span class="hljs-title function_">delete</span>(self, *args, **kwargs):
        self.<span class="hljs-property">deleted</span> = <span class="hljs-title class_">True</span>
        self.<span class="hljs-title function_">save</span>()

    def <span class="hljs-title function_">hard_delete</span>(self, *args, **kwargs):
        <span class="hljs-variable language_">super</span>().<span class="hljs-title function_">delete</span>(*args, **kwargs)
        
                      ....

# views.<span class="hljs-property">py</span>
<span class="hljs-keyword">from</span> rest_framework.<span class="hljs-property">views</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">APIView</span>
<span class="hljs-keyword">from</span> rest_framework.<span class="hljs-property">response</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">Response</span>
<span class="hljs-keyword">from</span> rest_framework <span class="hljs-keyword">import</span> generics
<span class="hljs-keyword">from</span> django.<span class="hljs-property">shortcuts</span> <span class="hljs-keyword">import</span> get_object_or_404
<span class="hljs-keyword">from</span> .<span class="hljs-property">models</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">Expense</span>, <span class="hljs-title class_">Category</span>, <span class="hljs-title class_">Balance</span>, <span class="hljs-title class_">User</span>
<span class="hljs-keyword">from</span> .<span class="hljs-property">serializers</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">ExpenseSerializer</span>, <span class="hljs-title class_">CategorySerializer</span>, <span class="hljs-title class_">BalanceSerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpenseListView</span>(generics.<span class="hljs-property">ListCreateAPIView</span>):
    queryset = <span class="hljs-title class_">Expense</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">ExpenseSerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpenseDetailView</span>(generics.<span class="hljs-property">RetrieveUpdateDestroyAPIView</span>):
    queryset = <span class="hljs-title class_">Expense</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">ExpenseSerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CategoryListView</span>(generics.<span class="hljs-property">ListCreateAPIView</span>):
    queryset = <span class="hljs-title class_">Category</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">CategorySerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CategoryDetailView</span>(generics.<span class="hljs-property">RetrieveUpdateDestroyAPIView</span>):
    queryset = <span class="hljs-title class_">Category</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">CategorySerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BalanceListView</span>(generics.<span class="hljs-property">ListCreateAPIView</span>):
    queryset = <span class="hljs-title class_">Balance</span>.<span class="hljs-property">objects</span>.<span class="hljs-title function_">all</span>()
    serializer_class = <span class="hljs-title class_">BalanceSerializer</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserTotalExpensesView</span>(<span class="hljs-title class_">APIView</span>):
    def <span class="hljs-title function_">get</span>(self, request, user_id):
        user = <span class="hljs-title function_">get_object_or_404</span>(<span class="hljs-title class_">User</span>, id=user_id)
        total_expenses = user.<span class="hljs-title function_">get_total_expenses</span>()
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>({<span class="hljs-string">'total_expenses'</span>: total_expenses})

# urls.<span class="hljs-property">py</span>
<span class="hljs-keyword">from</span> django.<span class="hljs-property">urls</span> <span class="hljs-keyword">import</span> path
<span class="hljs-keyword">from</span> .<span class="hljs-property">views</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">ExpenseListView</span>, <span class="hljs-title class_">ExpenseDetailView</span>, <span class="hljs-title class_">CategoryListView</span>, <span class="hljs-title class_">CategoryDetailView</span>, <span class="hljs-title class_">BalanceListView</span>, <span class="hljs-title class_">UserTotalExpensesView</span>

urlpatterns = [
    <span class="hljs-title function_">path</span>(<span class="hljs-string">'expenses/'</span>, <span class="hljs-title class_">ExpenseListView</span>.<span class="hljs-title function_">as_view</span>(), name=<span class="hljs-string">'expense-list'</span>),
    <span class="hljs-title function_">path</span>(<span class="hljs-string">'expenses/&#x3C;int:pk>/'</span>, <span class="hljs-title class_">ExpenseDetailView</span>.<span class="hljs-title function_">as_view</span>(), name=<span class="hljs-string">'expense-detail'</span>),
    <span class="hljs-title function_">path</span>(<span class="hljs-string">'categories/'</span>, <span class="hljs-title class_">CategoryListView</span>.<span class="hljs-title function_">as_view</span>(), name=<span class="hljs-string">'category-list'</span>),
    <span class="hljs-title function_">path</span>(<span class="hljs-string">'categories/&#x3C;int:pk>/'</span>, <span class="hljs-title class_">CategoryDetailView</span>.<span class="hljs-title function_">as_view</span>(), name=<span class="hljs-string">'category-detail'</span>),
    <span class="hljs-title function_">path</span>(<span class="hljs-string">'balances/'</span>, <span class="hljs-title class_">BalanceListView</span>.<span class="hljs-title function_">as_view</span>(), name=<span class="hljs-string">'balance-list'</span>),
    <span class="hljs-title function_">path</span>(<span class="hljs-string">'users/&#x3C;int:user_id>/total-expenses/'</span>, <span class="hljs-title class_">UserTotalExpensesView</span>.<span class="hljs-title function_">as_view</span>(), name=<span class="hljs-string">'user-total-expenses'</span>),
]
</code></pre>
<h1>5. SOLID Principles</h1>
<p>SOLID은 소프트웨어 디자인을 더 이해하기 쉽고 유연하며 유지보수하기 쉽도록 하는 다섯 가지 디자인 원칙을 의미하는 머릿글자입니다.</p>
<div class="content-ad"></div>
<h2>S: 단일 책임 원칙 (SRP)</h2>
<p>각 클래스는 하나의 책임만을 가져야 합니다.</p>
<pre><code class="hljs language-js"># model/models.<span class="hljs-property">py</span>
<span class="hljs-keyword">from</span> django.<span class="hljs-property">contrib</span>.<span class="hljs-property">auth</span>.<span class="hljs-property">models</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">AbstractUser</span>
<span class="hljs-keyword">from</span> django.<span class="hljs-property">db</span> <span class="hljs-keyword">import</span> models

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DKModel</span>(models.<span class="hljs-property">Model</span>):
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:
        abstract = <span class="hljs-title class_">True</span>

    deleted = models.<span class="hljs-title class_">BooleanField</span>(<span class="hljs-keyword">default</span>=<span class="hljs-title class_">False</span>)
    date_created = models.<span class="hljs-title class_">DateTimeField</span>(<span class="hljs-string">'생성 날짜'</span>, auto_now_add=<span class="hljs-title class_">True</span>)
    date_last_updated = models.<span class="hljs-title class_">DateTimeField</span>(<span class="hljs-string">'마지막으로 업데이트된 날짜'</span>, auto_now=<span class="hljs-title class_">True</span>)

    def <span class="hljs-title function_">__id__</span>(self) -> <span class="hljs-attr">int</span>:
        <span class="hljs-keyword">return</span> self.<span class="hljs-property">id</span>

    def <span class="hljs-title function_">delete</span>(self, *args, **kwargs):
        self.<span class="hljs-property">deleted</span> = <span class="hljs-title class_">True</span>
        self.<span class="hljs-title function_">save</span>()

    def <span class="hljs-title function_">hard_delete</span>(self, *args, **kwargs):
        <span class="hljs-variable language_">super</span>().<span class="hljs-title function_">delete</span>(*args, **kwargs)


<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-title class_">AbstractUser</span>):
    first_name = models.<span class="hljs-title class_">CharField</span>(max_length=<span class="hljs-number">30</span>)
    last_name = models.<span class="hljs-title class_">CharField</span>(max_length=<span class="hljs-number">30</span>)
    email = models.<span class="hljs-title class_">EmailField</span>(unique=<span class="hljs-title class_">True</span>)

    def <span class="hljs-title function_">__str__</span>(self):
        <span class="hljs-keyword">return</span> self.<span class="hljs-property">username</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">Category</span>(<span class="hljs-title class_">DKModel</span>):
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:
        verbose_name = <span class="hljs-string">"카테고리"</span>
        verbose_name_plural = <span class="hljs-string">"카테고리들"</span>
        db_table = <span class="hljs-string">"dk_category"</span>

    name = models.<span class="hljs-title class_">CharField</span>(<span class="hljs-string">'이름'</span>, max_length=<span class="hljs-number">100</span>, unique=<span class="hljs-title class_">True</span>)
    description = models.<span class="hljs-title class_">TextField</span>()
    user = models.<span class="hljs-title class_">ForeignKey</span>(<span class="hljs-title class_">User</span>, on_delete=models.<span class="hljs-property">CASCADE</span>)

    def <span class="hljs-title function_">__str__</span>(self):
        <span class="hljs-keyword">return</span> self.<span class="hljs-property">name</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">Expense</span>(<span class="hljs-title class_">DKModel</span>):
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:
        verbose_name = <span class="hljs-string">"지출"</span>
        verbose_name_plural = <span class="hljs-string">"지출들"</span>
        db_table = <span class="hljs-string">"dk_expense"</span>

    user = models.<span class="hljs-title class_">ForeignKey</span>(<span class="hljs-title class_">User</span>, on_delete=models.<span class="hljs-property">CASCADE</span>)
    category = models.<span class="hljs-title class_">ForeignKey</span>(<span class="hljs-title class_">Category</span>, on_delete=models.<span class="hljs-property">CASCADE</span>)
    amount = models.<span class="hljs-title class_">DecimalField</span>(max_digits=<span class="hljs-number">10</span>, decimal_places=<span class="hljs-number">2</span>)
    description = models.<span class="hljs-title class_">TextField</span>()
    date = models.<span class="hljs-title class_">DateField</span>()


<span class="hljs-keyword">class</span> <span class="hljs-title class_">Balance</span>(models.<span class="hljs-property">Model</span>):
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:
        verbose_name = <span class="hljs-string">"잔고"</span>
        verbose_name_plural = <span class="hljs-string">"잔고들"</span>
        db_table = <span class="hljs-string">"dk_balance"</span>

    total_balance = models.<span class="hljs-title class_">DecimalField</span>(max_digits=<span class="hljs-number">10</span>, decimal_places=<span class="hljs-number">2</span>)
</code></pre>
<h2>O: 개방/폐쇄 원칙 (OCP)</h2>
<div class="content-ad"></div>
<p>소프트웨어 엔티티들은 확장에는 열려 있지만 수정에는 닫혀 있어야 합니다.</p>
<pre><code class="hljs language-python"><span class="hljs-comment"># middleware.py</span>
<span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> HttpResponse

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseMiddleware</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_request</span>(<span class="hljs-params">self, request</span>):
        <span class="hljs-keyword">raise</span> NotImplementedError

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AuthMiddleware</span>(<span class="hljs-title class_ inherited__">BaseMiddleware</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_request</span>(<span class="hljs-params">self, request</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> request.user.is_authenticated:
            <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">'Unauthorized'</span>, status=<span class="hljs-number">401</span>)
</code></pre>
<h3>L: 리스코프 치환 원칙 (LSP)</h3>
<p>슈퍼클래스의 객체는 서브클래스의 객체로 대체할 수 있어야 하며, 프로그램의 정확성에 영향을 주지 않아야 합니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"># models.<span class="hljs-property">py</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Notification</span>:
    def <span class="hljs-title function_">send</span>(self):
        raise <span class="hljs-title class_">NotImplementedError</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">EmailNotification</span>(<span class="hljs-title class_">Notification</span>):
    def <span class="hljs-title function_">send</span>(self):
        <span class="hljs-title function_">print</span>(<span class="hljs-string">"이메일 보내는 중"</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">SMSNotification</span>(<span class="hljs-title class_">Notification</span>):
    def <span class="hljs-title function_">send</span>(self):
        <span class="hljs-title function_">print</span>(<span class="hljs-string">"SMS 보내는 중"</span>)

def <span class="hljs-title function_">notify</span>(<span class="hljs-attr">notification</span>: <span class="hljs-title class_">Notification</span>):
    notification.<span class="hljs-title function_">send</span>()

# 사용 예시
email_notification = <span class="hljs-title class_">EmailNotification</span>()
sms_notification = <span class="hljs-title class_">SMSNotification</span>()

<span class="hljs-title function_">notify</span>(email_notification)  # 출력: 이메일 보내는 중
<span class="hljs-title function_">notify</span>(sms_notification)    # 출력: <span class="hljs-variable constant_">SMS</span> 보내는 중
</code></pre>
<h2>I: 인터페이스 분리 원칙 (ISP)</h2>
<p>클라이언트는 사용하지 않는 인터페이스에 종속되도록 강요되어서는 안됩니다.</p>
<pre><code class="hljs language-js"># 더 큰 뷰를 분리함으로써 인터페이스 분리
<span class="hljs-keyword">from</span> django.<span class="hljs-property">views</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">View</span>
<span class="hljs-keyword">from</span> django.<span class="hljs-property">http</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">JsonResponse</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CreateMixin</span>:
    def <span class="hljs-title function_">create</span>(self, request, *args, **kwargs):
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">JsonResponse</span>({<span class="hljs-string">'message'</span>: <span class="hljs-string">'생성 기능이 구현되지 않았습니다.'</span>}, status=<span class="hljs-number">405</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ReadMixin</span>:
    def <span class="hljs-title function_">read</span>(self, request, *args, **kwargs):
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">JsonResponse</span>({<span class="hljs-string">'message'</span>: <span class="hljs-string">'조회 기능이 구현되지 않았습니다.'</span>}, status=<span class="hljs-number">405</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UpdateMixin</span>:
    def <span class="hljs-title function_">update</span>(self, request, *args, **kwargs):
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">JsonResponse</span>({<span class="hljs-string">'message'</span>: <span class="hljs-string">'수정 기능이 구현되지 않았습니다.'</span>}, status=<span class="hljs-number">405</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DeleteMixin</span>:
    def <span class="hljs-title function_">delete</span>(self, request, *args, **kwargs):
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">JsonResponse</span>({<span class="hljs-string">'message'</span>: <span class="hljs-string">'삭제 기능이 구현되지 않았습니다.'</span>}, status=<span class="hljs-number">405</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyView</span>(<span class="hljs-title class_">CreateMixin</span>, <span class="hljs-title class_">ReadMixin</span>, <span class="hljs-title class_">View</span>):
    def <span class="hljs-title function_">read</span>(self, request, *args, **kwargs):
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">JsonResponse</span>({<span class="hljs-string">'message'</span>: <span class="hljs-string">'데이터 조회 중'</span>})
</code></pre>
<div class="content-ad"></div>
<h2>D: 의존 역전 원칙 (DIP)</h2>
<p>고수준 모듈은 저수준 모듈에 의존해서는 안 됩니다. 둘 모두 추상화에 의존해야 합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentService</span>:
    def <span class="hljs-title function_">process_payment</span>(self):
        raise <span class="hljs-title class_">NotImplementedError</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">StripePaymentService</span>(<span class="hljs-title class_">PaymentService</span>):
    def <span class="hljs-title function_">process_payment</span>(self):
        <span class="hljs-title function_">print</span>(<span class="hljs-string">"Stripe로 결제 처리 중"</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">PayPalPaymentService</span>(<span class="hljs-title class_">PaymentService</span>):
    def <span class="hljs-title function_">process_payment</span>(self):
        <span class="hljs-title function_">print</span>(<span class="hljs-string">"PayPal로 결제 처리 중"</span>)

# views.<span class="hljs-property">py</span>
<span class="hljs-keyword">from</span> .<span class="hljs-property">services</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">PaymentService</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentView</span>(<span class="hljs-title class_">View</span>):
    def <span class="hljs-title function_">__init__</span>(self, <span class="hljs-attr">payment_service</span>: <span class="hljs-title class_">PaymentService</span>):
        self.<span class="hljs-property">payment_service</span> = payment_service

    def <span class="hljs-title function_">post</span>(self, request, *args, **kwargs):
        self.<span class="hljs-property">payment_service</span>.<span class="hljs-title function_">process_payment</span>()
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">JsonResponse</span>({<span class="hljs-string">'message'</span>: <span class="hljs-string">'결제가 완료되었습니다'</span>})

# 사용법
stripe_service = <span class="hljs-title class_">StripePaymentService</span>()
paypal_service = <span class="hljs-title class_">PayPalPaymentService</span>()

stripe_payment_view = <span class="hljs-title class_">PaymentView</span>(stripe_service)
paypal_payment_view = <span class="hljs-title class_">PaymentView</span>(paypal_service)
</code></pre>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"파이썬 장고에서의 디자인 원칙","description":"","date":"2024-06-20 02:11","slug":"2024-06-20-DesignPrinciplesinPythonDjango","content":"\n\n파이썬에서의 디자인 원칙은 다른 프로그래밍 언어와 마찬가지로 깔끔하고 유지보수가 용이하며 효율적인 코드를 만드는 데 도움이 됩니다. 다음은 몇 가지 주요 디자인 원칙과 예시입니다:\n\n![Design Principles in Python](/assets/img/2024-06-20-DesignPrinciplesinPythonDjango_0.png)\n\n## 1. DRY(Don’t Repeat Yourself)\n\n코드의 중복을 피하기 위해 반복되는 패턴을 함수나 클래스로 추상화합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n장고는 ORM, 폼 및 관리자 인터페이스를 통해 DRY 원칙을 자연스럽게 촉진합니다.\n\n## 예시: 시리얼라이저 사용하기\n\nDRF 시리얼라이저를 사용하면 유효성 검사 로직을 별도로 작성하는 대신, 해당 로직을 시리얼라이저 자체에 캡슐화할 수 있습니다.\n\n```js\n# serializers.py\nfrom rest_framework import serializers\nfrom .models import Expense, Category, Balance\n\nclass ExpenseSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Expense\n        fields = ['id', 'user', 'category', 'amount', 'description', 'date']\n\nclass CategorySerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Category\n        fields = ['id', 'name', 'description', 'user']\n\nclass BalanceSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Balance\n        fields = ['id', 'total_balance']\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 2. KISS (Keep It Simple, Stupid)\n\n코드를 가능한 한 간단하게 유지하세요. 불필요한 복잡성을 피하세요.\n\nDjango의 설계 철학은 간결성과 가독성을 강조합니다.\n\n## 예시: Django Rest Framework의 일반 뷰 사용\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n복잡한 뷰 로직을 작성하는 대신, DRF의 일반적인 뷰를 사용하여 객체 생성, 검색 및 목록을 처리할 수 있어요.\n\n```js\n# views.py\nfrom rest_framework import generics\nfrom .models import Expense, Category, Balance\nfrom .serializers import ExpenseSerializer, CategorySerializer, BalanceSerializer\n\nclass ExpenseListView(generics.ListCreateAPIView):\n    queryset = Expense.objects.all()\n    serializer_class = ExpenseSerializer\n\nclass ExpenseDetailView(generics.RetrieveUpdateDestroyAPIView):\n    queryset = Expense.objects.all()\n    serializer_class = ExpenseSerializer\n\nclass CategoryListView(generics.ListCreateAPIView):\n    queryset = Category.objects.all()\n    serializer_class = CategorySerializer\n\nclass CategoryDetailView(generics.RetrieveUpdateDestroyAPIView):\n    queryset = Category.objects.all()\n    serializer_class = CategorySerializer\n\nclass BalanceListView(generics.ListCreateAPIView):\n    queryset = Balance.objects.all()\n    serializer_class = BalanceSerializer\n```\n\n# 3. YAGNI (You Ain’t Gonna Need It)\n\n필요할 때까지 기능을 추가하지 마세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n현재 요구 사항에 주안점을 두세요. 미래의 가능성에 집중하기보다는 현재의 요구 사항을 중심으로 작업하세요.\n\n## 예: 간단한 사용자 프로필\n\n간단한 사용자 모델로 시작하고 필요할 때만 복잡성을 추가하세요.\n\n```js\n# models.py\n\nclass User(AbstractUser):\n    first_name = models.CharField(max_length=30)\n    last_name = models.CharField(max_length=30)\n    email = models.EmailField(unique=True)\n\n    def __str__(self):\n        return self.username\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 4. 역할의 분리\n\n여러분의 코드의 각 부분은 서로 다른 책임을 가져야 합니다.\n\n장고의 MVC (Model-View-Controller) 아키텍처는 데이터 처리를 분리한 모델(models), 사용자 인터페이스를 분리한 템플릿(templates), 그리고 응용 프로그램 로직을 분리한 뷰(views)로 구성됩니다.\n\n## 예시: 뷰에서 비즈니스 로직 분리\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n비즈니스 로직은 뷰가 아닌 모델이나 서비스에 유지하는 것이 좋습니다.\n\n```js\n# models.py\nfrom django.contrib.auth.models import AbstractUser\nfrom django.db import models\n\nclass DKModel(models.Model):\n    class Meta:\n        abstract = True\n\n    deleted = models.BooleanField(default=False)\n    date_created = models.DateTimeField('Date created', auto_now_add=True)\n    date_last_updated = models.DateTimeField('Data last updated', auto_now=True)\n\n    def __id__(self) -\u003e int:\n        return self.id\n\n    def delete(self, *args, **kwargs):\n        self.deleted = True\n        self.save()\n\n    def hard_delete(self, *args, **kwargs):\n        super().delete(*args, **kwargs)\n        \n                      ....\n\n# views.py\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\nfrom rest_framework import generics\nfrom django.shortcuts import get_object_or_404\nfrom .models import Expense, Category, Balance, User\nfrom .serializers import ExpenseSerializer, CategorySerializer, BalanceSerializer\n\nclass ExpenseListView(generics.ListCreateAPIView):\n    queryset = Expense.objects.all()\n    serializer_class = ExpenseSerializer\n\nclass ExpenseDetailView(generics.RetrieveUpdateDestroyAPIView):\n    queryset = Expense.objects.all()\n    serializer_class = ExpenseSerializer\n\nclass CategoryListView(generics.ListCreateAPIView):\n    queryset = Category.objects.all()\n    serializer_class = CategorySerializer\n\nclass CategoryDetailView(generics.RetrieveUpdateDestroyAPIView):\n    queryset = Category.objects.all()\n    serializer_class = CategorySerializer\n\nclass BalanceListView(generics.ListCreateAPIView):\n    queryset = Balance.objects.all()\n    serializer_class = BalanceSerializer\n\nclass UserTotalExpensesView(APIView):\n    def get(self, request, user_id):\n        user = get_object_or_404(User, id=user_id)\n        total_expenses = user.get_total_expenses()\n        return Response({'total_expenses': total_expenses})\n\n# urls.py\nfrom django.urls import path\nfrom .views import ExpenseListView, ExpenseDetailView, CategoryListView, CategoryDetailView, BalanceListView, UserTotalExpensesView\n\nurlpatterns = [\n    path('expenses/', ExpenseListView.as_view(), name='expense-list'),\n    path('expenses/\u003cint:pk\u003e/', ExpenseDetailView.as_view(), name='expense-detail'),\n    path('categories/', CategoryListView.as_view(), name='category-list'),\n    path('categories/\u003cint:pk\u003e/', CategoryDetailView.as_view(), name='category-detail'),\n    path('balances/', BalanceListView.as_view(), name='balance-list'),\n    path('users/\u003cint:user_id\u003e/total-expenses/', UserTotalExpensesView.as_view(), name='user-total-expenses'),\n]\n```\n\n# 5. SOLID Principles\n\nSOLID은 소프트웨어 디자인을 더 이해하기 쉽고 유연하며 유지보수하기 쉽도록 하는 다섯 가지 디자인 원칙을 의미하는 머릿글자입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## S: 단일 책임 원칙 (SRP)\n\n각 클래스는 하나의 책임만을 가져야 합니다.\n\n```js\n# model/models.py\nfrom django.contrib.auth.models import AbstractUser\nfrom django.db import models\n\nclass DKModel(models.Model):\n    class Meta:\n        abstract = True\n\n    deleted = models.BooleanField(default=False)\n    date_created = models.DateTimeField('생성 날짜', auto_now_add=True)\n    date_last_updated = models.DateTimeField('마지막으로 업데이트된 날짜', auto_now=True)\n\n    def __id__(self) -\u003e int:\n        return self.id\n\n    def delete(self, *args, **kwargs):\n        self.deleted = True\n        self.save()\n\n    def hard_delete(self, *args, **kwargs):\n        super().delete(*args, **kwargs)\n\n\nclass User(AbstractUser):\n    first_name = models.CharField(max_length=30)\n    last_name = models.CharField(max_length=30)\n    email = models.EmailField(unique=True)\n\n    def __str__(self):\n        return self.username\n\n\nclass Category(DKModel):\n    class Meta:\n        verbose_name = \"카테고리\"\n        verbose_name_plural = \"카테고리들\"\n        db_table = \"dk_category\"\n\n    name = models.CharField('이름', max_length=100, unique=True)\n    description = models.TextField()\n    user = models.ForeignKey(User, on_delete=models.CASCADE)\n\n    def __str__(self):\n        return self.name\n\n\nclass Expense(DKModel):\n    class Meta:\n        verbose_name = \"지출\"\n        verbose_name_plural = \"지출들\"\n        db_table = \"dk_expense\"\n\n    user = models.ForeignKey(User, on_delete=models.CASCADE)\n    category = models.ForeignKey(Category, on_delete=models.CASCADE)\n    amount = models.DecimalField(max_digits=10, decimal_places=2)\n    description = models.TextField()\n    date = models.DateField()\n\n\nclass Balance(models.Model):\n    class Meta:\n        verbose_name = \"잔고\"\n        verbose_name_plural = \"잔고들\"\n        db_table = \"dk_balance\"\n\n    total_balance = models.DecimalField(max_digits=10, decimal_places=2)\n```\n\n## O: 개방/폐쇄 원칙 (OCP)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n소프트웨어 엔티티들은 확장에는 열려 있지만 수정에는 닫혀 있어야 합니다.\n\n```python\n# middleware.py\nfrom django.http import HttpResponse\n\nclass BaseMiddleware:\n    def process_request(self, request):\n        raise NotImplementedError\n\nclass AuthMiddleware(BaseMiddleware):\n    def process_request(self, request):\n        if not request.user.is_authenticated:\n            return HttpResponse('Unauthorized', status=401)\n```\n\n### L: 리스코프 치환 원칙 (LSP)\n\n슈퍼클래스의 객체는 서브클래스의 객체로 대체할 수 있어야 하며, 프로그램의 정확성에 영향을 주지 않아야 합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n# models.py\n\nclass Notification:\n    def send(self):\n        raise NotImplementedError\n\nclass EmailNotification(Notification):\n    def send(self):\n        print(\"이메일 보내는 중\")\n\nclass SMSNotification(Notification):\n    def send(self):\n        print(\"SMS 보내는 중\")\n\ndef notify(notification: Notification):\n    notification.send()\n\n# 사용 예시\nemail_notification = EmailNotification()\nsms_notification = SMSNotification()\n\nnotify(email_notification)  # 출력: 이메일 보내는 중\nnotify(sms_notification)    # 출력: SMS 보내는 중\n```\n\n## I: 인터페이스 분리 원칙 (ISP)\n\n클라이언트는 사용하지 않는 인터페이스에 종속되도록 강요되어서는 안됩니다.\n\n```js\n# 더 큰 뷰를 분리함으로써 인터페이스 분리\nfrom django.views import View\nfrom django.http import JsonResponse\n\nclass CreateMixin:\n    def create(self, request, *args, **kwargs):\n        return JsonResponse({'message': '생성 기능이 구현되지 않았습니다.'}, status=405)\n\nclass ReadMixin:\n    def read(self, request, *args, **kwargs):\n        return JsonResponse({'message': '조회 기능이 구현되지 않았습니다.'}, status=405)\n\nclass UpdateMixin:\n    def update(self, request, *args, **kwargs):\n        return JsonResponse({'message': '수정 기능이 구현되지 않았습니다.'}, status=405)\n\nclass DeleteMixin:\n    def delete(self, request, *args, **kwargs):\n        return JsonResponse({'message': '삭제 기능이 구현되지 않았습니다.'}, status=405)\n\nclass MyView(CreateMixin, ReadMixin, View):\n    def read(self, request, *args, **kwargs):\n        return JsonResponse({'message': '데이터 조회 중'})\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## D: 의존 역전 원칙 (DIP)\n\n고수준 모듈은 저수준 모듈에 의존해서는 안 됩니다. 둘 모두 추상화에 의존해야 합니다.\n\n```js\nclass PaymentService:\n    def process_payment(self):\n        raise NotImplementedError\n\nclass StripePaymentService(PaymentService):\n    def process_payment(self):\n        print(\"Stripe로 결제 처리 중\")\n\nclass PayPalPaymentService(PaymentService):\n    def process_payment(self):\n        print(\"PayPal로 결제 처리 중\")\n\n# views.py\nfrom .services import PaymentService\n\nclass PaymentView(View):\n    def __init__(self, payment_service: PaymentService):\n        self.payment_service = payment_service\n\n    def post(self, request, *args, **kwargs):\n        self.payment_service.process_payment()\n        return JsonResponse({'message': '결제가 완료되었습니다'})\n\n# 사용법\nstripe_service = StripePaymentService()\npaypal_service = PayPalPaymentService()\n\nstripe_payment_view = PaymentView(stripe_service)\npaypal_payment_view = PaymentView(paypal_service)\n```","ogImage":{"url":"/assets/img/2024-06-20-DesignPrinciplesinPythonDjango_0.png"},"coverImage":"/assets/img/2024-06-20-DesignPrinciplesinPythonDjango_0.png","tag":["Tech"],"readingTime":11},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e파이썬에서의 디자인 원칙은 다른 프로그래밍 언어와 마찬가지로 깔끔하고 유지보수가 용이하며 효율적인 코드를 만드는 데 도움이 됩니다. 다음은 몇 가지 주요 디자인 원칙과 예시입니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DesignPrinciplesinPythonDjango_0.png\" alt=\"Design Principles in Python\"\u003e\u003c/p\u003e\n\u003ch2\u003e1. DRY(Don’t Repeat Yourself)\u003c/h2\u003e\n\u003cp\u003e코드의 중복을 피하기 위해 반복되는 패턴을 함수나 클래스로 추상화합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e장고는 ORM, 폼 및 관리자 인터페이스를 통해 DRY 원칙을 자연스럽게 촉진합니다.\u003c/p\u003e\n\u003ch2\u003e예시: 시리얼라이저 사용하기\u003c/h2\u003e\n\u003cp\u003eDRF 시리얼라이저를 사용하면 유효성 검사 로직을 별도로 작성하는 대신, 해당 로직을 시리얼라이저 자체에 캡슐화할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# serializers.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e rest_framework \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e serializers\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e .\u003cspan class=\"hljs-property\"\u003emodels\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpense\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBalance\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpenseSerializer\u003c/span\u003e(serializers.\u003cspan class=\"hljs-property\"\u003eModelSerializer\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMeta\u003c/span\u003e:\n        model = \u003cspan class=\"hljs-title class_\"\u003eExpense\u003c/span\u003e\n        fields = [\u003cspan class=\"hljs-string\"\u003e'id'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'user'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'category'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'amount'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'description'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'date'\u003c/span\u003e]\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCategorySerializer\u003c/span\u003e(serializers.\u003cspan class=\"hljs-property\"\u003eModelSerializer\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMeta\u003c/span\u003e:\n        model = \u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e\n        fields = [\u003cspan class=\"hljs-string\"\u003e'id'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'name'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'description'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'user'\u003c/span\u003e]\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBalanceSerializer\u003c/span\u003e(serializers.\u003cspan class=\"hljs-property\"\u003eModelSerializer\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMeta\u003c/span\u003e:\n        model = \u003cspan class=\"hljs-title class_\"\u003eBalance\u003c/span\u003e\n        fields = [\u003cspan class=\"hljs-string\"\u003e'id'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'total_balance'\u003c/span\u003e]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e2. KISS (Keep It Simple, Stupid)\u003c/h1\u003e\n\u003cp\u003e코드를 가능한 한 간단하게 유지하세요. 불필요한 복잡성을 피하세요.\u003c/p\u003e\n\u003cp\u003eDjango의 설계 철학은 간결성과 가독성을 강조합니다.\u003c/p\u003e\n\u003ch2\u003e예시: Django Rest Framework의 일반 뷰 사용\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e복잡한 뷰 로직을 작성하는 대신, DRF의 일반적인 뷰를 사용하여 객체 생성, 검색 및 목록을 처리할 수 있어요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# views.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e rest_framework \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e generics\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e .\u003cspan class=\"hljs-property\"\u003emodels\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpense\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBalance\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e .\u003cspan class=\"hljs-property\"\u003eserializers\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpenseSerializer\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCategorySerializer\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBalanceSerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpenseListView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eListCreateAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eExpense\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eExpenseSerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpenseDetailView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eRetrieveUpdateDestroyAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eExpense\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eExpenseSerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCategoryListView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eListCreateAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eCategorySerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCategoryDetailView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eRetrieveUpdateDestroyAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eCategorySerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBalanceListView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eListCreateAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eBalance\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eBalanceSerializer\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e3. YAGNI (You Ain’t Gonna Need It)\u003c/h1\u003e\n\u003cp\u003e필요할 때까지 기능을 추가하지 마세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e현재 요구 사항에 주안점을 두세요. 미래의 가능성에 집중하기보다는 현재의 요구 사항을 중심으로 작업하세요.\u003c/p\u003e\n\u003ch2\u003e예: 간단한 사용자 프로필\u003c/h2\u003e\n\u003cp\u003e간단한 사용자 모델로 시작하고 필요할 때만 복잡성을 추가하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# models.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUser\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eAbstractUser\u003c/span\u003e):\n    first_name = models.\u003cspan class=\"hljs-title class_\"\u003eCharField\u003c/span\u003e(max_length=\u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e)\n    last_name = models.\u003cspan class=\"hljs-title class_\"\u003eCharField\u003c/span\u003e(max_length=\u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e)\n    email = models.\u003cspan class=\"hljs-title class_\"\u003eEmailField\u003c/span\u003e(unique=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e)\n\n    def \u003cspan class=\"hljs-title function_\"\u003e__str__\u003c/span\u003e(self):\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e self.\u003cspan class=\"hljs-property\"\u003eusername\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e4. 역할의 분리\u003c/h1\u003e\n\u003cp\u003e여러분의 코드의 각 부분은 서로 다른 책임을 가져야 합니다.\u003c/p\u003e\n\u003cp\u003e장고의 MVC (Model-View-Controller) 아키텍처는 데이터 처리를 분리한 모델(models), 사용자 인터페이스를 분리한 템플릿(templates), 그리고 응용 프로그램 로직을 분리한 뷰(views)로 구성됩니다.\u003c/p\u003e\n\u003ch2\u003e예시: 뷰에서 비즈니스 로직 분리\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e비즈니스 로직은 뷰가 아닌 모델이나 서비스에 유지하는 것이 좋습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# models.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e django.\u003cspan class=\"hljs-property\"\u003econtrib\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eauth\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emodels\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eAbstractUser\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e django.\u003cspan class=\"hljs-property\"\u003edb\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e models\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDKModel\u003c/span\u003e(models.\u003cspan class=\"hljs-property\"\u003eModel\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMeta\u003c/span\u003e:\n        abstract = \u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e\n\n    deleted = models.\u003cspan class=\"hljs-title class_\"\u003eBooleanField\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e=\u003cspan class=\"hljs-title class_\"\u003eFalse\u003c/span\u003e)\n    date_created = models.\u003cspan class=\"hljs-title class_\"\u003eDateTimeField\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Date created'\u003c/span\u003e, auto_now_add=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e)\n    date_last_updated = models.\u003cspan class=\"hljs-title class_\"\u003eDateTimeField\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Data last updated'\u003c/span\u003e, auto_now=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e)\n\n    def \u003cspan class=\"hljs-title function_\"\u003e__id__\u003c/span\u003e(self) -\u003e \u003cspan class=\"hljs-attr\"\u003eint\u003c/span\u003e:\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e self.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n\n    def \u003cspan class=\"hljs-title function_\"\u003edelete\u003c/span\u003e(self, *args, **kwargs):\n        self.\u003cspan class=\"hljs-property\"\u003edeleted\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e\n        self.\u003cspan class=\"hljs-title function_\"\u003esave\u003c/span\u003e()\n\n    def \u003cspan class=\"hljs-title function_\"\u003ehard_delete\u003c/span\u003e(self, *args, **kwargs):\n        \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003edelete\u003c/span\u003e(*args, **kwargs)\n        \n                      ....\n\n# views.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e rest_framework.\u003cspan class=\"hljs-property\"\u003eviews\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eAPIView\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e rest_framework.\u003cspan class=\"hljs-property\"\u003eresponse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eResponse\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e rest_framework \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e generics\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e django.\u003cspan class=\"hljs-property\"\u003eshortcuts\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e get_object_or_404\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e .\u003cspan class=\"hljs-property\"\u003emodels\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpense\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBalance\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eUser\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e .\u003cspan class=\"hljs-property\"\u003eserializers\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpenseSerializer\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCategorySerializer\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBalanceSerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpenseListView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eListCreateAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eExpense\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eExpenseSerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpenseDetailView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eRetrieveUpdateDestroyAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eExpense\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eExpenseSerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCategoryListView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eListCreateAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eCategorySerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCategoryDetailView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eRetrieveUpdateDestroyAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eCategorySerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBalanceListView\u003c/span\u003e(generics.\u003cspan class=\"hljs-property\"\u003eListCreateAPIView\u003c/span\u003e):\n    queryset = \u003cspan class=\"hljs-title class_\"\u003eBalance\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eobjects\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e()\n    serializer_class = \u003cspan class=\"hljs-title class_\"\u003eBalanceSerializer\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUserTotalExpensesView\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eAPIView\u003c/span\u003e):\n    def \u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(self, request, user_id):\n        user = \u003cspan class=\"hljs-title function_\"\u003eget_object_or_404\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eUser\u003c/span\u003e, id=user_id)\n        total_expenses = user.\u003cspan class=\"hljs-title function_\"\u003eget_total_expenses\u003c/span\u003e()\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eResponse\u003c/span\u003e({\u003cspan class=\"hljs-string\"\u003e'total_expenses'\u003c/span\u003e: total_expenses})\n\n# urls.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e django.\u003cspan class=\"hljs-property\"\u003eurls\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e path\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e .\u003cspan class=\"hljs-property\"\u003eviews\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpenseListView\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eExpenseDetailView\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCategoryListView\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCategoryDetailView\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBalanceListView\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eUserTotalExpensesView\u003c/span\u003e\n\nurlpatterns = [\n    \u003cspan class=\"hljs-title function_\"\u003epath\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'expenses/'\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eExpenseListView\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eas_view\u003c/span\u003e(), name=\u003cspan class=\"hljs-string\"\u003e'expense-list'\u003c/span\u003e),\n    \u003cspan class=\"hljs-title function_\"\u003epath\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'expenses/\u0026#x3C;int:pk\u003e/'\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eExpenseDetailView\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eas_view\u003c/span\u003e(), name=\u003cspan class=\"hljs-string\"\u003e'expense-detail'\u003c/span\u003e),\n    \u003cspan class=\"hljs-title function_\"\u003epath\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'categories/'\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCategoryListView\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eas_view\u003c/span\u003e(), name=\u003cspan class=\"hljs-string\"\u003e'category-list'\u003c/span\u003e),\n    \u003cspan class=\"hljs-title function_\"\u003epath\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'categories/\u0026#x3C;int:pk\u003e/'\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCategoryDetailView\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eas_view\u003c/span\u003e(), name=\u003cspan class=\"hljs-string\"\u003e'category-detail'\u003c/span\u003e),\n    \u003cspan class=\"hljs-title function_\"\u003epath\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'balances/'\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBalanceListView\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eas_view\u003c/span\u003e(), name=\u003cspan class=\"hljs-string\"\u003e'balance-list'\u003c/span\u003e),\n    \u003cspan class=\"hljs-title function_\"\u003epath\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'users/\u0026#x3C;int:user_id\u003e/total-expenses/'\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eUserTotalExpensesView\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eas_view\u003c/span\u003e(), name=\u003cspan class=\"hljs-string\"\u003e'user-total-expenses'\u003c/span\u003e),\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e5. SOLID Principles\u003c/h1\u003e\n\u003cp\u003eSOLID은 소프트웨어 디자인을 더 이해하기 쉽고 유연하며 유지보수하기 쉽도록 하는 다섯 가지 디자인 원칙을 의미하는 머릿글자입니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003eS: 단일 책임 원칙 (SRP)\u003c/h2\u003e\n\u003cp\u003e각 클래스는 하나의 책임만을 가져야 합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# model/models.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e django.\u003cspan class=\"hljs-property\"\u003econtrib\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eauth\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emodels\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eAbstractUser\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e django.\u003cspan class=\"hljs-property\"\u003edb\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e models\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDKModel\u003c/span\u003e(models.\u003cspan class=\"hljs-property\"\u003eModel\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMeta\u003c/span\u003e:\n        abstract = \u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e\n\n    deleted = models.\u003cspan class=\"hljs-title class_\"\u003eBooleanField\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e=\u003cspan class=\"hljs-title class_\"\u003eFalse\u003c/span\u003e)\n    date_created = models.\u003cspan class=\"hljs-title class_\"\u003eDateTimeField\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'생성 날짜'\u003c/span\u003e, auto_now_add=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e)\n    date_last_updated = models.\u003cspan class=\"hljs-title class_\"\u003eDateTimeField\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'마지막으로 업데이트된 날짜'\u003c/span\u003e, auto_now=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e)\n\n    def \u003cspan class=\"hljs-title function_\"\u003e__id__\u003c/span\u003e(self) -\u003e \u003cspan class=\"hljs-attr\"\u003eint\u003c/span\u003e:\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e self.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e\n\n    def \u003cspan class=\"hljs-title function_\"\u003edelete\u003c/span\u003e(self, *args, **kwargs):\n        self.\u003cspan class=\"hljs-property\"\u003edeleted\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e\n        self.\u003cspan class=\"hljs-title function_\"\u003esave\u003c/span\u003e()\n\n    def \u003cspan class=\"hljs-title function_\"\u003ehard_delete\u003c/span\u003e(self, *args, **kwargs):\n        \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003edelete\u003c/span\u003e(*args, **kwargs)\n\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUser\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eAbstractUser\u003c/span\u003e):\n    first_name = models.\u003cspan class=\"hljs-title class_\"\u003eCharField\u003c/span\u003e(max_length=\u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e)\n    last_name = models.\u003cspan class=\"hljs-title class_\"\u003eCharField\u003c/span\u003e(max_length=\u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e)\n    email = models.\u003cspan class=\"hljs-title class_\"\u003eEmailField\u003c/span\u003e(unique=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e)\n\n    def \u003cspan class=\"hljs-title function_\"\u003e__str__\u003c/span\u003e(self):\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e self.\u003cspan class=\"hljs-property\"\u003eusername\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eDKModel\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMeta\u003c/span\u003e:\n        verbose_name = \u003cspan class=\"hljs-string\"\u003e\"카테고리\"\u003c/span\u003e\n        verbose_name_plural = \u003cspan class=\"hljs-string\"\u003e\"카테고리들\"\u003c/span\u003e\n        db_table = \u003cspan class=\"hljs-string\"\u003e\"dk_category\"\u003c/span\u003e\n\n    name = models.\u003cspan class=\"hljs-title class_\"\u003eCharField\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'이름'\u003c/span\u003e, max_length=\u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e, unique=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e)\n    description = models.\u003cspan class=\"hljs-title class_\"\u003eTextField\u003c/span\u003e()\n    user = models.\u003cspan class=\"hljs-title class_\"\u003eForeignKey\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eUser\u003c/span\u003e, on_delete=models.\u003cspan class=\"hljs-property\"\u003eCASCADE\u003c/span\u003e)\n\n    def \u003cspan class=\"hljs-title function_\"\u003e__str__\u003c/span\u003e(self):\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e self.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eExpense\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eDKModel\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMeta\u003c/span\u003e:\n        verbose_name = \u003cspan class=\"hljs-string\"\u003e\"지출\"\u003c/span\u003e\n        verbose_name_plural = \u003cspan class=\"hljs-string\"\u003e\"지출들\"\u003c/span\u003e\n        db_table = \u003cspan class=\"hljs-string\"\u003e\"dk_expense\"\u003c/span\u003e\n\n    user = models.\u003cspan class=\"hljs-title class_\"\u003eForeignKey\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eUser\u003c/span\u003e, on_delete=models.\u003cspan class=\"hljs-property\"\u003eCASCADE\u003c/span\u003e)\n    category = models.\u003cspan class=\"hljs-title class_\"\u003eForeignKey\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eCategory\u003c/span\u003e, on_delete=models.\u003cspan class=\"hljs-property\"\u003eCASCADE\u003c/span\u003e)\n    amount = models.\u003cspan class=\"hljs-title class_\"\u003eDecimalField\u003c/span\u003e(max_digits=\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e, decimal_places=\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n    description = models.\u003cspan class=\"hljs-title class_\"\u003eTextField\u003c/span\u003e()\n    date = models.\u003cspan class=\"hljs-title class_\"\u003eDateField\u003c/span\u003e()\n\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBalance\u003c/span\u003e(models.\u003cspan class=\"hljs-property\"\u003eModel\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMeta\u003c/span\u003e:\n        verbose_name = \u003cspan class=\"hljs-string\"\u003e\"잔고\"\u003c/span\u003e\n        verbose_name_plural = \u003cspan class=\"hljs-string\"\u003e\"잔고들\"\u003c/span\u003e\n        db_table = \u003cspan class=\"hljs-string\"\u003e\"dk_balance\"\u003c/span\u003e\n\n    total_balance = models.\u003cspan class=\"hljs-title class_\"\u003eDecimalField\u003c/span\u003e(max_digits=\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e, decimal_places=\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eO: 개방/폐쇄 원칙 (OCP)\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e소프트웨어 엔티티들은 확장에는 열려 있지만 수정에는 닫혀 있어야 합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-comment\"\u003e# middleware.py\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e django.http \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e HttpResponse\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBaseMiddleware\u003c/span\u003e:\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eprocess_request\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eself, request\u003c/span\u003e):\n        \u003cspan class=\"hljs-keyword\"\u003eraise\u003c/span\u003e NotImplementedError\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eAuthMiddleware\u003c/span\u003e(\u003cspan class=\"hljs-title class_ inherited__\"\u003eBaseMiddleware\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eprocess_request\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eself, request\u003c/span\u003e):\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enot\u003c/span\u003e request.user.is_authenticated:\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e HttpResponse(\u003cspan class=\"hljs-string\"\u003e'Unauthorized'\u003c/span\u003e, status=\u003cspan class=\"hljs-number\"\u003e401\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eL: 리스코프 치환 원칙 (LSP)\u003c/h3\u003e\n\u003cp\u003e슈퍼클래스의 객체는 서브클래스의 객체로 대체할 수 있어야 하며, 프로그램의 정확성에 영향을 주지 않아야 합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# models.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eNotification\u003c/span\u003e:\n    def \u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(self):\n        raise \u003cspan class=\"hljs-title class_\"\u003eNotImplementedError\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eEmailNotification\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eNotification\u003c/span\u003e):\n    def \u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(self):\n        \u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"이메일 보내는 중\"\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSMSNotification\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eNotification\u003c/span\u003e):\n    def \u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(self):\n        \u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"SMS 보내는 중\"\u003c/span\u003e)\n\ndef \u003cspan class=\"hljs-title function_\"\u003enotify\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003enotification\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eNotification\u003c/span\u003e):\n    notification.\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e()\n\n# 사용 예시\nemail_notification = \u003cspan class=\"hljs-title class_\"\u003eEmailNotification\u003c/span\u003e()\nsms_notification = \u003cspan class=\"hljs-title class_\"\u003eSMSNotification\u003c/span\u003e()\n\n\u003cspan class=\"hljs-title function_\"\u003enotify\u003c/span\u003e(email_notification)  # 출력: 이메일 보내는 중\n\u003cspan class=\"hljs-title function_\"\u003enotify\u003c/span\u003e(sms_notification)    # 출력: \u003cspan class=\"hljs-variable constant_\"\u003eSMS\u003c/span\u003e 보내는 중\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eI: 인터페이스 분리 원칙 (ISP)\u003c/h2\u003e\n\u003cp\u003e클라이언트는 사용하지 않는 인터페이스에 종속되도록 강요되어서는 안됩니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 더 큰 뷰를 분리함으로써 인터페이스 분리\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e django.\u003cspan class=\"hljs-property\"\u003eviews\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eView\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e django.\u003cspan class=\"hljs-property\"\u003ehttp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonResponse\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCreateMixin\u003c/span\u003e:\n    def \u003cspan class=\"hljs-title function_\"\u003ecreate\u003c/span\u003e(self, request, *args, **kwargs):\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonResponse\u003c/span\u003e({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'생성 기능이 구현되지 않았습니다.'\u003c/span\u003e}, status=\u003cspan class=\"hljs-number\"\u003e405\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReadMixin\u003c/span\u003e:\n    def \u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(self, request, *args, **kwargs):\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonResponse\u003c/span\u003e({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'조회 기능이 구현되지 않았습니다.'\u003c/span\u003e}, status=\u003cspan class=\"hljs-number\"\u003e405\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUpdateMixin\u003c/span\u003e:\n    def \u003cspan class=\"hljs-title function_\"\u003eupdate\u003c/span\u003e(self, request, *args, **kwargs):\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonResponse\u003c/span\u003e({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'수정 기능이 구현되지 않았습니다.'\u003c/span\u003e}, status=\u003cspan class=\"hljs-number\"\u003e405\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDeleteMixin\u003c/span\u003e:\n    def \u003cspan class=\"hljs-title function_\"\u003edelete\u003c/span\u003e(self, request, *args, **kwargs):\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonResponse\u003c/span\u003e({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'삭제 기능이 구현되지 않았습니다.'\u003c/span\u003e}, status=\u003cspan class=\"hljs-number\"\u003e405\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMyView\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eCreateMixin\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eReadMixin\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eView\u003c/span\u003e):\n    def \u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(self, request, *args, **kwargs):\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonResponse\u003c/span\u003e({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'데이터 조회 중'\u003c/span\u003e})\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003eD: 의존 역전 원칙 (DIP)\u003c/h2\u003e\n\u003cp\u003e고수준 모듈은 저수준 모듈에 의존해서는 안 됩니다. 둘 모두 추상화에 의존해야 합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePaymentService\u003c/span\u003e:\n    def \u003cspan class=\"hljs-title function_\"\u003eprocess_payment\u003c/span\u003e(self):\n        raise \u003cspan class=\"hljs-title class_\"\u003eNotImplementedError\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eStripePaymentService\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003ePaymentService\u003c/span\u003e):\n    def \u003cspan class=\"hljs-title function_\"\u003eprocess_payment\u003c/span\u003e(self):\n        \u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Stripe로 결제 처리 중\"\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePayPalPaymentService\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003ePaymentService\u003c/span\u003e):\n    def \u003cspan class=\"hljs-title function_\"\u003eprocess_payment\u003c/span\u003e(self):\n        \u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"PayPal로 결제 처리 중\"\u003c/span\u003e)\n\n# views.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e .\u003cspan class=\"hljs-property\"\u003eservices\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePaymentService\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePaymentView\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eView\u003c/span\u003e):\n    def \u003cspan class=\"hljs-title function_\"\u003e__init__\u003c/span\u003e(self, \u003cspan class=\"hljs-attr\"\u003epayment_service\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003ePaymentService\u003c/span\u003e):\n        self.\u003cspan class=\"hljs-property\"\u003epayment_service\u003c/span\u003e = payment_service\n\n    def \u003cspan class=\"hljs-title function_\"\u003epost\u003c/span\u003e(self, request, *args, **kwargs):\n        self.\u003cspan class=\"hljs-property\"\u003epayment_service\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eprocess_payment\u003c/span\u003e()\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJsonResponse\u003c/span\u003e({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'결제가 완료되었습니다'\u003c/span\u003e})\n\n# 사용법\nstripe_service = \u003cspan class=\"hljs-title class_\"\u003eStripePaymentService\u003c/span\u003e()\npaypal_service = \u003cspan class=\"hljs-title class_\"\u003ePayPalPaymentService\u003c/span\u003e()\n\nstripe_payment_view = \u003cspan class=\"hljs-title class_\"\u003ePaymentView\u003c/span\u003e(stripe_service)\npaypal_payment_view = \u003cspan class=\"hljs-title class_\"\u003ePaymentView\u003c/span\u003e(paypal_service)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-DesignPrinciplesinPythonDjango"},"buildId":"QH5Mz7n7Y6w0r4_gCGFQf","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>