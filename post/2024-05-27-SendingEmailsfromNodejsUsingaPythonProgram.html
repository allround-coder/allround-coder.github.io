<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Nodejs를 사용하여 파이썬 프로그램을 이용해 이메일 보내기 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-27-SendingEmailsfromNodejsUsingaPythonProgram" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Nodejs를 사용하여 파이썬 프로그램을 이용해 이메일 보내기 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="Nodejs를 사용하여 파이썬 프로그램을 이용해 이메일 보내기 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-27-SendingEmailsfromNodejsUsingaPythonProgram_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-27-SendingEmailsfromNodejsUsingaPythonProgram" data-gatsby-head="true"/><meta name="twitter:title" content="Nodejs를 사용하여 파이썬 프로그램을 이용해 이메일 보내기 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-27-SendingEmailsfromNodejsUsingaPythonProgram_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-27 18:22" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/QH5Mz7n7Y6w0r4_gCGFQf/_buildManifest.js" defer=""></script><script src="/_next/static/QH5Mz7n7Y6w0r4_gCGFQf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Nodejs를 사용하여 파이썬 프로그램을 이용해 이메일 보내기</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Nodejs를 사용하여 파이썬 프로그램을 이용해 이메일 보내기" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 27, 2024</span><span class="posts_reading_time__f7YPP">5<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-27-SendingEmailsfromNodejsUsingaPythonProgram&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>이 블로그 포스트에서는 Node.js 애플리케이션에서 Python 스크립트를 호출하여 이메일을 보내는 방법을 살펴보겠습니다. 우리는 프로젝트 구조를 설계하여 관심사를 분리하고 코드베이스를 깔끔하게 유지할 것입니다.</p>
<h2>목차</h2>
<ul>
<li>소개</li>
<li>프로젝트 구조</li>
<li>환경 설정</li>
<li>Python 이메일 발신 스크립트 생성</li>
<li>Node.js 컨트롤러 생성</li>
<li>라우트 설정</li>
<li>서버 생성</li>
<li>결론</li>
</ul>
<h3>1. 소개</h3>
<div class="content-ad"></div>
<p>어떤 경우에는 Node.js 애플리케이션에서 Python의 기능을 활용하고 싶을 수 있습니다. 이 튜토리얼은 Node.js 백엔드에서 Python을 사용하여 이메일을 보내는 방법을 보여줍니다. 우리는 Node.js의 child_process 모듈에서 spawn 함수를 사용하여 Python 스크립트를 호출할 것입니다.</p>
<h1>2. 프로젝트 구조</h1>
<p>다음은 우리 프로젝트의 구조입니다:</p>
<p>server/
├── Controller/
│   └── mailController.js
├── route/
│   └── mailRoute.js
├── Utils/
│   └── mailSender.py
└── server.js
└── .env</p>
<div class="content-ad"></div>
<h1>3. 환경 설정하기</h1>
<h2>단계 1: Node.js 프로젝트 초기화</h2>
<pre><code class="hljs language-js">mkdir email-sender
cd email-sender
npm init -y
npm install express dotenv body-parser
</code></pre>
<h2>단계 2: 환경 변수 설정</h2>
<div class="content-ad"></div>
<p>루트 디렉토리에 다음 내용을 사용하여 .env 파일을 만들어주세요:</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">GMAIL_USER</span>=your-email@gmail.<span class="hljs-property">com</span>
<span class="hljs-variable constant_">GMAIL_APP_PASSWORD</span>=your-app-password
</code></pre>
<p><a href="mailto:your-email@gmail.com">your-email@gmail.com</a> 및 your-app-password를 실제 Gmail 주소 및 앱 비밀번호로 교체해주세요. Gmail 보안 탭 내에서 앱 비밀번호를 얻을 수 있습니다.</p>
<h1>4. 파이썬 이메일 발신 스크립트 만들기</h1>
<div class="content-ad"></div>
<p>Utils 디렉토리에 mailSender.py라는 Python 스크립트를 만들어주세요:</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> smtplib
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> email.mime.multipart <span class="hljs-keyword">import</span> MIMEMultipart
<span class="hljs-keyword">from</span> email.mime.text <span class="hljs-keyword">import</span> MIMEText

<span class="hljs-keyword">def</span> <span class="hljs-title function_">send_email</span>(<span class="hljs-params">to_email, subject, body</span>):
    from_email = os.environ[<span class="hljs-string">'GMAIL_USER'</span>]
    app_password = os.environ[<span class="hljs-string">'GMAIL_APP_PASSWORD'</span>]

    msg = MIMEMultipart()
    msg[<span class="hljs-string">'From'</span>] = from_email
    msg[<span class="hljs-string">'To'</span>] = to_email
    msg[<span class="hljs-string">'Subject'</span>] = subject
    msg.attach(MIMEText(body, <span class="hljs-string">'plain'</span>))

    <span class="hljs-keyword">try</span>:
        server = smtplib.SMTP(<span class="hljs-string">'smtp.gmail.com'</span>, <span class="hljs-number">587</span>)
        server.starttls()
        server.login(from_email, app_password)
        text = msg.as_string()
        server.sendmail(from_email, to_email, text)
        server.quit()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"이메일을 성공적으로 전송했습니다."</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"이메일 전송에 실패했습니다: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-keyword">import</span> sys
    to_email = sys.argv[<span class="hljs-number">1</span>]
    subject = sys.argv[<span class="hljs-number">2</span>]
    body = sys.argv[<span class="hljs-number">3</span>]
    send_email(to_email, subject, body)
</code></pre>
<h1>5. Node.js Controller 생성</h1>
<p>Controller 디렉토리에 mailController.js라는 파일을 만들어주세요.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> { spawn } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-built_in">exports</span>.<span class="hljs-property">sendEmail</span> = <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
  <span class="hljs-keyword">const</span> { to, subject, body } = req.<span class="hljs-property">body</span>;
  <span class="hljs-keyword">const</span> pythonProcess = <span class="hljs-title function_">spawn</span>(<span class="hljs-string">'python3'</span>, [path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">'../Utils/mailSender.py'</span>), to, subject, body]);

  pythonProcess.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =></span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`stdout: <span class="hljs-subst">${data}</span>`</span>);
  });

  pythonProcess.<span class="hljs-property">stderr</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =></span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`stderr: <span class="hljs-subst">${data}</span>`</span>);
  });

  pythonProcess.<span class="hljs-title function_">on</span>(<span class="hljs-string">'close'</span>, <span class="hljs-function">(<span class="hljs-params">code</span>) =></span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`child process exited with code <span class="hljs-subst">${code}</span>`</span>);
    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">'Email sent'</span>);
  });
};
</code></pre>
<h1>6. Setting Up the Routes</h1>
<p>라우트 설정하기</p>
<p>route 디렉토리에 mailRoute.js라는 파일을 만드세요:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> router = express.<span class="hljs-title class_">Router</span>();
<span class="hljs-keyword">const</span> mailController = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../Controller/mailController'</span>);

router.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/send-email'</span>, mailController.<span class="hljs-property">sendEmail</span>);

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = router;
</code></pre>
<div class="content-ad"></div>
<h1>7. 서버 생성</h1>
<p>루트 디렉토리에 server.js라는 파일을 생성하세요:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> bodyParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'body-parser'</span>);
<span class="hljs-keyword">const</span> dotenv = <span class="hljs-built_in">require</span>(<span class="hljs-string">'dotenv'</span>);
<span class="hljs-keyword">const</span> mailRoute = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./route/mailRoute'</span>);

dotenv.<span class="hljs-title function_">config</span>();

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();
app.<span class="hljs-title function_">use</span>(bodyParser.<span class="hljs-title function_">json</span>());

app.<span class="hljs-title function_">use</span>(<span class="hljs-string">'/api'</span>, mailRoute);

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PORT</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">PORT</span> || <span class="hljs-number">3000</span>;
app.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>, <span class="hljs-function">() =></span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`서버가 포트 <span class="hljs-subst">${PORT}</span>에서 실행 중입니다.`</span>);
});
</code></pre>
<h1>8. 결론</h1>
<div class="content-ad"></div>
<p>이 블로그 포스트에서는 Node.js 애플리케이션에서 Python 스크립트를 호출하여 이메일을 보내는 방법을 소개했습니다. 프로젝트 구조 설정, 환경 변수 구성, Python 전자 메일 발신자 스크립트 작성, 그리고 Node.js 백엔드를 설정하여 spawn 함수를 사용하여 Python 스크립트를 호출하는 방법에 대해 다뤘습니다. 이 접근 방식은 Node.js와 Python의 강점을 활용하여 유연하고 강력한 이메일 발송 솔루션을 제공합니다.</p>
<p>이 단계를 따라가면 Python 스크립트를 Node.js 애플리케이션에 매끄럽게 통합하여 두 언어의 최상의 기능을 활용할 수 있습니다.</p>
<p>더 나아가 향상된 이메일 처리 및 추가 기능을 위해 Python의 smtplib의 능력과 다양한 이메일 콘텐츠 및 첨부 파일을 처리하는 방법을 탐색하고 싶을 것입니다. 즐거운 코딩 하세요!</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Nodejs를 사용하여 파이썬 프로그램을 이용해 이메일 보내기","description":"","date":"2024-05-27 18:22","slug":"2024-05-27-SendingEmailsfromNodejsUsingaPythonProgram","content":"\n\n이 블로그 포스트에서는 Node.js 애플리케이션에서 Python 스크립트를 호출하여 이메일을 보내는 방법을 살펴보겠습니다. 우리는 프로젝트 구조를 설계하여 관심사를 분리하고 코드베이스를 깔끔하게 유지할 것입니다.\n\n## 목차\n\n- 소개\n- 프로젝트 구조\n- 환경 설정\n- Python 이메일 발신 스크립트 생성\n- Node.js 컨트롤러 생성\n- 라우트 설정\n- 서버 생성\n- 결론\n\n### 1. 소개\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n어떤 경우에는 Node.js 애플리케이션에서 Python의 기능을 활용하고 싶을 수 있습니다. 이 튜토리얼은 Node.js 백엔드에서 Python을 사용하여 이메일을 보내는 방법을 보여줍니다. 우리는 Node.js의 child_process 모듈에서 spawn 함수를 사용하여 Python 스크립트를 호출할 것입니다.\n\n# 2. 프로젝트 구조\n\n다음은 우리 프로젝트의 구조입니다:\n\n\nserver/\n  ├── Controller/\n  │   └── mailController.js\n  ├── route/\n  │   └── mailRoute.js\n  ├── Utils/\n  │   └── mailSender.py\n  └── server.js\n  └── .env\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 3. 환경 설정하기\n\n## 단계 1: Node.js 프로젝트 초기화\n\n```js\nmkdir email-sender\ncd email-sender\nnpm init -y\nnpm install express dotenv body-parser\n```\n\n## 단계 2: 환경 변수 설정\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n루트 디렉토리에 다음 내용을 사용하여 .env 파일을 만들어주세요:\n\n```js\nGMAIL_USER=your-email@gmail.com\nGMAIL_APP_PASSWORD=your-app-password\n```\n\nyour-email@gmail.com 및 your-app-password를 실제 Gmail 주소 및 앱 비밀번호로 교체해주세요. Gmail 보안 탭 내에서 앱 비밀번호를 얻을 수 있습니다.\n\n# 4. 파이썬 이메일 발신 스크립트 만들기\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nUtils 디렉토리에 mailSender.py라는 Python 스크립트를 만들어주세요:\n\n```python\nimport smtplib\nimport os\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\n\ndef send_email(to_email, subject, body):\n    from_email = os.environ['GMAIL_USER']\n    app_password = os.environ['GMAIL_APP_PASSWORD']\n\n    msg = MIMEMultipart()\n    msg['From'] = from_email\n    msg['To'] = to_email\n    msg['Subject'] = subject\n    msg.attach(MIMEText(body, 'plain'))\n\n    try:\n        server = smtplib.SMTP('smtp.gmail.com', 587)\n        server.starttls()\n        server.login(from_email, app_password)\n        text = msg.as_string()\n        server.sendmail(from_email, to_email, text)\n        server.quit()\n        print(\"이메일을 성공적으로 전송했습니다.\")\n    except Exception as e:\n        print(f\"이메일 전송에 실패했습니다: {str(e)}\")\n\nif __name__ == \"__main__\":\n    import sys\n    to_email = sys.argv[1]\n    subject = sys.argv[2]\n    body = sys.argv[3]\n    send_email(to_email, subject, body)\n```\n\n# 5. Node.js Controller 생성\n\nController 디렉토리에 mailController.js라는 파일을 만들어주세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nconst { spawn } = require('child_process');\nconst path = require('path');\n\nexports.sendEmail = (req, res) =\u003e {\n  const { to, subject, body } = req.body;\n  const pythonProcess = spawn('python3', [path.join(__dirname, '../Utils/mailSender.py'), to, subject, body]);\n\n  pythonProcess.stdout.on('data', (data) =\u003e {\n    console.log(`stdout: ${data}`);\n  });\n\n  pythonProcess.stderr.on('data', (data) =\u003e {\n    console.error(`stderr: ${data}`);\n  });\n\n  pythonProcess.on('close', (code) =\u003e {\n    console.log(`child process exited with code ${code}`);\n    res.send('Email sent');\n  });\n};\n```\n\n# 6. Setting Up the Routes\n\n라우트 설정하기\n\nroute 디렉토리에 mailRoute.js라는 파일을 만드세요:\n\n```js\nconst express = require('express');\nconst router = express.Router();\nconst mailController = require('../Controller/mailController');\n\nrouter.post('/send-email', mailController.sendEmail);\n\nmodule.exports = router;\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 7. 서버 생성\n\n루트 디렉토리에 server.js라는 파일을 생성하세요:\n\n```js\nconst express = require('express');\nconst bodyParser = require('body-parser');\nconst dotenv = require('dotenv');\nconst mailRoute = require('./route/mailRoute');\n\ndotenv.config();\n\nconst app = express();\napp.use(bodyParser.json());\n\napp.use('/api', mailRoute);\n\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () =\u003e {\n  console.log(`서버가 포트 ${PORT}에서 실행 중입니다.`);\n});\n```\n\n# 8. 결론\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 블로그 포스트에서는 Node.js 애플리케이션에서 Python 스크립트를 호출하여 이메일을 보내는 방법을 소개했습니다. 프로젝트 구조 설정, 환경 변수 구성, Python 전자 메일 발신자 스크립트 작성, 그리고 Node.js 백엔드를 설정하여 spawn 함수를 사용하여 Python 스크립트를 호출하는 방법에 대해 다뤘습니다. 이 접근 방식은 Node.js와 Python의 강점을 활용하여 유연하고 강력한 이메일 발송 솔루션을 제공합니다.\n\n이 단계를 따라가면 Python 스크립트를 Node.js 애플리케이션에 매끄럽게 통합하여 두 언어의 최상의 기능을 활용할 수 있습니다.\n\n더 나아가 향상된 이메일 처리 및 추가 기능을 위해 Python의 smtplib의 능력과 다양한 이메일 콘텐츠 및 첨부 파일을 처리하는 방법을 탐색하고 싶을 것입니다. 즐거운 코딩 하세요!","ogImage":{"url":"/assets/img/2024-05-27-SendingEmailsfromNodejsUsingaPythonProgram_0.png"},"coverImage":"/assets/img/2024-05-27-SendingEmailsfromNodejsUsingaPythonProgram_0.png","tag":["Tech"],"readingTime":5},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e이 블로그 포스트에서는 Node.js 애플리케이션에서 Python 스크립트를 호출하여 이메일을 보내는 방법을 살펴보겠습니다. 우리는 프로젝트 구조를 설계하여 관심사를 분리하고 코드베이스를 깔끔하게 유지할 것입니다.\u003c/p\u003e\n\u003ch2\u003e목차\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e소개\u003c/li\u003e\n\u003cli\u003e프로젝트 구조\u003c/li\u003e\n\u003cli\u003e환경 설정\u003c/li\u003e\n\u003cli\u003ePython 이메일 발신 스크립트 생성\u003c/li\u003e\n\u003cli\u003eNode.js 컨트롤러 생성\u003c/li\u003e\n\u003cli\u003e라우트 설정\u003c/li\u003e\n\u003cli\u003e서버 생성\u003c/li\u003e\n\u003cli\u003e결론\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e1. 소개\u003c/h3\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e어떤 경우에는 Node.js 애플리케이션에서 Python의 기능을 활용하고 싶을 수 있습니다. 이 튜토리얼은 Node.js 백엔드에서 Python을 사용하여 이메일을 보내는 방법을 보여줍니다. 우리는 Node.js의 child_process 모듈에서 spawn 함수를 사용하여 Python 스크립트를 호출할 것입니다.\u003c/p\u003e\n\u003ch1\u003e2. 프로젝트 구조\u003c/h1\u003e\n\u003cp\u003e다음은 우리 프로젝트의 구조입니다:\u003c/p\u003e\n\u003cp\u003eserver/\n├── Controller/\n│   └── mailController.js\n├── route/\n│   └── mailRoute.js\n├── Utils/\n│   └── mailSender.py\n└── server.js\n└── .env\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e3. 환경 설정하기\u003c/h1\u003e\n\u003ch2\u003e단계 1: Node.js 프로젝트 초기화\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003emkdir email-sender\ncd email-sender\nnpm init -y\nnpm install express dotenv body-parser\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e단계 2: 환경 변수 설정\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e루트 디렉토리에 다음 내용을 사용하여 .env 파일을 만들어주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eGMAIL_USER\u003c/span\u003e=your-email@gmail.\u003cspan class=\"hljs-property\"\u003ecom\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eGMAIL_APP_PASSWORD\u003c/span\u003e=your-app-password\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ca href=\"mailto:your-email@gmail.com\"\u003eyour-email@gmail.com\u003c/a\u003e 및 your-app-password를 실제 Gmail 주소 및 앱 비밀번호로 교체해주세요. Gmail 보안 탭 내에서 앱 비밀번호를 얻을 수 있습니다.\u003c/p\u003e\n\u003ch1\u003e4. 파이썬 이메일 발신 스크립트 만들기\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eUtils 디렉토리에 mailSender.py라는 Python 스크립트를 만들어주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e smtplib\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e os\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e email.mime.multipart \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e MIMEMultipart\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e email.mime.text \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e MIMEText\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esend_email\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eto_email, subject, body\u003c/span\u003e):\n    from_email = os.environ[\u003cspan class=\"hljs-string\"\u003e'GMAIL_USER'\u003c/span\u003e]\n    app_password = os.environ[\u003cspan class=\"hljs-string\"\u003e'GMAIL_APP_PASSWORD'\u003c/span\u003e]\n\n    msg = MIMEMultipart()\n    msg[\u003cspan class=\"hljs-string\"\u003e'From'\u003c/span\u003e] = from_email\n    msg[\u003cspan class=\"hljs-string\"\u003e'To'\u003c/span\u003e] = to_email\n    msg[\u003cspan class=\"hljs-string\"\u003e'Subject'\u003c/span\u003e] = subject\n    msg.attach(MIMEText(body, \u003cspan class=\"hljs-string\"\u003e'plain'\u003c/span\u003e))\n\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e:\n        server = smtplib.SMTP(\u003cspan class=\"hljs-string\"\u003e'smtp.gmail.com'\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e587\u003c/span\u003e)\n        server.starttls()\n        server.login(from_email, app_password)\n        text = msg.as_string()\n        server.sendmail(from_email, to_email, text)\n        server.quit()\n        \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"이메일을 성공적으로 전송했습니다.\"\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003eexcept\u003c/span\u003e Exception \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e e:\n        \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003ef\"이메일 전송에 실패했습니다: \u003cspan class=\"hljs-subst\"\u003e{\u003cspan class=\"hljs-built_in\"\u003estr\u003c/span\u003e(e)}\u003c/span\u003e\"\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e __name__ == \u003cspan class=\"hljs-string\"\u003e\"__main__\"\u003c/span\u003e:\n    \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e sys\n    to_email = sys.argv[\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]\n    subject = sys.argv[\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e]\n    body = sys.argv[\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e]\n    send_email(to_email, subject, body)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e5. Node.js Controller 생성\u003c/h1\u003e\n\u003cp\u003eController 디렉토리에 mailController.js라는 파일을 만들어주세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { spawn } = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'child_process'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e path = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'path'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-built_in\"\u003eexports\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003esendEmail\u003c/span\u003e = \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { to, subject, body } = req.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e pythonProcess = \u003cspan class=\"hljs-title function_\"\u003espawn\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'python3'\u003c/span\u003e, [path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(__dirname, \u003cspan class=\"hljs-string\"\u003e'../Utils/mailSender.py'\u003c/span\u003e), to, subject, body]);\n\n  pythonProcess.\u003cspan class=\"hljs-property\"\u003estdout\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eon\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'data'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e) =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`stdout: \u003cspan class=\"hljs-subst\"\u003e${data}\u003c/span\u003e`\u003c/span\u003e);\n  });\n\n  pythonProcess.\u003cspan class=\"hljs-property\"\u003estderr\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eon\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'data'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e) =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`stderr: \u003cspan class=\"hljs-subst\"\u003e${data}\u003c/span\u003e`\u003c/span\u003e);\n  });\n\n  pythonProcess.\u003cspan class=\"hljs-title function_\"\u003eon\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'close'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ecode\u003c/span\u003e) =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`child process exited with code \u003cspan class=\"hljs-subst\"\u003e${code}\u003c/span\u003e`\u003c/span\u003e);\n    res.\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Email sent'\u003c/span\u003e);\n  });\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e6. Setting Up the Routes\u003c/h1\u003e\n\u003cp\u003e라우트 설정하기\u003c/p\u003e\n\u003cp\u003eroute 디렉토리에 mailRoute.js라는 파일을 만드세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'express'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e router = express.\u003cspan class=\"hljs-title class_\"\u003eRouter\u003c/span\u003e();\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e mailController = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'../Controller/mailController'\u003c/span\u003e);\n\nrouter.\u003cspan class=\"hljs-title function_\"\u003epost\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/send-email'\u003c/span\u003e, mailController.\u003cspan class=\"hljs-property\"\u003esendEmail\u003c/span\u003e);\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = router;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e7. 서버 생성\u003c/h1\u003e\n\u003cp\u003e루트 디렉토리에 server.js라는 파일을 생성하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'express'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e bodyParser = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'body-parser'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e dotenv = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'dotenv'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e mailRoute = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'./route/mailRoute'\u003c/span\u003e);\n\ndotenv.\u003cspan class=\"hljs-title function_\"\u003econfig\u003c/span\u003e();\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003eexpress\u003c/span\u003e();\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(bodyParser.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e());\n\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/api'\u003c/span\u003e, mailRoute);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e = process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ePORT\u003c/span\u003e || \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e;\napp.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`서버가 포트 \u003cspan class=\"hljs-subst\"\u003e${PORT}\u003c/span\u003e에서 실행 중입니다.`\u003c/span\u003e);\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e8. 결론\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이 블로그 포스트에서는 Node.js 애플리케이션에서 Python 스크립트를 호출하여 이메일을 보내는 방법을 소개했습니다. 프로젝트 구조 설정, 환경 변수 구성, Python 전자 메일 발신자 스크립트 작성, 그리고 Node.js 백엔드를 설정하여 spawn 함수를 사용하여 Python 스크립트를 호출하는 방법에 대해 다뤘습니다. 이 접근 방식은 Node.js와 Python의 강점을 활용하여 유연하고 강력한 이메일 발송 솔루션을 제공합니다.\u003c/p\u003e\n\u003cp\u003e이 단계를 따라가면 Python 스크립트를 Node.js 애플리케이션에 매끄럽게 통합하여 두 언어의 최상의 기능을 활용할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e더 나아가 향상된 이메일 처리 및 추가 기능을 위해 Python의 smtplib의 능력과 다양한 이메일 콘텐츠 및 첨부 파일을 처리하는 방법을 탐색하고 싶을 것입니다. 즐거운 코딩 하세요!\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-27-SendingEmailsfromNodejsUsingaPythonProgram"},"buildId":"QH5Mz7n7Y6w0r4_gCGFQf","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>