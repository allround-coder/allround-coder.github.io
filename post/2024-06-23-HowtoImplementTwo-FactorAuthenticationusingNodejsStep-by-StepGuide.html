<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Nodejsë¥¼ ì´ìš©í•œ ì´ì¤‘ ì¸ì¦ êµ¬í˜„ ë‹¨ê³„ë³„ ê°€ì´ë“œ | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Nodejsë¥¼ ì´ìš©í•œ ì´ì¤‘ ì¸ì¦ êµ¬í˜„ ë‹¨ê³„ë³„ ê°€ì´ë“œ | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="Nodejsë¥¼ ì´ìš©í•œ ì´ì¤‘ ì¸ì¦ êµ¬í˜„ ë‹¨ê³„ë³„ ê°€ì´ë“œ | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide" data-gatsby-head="true"/><meta name="twitter:title" content="Nodejsë¥¼ ì´ìš©í•œ ì´ì¤‘ ì¸ì¦ êµ¬í˜„ ë‹¨ê³„ë³„ ê°€ì´ë“œ | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-23 13:21" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/Y-fCAg8BUV7y2HNFwX9AA/_buildManifest.js" defer=""></script><script src="/_next/static/Y-fCAg8BUV7y2HNFwX9AA/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Nodejsë¥¼ ì´ìš©í•œ ì´ì¤‘ ì¸ì¦ êµ¬í˜„ ë‹¨ê³„ë³„ ê°€ì´ë“œ</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Nodejsë¥¼ ì´ìš©í•œ ì´ì¤‘ ì¸ì¦ êµ¬í˜„ ë‹¨ê³„ë³„ ê°€ì´ë“œ" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 23, 2024</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>ì˜¤ëŠ˜ë‚ ì˜ ë””ì§€í„ˆ ì‹œëŒ€ì—ì„œëŠ” ë³´ì•ˆì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤, íŠ¹íˆ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš°ì—ëŠ” ë”ìš± ê·¸ë ‡ìŠµë‹ˆë‹¤. ë‘ ë‹¨ê³„ ì¸ì¦(2FA)ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³´ì•ˆì„ í–¥ìƒì‹œí‚¤ëŠ” íš¨ìœ¨ì ì¸ ê¸°ìˆ ì…ë‹ˆë‹¤.</p>
<p>ì´ ê²Œì‹œë¬¼ì€ node.js ê°œë°œìì—ê²Œ ê°€ì¹˜ ìˆëŠ” ì •ë³´ì¼ ê²ƒì´ì§€ë§Œ, ê°œë°œìê°€ ì•„ë‹ˆë”ë¼ë„ ëª¨ë“  í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ì ìš©ë˜ëŠ” ì£¼ì œì´ë¯€ë¡œ ì—¬ëŸ¬ë¶„ì—ê²Œ ë§ì€ ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤. Twilio Authy, Microsoft Authenticator, Google Authenticator ë“± ì¸ê¸°ìˆëŠ” ì¸ì¦ ì•±ì´ ë§ì´ ìˆìŠµë‹ˆë‹¤. ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” Google Authenticatorë¥¼ ì‚¬ìš©í•˜ì—¬ 2FAê°€ ë¬´ì—‡ì¸ì§€, ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆì— ì–´ë–»ê²Œ ë„ì›€ì´ ë˜ëŠ”ì§€, ê·¸ë¦¬ê³  êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ë‹¨ê³„ë³„ ì§€ì¹¨ì„ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤.</p>
<h2>ë‘ ë‹¨ê³„ ì¸ì¦(2FA)ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?</h2>
<div class="content-ad"></div>
<p>ì´ì¤‘ ì¸ì¦ ë˜ëŠ” 2FAëŠ” ì‚¬ìš©ìê°€ ìì‹ ì˜ ì‹ ì›ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ë‹¤ë¥¸ ìš”ì†Œë¥¼ ì œê³µí•´ì•¼í•˜ëŠ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ìš”ì†ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì„¸ ê°€ì§€ ë²”ì£¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤:</p>
<ul>
<li>ì•Œê³  ìˆëŠ” ê²ƒ (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸)</li>
<li>ì†Œì§€í’ˆ (ì˜ˆ: ëª¨ë°”ì¼ ê¸°ê¸°)</li>
<li>ë³¸ì¸ì¸ ê²ƒ (ì˜ˆ: ìƒì²´ ì¸ì‹)</li>
</ul>
<p>ì¼ë°˜ì ì¸ ì‚¬ìš©ì ì´ë¦„ ë° ë¹„ë°€ë²ˆí˜¸ ì¡°í•© ì´ì™¸ì—ë„ 2FAëŠ” ë” ë†’ì€ ìˆ˜ì¤€ì˜ ë³´ì•ˆì„ ì¶”ê°€í•©ë‹ˆë‹¤. í•´ì»¤ê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì–»ê±°ë‚˜ ì¶”ì¸¡í•´ë„ ë‘ ë²ˆì§¸ ìš”ì†Œ ì—†ì´ ê³„ì •ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
<h2>Google Authenticatorë¥¼ ì‚¬ìš©í•œ Node.jsì—ì„œì˜ 2FA êµ¬í˜„</h2>
<div class="content-ad"></div>
<p>2FAë¥¼ Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì— Google Authenticator ì•±ì„ ì‚¬ìš©í•˜ì—¬ í†µí•©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´ìš”. ì½”ë”© ë¶€ë¶„ì— ë“¤ì–´ê°€ê¸° ì „ì— ë¨¼ì € ì´ ê³¼ì •ì— í¬í•¨ëœ ë‹¨ê³„ë¥¼ ì´í•´í•´ ë´…ì‹œë‹¤.</p>
<ul>
<li>ë¹„ë°€ í‚¤ ìƒì„±: ì‚¬ìš©ì ë“±ë¡ ì‹œë§ˆë‹¤ ê° ì‚¬ìš©ìë¥¼ ìœ„í•œ ê³ ìœ í•œ ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•´ìš”.</li>
<li>QR ì½”ë“œ ìƒì„±: ë¹„ë°€ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ Google Authenticator ì•±ìœ¼ë¡œ ìŠ¤ìº”í•  ìˆ˜ ìˆëŠ” QR ì½”ë“œë¥¼ ìƒì„±í•´ìš”.</li>
<li>ì‚¬ìš©ì ì„¤ì •: ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ìì—ê²Œ QR ì½”ë“œ ë˜ëŠ” ë¹„ë°€ í‚¤ë¥¼ ì œê³µí•´ìš”. ì‚¬ìš©ìëŠ” Google Authenticator ì•±ìœ¼ë¡œ QR ì½”ë“œë¥¼ ìŠ¤ìº”í•´ì•¼ í•´ìš”.</li>
<li>OTP ì½”ë“œ ìƒì„±: ì„œë²„ì—ì„œ ë¹„ë°€ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œê°„ ê¸°ë°˜ ì¼íšŒìš© ì•”í˜¸(TOTP)ë¥¼ ìƒì„±í•´ìš”. ì´ ì½”ë“œëŠ” ë§¤ 30ì´ˆë§ˆë‹¤ ë°”ë€Œì–´ìš”.</li>
<li>ì‚¬ìš©ì ì¸ì¦: ë¡œê·¸ì¸ ì‹œ ì‚¬ìš©ìëŠ” Google Authenticator ì•±ì—ì„œ ìƒì„±ëœ í˜„ì¬ OTPë¥¼ ì…ë ¥í•´ì•¼ í•´ìš”.</li>
<li>ê²€ì¦: ì‚¬ìš©ìê°€ ì…ë ¥í•œ OTPë¥¼ ì„œë²„ì—ì„œ ìƒì„±ëœ OTPì™€ ë¹„êµí•´ìš”. ì¼ì¹˜í•˜ë©´ ì‚¬ìš©ìê°€ ì¸ì¦ë©ë‹ˆë‹¤.</li>
</ul>
<p>ì´ì œ ì¬ë¯¸ìˆëŠ” ë¶€ë¶„ì´ ë‹¤ê°€ì™€ìš” :) ìš°ë¦¬ëŠ” ìœ„ ë‹¨ê³„ë“¤ì„ ëª¨ë‘ ì½”ë“œë¡œ ë³€í™˜í•  ê±°ì—ìš”.</p>
<div class="content-ad"></div>
<p>ì–‘ë°©í–¥ ì¸ì¦ì„ êµ¬í˜„í•˜ê¸° ì „ì— ë‹¤ìŒ ì‚¬ì „ ìš”êµ¬ ì‚¬í•­ì„ ê°–ì¶”ì—ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”:</p>
<ul>
<li>JavaScript ë˜ëŠ” TypeScriptì˜ ê¸°ë³¸ ì§€ì‹.</li>
<li>API ë””ìì¸ê³¼ CRUD íŒ¨í„´ì— ëŒ€í•œ ê¸°ë³¸ ì´í•´.</li>
<li>ì‹œìŠ¤í…œì— Node.jsì˜ ìµœì‹  ë²„ì „ì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</li>
<li>Node.jsì™€ Expressì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</li>
</ul>
<h2>ë‹¨ê³„ 1: Node.js í”„ë¡œì íŠ¸ ì„¤ì •</h2>
<p>ì‹œì‘í•˜ê¸° ìœ„í•´ í”„ë¡œì íŠ¸ìš© ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  í„°ë¯¸ë„ì—ì„œ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œ í›„ ìƒˆ Node.js í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ê³  í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰í•´ë³´ì„¸ìš”.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">mkdir node_2fa
cd node_2fa
npm init -y
npm install express otpauth hi-base32
</code></pre>
<ul>
<li>express â€“ Node.js ì›¹ í”„ë ˆì„ì›Œí¬</li>
<li>otpauth â€“ TOTPë¥¼ ìƒì„±í•˜ê³  ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬</li>
<li>hi-base32 â€“ ë°ì´í„°ë¥¼ Base32 í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”© ë° ë””ì½”ë”©í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. Authenticator ì•±ì—ì„œ TOTPë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.</li>
</ul>
<h2>ë‹¨ê³„ 2: Express ì„œë²„ ì„¤ì •</h2>
<p>í”„ë¡œì íŠ¸ì— index.js íŒŒì¼ì„ ë§Œë“¤ê³  ê¸°ë³¸ express ì„œë²„ë¥¼ ì„¤ì •í•˜ì„¸ìš”.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>;

app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>());
app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">urlencoded</span>({ <span class="hljs-attr">extended</span>: <span class="hljs-literal">true</span> }));

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">'ì´ì¤‘ ì¸ì¦ ì˜ˆì œ'</span>);
});

app.<span class="hljs-title function_">listen</span>(port, <span class="hljs-function">() =></span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ì„œë²„ê°€ í¬íŠ¸ <span class="hljs-subst">${port}</span>ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤`</span>);
});
</code></pre>
<h2>ë‹¨ê³„ 3: ì‚¬ìš©ì ë“±ë¡</h2>
<p>ì´ ë‹¨ê³„ì—ì„œëŠ” ì‚¬ìš©ì ë“±ë¡ì„ êµ¬í˜„í•˜ê³  ì‚¬ìš©ì ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•©ë‹ˆë‹¤. ë³´í†µ ì´ë¥¼ ìœ„í•´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ì´ ì˜ˆì‹œì—ì„œëŠ” ê°„ë‹¨í•¨ì„ ìœ„í•´ ë‚´ë¶€ ë°°ì—´ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. MongoDBë¥¼ ì´ìš©í•œ í¬ê´„ì ì¸ ì˜ˆì‹œëŠ” ì œ GitHub ë ˆí¬ì§€í† ë¦¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <a href="https://github.com/Nik720/2fa-nodejs" rel="nofollow" target="_blank">https://github.com/Nik720/2fa-nodejs</a></p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> users = [];

<span class="hljs-comment">// ìƒˆë¡œìš´ ì‚¬ìš©ì ë“±ë¡ì„ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸</span>
app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/register'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
  <span class="hljs-keyword">const</span> { username, password } = req.<span class="hljs-property">body</span>;
  <span class="hljs-keyword">const</span> id = users.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>;

  <span class="hljs-comment">// ì‚¬ìš©ì ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥ (ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸ í¬í•¨)</span>
  users.<span class="hljs-title function_">push</span>({ id, username, password });
  res.<span class="hljs-title function_">status</span>(<span class="hljs-number">201</span>).<span class="hljs-title function_">send</span>({
    <span class="hljs-attr">status</span>: <span class="hljs-string">"ì„±ê³µ"</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">"ì‚¬ìš©ìê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤"</span>
  });
});
</code></pre>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_1.png" alt="Step 4: Enable Two-Way Authentication"></p>
<h2>ë‹¨ê³„ 4: ë‘ ê°€ì§€ ìš”ì†Œ ì¸ì¦ í™œì„±í™”</h2>
<p>ì´ì œ otpauth ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°€ì§€ ìš”ì¸ ì¸ì¦ì„ êµ¬ì¶•í•´ ë´…ì‹œë‹¤. ì‚¬ìš©ìê°€ ì¸ì¦ ì•±ìœ¼ë¡œ ìŠ¤ìº”í•  ìˆ˜ìˆëŠ” QR ì½”ë“œë¥¼ í‘œì‹œí•˜ê³  ì¼íšŒìš© ì½”ë“œë¥¼ í™•ì¸í•˜ëŠ” ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì´ í”„ë¡œì„¸ìŠ¤ì˜ ë‹¨ê³„ì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">OTPAuth</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"otpauth"</span>);
<span class="hljs-keyword">const</span> encode = <span class="hljs-built_in">require</span>(<span class="hljs-string">"hi-base32"</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">QRCode</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'qrcode'</span>);

<span class="hljs-comment">// ë‘ ê°€ì§€ ìš”ì†Œ ì¸ì¦ í™œì„±í™”ë¥¼ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸</span>
app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/enable-2fa'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
  <span class="hljs-keyword">const</span> { username } = req.<span class="hljs-property">body</span>;

  <span class="hljs-comment">// ì‚¬ìš©ìë¥¼ ì‚¬ìš©ì ì´ë¦„ìœ¼ë¡œ ì°¾ê¸° (ì—¬ê¸°ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨)</span>
  <span class="hljs-keyword">const</span> user = users.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">u</span>) =></span> u.<span class="hljs-property">username</span> === username);

  <span class="hljs-keyword">if</span> (!user) {
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">404</span>).<span class="hljs-title function_">send</span>(<span class="hljs-string">'ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'</span>);
  }

  <span class="hljs-comment">// ì‚¬ìš©ìë¥¼ ìœ„í•œ ë¹„ë°€ í‚¤ ìƒì„±</span>
  <span class="hljs-keyword">const</span> base32_secret = <span class="hljs-title function_">generateBase32Secret</span>();
  user.<span class="hljs-property">secret</span> = base32_secret;

  <span class="hljs-comment">// ì‚¬ìš©ìê°€ ìŠ¤ìº”í•  QR ì½”ë“œ URL ìƒì„±</span>
  <span class="hljs-keyword">let</span> totp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OTPAuth</span>.<span class="hljs-title function_">TOTP</span>({
      <span class="hljs-attr">issuer</span>: <span class="hljs-string">"YourSite.com"</span>,
      <span class="hljs-attr">label</span>: <span class="hljs-string">"YourSite"</span>,
      <span class="hljs-attr">algorithm</span>: <span class="hljs-string">"SHA1"</span>,
      <span class="hljs-attr">digits</span>: <span class="hljs-number">6</span>,
      <span class="hljs-attr">secret</span>: base32_secret,
  });

  <span class="hljs-keyword">let</span> otpauth_url = totp.<span class="hljs-title function_">toString</span>();

  <span class="hljs-comment">// ìƒì„±ëœ QR ì½”ë“œë¥¼ ì‘ë‹µìœ¼ë¡œ ë³´ë‚´ê¸°</span>
  <span class="hljs-title class_">QRCode</span>.<span class="hljs-title function_">toDataURL</span>(otpauth_url, <span class="hljs-function">(<span class="hljs-params">err</span>) =></span> {
        <span class="hljs-keyword">if</span>(err) {
            <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">json</span>({
                <span class="hljs-attr">status</span>: <span class="hljs-string">'fail'</span>,
                <span class="hljs-attr">message</span>: <span class="hljs-string">"QR ì½”ë“œ ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ"</span>
            })
        }
        res.<span class="hljs-title function_">json</span>({
            <span class="hljs-attr">status</span>: <span class="hljs-string">"success"</span>,
            <span class="hljs-attr">data</span>: {
                <span class="hljs-attr">qrCodeUrl</span>: qrUrl,
                <span class="hljs-attr">secret</span>: base32_secret
            }
        })
    })
});

<span class="hljs-keyword">const</span> <span class="hljs-title function_">generateBase32Secret</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> buffer = crypto.<span class="hljs-title function_">randomBytes</span>(<span class="hljs-number">15</span>);
  <span class="hljs-keyword">const</span> base32 = <span class="hljs-title function_">encode</span>(buffer).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/=/g</span>, <span class="hljs-string">""</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">24</span>);
  <span class="hljs-keyword">return</span> base32;
};
</code></pre>
<div class="content-ad"></div>
<p>ìœ„ ì½”ë“œ ìŠ¤ë‹ˆí«ì—ì„œ ê°œë°œí•œ GenerateBase32Secret() ë©”ì„œë“œëŠ” base32ë¡œ ì¸ì½”ë”©ëœ ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ í‚¤ëŠ” TOTP ìƒì„± ë©”ì»¤ë‹ˆì¦˜ì˜ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œì…ë‹ˆë‹¤. ë˜í•œ í•„ìš”í•œ ì¸ìˆ˜ë¡œ ì¸ìŠ¤í„´ìŠ¤í™” í•œ í›„ì— totpvariableì— OTPAuth.TOTP í´ë˜ìŠ¤ë¥¼ í• ë‹¹í–ˆìŠµë‹ˆë‹¤.</p>
<p>ë‹¤ìŒìœ¼ë¡œ, totp.toString() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ TOTP Auth URLì„ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤. QR ì½”ë“œë¥¼ ìƒì„±í•˜ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ TOTP ì¸ì¦ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì¸ì½”ë”©ëœ ë¹„ë°€ê³¼ í•„ìš”í•œ ì„¤ì •ì€ ì´ URLì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ë¯¸ë˜ì— ì´ëŸ¬í•œ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ base32 ë¹„ë°€ ë¬¸ìì—´ì„ ì‚¬ìš©ì ê°ì²´ì— ì €ì¥í–ˆìŠµë‹ˆë‹¤.</p>
<p>ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œëŠ” QR ì½”ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ otpauth_urlë¡œ QR ì½”ë“œë¥¼ ë§Œë“¤ê³  JSON ì‘ë‹µì— QR ì½”ë“œ URLê³¼ base32 ë¹„ë°€ ë¬¸ìì—´ì„ ë°˜í™˜í–ˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì´ëŸ¬í•œ ê°’ì„ ë°˜í™˜í•¨ìœ¼ë¡œì¨ í´ë¼ì´ì–¸íŠ¸ ì¸¡ êµ¬í˜„ì„ ìœ ì—°í•˜ê³  ì‰½ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ëŠ” base32 ë¹„ë°€ ë¬¸ìì—´ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ì¸ì¦ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìŠ¤ìº”í•˜ì—¬ QR ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë ¨ TOTP í† í°ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p>ì¸ì¦ í™•ì¸ì˜ ë§ˆì§€ë§‰ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ê¸° ì „ì—, ë¨¼ì € ì¸ì¦ ì•±ì„ êµ¬ì„±í•˜ì—¬ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ í† í°ìœ¼ë¡œ ì œê³µë  6ìë¦¬ ì½”ë“œë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>Google Authenticator ì•±ì„ í™œì„±í™”í•˜ê¸° ìœ„í•´ ì¤‘ìš”í•œ ëª‡ ê°€ì§€ ë‹¨ê³„ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¥¼ í¸ë¦¬í•˜ê²Œ í•˜ê¸° ìœ„í•´ ì—¬ê¸°ì„œëŠ” Chrome í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. APIì—ì„œ ì œê³µëœ base64 ë¹„ë°€ì„ ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•˜ê±°ë‚˜ ê³„ì •ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ QR ì½”ë“œë¥¼ ìŠ¤ìº”í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_3.png" alt="2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_3.png"></p>
<h2>ë‹¨ê³„ 5: ì–‘ë°©í–¥ ì¸ì¦ í™•ì¸í•˜ê¸°</h2>
<div class="content-ad"></div>
<p>ë§ˆì¹¨ë‚´, ì‚¬ìš©ìê°€ ì œê³µí•œ ì¼íšŒìš© ì½”ë“œë¥¼ í™•ì¸í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬í˜„í•˜ì„¸ìš”. ì´ ë‹¨ê³„ì—ì„œëŠ” ì¸ì¦ ì•±ì—ì„œ ìƒì„±ëœ 6ìë¦¬ ì½”ë“œë¥¼ ì „ë‹¬í•˜ì—¬ ì‚¬ìš©ìì˜ ì‹ ì›ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// ë‘ ë‹¨ê³„ ì¸ì¦ ì½”ë“œë¥¼ ê²€ì¦í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸</span>
app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/verify-2fa'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
  <span class="hljs-keyword">const</span> { username, token } = req.<span class="hljs-property">body</span>;

  <span class="hljs-comment">// ì‚¬ìš©ìëª…ìœ¼ë¡œ ì‚¬ìš©ì ì°¾ê¸°</span>
  <span class="hljs-keyword">const</span> user = users.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">u</span>) =></span> u.<span class="hljs-property">username</span> === username);

  <span class="hljs-keyword">if</span> (!user) {
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">404</span>).<span class="hljs-title function_">send</span>(<span class="hljs-string">'ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤'</span>);
  }

  <span class="hljs-comment">// í† í°ì„ ê²€ì¦í•©ë‹ˆë‹¤.</span>
  <span class="hljs-keyword">let</span> totp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OTPAuth</span>.<span class="hljs-title function_">TOTP</span>({
      <span class="hljs-attr">issuer</span>: <span class="hljs-string">"YourSite.com"</span>,
      <span class="hljs-attr">label</span>: <span class="hljs-string">"YourSite"</span>,
      <span class="hljs-attr">algorithm</span>: <span class="hljs-string">"SHA1"</span>,
      <span class="hljs-attr">digits</span>: <span class="hljs-number">6</span>,
      <span class="hljs-attr">secret</span>: user.<span class="hljs-property">secret</span>!,
   });

  <span class="hljs-keyword">let</span> delta = totp.<span class="hljs-title function_">validate</span>({ token });

  <span class="hljs-keyword">if</span>(delta) {
        res.<span class="hljs-title function_">json</span>({
            <span class="hljs-attr">status</span>: <span class="hljs-string">"success"</span>,
            <span class="hljs-attr">message</span>: <span class="hljs-string">"ì¸ì¦ ì„±ê³µ"</span>
        })
    } <span class="hljs-keyword">else</span> {
        res.<span class="hljs-title function_">status</span>(<span class="hljs-number">401</span>).<span class="hljs-title function_">json</span>({
            <span class="hljs-attr">status</span>: <span class="hljs-string">"fail"</span>,
            <span class="hljs-attr">message</span>: <span class="hljs-string">"ì¸ì¦ ì‹¤íŒ¨"</span>
        }) 
    }
});
</code></pre>
<img src="/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_4.png">
<p>ì´ ê²Œì‹œë¬¼ì€ 2ë‹¨ê³„ ì¸ì¦ì˜ ê¸°ë³¸ ì„¤ì • ë° ì‚¬ìš©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆì§€ë§Œ, ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” 2FAë¥¼ í™œì„±í™”í•˜ê±°ë‚˜ ë¹„í™œì„±í™”í•˜ê±°ë‚˜ ì¸ì¦í•˜ê¸° ì „ì— ì‚¬ìš©ì ë¡œê·¸ì¸ ìƒíƒœë¥¼ ì¶”ê°€ë¡œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p>MongoDB ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•œ í¬ê´„ì ì¸ ì˜ˆì œë¥¼ êµ¬ì¶•í–ˆì–´ìš”. ëª¨ë“  í•„ìˆ˜ API ì—”ë“œí¬ì¸íŠ¸ì™€ ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µí•©í–ˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ GitHub ë ˆí¬ì§€í† ë¦¬ë¥¼ ë°©ë¬¸í•´ì£¼ì„¸ìš”. <a href="https://github.com/Nik720/2fa-nodejs" rel="nofollow" target="_blank">https://github.com/Nik720/2fa-nodejs</a></p>
<p>ìµœì´ˆ ë¸”ë¡œê·¸ ê²Œì‹œ: <a href="https://codeshakti.com/how-to-implement-two-factor-authentication-using-node-js-step-by-step-guide/" rel="nofollow" target="_blank">https://codeshakti.com/how-to-implement-two-factor-authentication-using-node-js-step-by-step-guide/</a></p>
<h2>ê²°ë¡ </h2>
<p>ì´ ê²Œì‹œë¬¼ì—ì„œ ì„¤ëª…ëœ ê¸°ìˆ ë“¤ì¸ QR ì½”ë“œ ê¸°ë°˜ í† í° ìƒì„± ë° ì•ˆì „í•œ OTP í™•ì¸ì„ ì ìš©í•¨ìœ¼ë¡œì¨, ë¬´ë‹¨ ì ‘ê·¼ì— ëŒ€í•œ ê°•ë ¥í•œ ë°©ì–´ë§‰ì„ ë§Œë“¤ê³  Node.js ì‚¬ìš©ìì—ê²Œ ë¹„êµí•  ìˆ˜ ì—†ëŠ” ë³´í˜¸ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë¶€í„° 2FA ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ì—¬ ë” ì•ˆì „í•œ ë””ì§€í„¸ ê³µê°„ìœ¼ë¡œ ë‚˜ì•„ê°€ëŠ” ì²«ê±¸ìŒì„ ë‚´ë”›ì–´ë³´ì„¸ìš”!</p>
<div class="content-ad"></div>
<h1>ì´ ê¸€ì„ ì¦ê²¼ë‚˜ìš”?</h1>
<p>ë‹¤ìŒ ê¸€ì—ì„œëŠ” ë…¸ë“œ JS í´ëŸ¬ìŠ¤í„° ëª¨ë“ˆì„ í™œìš©í•˜ì—¬ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ë” ìì„¸íˆ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.</p>
<p>ì œ ê¸€ì´ ë§ˆìŒì— ë“œì…¨ë‹¤ë©´ ì•„ë˜ ì‘ì€ ğŸ‘ì„ ëˆŒëŸ¬ì£¼ì„¸ìš” (50ë²ˆ íƒ€í¬ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤). ë” ë§ì€ ê¸°ìˆ  ê¸°ì‚¬ë¥¼ ìœ„í•´ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”. ì¹œêµ¬ë“¤ ğŸ‘¦, ë™ë£Œë“¤ ğŸ‘­ ğŸ§‘â€ğŸ¤â€ğŸ§‘ ì™€ ê³µìœ í•´ì£¼ì„¸ìš”.</p>
<p>ì—¬ëŸ¬ë¶„ì˜ ì§€ì§€ë¥¼ ê°ì‚¬íˆ ë°›ê² ìŠµë‹ˆë‹¤. ğŸ’š ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ™</p>
<div class="content-ad"></div>
<p>ì œ ë¸”ë¡œê¹… ì‚¬ì´íŠ¸ codeshakti.comì—ì„œ ê¸°ìˆ  ë¸”ë¡œê·¸ì— ëŒ€í•´ ë” ë§ì€ ì •ë³´ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.</p>
<p>ì½”ë”© ì¦ê±°ì›€ì„ ëŠë¼ì„¸ìš”... ğŸ˜</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Nodejsë¥¼ ì´ìš©í•œ ì´ì¤‘ ì¸ì¦ êµ¬í˜„ ë‹¨ê³„ë³„ ê°€ì´ë“œ","description":"","date":"2024-06-23 13:21","slug":"2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide","content":"\n\nì˜¤ëŠ˜ë‚ ì˜ ë””ì§€í„ˆ ì‹œëŒ€ì—ì„œëŠ” ë³´ì•ˆì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤, íŠ¹íˆ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš°ì—ëŠ” ë”ìš± ê·¸ë ‡ìŠµë‹ˆë‹¤. ë‘ ë‹¨ê³„ ì¸ì¦(2FA)ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³´ì•ˆì„ í–¥ìƒì‹œí‚¤ëŠ” íš¨ìœ¨ì ì¸ ê¸°ìˆ ì…ë‹ˆë‹¤.\n\nì´ ê²Œì‹œë¬¼ì€ node.js ê°œë°œìì—ê²Œ ê°€ì¹˜ ìˆëŠ” ì •ë³´ì¼ ê²ƒì´ì§€ë§Œ, ê°œë°œìê°€ ì•„ë‹ˆë”ë¼ë„ ëª¨ë“  í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ì ìš©ë˜ëŠ” ì£¼ì œì´ë¯€ë¡œ ì—¬ëŸ¬ë¶„ì—ê²Œ ë§ì€ ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤. Twilio Authy, Microsoft Authenticator, Google Authenticator ë“± ì¸ê¸°ìˆëŠ” ì¸ì¦ ì•±ì´ ë§ì´ ìˆìŠµë‹ˆë‹¤. ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” Google Authenticatorë¥¼ ì‚¬ìš©í•˜ì—¬ 2FAê°€ ë¬´ì—‡ì¸ì§€, ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆì— ì–´ë–»ê²Œ ë„ì›€ì´ ë˜ëŠ”ì§€, ê·¸ë¦¬ê³  êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ë‹¨ê³„ë³„ ì§€ì¹¨ì„ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤.\n\n## ë‘ ë‹¨ê³„ ì¸ì¦(2FA)ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ì¤‘ ì¸ì¦ ë˜ëŠ” 2FAëŠ” ì‚¬ìš©ìê°€ ìì‹ ì˜ ì‹ ì›ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ë‹¤ë¥¸ ìš”ì†Œë¥¼ ì œê³µí•´ì•¼í•˜ëŠ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ìš”ì†ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì„¸ ê°€ì§€ ë²”ì£¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤:\n\n- ì•Œê³  ìˆëŠ” ê²ƒ (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸)\n- ì†Œì§€í’ˆ (ì˜ˆ: ëª¨ë°”ì¼ ê¸°ê¸°)\n- ë³¸ì¸ì¸ ê²ƒ (ì˜ˆ: ìƒì²´ ì¸ì‹)\n\nì¼ë°˜ì ì¸ ì‚¬ìš©ì ì´ë¦„ ë° ë¹„ë°€ë²ˆí˜¸ ì¡°í•© ì´ì™¸ì—ë„ 2FAëŠ” ë” ë†’ì€ ìˆ˜ì¤€ì˜ ë³´ì•ˆì„ ì¶”ê°€í•©ë‹ˆë‹¤. í•´ì»¤ê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì–»ê±°ë‚˜ ì¶”ì¸¡í•´ë„ ë‘ ë²ˆì§¸ ìš”ì†Œ ì—†ì´ ê³„ì •ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n## Google Authenticatorë¥¼ ì‚¬ìš©í•œ Node.jsì—ì„œì˜ 2FA êµ¬í˜„\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n2FAë¥¼ Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì— Google Authenticator ì•±ì„ ì‚¬ìš©í•˜ì—¬ í†µí•©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´ìš”. ì½”ë”© ë¶€ë¶„ì— ë“¤ì–´ê°€ê¸° ì „ì— ë¨¼ì € ì´ ê³¼ì •ì— í¬í•¨ëœ ë‹¨ê³„ë¥¼ ì´í•´í•´ ë´…ì‹œë‹¤.\n\n- ë¹„ë°€ í‚¤ ìƒì„±: ì‚¬ìš©ì ë“±ë¡ ì‹œë§ˆë‹¤ ê° ì‚¬ìš©ìë¥¼ ìœ„í•œ ê³ ìœ í•œ ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•´ìš”.\n- QR ì½”ë“œ ìƒì„±: ë¹„ë°€ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ Google Authenticator ì•±ìœ¼ë¡œ ìŠ¤ìº”í•  ìˆ˜ ìˆëŠ” QR ì½”ë“œë¥¼ ìƒì„±í•´ìš”.\n- ì‚¬ìš©ì ì„¤ì •: ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ìì—ê²Œ QR ì½”ë“œ ë˜ëŠ” ë¹„ë°€ í‚¤ë¥¼ ì œê³µí•´ìš”. ì‚¬ìš©ìëŠ” Google Authenticator ì•±ìœ¼ë¡œ QR ì½”ë“œë¥¼ ìŠ¤ìº”í•´ì•¼ í•´ìš”.\n- OTP ì½”ë“œ ìƒì„±: ì„œë²„ì—ì„œ ë¹„ë°€ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œê°„ ê¸°ë°˜ ì¼íšŒìš© ì•”í˜¸(TOTP)ë¥¼ ìƒì„±í•´ìš”. ì´ ì½”ë“œëŠ” ë§¤ 30ì´ˆë§ˆë‹¤ ë°”ë€Œì–´ìš”.\n- ì‚¬ìš©ì ì¸ì¦: ë¡œê·¸ì¸ ì‹œ ì‚¬ìš©ìëŠ” Google Authenticator ì•±ì—ì„œ ìƒì„±ëœ í˜„ì¬ OTPë¥¼ ì…ë ¥í•´ì•¼ í•´ìš”.\n- ê²€ì¦: ì‚¬ìš©ìê°€ ì…ë ¥í•œ OTPë¥¼ ì„œë²„ì—ì„œ ìƒì„±ëœ OTPì™€ ë¹„êµí•´ìš”. ì¼ì¹˜í•˜ë©´ ì‚¬ìš©ìê°€ ì¸ì¦ë©ë‹ˆë‹¤.\n\nì´ì œ ì¬ë¯¸ìˆëŠ” ë¶€ë¶„ì´ ë‹¤ê°€ì™€ìš” :) ìš°ë¦¬ëŠ” ìœ„ ë‹¨ê³„ë“¤ì„ ëª¨ë‘ ì½”ë“œë¡œ ë³€í™˜í•  ê±°ì—ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì–‘ë°©í–¥ ì¸ì¦ì„ êµ¬í˜„í•˜ê¸° ì „ì— ë‹¤ìŒ ì‚¬ì „ ìš”êµ¬ ì‚¬í•­ì„ ê°–ì¶”ì—ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”:\n\n- JavaScript ë˜ëŠ” TypeScriptì˜ ê¸°ë³¸ ì§€ì‹.\n- API ë””ìì¸ê³¼ CRUD íŒ¨í„´ì— ëŒ€í•œ ê¸°ë³¸ ì´í•´.\n- ì‹œìŠ¤í…œì— Node.jsì˜ ìµœì‹  ë²„ì „ì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n- Node.jsì™€ Expressì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n\n## ë‹¨ê³„ 1: Node.js í”„ë¡œì íŠ¸ ì„¤ì •\n\nì‹œì‘í•˜ê¸° ìœ„í•´ í”„ë¡œì íŠ¸ìš© ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  í„°ë¯¸ë„ì—ì„œ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œ í›„ ìƒˆ Node.js í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ê³  í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰í•´ë³´ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nmkdir node_2fa\ncd node_2fa\nnpm init -y\nnpm install express otpauth hi-base32\n```\n\n- express â€“ Node.js ì›¹ í”„ë ˆì„ì›Œí¬\n- otpauth â€“ TOTPë¥¼ ìƒì„±í•˜ê³  ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬\n- hi-base32 â€“ ë°ì´í„°ë¥¼ Base32 í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”© ë° ë””ì½”ë”©í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. Authenticator ì•±ì—ì„œ TOTPë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n## ë‹¨ê³„ 2: Express ì„œë²„ ì„¤ì •\n\ní”„ë¡œì íŠ¸ì— index.js íŒŒì¼ì„ ë§Œë“¤ê³  ê¸°ë³¸ express ì„œë²„ë¥¼ ì„¤ì •í•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nconst express = require('express');\nconst app = express();\nconst port = 3000;\n\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\napp.get('/', (req, res) =\u003e {\n  res.send('ì´ì¤‘ ì¸ì¦ ì˜ˆì œ');\n});\n\napp.listen(port, () =\u003e {\n  console.log(`ì„œë²„ê°€ í¬íŠ¸ ${port}ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤`);\n});\n```\n\n## ë‹¨ê³„ 3: ì‚¬ìš©ì ë“±ë¡\n\nì´ ë‹¨ê³„ì—ì„œëŠ” ì‚¬ìš©ì ë“±ë¡ì„ êµ¬í˜„í•˜ê³  ì‚¬ìš©ì ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•©ë‹ˆë‹¤. ë³´í†µ ì´ë¥¼ ìœ„í•´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ì´ ì˜ˆì‹œì—ì„œëŠ” ê°„ë‹¨í•¨ì„ ìœ„í•´ ë‚´ë¶€ ë°°ì—´ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. MongoDBë¥¼ ì´ìš©í•œ í¬ê´„ì ì¸ ì˜ˆì‹œëŠ” ì œ GitHub ë ˆí¬ì§€í† ë¦¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. https://github.com/Nik720/2fa-nodejs\n\n```js\nconst users = [];\n\n// ìƒˆë¡œìš´ ì‚¬ìš©ì ë“±ë¡ì„ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸\napp.post('/register', (req, res) =\u003e {\n  const { username, password } = req.body;\n  const id = users.length + 1;\n\n  // ì‚¬ìš©ì ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥ (ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸ í¬í•¨)\n  users.push({ id, username, password });\n  res.status(201).send({\n    status: \"ì„±ê³µ\",\n    message: \"ì‚¬ìš©ìê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤\"\n  });\n});\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Step 4: Enable Two-Way Authentication](/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_1.png)\n\n## ë‹¨ê³„ 4: ë‘ ê°€ì§€ ìš”ì†Œ ì¸ì¦ í™œì„±í™”\n\nì´ì œ otpauth ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°€ì§€ ìš”ì¸ ì¸ì¦ì„ êµ¬ì¶•í•´ ë´…ì‹œë‹¤. ì‚¬ìš©ìê°€ ì¸ì¦ ì•±ìœ¼ë¡œ ìŠ¤ìº”í•  ìˆ˜ìˆëŠ” QR ì½”ë“œë¥¼ í‘œì‹œí•˜ê³  ì¼íšŒìš© ì½”ë“œë¥¼ í™•ì¸í•˜ëŠ” ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì´ í”„ë¡œì„¸ìŠ¤ì˜ ë‹¨ê³„ì…ë‹ˆë‹¤.\n\n```js\nconst OTPAuth = require(\"otpauth\");\nconst encode = require(\"hi-base32\");\nconst QRCode = require('qrcode');\n\n// ë‘ ê°€ì§€ ìš”ì†Œ ì¸ì¦ í™œì„±í™”ë¥¼ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸\napp.post('/enable-2fa', (req, res) =\u003e {\n  const { username } = req.body;\n\n  // ì‚¬ìš©ìë¥¼ ì‚¬ìš©ì ì´ë¦„ìœ¼ë¡œ ì°¾ê¸° (ì—¬ê¸°ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨)\n  const user = users.find((u) =\u003e u.username === username);\n\n  if (!user) {\n    return res.status(404).send('ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');\n  }\n\n  // ì‚¬ìš©ìë¥¼ ìœ„í•œ ë¹„ë°€ í‚¤ ìƒì„±\n  const base32_secret = generateBase32Secret();\n  user.secret = base32_secret;\n\n  // ì‚¬ìš©ìê°€ ìŠ¤ìº”í•  QR ì½”ë“œ URL ìƒì„±\n  let totp = new OTPAuth.TOTP({\n      issuer: \"YourSite.com\",\n      label: \"YourSite\",\n      algorithm: \"SHA1\",\n      digits: 6,\n      secret: base32_secret,\n  });\n\n  let otpauth_url = totp.toString();\n\n  // ìƒì„±ëœ QR ì½”ë“œë¥¼ ì‘ë‹µìœ¼ë¡œ ë³´ë‚´ê¸°\n  QRCode.toDataURL(otpauth_url, (err) =\u003e {\n        if(err) {\n            return res.status(500).json({\n                status: 'fail',\n                message: \"QR ì½”ë“œ ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ\"\n            })\n        }\n        res.json({\n            status: \"success\",\n            data: {\n                qrCodeUrl: qrUrl,\n                secret: base32_secret\n            }\n        })\n    })\n});\n\nconst generateBase32Secret = () =\u003e {\n  const buffer = crypto.randomBytes(15);\n  const base32 = encode(buffer).replace(/=/g, \"\").substring(0, 24);\n  return base32;\n};\n```\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ ì½”ë“œ ìŠ¤ë‹ˆí«ì—ì„œ ê°œë°œí•œ GenerateBase32Secret() ë©”ì„œë“œëŠ” base32ë¡œ ì¸ì½”ë”©ëœ ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ í‚¤ëŠ” TOTP ìƒì„± ë©”ì»¤ë‹ˆì¦˜ì˜ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œì…ë‹ˆë‹¤. ë˜í•œ í•„ìš”í•œ ì¸ìˆ˜ë¡œ ì¸ìŠ¤í„´ìŠ¤í™” í•œ í›„ì— totpvariableì— OTPAuth.TOTP í´ë˜ìŠ¤ë¥¼ í• ë‹¹í–ˆìŠµë‹ˆë‹¤.\n\në‹¤ìŒìœ¼ë¡œ, totp.toString() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ TOTP Auth URLì„ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤. QR ì½”ë“œë¥¼ ìƒì„±í•˜ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ TOTP ì¸ì¦ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì¸ì½”ë”©ëœ ë¹„ë°€ê³¼ í•„ìš”í•œ ì„¤ì •ì€ ì´ URLì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ë¯¸ë˜ì— ì´ëŸ¬í•œ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ base32 ë¹„ë°€ ë¬¸ìì—´ì„ ì‚¬ìš©ì ê°ì²´ì— ì €ì¥í–ˆìŠµë‹ˆë‹¤.\n\në§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œëŠ” QR ì½”ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ otpauth_urlë¡œ QR ì½”ë“œë¥¼ ë§Œë“¤ê³  JSON ì‘ë‹µì— QR ì½”ë“œ URLê³¼ base32 ë¹„ë°€ ë¬¸ìì—´ì„ ë°˜í™˜í–ˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì´ëŸ¬í•œ ê°’ì„ ë°˜í™˜í•¨ìœ¼ë¡œì¨ í´ë¼ì´ì–¸íŠ¸ ì¸¡ êµ¬í˜„ì„ ìœ ì—°í•˜ê³  ì‰½ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ëŠ” base32 ë¹„ë°€ ë¬¸ìì—´ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ì¸ì¦ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìŠ¤ìº”í•˜ì—¬ QR ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë ¨ TOTP í† í°ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì¸ì¦ í™•ì¸ì˜ ë§ˆì§€ë§‰ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ê¸° ì „ì—, ë¨¼ì € ì¸ì¦ ì•±ì„ êµ¬ì„±í•˜ì—¬ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ í† í°ìœ¼ë¡œ ì œê³µë  6ìë¦¬ ì½”ë“œë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\nGoogle Authenticator ì•±ì„ í™œì„±í™”í•˜ê¸° ìœ„í•´ ì¤‘ìš”í•œ ëª‡ ê°€ì§€ ë‹¨ê³„ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¥¼ í¸ë¦¬í•˜ê²Œ í•˜ê¸° ìœ„í•´ ì—¬ê¸°ì„œëŠ” Chrome í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. APIì—ì„œ ì œê³µëœ base64 ë¹„ë°€ì„ ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•˜ê±°ë‚˜ ê³„ì •ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ QR ì½”ë“œë¥¼ ìŠ¤ìº”í•´ì•¼ í•©ë‹ˆë‹¤.\n\n![2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_3.png](/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_3.png)\n\n## ë‹¨ê³„ 5: ì–‘ë°©í–¥ ì¸ì¦ í™•ì¸í•˜ê¸°\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në§ˆì¹¨ë‚´, ì‚¬ìš©ìê°€ ì œê³µí•œ ì¼íšŒìš© ì½”ë“œë¥¼ í™•ì¸í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬í˜„í•˜ì„¸ìš”. ì´ ë‹¨ê³„ì—ì„œëŠ” ì¸ì¦ ì•±ì—ì„œ ìƒì„±ëœ 6ìë¦¬ ì½”ë“œë¥¼ ì „ë‹¬í•˜ì—¬ ì‚¬ìš©ìì˜ ì‹ ì›ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\n// ë‘ ë‹¨ê³„ ì¸ì¦ ì½”ë“œë¥¼ ê²€ì¦í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸\napp.post('/verify-2fa', (req, res) =\u003e {\n  const { username, token } = req.body;\n\n  // ì‚¬ìš©ìëª…ìœ¼ë¡œ ì‚¬ìš©ì ì°¾ê¸°\n  const user = users.find((u) =\u003e u.username === username);\n\n  if (!user) {\n    return res.status(404).send('ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');\n  }\n\n  // í† í°ì„ ê²€ì¦í•©ë‹ˆë‹¤.\n  let totp = new OTPAuth.TOTP({\n      issuer: \"YourSite.com\",\n      label: \"YourSite\",\n      algorithm: \"SHA1\",\n      digits: 6,\n      secret: user.secret!,\n   });\n\n  let delta = totp.validate({ token });\n\n  if(delta) {\n        res.json({\n            status: \"success\",\n            message: \"ì¸ì¦ ì„±ê³µ\"\n        })\n    } else {\n        res.status(401).json({\n            status: \"fail\",\n            message: \"ì¸ì¦ ì‹¤íŒ¨\"\n        }) \n    }\n});\n```\n\n\u003cimg src=\"/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_4.png\" /\u003e\n\nì´ ê²Œì‹œë¬¼ì€ 2ë‹¨ê³„ ì¸ì¦ì˜ ê¸°ë³¸ ì„¤ì • ë° ì‚¬ìš©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆì§€ë§Œ, ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” 2FAë¥¼ í™œì„±í™”í•˜ê±°ë‚˜ ë¹„í™œì„±í™”í•˜ê±°ë‚˜ ì¸ì¦í•˜ê¸° ì „ì— ì‚¬ìš©ì ë¡œê·¸ì¸ ìƒíƒœë¥¼ ì¶”ê°€ë¡œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nMongoDB ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•œ í¬ê´„ì ì¸ ì˜ˆì œë¥¼ êµ¬ì¶•í–ˆì–´ìš”. ëª¨ë“  í•„ìˆ˜ API ì—”ë“œí¬ì¸íŠ¸ì™€ ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µí•©í–ˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ GitHub ë ˆí¬ì§€í† ë¦¬ë¥¼ ë°©ë¬¸í•´ì£¼ì„¸ìš”. https://github.com/Nik720/2fa-nodejs\n\nìµœì´ˆ ë¸”ë¡œê·¸ ê²Œì‹œ: https://codeshakti.com/how-to-implement-two-factor-authentication-using-node-js-step-by-step-guide/\n\n## ê²°ë¡ \n\nì´ ê²Œì‹œë¬¼ì—ì„œ ì„¤ëª…ëœ ê¸°ìˆ ë“¤ì¸ QR ì½”ë“œ ê¸°ë°˜ í† í° ìƒì„± ë° ì•ˆì „í•œ OTP í™•ì¸ì„ ì ìš©í•¨ìœ¼ë¡œì¨, ë¬´ë‹¨ ì ‘ê·¼ì— ëŒ€í•œ ê°•ë ¥í•œ ë°©ì–´ë§‰ì„ ë§Œë“¤ê³  Node.js ì‚¬ìš©ìì—ê²Œ ë¹„êµí•  ìˆ˜ ì—†ëŠ” ë³´í˜¸ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë¶€í„° 2FA ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ì—¬ ë” ì•ˆì „í•œ ë””ì§€í„¸ ê³µê°„ìœ¼ë¡œ ë‚˜ì•„ê°€ëŠ” ì²«ê±¸ìŒì„ ë‚´ë”›ì–´ë³´ì„¸ìš”!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ì´ ê¸€ì„ ì¦ê²¼ë‚˜ìš”?\n\në‹¤ìŒ ê¸€ì—ì„œëŠ” ë…¸ë“œ JS í´ëŸ¬ìŠ¤í„° ëª¨ë“ˆì„ í™œìš©í•˜ì—¬ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ë” ìì„¸íˆ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.\n\nì œ ê¸€ì´ ë§ˆìŒì— ë“œì…¨ë‹¤ë©´ ì•„ë˜ ì‘ì€ ğŸ‘ì„ ëˆŒëŸ¬ì£¼ì„¸ìš” (50ë²ˆ íƒ€í¬ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤). ë” ë§ì€ ê¸°ìˆ  ê¸°ì‚¬ë¥¼ ìœ„í•´ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”. ì¹œêµ¬ë“¤ ğŸ‘¦, ë™ë£Œë“¤ ğŸ‘­ ğŸ§‘â€ğŸ¤â€ğŸ§‘ ì™€ ê³µìœ í•´ì£¼ì„¸ìš”.\n\nì—¬ëŸ¬ë¶„ì˜ ì§€ì§€ë¥¼ ê°ì‚¬íˆ ë°›ê² ìŠµë‹ˆë‹¤. ğŸ’š ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ™\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì œ ë¸”ë¡œê¹… ì‚¬ì´íŠ¸ codeshakti.comì—ì„œ ê¸°ìˆ  ë¸”ë¡œê·¸ì— ëŒ€í•´ ë” ë§ì€ ì •ë³´ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.\n\nì½”ë”© ì¦ê±°ì›€ì„ ëŠë¼ì„¸ìš”... ğŸ˜","ogImage":{"url":"/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_0.png"},"coverImage":"/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_0.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003eì˜¤ëŠ˜ë‚ ì˜ ë””ì§€í„ˆ ì‹œëŒ€ì—ì„œëŠ” ë³´ì•ˆì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤, íŠ¹íˆ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš°ì—ëŠ” ë”ìš± ê·¸ë ‡ìŠµë‹ˆë‹¤. ë‘ ë‹¨ê³„ ì¸ì¦(2FA)ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³´ì•ˆì„ í–¥ìƒì‹œí‚¤ëŠ” íš¨ìœ¨ì ì¸ ê¸°ìˆ ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ ê²Œì‹œë¬¼ì€ node.js ê°œë°œìì—ê²Œ ê°€ì¹˜ ìˆëŠ” ì •ë³´ì¼ ê²ƒì´ì§€ë§Œ, ê°œë°œìê°€ ì•„ë‹ˆë”ë¼ë„ ëª¨ë“  í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ì ìš©ë˜ëŠ” ì£¼ì œì´ë¯€ë¡œ ì—¬ëŸ¬ë¶„ì—ê²Œ ë§ì€ ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤. Twilio Authy, Microsoft Authenticator, Google Authenticator ë“± ì¸ê¸°ìˆëŠ” ì¸ì¦ ì•±ì´ ë§ì´ ìˆìŠµë‹ˆë‹¤. ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” Google Authenticatorë¥¼ ì‚¬ìš©í•˜ì—¬ 2FAê°€ ë¬´ì—‡ì¸ì§€, ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆì— ì–´ë–»ê²Œ ë„ì›€ì´ ë˜ëŠ”ì§€, ê·¸ë¦¬ê³  êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ë‹¨ê³„ë³„ ì§€ì¹¨ì„ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eë‘ ë‹¨ê³„ ì¸ì¦(2FA)ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eì´ì¤‘ ì¸ì¦ ë˜ëŠ” 2FAëŠ” ì‚¬ìš©ìê°€ ìì‹ ì˜ ì‹ ì›ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ë‹¤ë¥¸ ìš”ì†Œë¥¼ ì œê³µí•´ì•¼í•˜ëŠ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ìš”ì†ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì„¸ ê°€ì§€ ë²”ì£¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì•Œê³  ìˆëŠ” ê²ƒ (ì˜ˆ: ë¹„ë°€ë²ˆí˜¸)\u003c/li\u003e\n\u003cli\u003eì†Œì§€í’ˆ (ì˜ˆ: ëª¨ë°”ì¼ ê¸°ê¸°)\u003c/li\u003e\n\u003cli\u003eë³¸ì¸ì¸ ê²ƒ (ì˜ˆ: ìƒì²´ ì¸ì‹)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì¼ë°˜ì ì¸ ì‚¬ìš©ì ì´ë¦„ ë° ë¹„ë°€ë²ˆí˜¸ ì¡°í•© ì´ì™¸ì—ë„ 2FAëŠ” ë” ë†’ì€ ìˆ˜ì¤€ì˜ ë³´ì•ˆì„ ì¶”ê°€í•©ë‹ˆë‹¤. í•´ì»¤ê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì–»ê±°ë‚˜ ì¶”ì¸¡í•´ë„ ë‘ ë²ˆì§¸ ìš”ì†Œ ì—†ì´ ê³„ì •ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eGoogle Authenticatorë¥¼ ì‚¬ìš©í•œ Node.jsì—ì„œì˜ 2FA êµ¬í˜„\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e2FAë¥¼ Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì— Google Authenticator ì•±ì„ ì‚¬ìš©í•˜ì—¬ í†µí•©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´ìš”. ì½”ë”© ë¶€ë¶„ì— ë“¤ì–´ê°€ê¸° ì „ì— ë¨¼ì € ì´ ê³¼ì •ì— í¬í•¨ëœ ë‹¨ê³„ë¥¼ ì´í•´í•´ ë´…ì‹œë‹¤.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eë¹„ë°€ í‚¤ ìƒì„±: ì‚¬ìš©ì ë“±ë¡ ì‹œë§ˆë‹¤ ê° ì‚¬ìš©ìë¥¼ ìœ„í•œ ê³ ìœ í•œ ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•´ìš”.\u003c/li\u003e\n\u003cli\u003eQR ì½”ë“œ ìƒì„±: ë¹„ë°€ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ Google Authenticator ì•±ìœ¼ë¡œ ìŠ¤ìº”í•  ìˆ˜ ìˆëŠ” QR ì½”ë“œë¥¼ ìƒì„±í•´ìš”.\u003c/li\u003e\n\u003cli\u003eì‚¬ìš©ì ì„¤ì •: ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ìì—ê²Œ QR ì½”ë“œ ë˜ëŠ” ë¹„ë°€ í‚¤ë¥¼ ì œê³µí•´ìš”. ì‚¬ìš©ìëŠ” Google Authenticator ì•±ìœ¼ë¡œ QR ì½”ë“œë¥¼ ìŠ¤ìº”í•´ì•¼ í•´ìš”.\u003c/li\u003e\n\u003cli\u003eOTP ì½”ë“œ ìƒì„±: ì„œë²„ì—ì„œ ë¹„ë°€ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œê°„ ê¸°ë°˜ ì¼íšŒìš© ì•”í˜¸(TOTP)ë¥¼ ìƒì„±í•´ìš”. ì´ ì½”ë“œëŠ” ë§¤ 30ì´ˆë§ˆë‹¤ ë°”ë€Œì–´ìš”.\u003c/li\u003e\n\u003cli\u003eì‚¬ìš©ì ì¸ì¦: ë¡œê·¸ì¸ ì‹œ ì‚¬ìš©ìëŠ” Google Authenticator ì•±ì—ì„œ ìƒì„±ëœ í˜„ì¬ OTPë¥¼ ì…ë ¥í•´ì•¼ í•´ìš”.\u003c/li\u003e\n\u003cli\u003eê²€ì¦: ì‚¬ìš©ìê°€ ì…ë ¥í•œ OTPë¥¼ ì„œë²„ì—ì„œ ìƒì„±ëœ OTPì™€ ë¹„êµí•´ìš”. ì¼ì¹˜í•˜ë©´ ì‚¬ìš©ìê°€ ì¸ì¦ë©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì´ì œ ì¬ë¯¸ìˆëŠ” ë¶€ë¶„ì´ ë‹¤ê°€ì™€ìš” :) ìš°ë¦¬ëŠ” ìœ„ ë‹¨ê³„ë“¤ì„ ëª¨ë‘ ì½”ë“œë¡œ ë³€í™˜í•  ê±°ì—ìš”.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eì–‘ë°©í–¥ ì¸ì¦ì„ êµ¬í˜„í•˜ê¸° ì „ì— ë‹¤ìŒ ì‚¬ì „ ìš”êµ¬ ì‚¬í•­ì„ ê°–ì¶”ì—ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eJavaScript ë˜ëŠ” TypeScriptì˜ ê¸°ë³¸ ì§€ì‹.\u003c/li\u003e\n\u003cli\u003eAPI ë””ìì¸ê³¼ CRUD íŒ¨í„´ì— ëŒ€í•œ ê¸°ë³¸ ì´í•´.\u003c/li\u003e\n\u003cli\u003eì‹œìŠ¤í…œì— Node.jsì˜ ìµœì‹  ë²„ì „ì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eNode.jsì™€ Expressì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eë‹¨ê³„ 1: Node.js í”„ë¡œì íŠ¸ ì„¤ì •\u003c/h2\u003e\n\u003cp\u003eì‹œì‘í•˜ê¸° ìœ„í•´ í”„ë¡œì íŠ¸ìš© ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  í„°ë¯¸ë„ì—ì„œ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œ í›„ ìƒˆ Node.js í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ê³  í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰í•´ë³´ì„¸ìš”.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003emkdir node_2fa\ncd node_2fa\nnpm init -y\nnpm install express otpauth hi-base32\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eexpress â€“ Node.js ì›¹ í”„ë ˆì„ì›Œí¬\u003c/li\u003e\n\u003cli\u003eotpauth â€“ TOTPë¥¼ ìƒì„±í•˜ê³  ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬\u003c/li\u003e\n\u003cli\u003ehi-base32 â€“ ë°ì´í„°ë¥¼ Base32 í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”© ë° ë””ì½”ë”©í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. Authenticator ì•±ì—ì„œ TOTPë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eë‹¨ê³„ 2: Express ì„œë²„ ì„¤ì •\u003c/h2\u003e\n\u003cp\u003eí”„ë¡œì íŠ¸ì— index.js íŒŒì¼ì„ ë§Œë“¤ê³  ê¸°ë³¸ express ì„œë²„ë¥¼ ì„¤ì •í•˜ì„¸ìš”.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'express'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003eexpress\u003c/span\u003e();\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e port = \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e;\n\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(express.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e());\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(express.\u003cspan class=\"hljs-title function_\"\u003eurlencoded\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003eextended\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e }));\n\napp.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n  res.\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'ì´ì¤‘ ì¸ì¦ ì˜ˆì œ'\u003c/span\u003e);\n});\n\napp.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(port, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`ì„œë²„ê°€ í¬íŠ¸ \u003cspan class=\"hljs-subst\"\u003e${port}\u003c/span\u003eì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤`\u003c/span\u003e);\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eë‹¨ê³„ 3: ì‚¬ìš©ì ë“±ë¡\u003c/h2\u003e\n\u003cp\u003eì´ ë‹¨ê³„ì—ì„œëŠ” ì‚¬ìš©ì ë“±ë¡ì„ êµ¬í˜„í•˜ê³  ì‚¬ìš©ì ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•©ë‹ˆë‹¤. ë³´í†µ ì´ë¥¼ ìœ„í•´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ì´ ì˜ˆì‹œì—ì„œëŠ” ê°„ë‹¨í•¨ì„ ìœ„í•´ ë‚´ë¶€ ë°°ì—´ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. MongoDBë¥¼ ì´ìš©í•œ í¬ê´„ì ì¸ ì˜ˆì‹œëŠ” ì œ GitHub ë ˆí¬ì§€í† ë¦¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. \u003ca href=\"https://github.com/Nik720/2fa-nodejs\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://github.com/Nik720/2fa-nodejs\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e users = [];\n\n\u003cspan class=\"hljs-comment\"\u003e// ìƒˆë¡œìš´ ì‚¬ìš©ì ë“±ë¡ì„ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003epost\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/register'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { username, password } = req.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e id = users.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e + \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-comment\"\u003e// ì‚¬ìš©ì ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥ (ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸ í¬í•¨)\u003c/span\u003e\n  users.\u003cspan class=\"hljs-title function_\"\u003epush\u003c/span\u003e({ id, username, password });\n  res.\u003cspan class=\"hljs-title function_\"\u003estatus\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e201\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e({\n    \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì„±ê³µ\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì‚¬ìš©ìê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤\"\u003c/span\u003e\n  });\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_1.png\" alt=\"Step 4: Enable Two-Way Authentication\"\u003e\u003c/p\u003e\n\u003ch2\u003eë‹¨ê³„ 4: ë‘ ê°€ì§€ ìš”ì†Œ ì¸ì¦ í™œì„±í™”\u003c/h2\u003e\n\u003cp\u003eì´ì œ otpauth ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°€ì§€ ìš”ì¸ ì¸ì¦ì„ êµ¬ì¶•í•´ ë´…ì‹œë‹¤. ì‚¬ìš©ìê°€ ì¸ì¦ ì•±ìœ¼ë¡œ ìŠ¤ìº”í•  ìˆ˜ìˆëŠ” QR ì½”ë“œë¥¼ í‘œì‹œí•˜ê³  ì¼íšŒìš© ì½”ë“œë¥¼ í™•ì¸í•˜ëŠ” ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì´ í”„ë¡œì„¸ìŠ¤ì˜ ë‹¨ê³„ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOTPAuth\u003c/span\u003e = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"otpauth\"\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e encode = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"hi-base32\"\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eQRCode\u003c/span\u003e = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'qrcode'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// ë‘ ê°€ì§€ ìš”ì†Œ ì¸ì¦ í™œì„±í™”ë¥¼ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003epost\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/enable-2fa'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { username } = req.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-comment\"\u003e// ì‚¬ìš©ìë¥¼ ì‚¬ìš©ì ì´ë¦„ìœ¼ë¡œ ì°¾ê¸° (ì—¬ê¸°ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨)\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e user = users.\u003cspan class=\"hljs-title function_\"\u003efind\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eu\u003c/span\u003e) =\u003e\u003c/span\u003e u.\u003cspan class=\"hljs-property\"\u003eusername\u003c/span\u003e === username);\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!user) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e res.\u003cspan class=\"hljs-title function_\"\u003estatus\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e404\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'\u003c/span\u003e);\n  }\n\n  \u003cspan class=\"hljs-comment\"\u003e// ì‚¬ìš©ìë¥¼ ìœ„í•œ ë¹„ë°€ í‚¤ ìƒì„±\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e base32_secret = \u003cspan class=\"hljs-title function_\"\u003egenerateBase32Secret\u003c/span\u003e();\n  user.\u003cspan class=\"hljs-property\"\u003esecret\u003c/span\u003e = base32_secret;\n\n  \u003cspan class=\"hljs-comment\"\u003e// ì‚¬ìš©ìê°€ ìŠ¤ìº”í•  QR ì½”ë“œ URL ìƒì„±\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e totp = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOTPAuth\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eTOTP\u003c/span\u003e({\n      \u003cspan class=\"hljs-attr\"\u003eissuer\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"YourSite.com\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"YourSite\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ealgorithm\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"SHA1\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003edigits\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003esecret\u003c/span\u003e: base32_secret,\n  });\n\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e otpauth_url = totp.\u003cspan class=\"hljs-title function_\"\u003etoString\u003c/span\u003e();\n\n  \u003cspan class=\"hljs-comment\"\u003e// ìƒì„±ëœ QR ì½”ë“œë¥¼ ì‘ë‹µìœ¼ë¡œ ë³´ë‚´ê¸°\u003c/span\u003e\n  \u003cspan class=\"hljs-title class_\"\u003eQRCode\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etoDataURL\u003c/span\u003e(otpauth_url, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerr\u003c/span\u003e) =\u003e\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(err) {\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e res.\u003cspan class=\"hljs-title function_\"\u003estatus\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e({\n                \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'fail'\u003c/span\u003e,\n                \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"QR ì½”ë“œ ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ\"\u003c/span\u003e\n            })\n        }\n        res.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e({\n            \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"success\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003edata\u003c/span\u003e: {\n                \u003cspan class=\"hljs-attr\"\u003eqrCodeUrl\u003c/span\u003e: qrUrl,\n                \u003cspan class=\"hljs-attr\"\u003esecret\u003c/span\u003e: base32_secret\n            }\n        })\n    })\n});\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egenerateBase32Secret\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e buffer = crypto.\u003cspan class=\"hljs-title function_\"\u003erandomBytes\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e base32 = \u003cspan class=\"hljs-title function_\"\u003eencode\u003c/span\u003e(buffer).\u003cspan class=\"hljs-title function_\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/=/g\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003esubstring\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e base32;\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eìœ„ ì½”ë“œ ìŠ¤ë‹ˆí«ì—ì„œ ê°œë°œí•œ GenerateBase32Secret() ë©”ì„œë“œëŠ” base32ë¡œ ì¸ì½”ë”©ëœ ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ í‚¤ëŠ” TOTP ìƒì„± ë©”ì»¤ë‹ˆì¦˜ì˜ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œì…ë‹ˆë‹¤. ë˜í•œ í•„ìš”í•œ ì¸ìˆ˜ë¡œ ì¸ìŠ¤í„´ìŠ¤í™” í•œ í›„ì— totpvariableì— OTPAuth.TOTP í´ë˜ìŠ¤ë¥¼ í• ë‹¹í–ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë‹¤ìŒìœ¼ë¡œ, totp.toString() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ TOTP Auth URLì„ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤. QR ì½”ë“œë¥¼ ìƒì„±í•˜ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ TOTP ì¸ì¦ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì¸ì½”ë”©ëœ ë¹„ë°€ê³¼ í•„ìš”í•œ ì„¤ì •ì€ ì´ URLì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ë¯¸ë˜ì— ì´ëŸ¬í•œ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ base32 ë¹„ë°€ ë¬¸ìì—´ì„ ì‚¬ìš©ì ê°ì²´ì— ì €ì¥í–ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œëŠ” QR ì½”ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ otpauth_urlë¡œ QR ì½”ë“œë¥¼ ë§Œë“¤ê³  JSON ì‘ë‹µì— QR ì½”ë“œ URLê³¼ base32 ë¹„ë°€ ë¬¸ìì—´ì„ ë°˜í™˜í–ˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì´ëŸ¬í•œ ê°’ì„ ë°˜í™˜í•¨ìœ¼ë¡œì¨ í´ë¼ì´ì–¸íŠ¸ ì¸¡ êµ¬í˜„ì„ ìœ ì—°í•˜ê³  ì‰½ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ëŠ” base32 ë¹„ë°€ ë¬¸ìì—´ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ì¸ì¦ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìŠ¤ìº”í•˜ì—¬ QR ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë ¨ TOTP í† í°ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eì¸ì¦ í™•ì¸ì˜ ë§ˆì§€ë§‰ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ê¸° ì „ì—, ë¨¼ì € ì¸ì¦ ì•±ì„ êµ¬ì„±í•˜ì—¬ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ í† í°ìœ¼ë¡œ ì œê³µë  6ìë¦¬ ì½”ë“œë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eGoogle Authenticator ì•±ì„ í™œì„±í™”í•˜ê¸° ìœ„í•´ ì¤‘ìš”í•œ ëª‡ ê°€ì§€ ë‹¨ê³„ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¥¼ í¸ë¦¬í•˜ê²Œ í•˜ê¸° ìœ„í•´ ì—¬ê¸°ì„œëŠ” Chrome í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. APIì—ì„œ ì œê³µëœ base64 ë¹„ë°€ì„ ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•˜ê±°ë‚˜ ê³„ì •ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ QR ì½”ë“œë¥¼ ìŠ¤ìº”í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_3.png\" alt=\"2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_3.png\"\u003e\u003c/p\u003e\n\u003ch2\u003eë‹¨ê³„ 5: ì–‘ë°©í–¥ ì¸ì¦ í™•ì¸í•˜ê¸°\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eë§ˆì¹¨ë‚´, ì‚¬ìš©ìê°€ ì œê³µí•œ ì¼íšŒìš© ì½”ë“œë¥¼ í™•ì¸í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬í˜„í•˜ì„¸ìš”. ì´ ë‹¨ê³„ì—ì„œëŠ” ì¸ì¦ ì•±ì—ì„œ ìƒì„±ëœ 6ìë¦¬ ì½”ë“œë¥¼ ì „ë‹¬í•˜ì—¬ ì‚¬ìš©ìì˜ ì‹ ì›ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// ë‘ ë‹¨ê³„ ì¸ì¦ ì½”ë“œë¥¼ ê²€ì¦í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003epost\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/verify-2fa'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { username, token } = req.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-comment\"\u003e// ì‚¬ìš©ìëª…ìœ¼ë¡œ ì‚¬ìš©ì ì°¾ê¸°\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e user = users.\u003cspan class=\"hljs-title function_\"\u003efind\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eu\u003c/span\u003e) =\u003e\u003c/span\u003e u.\u003cspan class=\"hljs-property\"\u003eusername\u003c/span\u003e === username);\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!user) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e res.\u003cspan class=\"hljs-title function_\"\u003estatus\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e404\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤'\u003c/span\u003e);\n  }\n\n  \u003cspan class=\"hljs-comment\"\u003e// í† í°ì„ ê²€ì¦í•©ë‹ˆë‹¤.\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e totp = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOTPAuth\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eTOTP\u003c/span\u003e({\n      \u003cspan class=\"hljs-attr\"\u003eissuer\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"YourSite.com\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003elabel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"YourSite\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ealgorithm\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"SHA1\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003edigits\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003esecret\u003c/span\u003e: user.\u003cspan class=\"hljs-property\"\u003esecret\u003c/span\u003e!,\n   });\n\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e delta = totp.\u003cspan class=\"hljs-title function_\"\u003evalidate\u003c/span\u003e({ token });\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(delta) {\n        res.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e({\n            \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"success\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì¸ì¦ ì„±ê³µ\"\u003c/span\u003e\n        })\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        res.\u003cspan class=\"hljs-title function_\"\u003estatus\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e401\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e({\n            \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"fail\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì¸ì¦ ì‹¤íŒ¨\"\u003c/span\u003e\n        }) \n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cimg src=\"/assets/img/2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide_4.png\"\u003e\n\u003cp\u003eì´ ê²Œì‹œë¬¼ì€ 2ë‹¨ê³„ ì¸ì¦ì˜ ê¸°ë³¸ ì„¤ì • ë° ì‚¬ìš©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆì§€ë§Œ, ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” 2FAë¥¼ í™œì„±í™”í•˜ê±°ë‚˜ ë¹„í™œì„±í™”í•˜ê±°ë‚˜ ì¸ì¦í•˜ê¸° ì „ì— ì‚¬ìš©ì ë¡œê·¸ì¸ ìƒíƒœë¥¼ ì¶”ê°€ë¡œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eMongoDB ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•œ í¬ê´„ì ì¸ ì˜ˆì œë¥¼ êµ¬ì¶•í–ˆì–´ìš”. ëª¨ë“  í•„ìˆ˜ API ì—”ë“œí¬ì¸íŠ¸ì™€ ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µí•©í–ˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ GitHub ë ˆí¬ì§€í† ë¦¬ë¥¼ ë°©ë¬¸í•´ì£¼ì„¸ìš”. \u003ca href=\"https://github.com/Nik720/2fa-nodejs\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://github.com/Nik720/2fa-nodejs\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eìµœì´ˆ ë¸”ë¡œê·¸ ê²Œì‹œ: \u003ca href=\"https://codeshakti.com/how-to-implement-two-factor-authentication-using-node-js-step-by-step-guide/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://codeshakti.com/how-to-implement-two-factor-authentication-using-node-js-step-by-step-guide/\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eê²°ë¡ \u003c/h2\u003e\n\u003cp\u003eì´ ê²Œì‹œë¬¼ì—ì„œ ì„¤ëª…ëœ ê¸°ìˆ ë“¤ì¸ QR ì½”ë“œ ê¸°ë°˜ í† í° ìƒì„± ë° ì•ˆì „í•œ OTP í™•ì¸ì„ ì ìš©í•¨ìœ¼ë¡œì¨, ë¬´ë‹¨ ì ‘ê·¼ì— ëŒ€í•œ ê°•ë ¥í•œ ë°©ì–´ë§‰ì„ ë§Œë“¤ê³  Node.js ì‚¬ìš©ìì—ê²Œ ë¹„êµí•  ìˆ˜ ì—†ëŠ” ë³´í˜¸ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë¶€í„° 2FA ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ì—¬ ë” ì•ˆì „í•œ ë””ì§€í„¸ ê³µê°„ìœ¼ë¡œ ë‚˜ì•„ê°€ëŠ” ì²«ê±¸ìŒì„ ë‚´ë”›ì–´ë³´ì„¸ìš”!\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003eì´ ê¸€ì„ ì¦ê²¼ë‚˜ìš”?\u003c/h1\u003e\n\u003cp\u003eë‹¤ìŒ ê¸€ì—ì„œëŠ” ë…¸ë“œ JS í´ëŸ¬ìŠ¤í„° ëª¨ë“ˆì„ í™œìš©í•˜ì—¬ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ë” ìì„¸íˆ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì œ ê¸€ì´ ë§ˆìŒì— ë“œì…¨ë‹¤ë©´ ì•„ë˜ ì‘ì€ ğŸ‘ì„ ëˆŒëŸ¬ì£¼ì„¸ìš” (50ë²ˆ íƒ€í¬ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤). ë” ë§ì€ ê¸°ìˆ  ê¸°ì‚¬ë¥¼ ìœ„í•´ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”. ì¹œêµ¬ë“¤ ğŸ‘¦, ë™ë£Œë“¤ ğŸ‘­ ğŸ§‘â€ğŸ¤â€ğŸ§‘ ì™€ ê³µìœ í•´ì£¼ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003eì—¬ëŸ¬ë¶„ì˜ ì§€ì§€ë¥¼ ê°ì‚¬íˆ ë°›ê² ìŠµë‹ˆë‹¤. ğŸ’š ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ™\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eì œ ë¸”ë¡œê¹… ì‚¬ì´íŠ¸ codeshakti.comì—ì„œ ê¸°ìˆ  ë¸”ë¡œê·¸ì— ëŒ€í•´ ë” ë§ì€ ì •ë³´ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003eì½”ë”© ì¦ê±°ì›€ì„ ëŠë¼ì„¸ìš”... ğŸ˜\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-23-HowtoImplementTwo-FactorAuthenticationusingNodejsStep-by-StepGuide"},"buildId":"Y-fCAg8BUV7y2HNFwX9AA","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>