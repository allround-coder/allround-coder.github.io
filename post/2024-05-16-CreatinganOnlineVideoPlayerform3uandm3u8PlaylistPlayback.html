<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>m3u 및 m3u8 재생목록 재생을 위한 온라인 비디오 플레이어 만들기 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="m3u 및 m3u8 재생목록 재생을 위한 온라인 비디오 플레이어 만들기 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="m3u 및 m3u8 재생목록 재생을 위한 온라인 비디오 플레이어 만들기 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback" data-gatsby-head="true"/><meta name="twitter:title" content="m3u 및 m3u8 재생목록 재생을 위한 온라인 비디오 플레이어 만들기 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-16 17:04" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cd012fc8787133d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cd012fc8787133d0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/551-3069cf29fe274aab.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-985df180e46efe53.js" defer=""></script><script src="/_next/static/uXJWf9GNc_Ux38RlnQJQc/_buildManifest.js" defer=""></script><script src="/_next/static/uXJWf9GNc_Ux38RlnQJQc/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">m3u 및 m3u8 재생목록 재생을 위한 온라인 비디오 플레이어 만들기</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="m3u 및 m3u8 재생목록 재생을 위한 온라인 비디오 플레이어 만들기" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/assets/profile.jpg"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 16, 2024</span><span class="posts_reading_time__f7YPP">4<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><p>저는 m3u 및 m3u8 형식의 재생 목록을 재생할 수 있는 플레이어를 만든 경험을 공유하고 싶어요.</p>
<p>아이디어의 기원</p>
<p>몇 년 전, 축구 중계 시청이 비싼 구독료나 많은 광고로 제한되어 있을 때, 작은 비용으로 다양한 채널을 제공하는 서비스를 사용하기 시작했어요. 해당 서비스는 m3u8 형식의 파일을 제공했죠. iOS에서는 이 형식의 재생 목록을 재생하는 옵션이 제한되어 있었어요: 사용 가능한 앱은 유료이거나 세션 당 여러 차례 보이는 광고로 가득 찼었어요. 또한, 서비스에서 제공한 파일을 파싱할 수 없는 VLC 플레이어 문제도 있었고 OttPlayer는 일시적으로 앱 스토어에서 사라져 있었는데 (지금은 다시 이용 가능해요), 이러한 상황으로 인해 나만의 플레이어를 만들게 되었어요.</p>
<p>첫 번째 버전의 개발</p>
<div class="content-ad"></div>
<p>세 개월 동안 플레이어의 첫 번째 버전을 개발했어요. 디자인과 네비게이션은 인기 앱에서 영감을 받았어요. 애플리케이션의 아이콘은 스톡 자원에서 구매하고, 앱 아이콘은 온라인 편집기를 사용하여 만들었어요. iOS의 내장 AVPlayerViewController를 비디오 재생의 기초로 선택했어요. 처음 몇 달 동안 앱은 다운로드 숫자가 적었지만, 아시아 블로거가 자신의 텔레그램 채널에서 언급한 후 상황이 바뀌었어요.</p>
<p><img src="/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_0.png" alt="이미지"/></p>
<p>개선사항과 새로운 기능</p>
<p>이후에 플레이리스트 작업을 위한 많은 기능이 추가되었어요. 검색, 편집, 링크 기반로딩을 포함해서 말이에요. 하지만 이는 다운로드의 큰 증가로 이어지지 않았어요. 그래서 사용자 정의와 비디오 로딩/버퍼링 추적에 관한 문제점을 해결하여 플레이어를 개선하기로 결정했어요.</p>
<div class="content-ad"></div>
<p>기존 AVPlayer를 기반으로 한 향상된 플레이어가 만들어졌으며 전체 화면 모드, AirPlay 기능 및 화면 내 화면 모드를 지원합니다. 새 버전은 앱의 안정성을 향상시키고 비디오 로딩 상태를 추적하거나 플레이어에 새 기능을 추가하는 문제를 해결했습니다. 이 라이브러리는 MIT 라이선스 하에 링크를 통해 사용할 수 있습니다.</p>
<p>사용자 정의 플레이어 버전으로 전환한 후, 안정성 비율(크래시 없음)이 95%로 감소했습니다. 스택 추적을 분석해도 명확한 해결책을 제시하지 않았고, 에러를 내 기기에서 재현할 수 없었습니다. 로딩 프로세스를 추적하기 위해 KVO를 사용한 부분에 의심이 생겼습니다. KVO 구독의 존재를 기록하는 변수를 추가함으로써 문제를 해결했습니다. 이는 구독해지 프로세스를 적절히 관리할 수 있도록 했습니다. 이 핫픽스를 구현하면 크래시가 완전히 없어졌습니다.</p>
<p>형식 지원 확장</p>
<p>AVPlayer는 다양한 비디오 형식을 지원하지 않습니다. 이로 인해 일부 채널에서는 재생되지 않거나 다른 채널은 오디오는 있지만 비디오가 없는 경우가 있습니다. 이 문제에 대한 해결책을 찾는 과정에서 LGPLv2.1 라이선스 하에 배포되는 오픈 소스 VLC 플레이어를 찾았습니다. 이 라이선스로 인해 소프트웨어 상에서 라이브러리를 사용할 수 있지만 해당 변경 사항이 있을 경우 라이브러리를 오픈해야 하는 제약이 있음을 이해하는 데 시간이 걸렸습니다. 이에 반해 GPLv2는 모든 코드를 동일한 라이선스 하에 공개해야 하지만 해당 변경 사항을 공개해야 하는 요구는 없습니다.</p>
<div class="content-ad"></div>
<p>VLCKit 통합에 관한 이슈입니다. VLCKit은 Cocoapods와 Carthage를 통해 설치가 가능하지만, 제 프로젝트는 Swift Package Manager (SPM)를 사용하고 있습니다. GitHub에서 VLCKit을 SPM용으로 패키징한 저장소를 발견했지만, 최신 버전의 라이브러리를 포함하고 있지 않았습니다. 그래서 포크를 생성하고 VLCKit을 최신 버전으로 업데이트했습니다.</p>
<p>이제는 라이브러리를 프로젝트에 통합하는 일만 남았습니다. 구독을 통해 별도의 향상된 플레이어를 개발 및 판매하려는 아이디어가 있었지만, VLCKit은 PIP(화면 내 화면) 기능을 지원하지 않았고, AirPlay 기능도 오디오만 전송했습니다. 결과적으로 AVPlayer를 기반으로 한 플레이어를 사용하여 링크를 열기로 결정했습니다. 재생이 실패하거나 비디오 스트림이 누락된 경우에는 VLCKit이 도움을 줍니다. 만약 VLCKit도 실패한다면 사용자에게 채널을 이용할 수 없다는 안내가 제공됩니다. VLC 지원을 한 라이브러리는 여기에서 이용 가능합니다.</p>
<p>일부 수치</p>
<p>앱의 대부분 사용자는 중국과 러시아에 있지만, 지난 달 미국의 다운로드가 크게 증가했습니다. 트래픽 유입에 투자하지 않았습니다. 지역화 전략과 사용자가 리뷰를 남길 수 있는 새로운 기능 도입이 특히 효과적이었습니다. 피드백 수집을 위해 앱 내평가 시스템을 사용하고 있지만, 대부분의 사용자가 텍스트 리뷰 대신 앱에 평가를 내리고 있습니다. 앞으로 사용자들이 적극적으로 리뷰를 작성하도록 유도하는 매커니즘을 개발해야 하며, 이는 앱 스토어에서 앱의 가시성 향상에 도움이 될 것입니다.</p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_1.png" alt="image1"/></p>
<p><img src="/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_2.png" alt="image2"/></p>
<p><img src="/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_3.png" alt="image3"/></p>
<p><img src="/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_4.png" alt="image4"/></p>
<div class="content-ad"></div>
<p>Monetization</p>
<p>저는 AdMob에서 세 가지 유형의 광고를 실험해 보았습니다: 피드에 통합된 네이티브 광고, 인터스티셜 광고 및 앱 오픈 광고입니다. 처음에는 네이티브 광고를 사용했지만 수익은 미미했습니다. 그런 다음 앱 오픈 광고로 전환했는데, 지표가 약간 향상되었지만 여전히 기대에 못 미쳤습니다. 마지막으로 사용한 것은 인터스티셜 광고였습니다. 앱 오픈 광고가 앱 시작 시 표시되는 용도라는 것을 고려하면 이상적이지는 않지만, 그들의 eCPM은 상당히 높았습니다. 현재 앱을 열 때 3시간마다 한 번 광고가 표시됩니다.</p>
<p><img src="/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_5.png" alt="이미지"/></p>
<p>프로젝트 개발을 위한 계획은 무엇입니까?</p>
<div class="content-ad"></div>
<p>먼저, 플랜은 온보딩을 추가하는 것입니다. 이를 통해 인터넷에서 재생 목록을 검색하는 방법을 설명하고, 가능하다면 비디오를 통해 시연할 것입니다. 애플의 가이드라인에 따라 비디오가 거절될 수 있지만 시도해 볼 가치가 있습니다. 추가로 비디오 재생을 멈추는 타이머가 도입되고, 화면 방향 잠금 기능도 추가될 예정입니다.</p>
<p>여기까지 입니다. 주목해 주셔서 감사합니다!</p>
<p>PS: 앱 링크입니다.</p></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"m3u 및 m3u8 재생목록 재생을 위한 온라인 비디오 플레이어 만들기","description":"","date":"2024-05-16 17:04","slug":"2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback","content":"\n\n저는 m3u 및 m3u8 형식의 재생 목록을 재생할 수 있는 플레이어를 만든 경험을 공유하고 싶어요.\n\n아이디어의 기원\n\n몇 년 전, 축구 중계 시청이 비싼 구독료나 많은 광고로 제한되어 있을 때, 작은 비용으로 다양한 채널을 제공하는 서비스를 사용하기 시작했어요. 해당 서비스는 m3u8 형식의 파일을 제공했죠. iOS에서는 이 형식의 재생 목록을 재생하는 옵션이 제한되어 있었어요: 사용 가능한 앱은 유료이거나 세션 당 여러 차례 보이는 광고로 가득 찼었어요. 또한, 서비스에서 제공한 파일을 파싱할 수 없는 VLC 플레이어 문제도 있었고 OttPlayer는 일시적으로 앱 스토어에서 사라져 있었는데 (지금은 다시 이용 가능해요), 이러한 상황으로 인해 나만의 플레이어를 만들게 되었어요.\n\n첫 번째 버전의 개발\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n세 개월 동안 플레이어의 첫 번째 버전을 개발했어요. 디자인과 네비게이션은 인기 앱에서 영감을 받았어요. 애플리케이션의 아이콘은 스톡 자원에서 구매하고, 앱 아이콘은 온라인 편집기를 사용하여 만들었어요. iOS의 내장 AVPlayerViewController를 비디오 재생의 기초로 선택했어요. 처음 몇 달 동안 앱은 다운로드 숫자가 적었지만, 아시아 블로거가 자신의 텔레그램 채널에서 언급한 후 상황이 바뀌었어요.\n\n![이미지](/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_0.png)\n\n개선사항과 새로운 기능\n\n이후에 플레이리스트 작업을 위한 많은 기능이 추가되었어요. 검색, 편집, 링크 기반로딩을 포함해서 말이에요. 하지만 이는 다운로드의 큰 증가로 이어지지 않았어요. 그래서 사용자 정의와 비디오 로딩/버퍼링 추적에 관한 문제점을 해결하여 플레이어를 개선하기로 결정했어요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n기존 AVPlayer를 기반으로 한 향상된 플레이어가 만들어졌으며 전체 화면 모드, AirPlay 기능 및 화면 내 화면 모드를 지원합니다. 새 버전은 앱의 안정성을 향상시키고 비디오 로딩 상태를 추적하거나 플레이어에 새 기능을 추가하는 문제를 해결했습니다. 이 라이브러리는 MIT 라이선스 하에 링크를 통해 사용할 수 있습니다.\n\n사용자 정의 플레이어 버전으로 전환한 후, 안정성 비율(크래시 없음)이 95%로 감소했습니다. 스택 추적을 분석해도 명확한 해결책을 제시하지 않았고, 에러를 내 기기에서 재현할 수 없었습니다. 로딩 프로세스를 추적하기 위해 KVO를 사용한 부분에 의심이 생겼습니다. KVO 구독의 존재를 기록하는 변수를 추가함으로써 문제를 해결했습니다. 이는 구독해지 프로세스를 적절히 관리할 수 있도록 했습니다. 이 핫픽스를 구현하면 크래시가 완전히 없어졌습니다.\n\n형식 지원 확장\n\nAVPlayer는 다양한 비디오 형식을 지원하지 않습니다. 이로 인해 일부 채널에서는 재생되지 않거나 다른 채널은 오디오는 있지만 비디오가 없는 경우가 있습니다. 이 문제에 대한 해결책을 찾는 과정에서 LGPLv2.1 라이선스 하에 배포되는 오픈 소스 VLC 플레이어를 찾았습니다. 이 라이선스로 인해 소프트웨어 상에서 라이브러리를 사용할 수 있지만 해당 변경 사항이 있을 경우 라이브러리를 오픈해야 하는 제약이 있음을 이해하는 데 시간이 걸렸습니다. 이에 반해 GPLv2는 모든 코드를 동일한 라이선스 하에 공개해야 하지만 해당 변경 사항을 공개해야 하는 요구는 없습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nVLCKit 통합에 관한 이슈입니다. VLCKit은 Cocoapods와 Carthage를 통해 설치가 가능하지만, 제 프로젝트는 Swift Package Manager (SPM)를 사용하고 있습니다. GitHub에서 VLCKit을 SPM용으로 패키징한 저장소를 발견했지만, 최신 버전의 라이브러리를 포함하고 있지 않았습니다. 그래서 포크를 생성하고 VLCKit을 최신 버전으로 업데이트했습니다.\n\n이제는 라이브러리를 프로젝트에 통합하는 일만 남았습니다. 구독을 통해 별도의 향상된 플레이어를 개발 및 판매하려는 아이디어가 있었지만, VLCKit은 PIP(화면 내 화면) 기능을 지원하지 않았고, AirPlay 기능도 오디오만 전송했습니다. 결과적으로 AVPlayer를 기반으로 한 플레이어를 사용하여 링크를 열기로 결정했습니다. 재생이 실패하거나 비디오 스트림이 누락된 경우에는 VLCKit이 도움을 줍니다. 만약 VLCKit도 실패한다면 사용자에게 채널을 이용할 수 없다는 안내가 제공됩니다. VLC 지원을 한 라이브러리는 여기에서 이용 가능합니다.\n\n일부 수치\n\n앱의 대부분 사용자는 중국과 러시아에 있지만, 지난 달 미국의 다운로드가 크게 증가했습니다. 트래픽 유입에 투자하지 않았습니다. 지역화 전략과 사용자가 리뷰를 남길 수 있는 새로운 기능 도입이 특히 효과적이었습니다. 피드백 수집을 위해 앱 내평가 시스템을 사용하고 있지만, 대부분의 사용자가 텍스트 리뷰 대신 앱에 평가를 내리고 있습니다. 앞으로 사용자들이 적극적으로 리뷰를 작성하도록 유도하는 매커니즘을 개발해야 하며, 이는 앱 스토어에서 앱의 가시성 향상에 도움이 될 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image1](/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_1.png)\n\n![image2](/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_2.png)\n\n![image3](/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_3.png)\n\n![image4](/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_4.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nMonetization\n\n저는 AdMob에서 세 가지 유형의 광고를 실험해 보았습니다: 피드에 통합된 네이티브 광고, 인터스티셜 광고 및 앱 오픈 광고입니다. 처음에는 네이티브 광고를 사용했지만 수익은 미미했습니다. 그런 다음 앱 오픈 광고로 전환했는데, 지표가 약간 향상되었지만 여전히 기대에 못 미쳤습니다. 마지막으로 사용한 것은 인터스티셜 광고였습니다. 앱 오픈 광고가 앱 시작 시 표시되는 용도라는 것을 고려하면 이상적이지는 않지만, 그들의 eCPM은 상당히 높았습니다. 현재 앱을 열 때 3시간마다 한 번 광고가 표시됩니다.\n\n![이미지](/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_5.png)\n\n프로젝트 개발을 위한 계획은 무엇입니까?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n먼저, 플랜은 온보딩을 추가하는 것입니다. 이를 통해 인터넷에서 재생 목록을 검색하는 방법을 설명하고, 가능하다면 비디오를 통해 시연할 것입니다. 애플의 가이드라인에 따라 비디오가 거절될 수 있지만 시도해 볼 가치가 있습니다. 추가로 비디오 재생을 멈추는 타이머가 도입되고, 화면 방향 잠금 기능도 추가될 예정입니다.\n\n여기까지 입니다. 주목해 주셔서 감사합니다!\n\nPS: 앱 링크입니다.","ogImage":{"url":"/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_0.png"},"coverImage":"/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_0.png","tag":["Tech"],"readingTime":4},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"저는 m3u 및 m3u8 형식의 재생 목록을 재생할 수 있는 플레이어를 만든 경험을 공유하고 싶어요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"아이디어의 기원\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"몇 년 전, 축구 중계 시청이 비싼 구독료나 많은 광고로 제한되어 있을 때, 작은 비용으로 다양한 채널을 제공하는 서비스를 사용하기 시작했어요. 해당 서비스는 m3u8 형식의 파일을 제공했죠. iOS에서는 이 형식의 재생 목록을 재생하는 옵션이 제한되어 있었어요: 사용 가능한 앱은 유료이거나 세션 당 여러 차례 보이는 광고로 가득 찼었어요. 또한, 서비스에서 제공한 파일을 파싱할 수 없는 VLC 플레이어 문제도 있었고 OttPlayer는 일시적으로 앱 스토어에서 사라져 있었는데 (지금은 다시 이용 가능해요), 이러한 상황으로 인해 나만의 플레이어를 만들게 되었어요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"첫 번째 버전의 개발\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"세 개월 동안 플레이어의 첫 번째 버전을 개발했어요. 디자인과 네비게이션은 인기 앱에서 영감을 받았어요. 애플리케이션의 아이콘은 스톡 자원에서 구매하고, 앱 아이콘은 온라인 편집기를 사용하여 만들었어요. iOS의 내장 AVPlayerViewController를 비디오 재생의 기초로 선택했어요. 처음 몇 달 동안 앱은 다운로드 숫자가 적었지만, 아시아 블로거가 자신의 텔레그램 채널에서 언급한 후 상황이 바뀌었어요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_0.png\",\n        alt: \"이미지\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"개선사항과 새로운 기능\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이후에 플레이리스트 작업을 위한 많은 기능이 추가되었어요. 검색, 편집, 링크 기반로딩을 포함해서 말이에요. 하지만 이는 다운로드의 큰 증가로 이어지지 않았어요. 그래서 사용자 정의와 비디오 로딩/버퍼링 추적에 관한 문제점을 해결하여 플레이어를 개선하기로 결정했어요.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"기존 AVPlayer를 기반으로 한 향상된 플레이어가 만들어졌으며 전체 화면 모드, AirPlay 기능 및 화면 내 화면 모드를 지원합니다. 새 버전은 앱의 안정성을 향상시키고 비디오 로딩 상태를 추적하거나 플레이어에 새 기능을 추가하는 문제를 해결했습니다. 이 라이브러리는 MIT 라이선스 하에 링크를 통해 사용할 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"사용자 정의 플레이어 버전으로 전환한 후, 안정성 비율(크래시 없음)이 95%로 감소했습니다. 스택 추적을 분석해도 명확한 해결책을 제시하지 않았고, 에러를 내 기기에서 재현할 수 없었습니다. 로딩 프로세스를 추적하기 위해 KVO를 사용한 부분에 의심이 생겼습니다. KVO 구독의 존재를 기록하는 변수를 추가함으로써 문제를 해결했습니다. 이는 구독해지 프로세스를 적절히 관리할 수 있도록 했습니다. 이 핫픽스를 구현하면 크래시가 완전히 없어졌습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"형식 지원 확장\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"AVPlayer는 다양한 비디오 형식을 지원하지 않습니다. 이로 인해 일부 채널에서는 재생되지 않거나 다른 채널은 오디오는 있지만 비디오가 없는 경우가 있습니다. 이 문제에 대한 해결책을 찾는 과정에서 LGPLv2.1 라이선스 하에 배포되는 오픈 소스 VLC 플레이어를 찾았습니다. 이 라이선스로 인해 소프트웨어 상에서 라이브러리를 사용할 수 있지만 해당 변경 사항이 있을 경우 라이브러리를 오픈해야 하는 제약이 있음을 이해하는 데 시간이 걸렸습니다. 이에 반해 GPLv2는 모든 코드를 동일한 라이선스 하에 공개해야 하지만 해당 변경 사항을 공개해야 하는 요구는 없습니다.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"VLCKit 통합에 관한 이슈입니다. VLCKit은 Cocoapods와 Carthage를 통해 설치가 가능하지만, 제 프로젝트는 Swift Package Manager (SPM)를 사용하고 있습니다. GitHub에서 VLCKit을 SPM용으로 패키징한 저장소를 발견했지만, 최신 버전의 라이브러리를 포함하고 있지 않았습니다. 그래서 포크를 생성하고 VLCKit을 최신 버전으로 업데이트했습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제는 라이브러리를 프로젝트에 통합하는 일만 남았습니다. 구독을 통해 별도의 향상된 플레이어를 개발 및 판매하려는 아이디어가 있었지만, VLCKit은 PIP(화면 내 화면) 기능을 지원하지 않았고, AirPlay 기능도 오디오만 전송했습니다. 결과적으로 AVPlayer를 기반으로 한 플레이어를 사용하여 링크를 열기로 결정했습니다. 재생이 실패하거나 비디오 스트림이 누락된 경우에는 VLCKit이 도움을 줍니다. 만약 VLCKit도 실패한다면 사용자에게 채널을 이용할 수 없다는 안내가 제공됩니다. VLC 지원을 한 라이브러리는 여기에서 이용 가능합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"일부 수치\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"앱의 대부분 사용자는 중국과 러시아에 있지만, 지난 달 미국의 다운로드가 크게 증가했습니다. 트래픽 유입에 투자하지 않았습니다. 지역화 전략과 사용자가 리뷰를 남길 수 있는 새로운 기능 도입이 특히 효과적이었습니다. 피드백 수집을 위해 앱 내평가 시스템을 사용하고 있지만, 대부분의 사용자가 텍스트 리뷰 대신 앱에 평가를 내리고 있습니다. 앞으로 사용자들이 적극적으로 리뷰를 작성하도록 유도하는 매커니즘을 개발해야 하며, 이는 앱 스토어에서 앱의 가시성 향상에 도움이 될 것입니다.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_1.png\",\n        alt: \"image1\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_2.png\",\n        alt: \"image2\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_3.png\",\n        alt: \"image3\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_4.png\",\n        alt: \"image4\"\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Monetization\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"저는 AdMob에서 세 가지 유형의 광고를 실험해 보았습니다: 피드에 통합된 네이티브 광고, 인터스티셜 광고 및 앱 오픈 광고입니다. 처음에는 네이티브 광고를 사용했지만 수익은 미미했습니다. 그런 다음 앱 오픈 광고로 전환했는데, 지표가 약간 향상되었지만 여전히 기대에 못 미쳤습니다. 마지막으로 사용한 것은 인터스티셜 광고였습니다. 앱 오픈 광고가 앱 시작 시 표시되는 용도라는 것을 고려하면 이상적이지는 않지만, 그들의 eCPM은 상당히 높았습니다. 현재 앱을 열 때 3시간마다 한 번 광고가 표시됩니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback_5.png\",\n        alt: \"이미지\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"프로젝트 개발을 위한 계획은 무엇입니까?\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"먼저, 플랜은 온보딩을 추가하는 것입니다. 이를 통해 인터넷에서 재생 목록을 검색하는 방법을 설명하고, 가능하다면 비디오를 통해 시연할 것입니다. 애플의 가이드라인에 따라 비디오가 거절될 수 있지만 시도해 볼 가치가 있습니다. 추가로 비디오 재생을 멈추는 타이머가 도입되고, 화면 방향 잠금 기능도 추가될 예정입니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"여기까지 입니다. 주목해 주셔서 감사합니다!\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"PS: 앱 링크입니다.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-16-CreatinganOnlineVideoPlayerform3uandm3u8PlaylistPlayback"},"buildId":"uXJWf9GNc_Ux38RlnQJQc","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>