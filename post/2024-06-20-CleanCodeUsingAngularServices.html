<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ì•µê·¤ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ê¹”ë”í•œ ì½”ë“œ | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-20-CleanCodeUsingAngularServices" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ì•µê·¤ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ê¹”ë”í•œ ì½”ë“œ | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="ì•µê·¤ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ê¹”ë”í•œ ì½”ë“œ | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-CleanCodeUsingAngularServices_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-20-CleanCodeUsingAngularServices" data-gatsby-head="true"/><meta name="twitter:title" content="ì•µê·¤ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ê¹”ë”í•œ ì½”ë“œ | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-CleanCodeUsingAngularServices_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 05:42" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_buildManifest.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">ì•µê·¤ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ê¹”ë”í•œ ì½”ë“œ</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="ì•µê·¤ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ê¹”ë”í•œ ì½”ë“œ" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">6<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-CleanCodeUsingAngularServices&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>ì„œë¹„ìŠ¤/ì¶”ìƒí™” ê³„ì¸µ íŒ¨í„´ì„ ì¶”ê°€í•˜ì—¬ ë³µì¡ì„±ì„ ì¤„ì…ë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-06-20-CleanCodeUsingAngularServices_0.png" alt="ì´ë¯¸ì§€"></p>
<p>ì•µê·¤ëŸ¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ˆê¸°í™”ë˜ê¸° ì „ì— Keycloak ì„¸ë¶€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ APP_INITIALIZERë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">APP_INITIALIZER</span>, <span class="hljs-title class_">Injectable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeycloakService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./keycloak.service'</span>;

@<span class="hljs-title class_">Injectable</span>({
  <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppInitializer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private keycloakService: KeycloakService</span>) {}

  <span class="hljs-title function_">initializeKeycloak</span>(): <span class="hljs-function">() =></span> <span class="hljs-title class_">Promise</span>&#x3C;any> {
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =></span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">keycloakService</span>.<span class="hljs-title function_">init</span>();
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initializeApp</span>(<span class="hljs-params">appInitializer: AppInitializer</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =></span> appInitializer.<span class="hljs-title function_">initializeKeycloak</span>();
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> appInitializerProviders = [
  <span class="hljs-title class_">AppInitializer</span>,
  { <span class="hljs-attr">provide</span>: <span class="hljs-variable constant_">APP_INITIALIZER</span>, 
    <span class="hljs-attr">useFactory</span>: initializeApp, 
    <span class="hljs-attr">deps</span>: [<span class="hljs-title class_">AppInitializer</span>], 
    <span class="hljs-attr">multi</span>: <span class="hljs-literal">true</span> 
  }
];
</code></pre>
<p>ë‚˜ìœ ì½”ë“œ ì˜ˆì‹œ:</p>
<p><img src="/assets/img/2024-06-20-CleanCodeUsingAngularServices_1.png" alt="ì´ë¯¸ì§€"></p>
<p>ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— Keycloak DIë¥¼ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í‘œì‹œí•  ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ê¸°ë³¸ ì˜ˆì œë¥¼ ì‚´í´ë³´ì•˜ì§€ë§Œ ì—­í• ì— ë”°ë¼ ìˆ¨ê²¨ì§ˆ ìˆ˜ ìˆëŠ” í…œí”Œë¦¿ ë¶€ë¶„ì´ê±°ë‚˜ ì œí•œëœ ë¡œê·¸ì¸ ì‚¬ìš©ìê°€ ì§€ì •ëœ ì—­í• ì„ ê°€ì§€ê³  ìˆì§€ ì•Šì„ ë•Œ API í˜¸ì¶œì— ê¸°ë°˜í•œ ê²ƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// í…ŒìŠ¤íŠ¸ A ì»´í¬ë„ŒíŠ¸</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span>, <span class="hljs-title class_">OnInit</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeycloakService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'keycloak-angular'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Role</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./role.enum'</span>;

@<span class="hljs-title class_">Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-component-a'</span>,
  <span class="hljs-attr">template</span>: <span class="hljs-string">`&#x3C;button *ngIf="showAdminButton">Admin Button&#x3C;/button>`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAComponent</span> implements <span class="hljs-title class_">OnInit</span> {
  showAdminButton = <span class="hljs-literal">false</span>;
  <span class="hljs-attr">userRoles</span>: string[];

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private keycloakService: KeycloakService</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userRoles</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">keycloakService</span>.<span class="hljs-title function_">getUserRoles</span>();
  }

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">showAdminButton</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">userRoles</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Role</span>.<span class="hljs-property">Admin</span>);
  }
}

<span class="hljs-comment">// í…ŒìŠ¤íŠ¸ B ì»´í¬ë„ŒíŠ¸</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span>, <span class="hljs-title class_">OnInit</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeycloakService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'keycloak-angular'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Role</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./role.enum'</span>;

@<span class="hljs-title class_">Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-component-b'</span>,
  <span class="hljs-attr">template</span>: <span class="hljs-string">`&#x3C;button *ngIf="showProviderButton">Provider Button&#x3C;/button>`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestBComponent</span> implements <span class="hljs-title class_">OnInit</span> {
  showUserButton = <span class="hljs-literal">false</span>;
  <span class="hljs-attr">userRoles</span>: string[];

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private keycloakService: KeycloakService</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userRoles</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">keycloakService</span>.<span class="hljs-title function_">getUserRoles</span>();
  }

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">showUserButton</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">userRoles</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Role</span>.<span class="hljs-property">Provider</span>);
  }
}
</code></pre>
<p>ì´ ë°©ì‹ì€ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì¸ì¦ ì„¸ë¶€ ì •ë³´ì— ì§ì ‘ ì•¡ì„¸ìŠ¤í•˜ì—¬ ëª¨ë²” ì‚¬ë¡€ë¥¼ ìœ„ë°˜í•©ë‹ˆë‹¤.</p>
<p>ì œê°€ ë§¤ìš° ê¸°ë³¸ì ì¸ ì˜ˆì œë¥¼ ì œê³µí•˜ê³  ìˆì§€ë§Œ ì¤‘ëŒ€í˜• í”„ë¡œì íŠ¸ì—ì„œëŠ” ë³µì¡í•œ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ì‚¬ìš©ì ì—­í• ì— ë”°ë¼ ê¸°ëŠ¥ ì•¡ì„¸ìŠ¤ë¥¼ ë¶€ì—¬í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí™”í•˜ê¸° ìœ„í•œ ë˜í¼ ì„œë¹„ìŠ¤ ë˜ëŠ” íŒ¨ì‹¸ë“œ ë ˆì´ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë§¤ìš° ìœ ìµí•  ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë³µì¡ì„±ì„ ì¤„ì´ê³  ìœ ì—°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ë‚˜ìœ ì½”ë“œì˜ ë¬¸ì œì </p>
<ul>
<li>ê°•í•œ ê²°í•©: ì»´í¬ë„ŒíŠ¸ì— ì§ì ‘ ì„œë“œ íŒŒí‹° ì„œë¹„ìŠ¤ë¥¼ ì£¼ì…í•˜ëŠ” ê²ƒì€ í•´ë‹¹ ì¢…ì†ì„±ê³¼ ê°•í•˜ê²Œ ê²°í•©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>ì½”ë“œ ì¤‘ë³µ: ê° ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©ì ì—­í• ì„ ê°€ì ¸ì˜¤ê³  ì—­í• ì— ë”°ë¼ ê¶Œí•œì„ í™•ì¸í•˜ê¸° ìœ„í•´ ê°ê° ì„œë“œ íŒŒí‹° ì„œë¹„ìŠ¤ë¥¼ ì£¼ì…í•˜ë©´ ë¶ˆí•„ìš”í•œ ì¤‘ë³µì´ ë°œìƒí•©ë‹ˆë‹¤.</li>
<li>í…ŒìŠ¤íŠ¸: ìƒˆë¡œìš´ ì¢…ì†ì„±ì„ ì£¼ì…í•˜ëŠ” ê²ƒì€ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ë³µì¡ë„ë¥¼ ì¶”ê°€í•˜ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ê³  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì¢…ì†ì„±ì„ ëª¨ì˜ë¡œ ì²˜ë¦¬í•˜ê¸°ê°€ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤. ê° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì—ì„œ Keycloak ì„œë¹„ìŠ¤ì™€ ë©”ì„œë“œë¥¼ ëª¨ì˜ ì²˜ë¦¬í•´ì•¼ í•˜ë¯€ë¡œ ê²°êµ­ ë” ë§ì€ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œê°€ ìƒì„±ë©ë‹ˆë‹¤.</li>
<li>SRP ì›ì¹™ ìœ„ë°˜: ì¸ì¦ ë…¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¡œ ì¸í•´ ê° ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì¤‘ ë¡œì§ì„ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§€ê³  ìœ ì§€ ë³´ìˆ˜ê°€ ë” ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.</li>
<li>í™•ì¥ì„±: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ íŠ¹ì • ê¸°ëŠ¥ì— ì—­í• ì„ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ê²½ìš° í•´ë‹¹ ë³€ê²½ ì‚¬í•­ì´ í•„ìš”í•œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤.</li>
<li>ìœ ì—°ì„±: ë‹¤ë¥¸ ì¸ì¦ ê³µê¸‰ìë¡œ ì „í™˜í•˜ë ¤ëŠ” ê²½ìš°, ê° ì»´í¬ë„ŒíŠ¸ì— ì¸ì¦ì´ êµ¬í˜„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì „í™˜í•˜ê¸° ì–´ë ¤ìš°ë©° ë” ë§ì€ ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.</li>
</ul>
<p>ë”°ë¼ì„œ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ê³  ë‹¨ì¼ ì„œë¹„ìŠ¤ DIë¥¼ ì‚¬ìš©í•˜ëŠ” ê³µìœ  ì„œë¹„ìŠ¤ ë ˆì´ì–´ë¥¼ ì†Œê°œí•˜ë©´, ë¡œì§ì„ 1ê°œì˜ ë ˆì´ì–´ë¡œ ìœ ì§€í•  ìˆ˜ ìˆìœ¼ë©°, ë” ë‚˜ì•„ê°€ SRP, ìº¡ìŠí™” ë° Keycloakì—ì„œ ì—­í•  ë¡œì§ì„ ê°€ì ¸ì˜¤ëŠ” ì¶”ìƒí™” ì†Œí”„íŠ¸ì›¨ì–´ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê° êµ¬ì„± ìš”ì†Œì—ì„œ Wrapper ë©”ì„œë“œ ëŒ€ì‹  ë‚´ë¶€ êµ¬í˜„ ë°©ì‹ì— ë”°ë¼ ì—­í• ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ êµ¬ì„± ìš”ì†Œì—ì„œ ì—­í•  ë¡œì§ì„ ê°€ì ¸ì˜¤ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ êµ¬ì„± ìš”ì†ŒëŠ” ì—­í• ì„ ì–´ë–»ê²Œ ê°€ì ¸ì˜¤ëŠ”ì§€ ì•Œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
<p>ì¢‹ì€ ì½”ë“œ ì˜ˆì‹œ:</p>
<p><img src="/assets/img/2024-06-20-CleanCodeUsingAngularServices_2.png" alt="CleanCodeUsingAngularServices_2"></p>
<p>ì‚¬ìš©ì ê¶Œí•œ ì„œë¹„ìŠ¤</p>
<pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeycloakService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./keycloak.service'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Role</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./role.enum'</span>;

<span class="hljs-meta">@Injectable</span>({
  <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserAuthorizationService</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">userRoles</span>: <span class="hljs-built_in">string</span>[];

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> keycloakService: KeycloakService</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userRoles</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">keycloakService</span>.<span class="hljs-title function_">getUserRoles</span>();
  }

  <span class="hljs-title function_">hasRoleAdmin</span>(): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userRoles</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Role</span>.<span class="hljs-property">Admin</span>);
  }

  <span class="hljs-title function_">hasRoleUser</span>(): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userRoles</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Role</span>.<span class="hljs-property">User</span>);
  }
}
</code></pre>
<p>ì˜ì¡´ì„± ì£¼ì… ì„œë¹„ìŠ¤.</p>
<pre><code class="hljs language-ts"><span class="hljs-comment">// í…ŒìŠ¤íŠ¸ A ì»´í¬ë„ŒíŠ¸</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span>, <span class="hljs-title class_">OnInit</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeycloakService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'keycloak-angular'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Role</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./role.enum'</span>;

<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-component-a'</span>,
  <span class="hljs-attr">template</span>: <span class="hljs-string">`&#x3C;button *ngIf="showAdminButton">Admin Button&#x3C;/button>`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAComponent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OnInit</span> {
  showAdminButton = <span class="hljs-literal">false</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> userAuthorizationService: UserAuthorizationService</span>) {}

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">showAdminButton</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">userAuthorizationService</span>.<span class="hljs-title function_">hasRoleAdmin</span>()
  }
}

<span class="hljs-comment">// í…ŒìŠ¤íŠ¸ B ì»´í¬ë„ŒíŠ¸</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span>, <span class="hljs-title class_">OnInit</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeycloakService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'keycloak-angular'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Role</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./role.enum'</span>;

<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-component-b'</span>,
  <span class="hljs-attr">template</span>: <span class="hljs-string">`&#x3C;button *ngIf="showUserButton">User Button&#x3C;/button>`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestBComponent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OnInit</span> {
  showUserButton = <span class="hljs-literal">false</span>;

 <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> userAuthorizationService: UserAuthorizationService</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userRoles</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">userAuthorizationService</span>.<span class="hljs-title function_">getUserRoles</span>();
  }

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">showUserButton</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">userAuthorizationService</span>.<span class="hljs-title function_">hasRoleUser</span>()
  }
}
</code></pre>
<p>ì„œë¹„ìŠ¤ ê³„ì¸µ ë˜ëŠ” ì¶”ìƒí™” ê³„ì¸µì„ ì¶”ê°€í•˜ë©´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¡œ ì¤‘ë³µí•˜ëŠ” ë¡œì§ì„ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ ì„œë¹„ìŠ¤ê°€ ê¶Œí•œ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œì„ í™•ì¸í•˜ë¯€ë¡œ ê¶Œí•œì„ ê°€ì ¸ì˜¤ê³  í• ë‹¹í•˜ëŠ” ë° ëª…í™•í•œ (SoC)ì´ ìƒê¹ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ëŠ” ë¿ë§Œ ì•„ë‹ˆë¼ í…ŒìŠ¤íŠ¸ ê´€ì ì—ì„œë„ ë„ì›€ì´ ë©ë‹ˆë‹¤. ëª¨ë“  ê¸°ë³¸ì ì¸ ì‘ì—…ì´ ì œê±°ë˜ë©°, ì´ì œ ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h1>ê²°ë¡ </h1>
<p>ì´ ë¸”ë¡œê·¸ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ ì¼ë¶€ ì¶”ìƒí™” ê³„ì¸µì— ëŒ€í•´ ê³ ë ¤í•˜ëŠ” ì¢‹ì€ ì‹¤ì²œ ê°€ì´ë“œë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤. ì´ ë°©ë²•ì€ ì½”ë“œë¥¼ ìœ ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ External libraryì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë³µì¡ì„±ì„ ìº¡ìŠí™”í•©ë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì€ Angular ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ì½”ë“œ ì¡°ì§, ìœ ì§€ ê´€ë¦¬ ë° ìœ ì—°ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.</p>
<p>ë§Œì•½ ì´ ê¸€ì´ ë„ì›€ì´ ë˜ì—ˆê±°ë‚˜ ìƒˆë¡œìš´ ê²ƒì„ ë°°ì› ë‹¤ë©´, ì¢‹ì€ ë…ìì˜ ë°•ìˆ˜ë¥¼ ì–»ëŠ” ê²ƒì„ ì •ë§ë¡œ ê°ì‚¬íˆ ìƒê°í•  ê²ƒì…ë‹ˆë‹¤ ğŸ‘ ëª‡ ì´ˆë§Œ íˆ¬ìí•˜ë©´ ë©ë‹ˆë‹¤.</p>
<p>ì§€ì›ì„ ê³„ì†í•´ ì£¼ì‹œê³  ê³„ì† ë°°ìš°ì„¸ìš”. ğŸ™</p>
<p>ì €ë¥¼ ì‘ì›í•´ ì£¼ì‹œë©´ ì»¤í”¼ í•œ ì” ì‚¬ì£¼ì‹œëŠ” ë°©ë²•ì´ ìˆì–´ìš”. â˜•</p>
<p>ê°ì‚¬í•©ë‹ˆë‹¤ :)</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ì•µê·¤ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ê¹”ë”í•œ ì½”ë“œ","description":"","date":"2024-06-20 05:42","slug":"2024-06-20-CleanCodeUsingAngularServices","content":"\n\nì„œë¹„ìŠ¤/ì¶”ìƒí™” ê³„ì¸µ íŒ¨í„´ì„ ì¶”ê°€í•˜ì—¬ ë³µì¡ì„±ì„ ì¤„ì…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-20-CleanCodeUsingAngularServices_0.png)\n\nì•µê·¤ëŸ¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ˆê¸°í™”ë˜ê¸° ì „ì— Keycloak ì„¸ë¶€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ APP_INITIALIZERë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.\n\n```js\nimport { APP_INITIALIZER, Injectable } from '@angular/core';\nimport { KeycloakService } from './keycloak.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppInitializer {\n  constructor(private keycloakService: KeycloakService) {}\n\n  initializeKeycloak(): () =\u003e Promise\u003cany\u003e {\n    return () =\u003e this.keycloakService.init();\n  }\n}\n\nexport function initializeApp(appInitializer: AppInitializer) {\n  return () =\u003e appInitializer.initializeKeycloak();\n}\n\nexport const appInitializerProviders = [\n  AppInitializer,\n  { provide: APP_INITIALIZER, \n    useFactory: initializeApp, \n    deps: [AppInitializer], \n    multi: true \n  }\n];\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‚˜ìœ ì½”ë“œ ì˜ˆì‹œ:\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-20-CleanCodeUsingAngularServices_1.png)\n\nëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— Keycloak DIë¥¼ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í‘œì‹œí•  ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ê¸°ë³¸ ì˜ˆì œë¥¼ ì‚´í´ë³´ì•˜ì§€ë§Œ ì—­í• ì— ë”°ë¼ ìˆ¨ê²¨ì§ˆ ìˆ˜ ìˆëŠ” í…œí”Œë¦¿ ë¶€ë¶„ì´ê±°ë‚˜ ì œí•œëœ ë¡œê·¸ì¸ ì‚¬ìš©ìê°€ ì§€ì •ëœ ì—­í• ì„ ê°€ì§€ê³  ìˆì§€ ì•Šì„ ë•Œ API í˜¸ì¶œì— ê¸°ë°˜í•œ ê²ƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\n// í…ŒìŠ¤íŠ¸ A ì»´í¬ë„ŒíŠ¸\n\nimport { Component, OnInit } from '@angular/core';\nimport { KeycloakService } from 'keycloak-angular';\nimport { Role } from './role.enum';\n\n@Component({\n  selector: 'app-component-a',\n  template: `\u003cbutton *ngIf=\"showAdminButton\"\u003eAdmin Button\u003c/button\u003e`\n})\nexport class TestAComponent implements OnInit {\n  showAdminButton = false;\n  userRoles: string[];\n\n  constructor(private keycloakService: KeycloakService) {\n    this.userRoles = this.keycloakService.getUserRoles();\n  }\n\n  ngOnInit() {\n    this.showAdminButton = this.userRoles.includes(Role.Admin);\n  }\n}\n\n// í…ŒìŠ¤íŠ¸ B ì»´í¬ë„ŒíŠ¸\n\nimport { Component, OnInit } from '@angular/core';\nimport { KeycloakService } from 'keycloak-angular';\nimport { Role } from './role.enum';\n\n@Component({\n  selector: 'app-component-b',\n  template: `\u003cbutton *ngIf=\"showProviderButton\"\u003eProvider Button\u003c/button\u003e`\n})\nexport class TestBComponent implements OnInit {\n  showUserButton = false;\n  userRoles: string[];\n\n  constructor(private keycloakService: KeycloakService) {\n    this.userRoles = this.keycloakService.getUserRoles();\n  }\n\n  ngOnInit() {\n    this.showUserButton = this.userRoles.includes(Role.Provider);\n  }\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ë°©ì‹ì€ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì¸ì¦ ì„¸ë¶€ ì •ë³´ì— ì§ì ‘ ì•¡ì„¸ìŠ¤í•˜ì—¬ ëª¨ë²” ì‚¬ë¡€ë¥¼ ìœ„ë°˜í•©ë‹ˆë‹¤.\n\nì œê°€ ë§¤ìš° ê¸°ë³¸ì ì¸ ì˜ˆì œë¥¼ ì œê³µí•˜ê³  ìˆì§€ë§Œ ì¤‘ëŒ€í˜• í”„ë¡œì íŠ¸ì—ì„œëŠ” ë³µì¡í•œ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ì‚¬ìš©ì ì—­í• ì— ë”°ë¼ ê¸°ëŠ¥ ì•¡ì„¸ìŠ¤ë¥¼ ë¶€ì—¬í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí™”í•˜ê¸° ìœ„í•œ ë˜í¼ ì„œë¹„ìŠ¤ ë˜ëŠ” íŒ¨ì‹¸ë“œ ë ˆì´ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë§¤ìš° ìœ ìµí•  ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë³µì¡ì„±ì„ ì¤„ì´ê³  ìœ ì—°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‚˜ìœ ì½”ë“œì˜ ë¬¸ì œì \n\n- ê°•í•œ ê²°í•©: ì»´í¬ë„ŒíŠ¸ì— ì§ì ‘ ì„œë“œ íŒŒí‹° ì„œë¹„ìŠ¤ë¥¼ ì£¼ì…í•˜ëŠ” ê²ƒì€ í•´ë‹¹ ì¢…ì†ì„±ê³¼ ê°•í•˜ê²Œ ê²°í•©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì½”ë“œ ì¤‘ë³µ: ê° ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©ì ì—­í• ì„ ê°€ì ¸ì˜¤ê³  ì—­í• ì— ë”°ë¼ ê¶Œí•œì„ í™•ì¸í•˜ê¸° ìœ„í•´ ê°ê° ì„œë“œ íŒŒí‹° ì„œë¹„ìŠ¤ë¥¼ ì£¼ì…í•˜ë©´ ë¶ˆí•„ìš”í•œ ì¤‘ë³µì´ ë°œìƒí•©ë‹ˆë‹¤.\n- í…ŒìŠ¤íŠ¸: ìƒˆë¡œìš´ ì¢…ì†ì„±ì„ ì£¼ì…í•˜ëŠ” ê²ƒì€ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ë³µì¡ë„ë¥¼ ì¶”ê°€í•˜ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ê³  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì¢…ì†ì„±ì„ ëª¨ì˜ë¡œ ì²˜ë¦¬í•˜ê¸°ê°€ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤. ê° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì—ì„œ Keycloak ì„œë¹„ìŠ¤ì™€ ë©”ì„œë“œë¥¼ ëª¨ì˜ ì²˜ë¦¬í•´ì•¼ í•˜ë¯€ë¡œ ê²°êµ­ ë” ë§ì€ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œê°€ ìƒì„±ë©ë‹ˆë‹¤.\n- SRP ì›ì¹™ ìœ„ë°˜: ì¸ì¦ ë…¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¡œ ì¸í•´ ê° ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì¤‘ ë¡œì§ì„ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§€ê³  ìœ ì§€ ë³´ìˆ˜ê°€ ë” ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.\n- í™•ì¥ì„±: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ íŠ¹ì • ê¸°ëŠ¥ì— ì—­í• ì„ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ê²½ìš° í•´ë‹¹ ë³€ê²½ ì‚¬í•­ì´ í•„ìš”í•œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤.\n- ìœ ì—°ì„±: ë‹¤ë¥¸ ì¸ì¦ ê³µê¸‰ìë¡œ ì „í™˜í•˜ë ¤ëŠ” ê²½ìš°, ê° ì»´í¬ë„ŒíŠ¸ì— ì¸ì¦ì´ êµ¬í˜„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì „í™˜í•˜ê¸° ì–´ë ¤ìš°ë©° ë” ë§ì€ ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në”°ë¼ì„œ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ê³  ë‹¨ì¼ ì„œë¹„ìŠ¤ DIë¥¼ ì‚¬ìš©í•˜ëŠ” ê³µìœ  ì„œë¹„ìŠ¤ ë ˆì´ì–´ë¥¼ ì†Œê°œí•˜ë©´, ë¡œì§ì„ 1ê°œì˜ ë ˆì´ì–´ë¡œ ìœ ì§€í•  ìˆ˜ ìˆìœ¼ë©°, ë” ë‚˜ì•„ê°€ SRP, ìº¡ìŠí™” ë° Keycloakì—ì„œ ì—­í•  ë¡œì§ì„ ê°€ì ¸ì˜¤ëŠ” ì¶”ìƒí™” ì†Œí”„íŠ¸ì›¨ì–´ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê° êµ¬ì„± ìš”ì†Œì—ì„œ Wrapper ë©”ì„œë“œ ëŒ€ì‹  ë‚´ë¶€ êµ¬í˜„ ë°©ì‹ì— ë”°ë¼ ì—­í• ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ êµ¬ì„± ìš”ì†Œì—ì„œ ì—­í•  ë¡œì§ì„ ê°€ì ¸ì˜¤ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ êµ¬ì„± ìš”ì†ŒëŠ” ì—­í• ì„ ì–´ë–»ê²Œ ê°€ì ¸ì˜¤ëŠ”ì§€ ì•Œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.\n\nì¢‹ì€ ì½”ë“œ ì˜ˆì‹œ:\n\n![CleanCodeUsingAngularServices_2](/assets/img/2024-06-20-CleanCodeUsingAngularServices_2.png)\n\nì‚¬ìš©ì ê¶Œí•œ ì„œë¹„ìŠ¤\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```ts\nimport { Injectable } from '@angular/core';\nimport { KeycloakService } from './keycloak.service';\nimport { Role } from './role.enum';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserAuthorizationService {\n  private userRoles: string[];\n\n  constructor(private keycloakService: KeycloakService) {\n    this.userRoles = this.keycloakService.getUserRoles();\n  }\n\n  hasRoleAdmin(): boolean {\n    return this.userRoles.includes(Role.Admin);\n  }\n\n  hasRoleUser(): boolean {\n    return this.userRoles.includes(Role.User);\n  }\n}\n```\n\nì˜ì¡´ì„± ì£¼ì… ì„œë¹„ìŠ¤.\n\n```ts\n// í…ŒìŠ¤íŠ¸ A ì»´í¬ë„ŒíŠ¸\n\nimport { Component, OnInit } from '@angular/core';\nimport { KeycloakService } from 'keycloak-angular';\nimport { Role } from './role.enum';\n\n@Component({\n  selector: 'app-component-a',\n  template: `\u003cbutton *ngIf=\"showAdminButton\"\u003eAdmin Button\u003c/button\u003e`\n})\nexport class TestAComponent implements OnInit {\n  showAdminButton = false;\n\n  constructor(private userAuthorizationService: UserAuthorizationService) {}\n\n  ngOnInit() {\n    this.showAdminButton = this.userAuthorizationService.hasRoleAdmin()\n  }\n}\n\n// í…ŒìŠ¤íŠ¸ B ì»´í¬ë„ŒíŠ¸\n\nimport { Component, OnInit } from '@angular/core';\nimport { KeycloakService } from 'keycloak-angular';\nimport { Role } from './role.enum';\n\n@Component({\n  selector: 'app-component-b',\n  template: `\u003cbutton *ngIf=\"showUserButton\"\u003eUser Button\u003c/button\u003e`\n})\nexport class TestBComponent implements OnInit {\n  showUserButton = false;\n\n constructor(private userAuthorizationService: UserAuthorizationService) {\n    this.userRoles = this.userAuthorizationService.getUserRoles();\n  }\n\n  ngOnInit() {\n    this.showUserButton = this.userAuthorizationService.hasRoleUser()\n  }\n}\n```\n\nì„œë¹„ìŠ¤ ê³„ì¸µ ë˜ëŠ” ì¶”ìƒí™” ê³„ì¸µì„ ì¶”ê°€í•˜ë©´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¡œ ì¤‘ë³µí•˜ëŠ” ë¡œì§ì„ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ ì„œë¹„ìŠ¤ê°€ ê¶Œí•œ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œì„ í™•ì¸í•˜ë¯€ë¡œ ê¶Œí•œì„ ê°€ì ¸ì˜¤ê³  í• ë‹¹í•˜ëŠ” ë° ëª…í™•í•œ (SoC)ì´ ìƒê¹ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ëŠ” ë¿ë§Œ ì•„ë‹ˆë¼ í…ŒìŠ¤íŠ¸ ê´€ì ì—ì„œë„ ë„ì›€ì´ ë©ë‹ˆë‹¤. ëª¨ë“  ê¸°ë³¸ì ì¸ ì‘ì—…ì´ ì œê±°ë˜ë©°, ì´ì œ ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ê²°ë¡ \n\nì´ ë¸”ë¡œê·¸ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ ì¼ë¶€ ì¶”ìƒí™” ê³„ì¸µì— ëŒ€í•´ ê³ ë ¤í•˜ëŠ” ì¢‹ì€ ì‹¤ì²œ ê°€ì´ë“œë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤. ì´ ë°©ë²•ì€ ì½”ë“œë¥¼ ìœ ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ External libraryì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë³µì¡ì„±ì„ ìº¡ìŠí™”í•©ë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì€ Angular ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ì½”ë“œ ì¡°ì§, ìœ ì§€ ê´€ë¦¬ ë° ìœ ì—°ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.\n\në§Œì•½ ì´ ê¸€ì´ ë„ì›€ì´ ë˜ì—ˆê±°ë‚˜ ìƒˆë¡œìš´ ê²ƒì„ ë°°ì› ë‹¤ë©´, ì¢‹ì€ ë…ìì˜ ë°•ìˆ˜ë¥¼ ì–»ëŠ” ê²ƒì„ ì •ë§ë¡œ ê°ì‚¬íˆ ìƒê°í•  ê²ƒì…ë‹ˆë‹¤ ğŸ‘ ëª‡ ì´ˆë§Œ íˆ¬ìí•˜ë©´ ë©ë‹ˆë‹¤.\n\nì§€ì›ì„ ê³„ì†í•´ ì£¼ì‹œê³  ê³„ì† ë°°ìš°ì„¸ìš”. ğŸ™\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì €ë¥¼ ì‘ì›í•´ ì£¼ì‹œë©´ ì»¤í”¼ í•œ ì” ì‚¬ì£¼ì‹œëŠ” ë°©ë²•ì´ ìˆì–´ìš”. â˜•\n\nê°ì‚¬í•©ë‹ˆë‹¤ :)","ogImage":{"url":"/assets/img/2024-06-20-CleanCodeUsingAngularServices_0.png"},"coverImage":"/assets/img/2024-06-20-CleanCodeUsingAngularServices_0.png","tag":["Tech"],"readingTime":6},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003eì„œë¹„ìŠ¤/ì¶”ìƒí™” ê³„ì¸µ íŒ¨í„´ì„ ì¶”ê°€í•˜ì—¬ ë³µì¡ì„±ì„ ì¤„ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CleanCodeUsingAngularServices_0.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eì•µê·¤ëŸ¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ˆê¸°í™”ë˜ê¸° ì „ì— Keycloak ì„¸ë¶€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ APP_INITIALIZERë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-variable constant_\"\u003eAPP_INITIALIZER\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eInjectable\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/core'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eKeycloakService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./keycloak.service'\u003c/span\u003e;\n\n@\u003cspan class=\"hljs-title class_\"\u003eInjectable\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eprovidedIn\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'root'\u003c/span\u003e\n})\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eAppInitializer\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eprivate keycloakService: KeycloakService\u003c/span\u003e) {}\n\n  \u003cspan class=\"hljs-title function_\"\u003einitializeKeycloak\u003c/span\u003e(): \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e\u0026#x3C;any\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ekeycloakService\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003einit\u003c/span\u003e();\n  }\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003einitializeApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eappInitializer: AppInitializer\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e appInitializer.\u003cspan class=\"hljs-title function_\"\u003einitializeKeycloak\u003c/span\u003e();\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e appInitializerProviders = [\n  \u003cspan class=\"hljs-title class_\"\u003eAppInitializer\u003c/span\u003e,\n  { \u003cspan class=\"hljs-attr\"\u003eprovide\u003c/span\u003e: \u003cspan class=\"hljs-variable constant_\"\u003eAPP_INITIALIZER\u003c/span\u003e, \n    \u003cspan class=\"hljs-attr\"\u003euseFactory\u003c/span\u003e: initializeApp, \n    \u003cspan class=\"hljs-attr\"\u003edeps\u003c/span\u003e: [\u003cspan class=\"hljs-title class_\"\u003eAppInitializer\u003c/span\u003e], \n    \u003cspan class=\"hljs-attr\"\u003emulti\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e \n  }\n];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë‚˜ìœ ì½”ë“œ ì˜ˆì‹œ:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CleanCodeUsingAngularServices_1.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— Keycloak DIë¥¼ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í‘œì‹œí•  ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ê¸°ë³¸ ì˜ˆì œë¥¼ ì‚´í´ë³´ì•˜ì§€ë§Œ ì—­í• ì— ë”°ë¼ ìˆ¨ê²¨ì§ˆ ìˆ˜ ìˆëŠ” í…œí”Œë¦¿ ë¶€ë¶„ì´ê±°ë‚˜ ì œí•œëœ ë¡œê·¸ì¸ ì‚¬ìš©ìê°€ ì§€ì •ëœ ì—­í• ì„ ê°€ì§€ê³  ìˆì§€ ì•Šì„ ë•Œ API í˜¸ì¶œì— ê¸°ë°˜í•œ ê²ƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// í…ŒìŠ¤íŠ¸ A ì»´í¬ë„ŒíŠ¸\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eOnInit\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/core'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eKeycloakService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'keycloak-angular'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eRole\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./role.enum'\u003c/span\u003e;\n\n@\u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eselector\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app-component-a'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etemplate\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`\u0026#x3C;button *ngIf=\"showAdminButton\"\u003eAdmin Button\u0026#x3C;/button\u003e`\u003c/span\u003e\n})\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTestAComponent\u003c/span\u003e implements \u003cspan class=\"hljs-title class_\"\u003eOnInit\u003c/span\u003e {\n  showAdminButton = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n  \u003cspan class=\"hljs-attr\"\u003euserRoles\u003c/span\u003e: string[];\n\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eprivate keycloakService: KeycloakService\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserRoles\u003c/span\u003e = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ekeycloakService\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetUserRoles\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003engOnInit\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eshowAdminButton\u003c/span\u003e = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserRoles\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eRole\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eAdmin\u003c/span\u003e);\n  }\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// í…ŒìŠ¤íŠ¸ B ì»´í¬ë„ŒíŠ¸\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eOnInit\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/core'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eKeycloakService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'keycloak-angular'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eRole\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./role.enum'\u003c/span\u003e;\n\n@\u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eselector\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app-component-b'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etemplate\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`\u0026#x3C;button *ngIf=\"showProviderButton\"\u003eProvider Button\u0026#x3C;/button\u003e`\u003c/span\u003e\n})\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTestBComponent\u003c/span\u003e implements \u003cspan class=\"hljs-title class_\"\u003eOnInit\u003c/span\u003e {\n  showUserButton = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n  \u003cspan class=\"hljs-attr\"\u003euserRoles\u003c/span\u003e: string[];\n\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eprivate keycloakService: KeycloakService\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserRoles\u003c/span\u003e = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ekeycloakService\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetUserRoles\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003engOnInit\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eshowUserButton\u003c/span\u003e = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserRoles\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eRole\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eProvider\u003c/span\u003e);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ ë°©ì‹ì€ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì¸ì¦ ì„¸ë¶€ ì •ë³´ì— ì§ì ‘ ì•¡ì„¸ìŠ¤í•˜ì—¬ ëª¨ë²” ì‚¬ë¡€ë¥¼ ìœ„ë°˜í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì œê°€ ë§¤ìš° ê¸°ë³¸ì ì¸ ì˜ˆì œë¥¼ ì œê³µí•˜ê³  ìˆì§€ë§Œ ì¤‘ëŒ€í˜• í”„ë¡œì íŠ¸ì—ì„œëŠ” ë³µì¡í•œ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ì‚¬ìš©ì ì—­í• ì— ë”°ë¼ ê¸°ëŠ¥ ì•¡ì„¸ìŠ¤ë¥¼ ë¶€ì—¬í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí™”í•˜ê¸° ìœ„í•œ ë˜í¼ ì„œë¹„ìŠ¤ ë˜ëŠ” íŒ¨ì‹¸ë“œ ë ˆì´ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë§¤ìš° ìœ ìµí•  ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë³µì¡ì„±ì„ ì¤„ì´ê³  ìœ ì—°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë‚˜ìœ ì½”ë“œì˜ ë¬¸ì œì \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eê°•í•œ ê²°í•©: ì»´í¬ë„ŒíŠ¸ì— ì§ì ‘ ì„œë“œ íŒŒí‹° ì„œë¹„ìŠ¤ë¥¼ ì£¼ì…í•˜ëŠ” ê²ƒì€ í•´ë‹¹ ì¢…ì†ì„±ê³¼ ê°•í•˜ê²Œ ê²°í•©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì½”ë“œ ì¤‘ë³µ: ê° ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©ì ì—­í• ì„ ê°€ì ¸ì˜¤ê³  ì—­í• ì— ë”°ë¼ ê¶Œí•œì„ í™•ì¸í•˜ê¸° ìœ„í•´ ê°ê° ì„œë“œ íŒŒí‹° ì„œë¹„ìŠ¤ë¥¼ ì£¼ì…í•˜ë©´ ë¶ˆí•„ìš”í•œ ì¤‘ë³µì´ ë°œìƒí•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eí…ŒìŠ¤íŠ¸: ìƒˆë¡œìš´ ì¢…ì†ì„±ì„ ì£¼ì…í•˜ëŠ” ê²ƒì€ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ë³µì¡ë„ë¥¼ ì¶”ê°€í•˜ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ê³  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì¢…ì†ì„±ì„ ëª¨ì˜ë¡œ ì²˜ë¦¬í•˜ê¸°ê°€ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤. ê° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì—ì„œ Keycloak ì„œë¹„ìŠ¤ì™€ ë©”ì„œë“œë¥¼ ëª¨ì˜ ì²˜ë¦¬í•´ì•¼ í•˜ë¯€ë¡œ ê²°êµ­ ë” ë§ì€ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œê°€ ìƒì„±ë©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eSRP ì›ì¹™ ìœ„ë°˜: ì¸ì¦ ë…¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¡œ ì¸í•´ ê° ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì¤‘ ë¡œì§ì„ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§€ê³  ìœ ì§€ ë³´ìˆ˜ê°€ ë” ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eí™•ì¥ì„±: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ íŠ¹ì • ê¸°ëŠ¥ì— ì—­í• ì„ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ê²½ìš° í•´ë‹¹ ë³€ê²½ ì‚¬í•­ì´ í•„ìš”í•œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eìœ ì—°ì„±: ë‹¤ë¥¸ ì¸ì¦ ê³µê¸‰ìë¡œ ì „í™˜í•˜ë ¤ëŠ” ê²½ìš°, ê° ì»´í¬ë„ŒíŠ¸ì— ì¸ì¦ì´ êµ¬í˜„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì „í™˜í•˜ê¸° ì–´ë ¤ìš°ë©° ë” ë§ì€ ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eë”°ë¼ì„œ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ê³  ë‹¨ì¼ ì„œë¹„ìŠ¤ DIë¥¼ ì‚¬ìš©í•˜ëŠ” ê³µìœ  ì„œë¹„ìŠ¤ ë ˆì´ì–´ë¥¼ ì†Œê°œí•˜ë©´, ë¡œì§ì„ 1ê°œì˜ ë ˆì´ì–´ë¡œ ìœ ì§€í•  ìˆ˜ ìˆìœ¼ë©°, ë” ë‚˜ì•„ê°€ SRP, ìº¡ìŠí™” ë° Keycloakì—ì„œ ì—­í•  ë¡œì§ì„ ê°€ì ¸ì˜¤ëŠ” ì¶”ìƒí™” ì†Œí”„íŠ¸ì›¨ì–´ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê° êµ¬ì„± ìš”ì†Œì—ì„œ Wrapper ë©”ì„œë“œ ëŒ€ì‹  ë‚´ë¶€ êµ¬í˜„ ë°©ì‹ì— ë”°ë¼ ì—­í• ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ êµ¬ì„± ìš”ì†Œì—ì„œ ì—­í•  ë¡œì§ì„ ê°€ì ¸ì˜¤ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ êµ¬ì„± ìš”ì†ŒëŠ” ì—­í• ì„ ì–´ë–»ê²Œ ê°€ì ¸ì˜¤ëŠ”ì§€ ì•Œ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì¢‹ì€ ì½”ë“œ ì˜ˆì‹œ:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CleanCodeUsingAngularServices_2.png\" alt=\"CleanCodeUsingAngularServices_2\"\u003e\u003c/p\u003e\n\u003cp\u003eì‚¬ìš©ì ê¶Œí•œ ì„œë¹„ìŠ¤\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eInjectable\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/core'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eKeycloakService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./keycloak.service'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eRole\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./role.enum'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@Injectable\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eprovidedIn\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'root'\u003c/span\u003e\n})\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUserAuthorizationService\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003euserRoles\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e[];\n\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e keycloakService: KeycloakService\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserRoles\u003c/span\u003e = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ekeycloakService\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetUserRoles\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003ehasRoleAdmin\u003c/span\u003e(): \u003cspan class=\"hljs-built_in\"\u003eboolean\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserRoles\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eRole\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eAdmin\u003c/span\u003e);\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003ehasRoleUser\u003c/span\u003e(): \u003cspan class=\"hljs-built_in\"\u003eboolean\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserRoles\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eRole\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eUser\u003c/span\u003e);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì˜ì¡´ì„± ì£¼ì… ì„œë¹„ìŠ¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-comment\"\u003e// í…ŒìŠ¤íŠ¸ A ì»´í¬ë„ŒíŠ¸\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eOnInit\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/core'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eKeycloakService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'keycloak-angular'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eRole\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./role.enum'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@Component\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eselector\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app-component-a'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etemplate\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`\u0026#x3C;button *ngIf=\"showAdminButton\"\u003eAdmin Button\u0026#x3C;/button\u003e`\u003c/span\u003e\n})\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTestAComponent\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOnInit\u003c/span\u003e {\n  showAdminButton = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e userAuthorizationService: UserAuthorizationService\u003c/span\u003e) {}\n\n  \u003cspan class=\"hljs-title function_\"\u003engOnInit\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eshowAdminButton\u003c/span\u003e = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserAuthorizationService\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ehasRoleAdmin\u003c/span\u003e()\n  }\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// í…ŒìŠ¤íŠ¸ B ì»´í¬ë„ŒíŠ¸\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eOnInit\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/core'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eKeycloakService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'keycloak-angular'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eRole\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./role.enum'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-meta\"\u003e@Component\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eselector\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app-component-b'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etemplate\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`\u0026#x3C;button *ngIf=\"showUserButton\"\u003eUser Button\u0026#x3C;/button\u003e`\u003c/span\u003e\n})\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTestBComponent\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOnInit\u003c/span\u003e {\n  showUserButton = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n\n \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e userAuthorizationService: UserAuthorizationService\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserRoles\u003c/span\u003e = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserAuthorizationService\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetUserRoles\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003engOnInit\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eshowUserButton\u003c/span\u003e = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euserAuthorizationService\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ehasRoleUser\u003c/span\u003e()\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì„œë¹„ìŠ¤ ê³„ì¸µ ë˜ëŠ” ì¶”ìƒí™” ê³„ì¸µì„ ì¶”ê°€í•˜ë©´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¡œ ì¤‘ë³µí•˜ëŠ” ë¡œì§ì„ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ ì„œë¹„ìŠ¤ê°€ ê¶Œí•œ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œì„ í™•ì¸í•˜ë¯€ë¡œ ê¶Œí•œì„ ê°€ì ¸ì˜¤ê³  í• ë‹¹í•˜ëŠ” ë° ëª…í™•í•œ (SoC)ì´ ìƒê¹ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ëŠ” ë¿ë§Œ ì•„ë‹ˆë¼ í…ŒìŠ¤íŠ¸ ê´€ì ì—ì„œë„ ë„ì›€ì´ ë©ë‹ˆë‹¤. ëª¨ë“  ê¸°ë³¸ì ì¸ ì‘ì—…ì´ ì œê±°ë˜ë©°, ì´ì œ ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eê²°ë¡ \u003c/h1\u003e\n\u003cp\u003eì´ ë¸”ë¡œê·¸ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ ì¼ë¶€ ì¶”ìƒí™” ê³„ì¸µì— ëŒ€í•´ ê³ ë ¤í•˜ëŠ” ì¢‹ì€ ì‹¤ì²œ ê°€ì´ë“œë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤. ì´ ë°©ë²•ì€ ì½”ë“œë¥¼ ìœ ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ External libraryì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë³µì¡ì„±ì„ ìº¡ìŠí™”í•©ë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì€ Angular ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ì½”ë“œ ì¡°ì§, ìœ ì§€ ê´€ë¦¬ ë° ìœ ì—°ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë§Œì•½ ì´ ê¸€ì´ ë„ì›€ì´ ë˜ì—ˆê±°ë‚˜ ìƒˆë¡œìš´ ê²ƒì„ ë°°ì› ë‹¤ë©´, ì¢‹ì€ ë…ìì˜ ë°•ìˆ˜ë¥¼ ì–»ëŠ” ê²ƒì„ ì •ë§ë¡œ ê°ì‚¬íˆ ìƒê°í•  ê²ƒì…ë‹ˆë‹¤ ğŸ‘ ëª‡ ì´ˆë§Œ íˆ¬ìí•˜ë©´ ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì§€ì›ì„ ê³„ì†í•´ ì£¼ì‹œê³  ê³„ì† ë°°ìš°ì„¸ìš”. ğŸ™\u003c/p\u003e\n\u003cp\u003eì €ë¥¼ ì‘ì›í•´ ì£¼ì‹œë©´ ì»¤í”¼ í•œ ì” ì‚¬ì£¼ì‹œëŠ” ë°©ë²•ì´ ìˆì–´ìš”. â˜•\u003c/p\u003e\n\u003cp\u003eê°ì‚¬í•©ë‹ˆë‹¤ :)\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-CleanCodeUsingAngularServices"},"buildId":"t9N7vwmpvBMQnO2PSctoH","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>