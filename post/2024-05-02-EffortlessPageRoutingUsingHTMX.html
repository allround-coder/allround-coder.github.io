<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>HTMX를 활용해 쉬운 페이지 라우팅하기 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-02-EffortlessPageRoutingUsingHTMX" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="HTMX를 활용해 쉬운 페이지 라우팅하기 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="HTMX를 활용해 쉬운 페이지 라우팅하기 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-02-EffortlessPageRoutingUsingHTMX_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-02-EffortlessPageRoutingUsingHTMX" data-gatsby-head="true"/><meta name="twitter:title" content="HTMX를 활용해 쉬운 페이지 라우팅하기 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-02-EffortlessPageRoutingUsingHTMX_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-02 00:04" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/aCCUs-qPrLLLWRnkN0AOd/_buildManifest.js" defer=""></script><script src="/_next/static/aCCUs-qPrLLLWRnkN0AOd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">HTMX를 활용해 쉬운 페이지 라우팅하기</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="HTMX를 활용해 쉬운 페이지 라우팅하기" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 2, 2024</span><span class="posts_reading_time__f7YPP">7<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-02-EffortlessPageRoutingUsingHTMX&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p><img src="/assets/img/2024-05-02-EffortlessPageRoutingUsingHTMX_0.png" alt="이미지"></p>
<p>리액트는 종종 웹 애플리케이션에 지나치게 많은 요소를 포함하고 있을 수 있으며, HTMX와 함께 웹 서버만 사용하여 상호 작용 애플리케이션을 만드는 것이 동등한 결과를 얻을 수 있는 경우가 있습니다.</p>
<p>이 블로그 포스트에서는 HTMX를 활용하여 상호 작용이 가능하고 화면 깜빡임이 없는 페이지 이동을 작성하는 방법을 설명하겠습니다:</p>
<h2>서버 설정</h2>
<div class="content-ad"></div>
<pre><code class="hljs language-js">mkdir no-react-app 
cd no-react-app
npm init -y
npm install express nunjucks
</code></pre>
<p>그런 다음 서버 파일을 만들고 실행합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">//File: app.js</span>
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">"express"</span>)
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()

<span class="hljs-keyword">const</span> nunjucks = <span class="hljs-built_in">require</span>(<span class="hljs-string">'nunjucks'</span>);
nunjucks.<span class="hljs-title function_">configure</span>(<span class="hljs-string">"views"</span>, {
    <span class="hljs-attr">autoescape</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">express</span>: app
});

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">"/"</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
    res.<span class="hljs-title function_">render</span>(<span class="hljs-string">"pages/home.html"</span>)
})

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">"/users"</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
    res.<span class="hljs-title function_">render</span>(<span class="hljs-string">"pages/users.html"</span>)
})

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">"/posts"</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
    res.<span class="hljs-title function_">render</span>(<span class="hljs-string">"pages/posts.html"</span>)
})

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =></span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Application running http://localhost:3000`</span>)
})
</code></pre>
<p>저희는 템플릿 엔진으로 nunjucks를 사용합니다. 모든 템플릿, 레이아웃 및 부분 파일은 "views" 디렉토리에 저장됩니다. 따라서 프로젝트 구조는 다음과 같을 것입니다.</p>
<div class="content-ad"></div>
<h2>앱 구조</h2>
<pre><code class="hljs language-js">app.<span class="hljs-property">js</span>
views
  layouts
    main.<span class="hljs-property">html</span>
  partials
    sidenav.<span class="hljs-property">html</span>
  pages
    user.<span class="hljs-property">html</span>
    home.<span class="hljs-property">html</span>
    posts.<span class="hljs-property">html</span>
</code></pre>
<p>템플릿 엔진을 사용하기 때문에 모든 뷰가 확장할 레이아웃을 추가합시다.</p>
<h2>메인 레이아웃</h2>
<div class="content-ad"></div>
<pre><code class="hljs language-js">&#x3C;!--<span class="hljs-title class_">File</span>: views/layouts/main.<span class="hljs-property">html</span>-->
&#x3C;!<span class="hljs-variable constant_">DOCTYPE</span> html>
&#x3C;html lang="en">
&#x3C;head>
    &#x3C;meta charset="UTF-8">
    &#x3C;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &#x3C;link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css" />
    &#x3C;title>HTMX App&#x3C;/title>
&#x3C;/head>

&#x3C;body class="bg-gray-200">
    &#x3C;div class="flex h-screen">
        &#x3C;!-- Side Navigation -->
        {- include('partials/sidenav.html')}

        &#x3C;!-- Main Content Area -->
        &#x3C;div class="w-full bg-white p-4" id="main">
            { block content }{ endblock }
        &#x3C;/div>
&#x3C;/body>

&#x3C;/html>
</code></pre>
<p>sidenav 템플릿 컴포넌트를 partials로 리팩터링하여 레이아웃에 포함했습니다.</p>
<h2>Side Nav Component</h2>
<pre><code class="hljs language-js">&#x3C;!--<span class="hljs-title class_">File</span>: views/partials/sidenav.<span class="hljs-property">html</span>-->
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-56 bg-gray-800 text-white p-4"</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block py-2 px-4 text-white hover:bg-gray-600"</span>></span>Home<span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/users"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block py-2 px-4 text-white hover:bg-gray-600"</span>></span>Users<span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/posts"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block py-2 px-4 text-white hover:bg-gray-600"</span>></span>Posts<span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
</code></pre>
<div class="content-ad"></div>
<p>그리고 우리는 메인 페이지인 home.html, users.html 및 posts.html을 만들었습니다.</p>
<h2>페이지</h2>
<pre><code class="hljs language-js">&#x3C;!--views/pages/home.<span class="hljs-property">html</span>-->
{ <span class="hljs-keyword">extends</span> <span class="hljs-string">'layouts/main.html'</span> }

{ block content }
&#x3C;h1 <span class="hljs-keyword">class</span>=<span class="hljs-string">"text-2xl font-bold mb-4"</span>><span class="hljs-variable constant_">HTMX</span> <span class="hljs-title class_">Nav</span>&#x3C;/h1>
{ endblock }
</code></pre>
<pre><code class="hljs language-js">&#x3C;!--views/pages/users.<span class="hljs-property">html</span>-->
{ <span class="hljs-keyword">extends</span> <span class="hljs-string">'layouts/main.html'</span> }

{ block content }
&#x3C;h1 <span class="hljs-keyword">class</span>=<span class="hljs-string">"text-2xl font-bold mb-4"</span>><span class="hljs-title class_">Users</span>&#x3C;/h1>
{ endblock }
</code></pre>
<div class="content-ad"></div>
<pre><code class="hljs language-js">&#x3C;!-- views/pages/posts.<span class="hljs-property">html</span> -->
{ <span class="hljs-keyword">extends</span> <span class="hljs-string">'layouts/main.html'</span> }

{ block content }
&#x3C;h1 <span class="hljs-keyword">class</span>=<span class="hljs-string">"text-2xl font-bold mb-4"</span>><span class="hljs-title class_">Posts</span>&#x3C;/h1>
{ endblock }
</code></pre>
<p>서버를 실행하면 네비게이션이 있지만 전체 페이지가 다시 로드됩니다:</p>
<img src="https://miro.medium.com/v2/resize:fit:1400/1*yPvQ3Jj47osdFfxsoMXqSg.gif">
<p>HTMX라는 가벼운 JavaScript 라이브러리를 사용하여 이 문제를 해결해야 합니다. 이 라이브러리는 보다 더 순조롭고 상호작용적인 사용자 네비게이션 경험을 크게 향상시킬 수 있습니다. HTMX는 더 다양한 응용 프로그램에서 사용할 수 있지만, 현재 목적에 맞게 더 원활한 네비게이션을 달성하기 위해 그 능력을 활용하는 데 중점을 둘 것입니다.</p>
<div class="content-ad"></div>
<h2>HTMX를 사용하여 점진적으로 향상시키기</h2>
<p>HTMX를 사용하는 가장 빠른 방법은 CDN을 통해 로드하는 것입니다. 다음 코드를 head 태그에 추가하면 간단히 시작할 수 있습니다:</p>
<pre><code class="hljs language-js">&#x3C;!--<span class="hljs-title class_">File</span>: views/layouts/main.<span class="hljs-property">html</span>-->
...
&#x3C;script src=<span class="hljs-string">"https://unpkg.com/htmx.org@latest"</span>>&#x3C;/script>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">title</span>></span>HTMX App<span class="hljs-tag">&#x3C;/<span class="hljs-name">title</span>></span></span>
&#x3C;/head>
...
</code></pre>
<p>이제 사이드네비게이션 바에 작은 변경을 가할 수 있습니다.</p>
<div class="content-ad"></div>
<ul>
<li>href 속성을 제거하고 hx-get 속성으로 대체합니다. 사용자가이 링크를 클릭하면 HTTP GET 요청이 발생합니다.</li>
<li>각 앵커에 hx-target 속성을 추가하거나 앵커 상위 div에 하나 추가하십시오. hx-target 속성을 사용하면 응답을 교체할 요소를 대상으로 지정할 수 있습니다.</li>
<li>각 앵커에 hx-push-url="true"를 추가하십시오. hx-push-url 속성을 사용하면 URL을 브라우저 위치 기록에 추가할 수 있습니다. 이를 통해 새로운 기록 항목이 생성되어 브라우저의 뒤로/앞으로 버튼을 사용한 탐색이 가능합니다.</li>
</ul>
<p>이것이 무엇을 하는가: 우리는 "main" id의 div에서 응답을 삽입할 때 HTMX lib에 서버 호출을 만드는 방법을 선언적으로 지시하고 있습니다.</p>
<pre><code class="hljs language-js">&#x3C;div <span class="hljs-keyword">class</span>=<span class="hljs-string">"w-56 bg-gray-800 text-white p-4"</span> hx-target=<span class="hljs-string">"#main"</span>>
    <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">hx-get</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">hx-push-url</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block py-2 px-4 text-white hover:bg-gray-600"</span>></span>Home<span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span></span>
    <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">hx-get</span>=<span class="hljs-string">"/users"</span> <span class="hljs-attr">hx-push-url</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block py-2 px-4 text-white hover:bg-gray-600"</span>></span>Users<span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span></span>
    <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">hx-get</span>=<span class="hljs-string">"/posts"</span> <span class="hljs-attr">hx-push-url</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block py-2 px-4 text-white hover:bg-gray-600"</span>></span>Posts<span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span></span>
&#x3C;/div>
</code></pre>
<p>이제 다음과 같습니다.</p>
<div class="content-ad"></div>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*LOvL_BdO8v6B-La18uqJug.gif" alt="image"></p>
<p>번쩍임 문제를 해결했고 새로운 URL로 올바르게 전환됩니다. 이제 다른 사람에게 내비게이션을 공유하고 싶다면 새로운 URL로 이동하게 됩니다.</p>
<h3>앱을 HTMX 알아보기</h3>
<p>각 서버 요청이 HTMX 호출인지 여부를 결정해야 합니다. 만약 HTMX 호출이라면 레이아웃을 사용하지 말고 해당 템플릿의 HTML을 그대로 반환하도록 템플릿 엔진에 지시해야 합니다. 이를 위해 특정 미들웨어를 포함해야 합니다:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-comment">// 파일: app.js</span>
...
app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =></span> {
    res.<span class="hljs-property">locals</span>.<span class="hljs-property">useLayout</span> = req.<span class="hljs-property">headers</span>[<span class="hljs-string">"hx-request"</span>] !== <span class="hljs-string">"true"</span>;
    <span class="hljs-title function_">next</span>();
})

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =></span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`애플리케이션이 http://localhost:3000에서 실행 중입니다.`</span>)
})
</code></pre>
<p>HTMX 요청이 감지되지 않는 경우에만 레이아웃을 사용합니다.</p>
<pre><code class="hljs language-js">&#x3C;!-- 파일: views/layouts/main.<span class="hljs-property">html</span> -->
{ <span class="hljs-keyword">if</span> useLayout }
&#x3C;!<span class="hljs-variable constant_">DOCTYPE</span> html>
&#x3C;html lang="en">

&#x3C;head>
    &#x3C;meta charset="UTF-8">
    &#x3C;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &#x3C;link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css" />
    &#x3C;script src="https://unpkg.com/htmx.org@latest">&#x3C;/script>
    &#x3C;title>HTMX App&#x3C;/title>
&#x3C;/head>
&#x3C;body class="bg-gray-200">
    &#x3C;div class="flex h-screen">
        &#x3C;!-- Side Navigation -->
        {- include('partials/sidenav.html')}
        &#x3C;!-- Main Content Area -->
        &#x3C;div class="w-full bg-white p-4" id="main">
{ endif }

            { block content }{ endblock }

{ if useLayout }
        &#x3C;/div>
&#x3C;/body>
&#x3C;/html>
{ endif }
</code></pre>
<p>URL을 공유할 수 있도록 원활하고 번쩍임 없는 내비게이션 경험을 성공적으로 달성했습니다.</p>
<div class="content-ad"></div>
<p><a href="https://miro.medium.com/v2/resize:fit:1400/1*hdhwN-9D2qdkYFyXwJ6XEg.gif" rel="nofollow" target="_blank">이미지</a></p>
<p>원본 블로그 게시물: <a href="https://nanosoft.co.za/blog/post/express-htmx" rel="nofollow" target="_blank">https://nanosoft.co.za/blog/post/express-htmx</a></p>
<p>소스 코드: <a href="https://github.com/nanosoftonline/express-htmx" rel="nofollow" target="_blank">https://github.com/nanosoftonline/express-htmx</a></p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"HTMX를 활용해 쉬운 페이지 라우팅하기","description":"","date":"2024-05-02 00:04","slug":"2024-05-02-EffortlessPageRoutingUsingHTMX","content":"\n\n![이미지](/assets/img/2024-05-02-EffortlessPageRoutingUsingHTMX_0.png)\n\n리액트는 종종 웹 애플리케이션에 지나치게 많은 요소를 포함하고 있을 수 있으며, HTMX와 함께 웹 서버만 사용하여 상호 작용 애플리케이션을 만드는 것이 동등한 결과를 얻을 수 있는 경우가 있습니다.\n\n이 블로그 포스트에서는 HTMX를 활용하여 상호 작용이 가능하고 화면 깜빡임이 없는 페이지 이동을 작성하는 방법을 설명하겠습니다:\n\n## 서버 설정\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nmkdir no-react-app \ncd no-react-app\nnpm init -y\nnpm install express nunjucks\n```\n\n그런 다음 서버 파일을 만들고 실행합니다.\n\n```js\n//File: app.js\nconst express = require(\"express\")\nconst app = express()\n\nconst nunjucks = require('nunjucks');\nnunjucks.configure(\"views\", {\n    autoescape: true,\n    express: app\n});\n\napp.get(\"/\", (req, res) =\u003e {\n    res.render(\"pages/home.html\")\n})\n\napp.get(\"/users\", (req, res) =\u003e {\n    res.render(\"pages/users.html\")\n})\n\napp.get(\"/posts\", (req, res) =\u003e {\n    res.render(\"pages/posts.html\")\n})\n\napp.listen(3000, () =\u003e {\n    console.info(`Application running http://localhost:3000`)\n})\n```\n\n저희는 템플릿 엔진으로 nunjucks를 사용합니다. 모든 템플릿, 레이아웃 및 부분 파일은 \"views\" 디렉토리에 저장됩니다. 따라서 프로젝트 구조는 다음과 같을 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 앱 구조\n\n```js\napp.js\nviews\n  layouts\n    main.html\n  partials\n    sidenav.html\n  pages\n    user.html\n    home.html\n    posts.html\n```\n\n템플릿 엔진을 사용하기 때문에 모든 뷰가 확장할 레이아웃을 추가합시다.\n\n## 메인 레이아웃\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n\u003c!--File: views/layouts/main.html--\u003e\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n    \u003clink rel=\"stylesheet\"\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css\" /\u003e\n    \u003ctitle\u003eHTMX App\u003c/title\u003e\n\u003c/head\u003e\n\n\u003cbody class=\"bg-gray-200\"\u003e\n    \u003cdiv class=\"flex h-screen\"\u003e\n        \u003c!-- Side Navigation --\u003e\n        {- include('partials/sidenav.html')}\n\n        \u003c!-- Main Content Area --\u003e\n        \u003cdiv class=\"w-full bg-white p-4\" id=\"main\"\u003e\n            { block content }{ endblock }\n        \u003c/div\u003e\n\u003c/body\u003e\n\n\u003c/html\u003e\n``` \n\nsidenav 템플릿 컴포넌트를 partials로 리팩터링하여 레이아웃에 포함했습니다.\n\n## Side Nav Component\n\n```js\n\u003c!--File: views/partials/sidenav.html--\u003e\n\u003cdiv class=\"w-56 bg-gray-800 text-white p-4\"\u003e\n    \u003ca href=\"/\" class=\"block py-2 px-4 text-white hover:bg-gray-600\"\u003eHome\u003c/a\u003e\n    \u003ca href=\"/users\" class=\"block py-2 px-4 text-white hover:bg-gray-600\"\u003eUsers\u003c/a\u003e\n    \u003ca href=\"/posts\" class=\"block py-2 px-4 text-white hover:bg-gray-600\"\u003ePosts\u003c/a\u003e\n\u003c/div\u003e\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n그리고 우리는 메인 페이지인 home.html, users.html 및 posts.html을 만들었습니다.\n\n## 페이지\n\n```js\n\u003c!--views/pages/home.html--\u003e\n{ extends 'layouts/main.html' }\n\n{ block content }\n\u003ch1 class=\"text-2xl font-bold mb-4\"\u003eHTMX Nav\u003c/h1\u003e\n{ endblock }\n```\n\n```js\n\u003c!--views/pages/users.html--\u003e\n{ extends 'layouts/main.html' }\n\n{ block content }\n\u003ch1 class=\"text-2xl font-bold mb-4\"\u003eUsers\u003c/h1\u003e\n{ endblock }\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n\u003c!-- views/pages/posts.html --\u003e\n{ extends 'layouts/main.html' }\n\n{ block content }\n\u003ch1 class=\"text-2xl font-bold mb-4\"\u003ePosts\u003c/h1\u003e\n{ endblock }\n```\n\n서버를 실행하면 네비게이션이 있지만 전체 페이지가 다시 로드됩니다:\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*yPvQ3Jj47osdFfxsoMXqSg.gif\" /\u003e\n\nHTMX라는 가벼운 JavaScript 라이브러리를 사용하여 이 문제를 해결해야 합니다. 이 라이브러리는 보다 더 순조롭고 상호작용적인 사용자 네비게이션 경험을 크게 향상시킬 수 있습니다. HTMX는 더 다양한 응용 프로그램에서 사용할 수 있지만, 현재 목적에 맞게 더 원활한 네비게이션을 달성하기 위해 그 능력을 활용하는 데 중점을 둘 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## HTMX를 사용하여 점진적으로 향상시키기\n\nHTMX를 사용하는 가장 빠른 방법은 CDN을 통해 로드하는 것입니다. 다음 코드를 head 태그에 추가하면 간단히 시작할 수 있습니다:\n\n```js\n\u003c!--File: views/layouts/main.html--\u003e\n...\n\u003cscript src=\"https://unpkg.com/htmx.org@latest\"\u003e\u003c/script\u003e\n\u003ctitle\u003eHTMX App\u003c/title\u003e\n\u003c/head\u003e\n...\n```\n\n이제 사이드네비게이션 바에 작은 변경을 가할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- href 속성을 제거하고 hx-get 속성으로 대체합니다. 사용자가이 링크를 클릭하면 HTTP GET 요청이 발생합니다.\n- 각 앵커에 hx-target 속성을 추가하거나 앵커 상위 div에 하나 추가하십시오. hx-target 속성을 사용하면 응답을 교체할 요소를 대상으로 지정할 수 있습니다.\n- 각 앵커에 hx-push-url=\"true\"를 추가하십시오. hx-push-url 속성을 사용하면 URL을 브라우저 위치 기록에 추가할 수 있습니다. 이를 통해 새로운 기록 항목이 생성되어 브라우저의 뒤로/앞으로 버튼을 사용한 탐색이 가능합니다.\n\n이것이 무엇을 하는가: 우리는 \"main\" id의 div에서 응답을 삽입할 때 HTMX lib에 서버 호출을 만드는 방법을 선언적으로 지시하고 있습니다.\n\n```js\n\u003cdiv class=\"w-56 bg-gray-800 text-white p-4\" hx-target=\"#main\"\u003e\n    \u003ca hx-get=\"/\" hx-push-url=\"true\" class=\"block py-2 px-4 text-white hover:bg-gray-600\"\u003eHome\u003c/a\u003e\n    \u003ca hx-get=\"/users\" hx-push-url=\"true\" class=\"block py-2 px-4 text-white hover:bg-gray-600\"\u003eUsers\u003c/a\u003e\n    \u003ca hx-get=\"/posts\" hx-push-url=\"true\" class=\"block py-2 px-4 text-white hover:bg-gray-600\"\u003ePosts\u003c/a\u003e\n\u003c/div\u003e\n```\n\n이제 다음과 같습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![image](https://miro.medium.com/v2/resize:fit:1400/1*LOvL_BdO8v6B-La18uqJug.gif)\n\n번쩍임 문제를 해결했고 새로운 URL로 올바르게 전환됩니다. 이제 다른 사람에게 내비게이션을 공유하고 싶다면 새로운 URL로 이동하게 됩니다.\n\n### 앱을 HTMX 알아보기\n\n각 서버 요청이 HTMX 호출인지 여부를 결정해야 합니다. 만약 HTMX 호출이라면 레이아웃을 사용하지 말고 해당 템플릿의 HTML을 그대로 반환하도록 템플릿 엔진에 지시해야 합니다. 이를 위해 특정 미들웨어를 포함해야 합니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n// 파일: app.js\n...\napp.use((req, res, next) =\u003e {\n    res.locals.useLayout = req.headers[\"hx-request\"] !== \"true\";\n    next();\n})\n\napp.listen(3000, () =\u003e {\n    console.info(`애플리케이션이 http://localhost:3000에서 실행 중입니다.`)\n})\n```\n\nHTMX 요청이 감지되지 않는 경우에만 레이아웃을 사용합니다.\n\n```js\n\u003c!-- 파일: views/layouts/main.html --\u003e\n{ if useLayout }\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\n\u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n    \u003clink rel=\"stylesheet\"\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css\" /\u003e\n    \u003cscript src=\"https://unpkg.com/htmx.org@latest\"\u003e\u003c/script\u003e\n    \u003ctitle\u003eHTMX App\u003c/title\u003e\n\u003c/head\u003e\n\u003cbody class=\"bg-gray-200\"\u003e\n    \u003cdiv class=\"flex h-screen\"\u003e\n        \u003c!-- Side Navigation --\u003e\n        {- include('partials/sidenav.html')}\n        \u003c!-- Main Content Area --\u003e\n        \u003cdiv class=\"w-full bg-white p-4\" id=\"main\"\u003e\n{ endif }\n\n            { block content }{ endblock }\n\n{ if useLayout }\n        \u003c/div\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n{ endif }\n```\n\nURL을 공유할 수 있도록 원활하고 번쩍임 없는 내비게이션 경험을 성공적으로 달성했습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n[이미지](https://miro.medium.com/v2/resize:fit:1400/1*hdhwN-9D2qdkYFyXwJ6XEg.gif)\n\n원본 블로그 게시물: [https://nanosoft.co.za/blog/post/express-htmx](https://nanosoft.co.za/blog/post/express-htmx)\n\n소스 코드: [https://github.com/nanosoftonline/express-htmx](https://github.com/nanosoftonline/express-htmx)","ogImage":{"url":"/assets/img/2024-05-02-EffortlessPageRoutingUsingHTMX_0.png"},"coverImage":"/assets/img/2024-05-02-EffortlessPageRoutingUsingHTMX_0.png","tag":["Tech"],"readingTime":7},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-02-EffortlessPageRoutingUsingHTMX_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e리액트는 종종 웹 애플리케이션에 지나치게 많은 요소를 포함하고 있을 수 있으며, HTMX와 함께 웹 서버만 사용하여 상호 작용 애플리케이션을 만드는 것이 동등한 결과를 얻을 수 있는 경우가 있습니다.\u003c/p\u003e\n\u003cp\u003e이 블로그 포스트에서는 HTMX를 활용하여 상호 작용이 가능하고 화면 깜빡임이 없는 페이지 이동을 작성하는 방법을 설명하겠습니다:\u003c/p\u003e\n\u003ch2\u003e서버 설정\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003emkdir no-react-app \ncd no-react-app\nnpm init -y\nnpm install express nunjucks\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그런 다음 서버 파일을 만들고 실행합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e//File: app.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"express\"\u003c/span\u003e)\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003eexpress\u003c/span\u003e()\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e nunjucks = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'nunjucks'\u003c/span\u003e);\nnunjucks.\u003cspan class=\"hljs-title function_\"\u003econfigure\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"views\"\u003c/span\u003e, {\n    \u003cspan class=\"hljs-attr\"\u003eautoescape\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eexpress\u003c/span\u003e: app\n});\n\napp.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"/\"\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n    res.\u003cspan class=\"hljs-title function_\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"pages/home.html\"\u003c/span\u003e)\n})\n\napp.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"/users\"\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n    res.\u003cspan class=\"hljs-title function_\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"pages/users.html\"\u003c/span\u003e)\n})\n\napp.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"/posts\"\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n    res.\u003cspan class=\"hljs-title function_\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"pages/posts.html\"\u003c/span\u003e)\n})\n\napp.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`Application running http://localhost:3000`\u003c/span\u003e)\n})\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e저희는 템플릿 엔진으로 nunjucks를 사용합니다. 모든 템플릿, 레이아웃 및 부분 파일은 \"views\" 디렉토리에 저장됩니다. 따라서 프로젝트 구조는 다음과 같을 것입니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e앱 구조\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eapp.\u003cspan class=\"hljs-property\"\u003ejs\u003c/span\u003e\nviews\n  layouts\n    main.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e\n  partials\n    sidenav.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e\n  pages\n    user.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e\n    home.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e\n    posts.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e템플릿 엔진을 사용하기 때문에 모든 뷰가 확장할 레이아웃을 추가합시다.\u003c/p\u003e\n\u003ch2\u003e메인 레이아웃\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!--\u003cspan class=\"hljs-title class_\"\u003eFile\u003c/span\u003e: views/layouts/main.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e--\u003e\n\u0026#x3C;!\u003cspan class=\"hljs-variable constant_\"\u003eDOCTYPE\u003c/span\u003e html\u003e\n\u0026#x3C;html lang=\"en\"\u003e\n\u0026#x3C;head\u003e\n    \u0026#x3C;meta charset=\"UTF-8\"\u003e\n    \u0026#x3C;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n    \u0026#x3C;link rel=\"stylesheet\"\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css\" /\u003e\n    \u0026#x3C;title\u003eHTMX App\u0026#x3C;/title\u003e\n\u0026#x3C;/head\u003e\n\n\u0026#x3C;body class=\"bg-gray-200\"\u003e\n    \u0026#x3C;div class=\"flex h-screen\"\u003e\n        \u0026#x3C;!-- Side Navigation --\u003e\n        {- include('partials/sidenav.html')}\n\n        \u0026#x3C;!-- Main Content Area --\u003e\n        \u0026#x3C;div class=\"w-full bg-white p-4\" id=\"main\"\u003e\n            { block content }{ endblock }\n        \u0026#x3C;/div\u003e\n\u0026#x3C;/body\u003e\n\n\u0026#x3C;/html\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003esidenav 템플릿 컴포넌트를 partials로 리팩터링하여 레이아웃에 포함했습니다.\u003c/p\u003e\n\u003ch2\u003eSide Nav Component\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!--\u003cspan class=\"hljs-title class_\"\u003eFile\u003c/span\u003e: views/partials/sidenav.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e--\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"w-56 bg-gray-800 text-white p-4\"\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"block py-2 px-4 text-white hover:bg-gray-600\"\u003c/span\u003e\u003e\u003c/span\u003eHome\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/users\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"block py-2 px-4 text-white hover:bg-gray-600\"\u003c/span\u003e\u003e\u003c/span\u003eUsers\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/posts\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"block py-2 px-4 text-white hover:bg-gray-600\"\u003c/span\u003e\u003e\u003c/span\u003ePosts\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e그리고 우리는 메인 페이지인 home.html, users.html 및 posts.html을 만들었습니다.\u003c/p\u003e\n\u003ch2\u003e페이지\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!--views/pages/home.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e--\u003e\n{ \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'layouts/main.html'\u003c/span\u003e }\n\n{ block content }\n\u0026#x3C;h1 \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"text-2xl font-bold mb-4\"\u003c/span\u003e\u003e\u003cspan class=\"hljs-variable constant_\"\u003eHTMX\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eNav\u003c/span\u003e\u0026#x3C;/h1\u003e\n{ endblock }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!--views/pages/users.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e--\u003e\n{ \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'layouts/main.html'\u003c/span\u003e }\n\n{ block content }\n\u0026#x3C;h1 \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"text-2xl font-bold mb-4\"\u003c/span\u003e\u003e\u003cspan class=\"hljs-title class_\"\u003eUsers\u003c/span\u003e\u0026#x3C;/h1\u003e\n{ endblock }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!-- views/pages/posts.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e --\u003e\n{ \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'layouts/main.html'\u003c/span\u003e }\n\n{ block content }\n\u0026#x3C;h1 \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"text-2xl font-bold mb-4\"\u003c/span\u003e\u003e\u003cspan class=\"hljs-title class_\"\u003ePosts\u003c/span\u003e\u0026#x3C;/h1\u003e\n{ endblock }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e서버를 실행하면 네비게이션이 있지만 전체 페이지가 다시 로드됩니다:\u003c/p\u003e\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*yPvQ3Jj47osdFfxsoMXqSg.gif\"\u003e\n\u003cp\u003eHTMX라는 가벼운 JavaScript 라이브러리를 사용하여 이 문제를 해결해야 합니다. 이 라이브러리는 보다 더 순조롭고 상호작용적인 사용자 네비게이션 경험을 크게 향상시킬 수 있습니다. HTMX는 더 다양한 응용 프로그램에서 사용할 수 있지만, 현재 목적에 맞게 더 원활한 네비게이션을 달성하기 위해 그 능력을 활용하는 데 중점을 둘 것입니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003eHTMX를 사용하여 점진적으로 향상시키기\u003c/h2\u003e\n\u003cp\u003eHTMX를 사용하는 가장 빠른 방법은 CDN을 통해 로드하는 것입니다. 다음 코드를 head 태그에 추가하면 간단히 시작할 수 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!--\u003cspan class=\"hljs-title class_\"\u003eFile\u003c/span\u003e: views/layouts/main.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e--\u003e\n...\n\u0026#x3C;script src=\u003cspan class=\"hljs-string\"\u003e\"https://unpkg.com/htmx.org@latest\"\u003c/span\u003e\u003e\u0026#x3C;/script\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003eHTMX App\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u0026#x3C;/head\u003e\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 사이드네비게이션 바에 작은 변경을 가할 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003ehref 속성을 제거하고 hx-get 속성으로 대체합니다. 사용자가이 링크를 클릭하면 HTTP GET 요청이 발생합니다.\u003c/li\u003e\n\u003cli\u003e각 앵커에 hx-target 속성을 추가하거나 앵커 상위 div에 하나 추가하십시오. hx-target 속성을 사용하면 응답을 교체할 요소를 대상으로 지정할 수 있습니다.\u003c/li\u003e\n\u003cli\u003e각 앵커에 hx-push-url=\"true\"를 추가하십시오. hx-push-url 속성을 사용하면 URL을 브라우저 위치 기록에 추가할 수 있습니다. 이를 통해 새로운 기록 항목이 생성되어 브라우저의 뒤로/앞으로 버튼을 사용한 탐색이 가능합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e이것이 무엇을 하는가: 우리는 \"main\" id의 div에서 응답을 삽입할 때 HTMX lib에 서버 호출을 만드는 방법을 선언적으로 지시하고 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;div \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"w-56 bg-gray-800 text-white p-4\"\u003c/span\u003e hx-target=\u003cspan class=\"hljs-string\"\u003e\"#main\"\u003c/span\u003e\u003e\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehx-get\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehx-push-url\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"block py-2 px-4 text-white hover:bg-gray-600\"\u003c/span\u003e\u003e\u003c/span\u003eHome\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehx-get\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/users\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehx-push-url\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"block py-2 px-4 text-white hover:bg-gray-600\"\u003c/span\u003e\u003e\u003c/span\u003eUsers\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehx-get\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/posts\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehx-push-url\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"block py-2 px-4 text-white hover:bg-gray-600\"\u003c/span\u003e\u003e\u003c/span\u003ePosts\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u0026#x3C;/div\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 다음과 같습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*LOvL_BdO8v6B-La18uqJug.gif\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e번쩍임 문제를 해결했고 새로운 URL로 올바르게 전환됩니다. 이제 다른 사람에게 내비게이션을 공유하고 싶다면 새로운 URL로 이동하게 됩니다.\u003c/p\u003e\n\u003ch3\u003e앱을 HTMX 알아보기\u003c/h3\u003e\n\u003cp\u003e각 서버 요청이 HTMX 호출인지 여부를 결정해야 합니다. 만약 HTMX 호출이라면 레이아웃을 사용하지 말고 해당 템플릿의 HTML을 그대로 반환하도록 템플릿 엔진에 지시해야 합니다. 이를 위해 특정 미들웨어를 포함해야 합니다:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 파일: app.js\u003c/span\u003e\n...\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res, next\u003c/span\u003e) =\u003e\u003c/span\u003e {\n    res.\u003cspan class=\"hljs-property\"\u003elocals\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euseLayout\u003c/span\u003e = req.\u003cspan class=\"hljs-property\"\u003eheaders\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e\"hx-request\"\u003c/span\u003e] !== \u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e;\n    \u003cspan class=\"hljs-title function_\"\u003enext\u003c/span\u003e();\n})\n\napp.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`애플리케이션이 http://localhost:3000에서 실행 중입니다.`\u003c/span\u003e)\n})\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHTMX 요청이 감지되지 않는 경우에만 레이아웃을 사용합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!-- 파일: views/layouts/main.\u003cspan class=\"hljs-property\"\u003ehtml\u003c/span\u003e --\u003e\n{ \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e useLayout }\n\u0026#x3C;!\u003cspan class=\"hljs-variable constant_\"\u003eDOCTYPE\u003c/span\u003e html\u003e\n\u0026#x3C;html lang=\"en\"\u003e\n\n\u0026#x3C;head\u003e\n    \u0026#x3C;meta charset=\"UTF-8\"\u003e\n    \u0026#x3C;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n    \u0026#x3C;link rel=\"stylesheet\"\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css\" /\u003e\n    \u0026#x3C;script src=\"https://unpkg.com/htmx.org@latest\"\u003e\u0026#x3C;/script\u003e\n    \u0026#x3C;title\u003eHTMX App\u0026#x3C;/title\u003e\n\u0026#x3C;/head\u003e\n\u0026#x3C;body class=\"bg-gray-200\"\u003e\n    \u0026#x3C;div class=\"flex h-screen\"\u003e\n        \u0026#x3C;!-- Side Navigation --\u003e\n        {- include('partials/sidenav.html')}\n        \u0026#x3C;!-- Main Content Area --\u003e\n        \u0026#x3C;div class=\"w-full bg-white p-4\" id=\"main\"\u003e\n{ endif }\n\n            { block content }{ endblock }\n\n{ if useLayout }\n        \u0026#x3C;/div\u003e\n\u0026#x3C;/body\u003e\n\u0026#x3C;/html\u003e\n{ endif }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eURL을 공유할 수 있도록 원활하고 번쩍임 없는 내비게이션 경험을 성공적으로 달성했습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003ca href=\"https://miro.medium.com/v2/resize:fit:1400/1*hdhwN-9D2qdkYFyXwJ6XEg.gif\" rel=\"nofollow\" target=\"_blank\"\u003e이미지\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e원본 블로그 게시물: \u003ca href=\"https://nanosoft.co.za/blog/post/express-htmx\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://nanosoft.co.za/blog/post/express-htmx\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e소스 코드: \u003ca href=\"https://github.com/nanosoftonline/express-htmx\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://github.com/nanosoftonline/express-htmx\u003c/a\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-02-EffortlessPageRoutingUsingHTMX"},"buildId":"aCCUs-qPrLLLWRnkN0AOd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>