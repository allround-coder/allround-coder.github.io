<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>빠른 BDD UI 테스트 프레임워크 with Playwright | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-15-QuickBDDUITestFrameworkwithPlaywright" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="빠른 BDD UI 테스트 프레임워크 with Playwright | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="빠른 BDD UI 테스트 프레임워크 with Playwright | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-15-QuickBDDUITestFrameworkwithPlaywright" data-gatsby-head="true"/><meta name="twitter:title" content="빠른 BDD UI 테스트 프레임워크 with Playwright | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-15 10:41" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_buildManifest.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">빠른 BDD UI 테스트 프레임워크 with Playwright</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="빠른 BDD UI 테스트 프레임워크 with Playwright" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 15, 2024</span><span class="posts_reading_time__f7YPP">7<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-15-QuickBDDUITestFrameworkwithPlaywright&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// Playwright에서 Type Script와 Cucumber로 UI 테스트 프레임워크를 시작하는 빠른 가이드입니다.</span>

<span class="hljs-comment">// 주의 사항:-</span>
<span class="hljs-comment">// 이것은 테스트 자동화를 시작하기 위해 의도적으로 매우 기본적인 프레임워크 설정입니다.</span>
<span class="hljs-comment">// 요구 사항에 맞게 향상시킬 수 있습니다.</span>
</code></pre>
<h1>필요한 것</h1>
<ul>
<li>Node 및 NPM 설치가 되어 있어야 합니다.</li>
<li>Visual Studio Code</li>
<li>Cucumber 익스텐션</li>
</ul>
<h1>프로젝트 설정하기</h1>
<p>명령줄로 이동하여 다음을 실행하세요 (프로젝트 설정 및 종속성 설치):</p>
<pre><code class="hljs language-js">> mkdir playwright-bdd-project
> cd playwright-bdd-project
> npm init <span class="hljs-comment">// 모든 기본 값 선택, 이렇게 하면 새 노드 프로젝트가 초기화되고 package.json이 생성됩니다</span>
> npm i @cucumber/cucumber -D <span class="hljs-comment">// cucumber // -D 플래그는 이 설치를 package.json의 개발용 종속성으로 추가합니다</span>
> npm i @playwright/test -D <span class="hljs-comment">// Playwright</span>
> npm i @types/node -D <span class="hljs-comment">// Node용 Type Script</span>
> npm i ts-node -D <span class="hljs-comment">// Node 실행 환경에서 Type Script 파일을 실행하기 위함</span>
> code . <span class="hljs-comment">// 이 새롭게 설정한 프로젝트를 Visual Studio Code로 엽니다</span>
</code></pre>
<h1>프로젝트 구조</h1>
<p>다음과 같이 프로젝트에서 디렉터리 구조를 설정해주세요:</p>
<pre><code class="hljs language-js">root \ src \ test \ features <span class="hljs-comment">// 여기에는 피쳐 파일이 위치합니다</span>
root \src \ test \steps <span class="hljs-comment">// 여기에는 스텝 정의 파일이 위치합니다</span>
root \ reports <span class="hljs-comment">// 여기에는 테스트 보고서가 생성됩니다</span>
root \ src \ test \ utils <span class="hljs-comment">// 여기에는 유틸리티 코드를 유지합니다</span>
</code></pre>
<p><img src="/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_2.png" alt="예시 이미지"></p>
<h1>이 프레임워크의 핵심 — cucumber.json</h1>
<p>프로젝트 루트에 cucumber.json 파일을 생성하세요.</p>
<p>루트 `cucumber.json</p>
<pre><code class="hljs language-js">{
    <span class="hljs-string">"default"</span>: {
        <span class="hljs-string">"paths"</span>: [
            <span class="hljs-string">"src/test/features/*.feature"</span> <span class="hljs-comment">// 피처 파일의 위치</span>
        ],
        <span class="hljs-string">"dryRun"</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-string">"formatOptions"</span>: {
            <span class="hljs-string">"snippetInterface"</span>: <span class="hljs-string">"async-await"</span> <span class="hljs-comment">// async-await 형식으로 스텝 정의를 자동 생성하기 위함</span>
        },
        <span class="hljs-string">"require"</span>: [
            <span class="hljs-string">"src/test/steps/*.ts"</span> <span class="hljs-comment">// 피처 파일의 위치</span>
        ],
        <span class="hljs-string">"requireModule"</span>: [
            <span class="hljs-string">"ts-node/register"</span> <span class="hljs-comment">// 타입스크립트 파일에서 import를 사용할 수 있도록, node 실행 환경에서 이를 인식할 수 있게 함</span>
        ],
        <span class="hljs-string">"format"</span>: [
            [<span class="hljs-string">"html"</span>, <span class="hljs-string">"reports/cucumber-report.html"</span>] <span class="hljs-comment">// 테스트 실행 보고서가 여기에 생성됩니다</span>
        ]
    }
}
</code></pre>
<h1>Cucumber Extension 설정.json 파일에 Feature 파일 및 Step Definitions 경로 업데이트</h1>
<p>이를 통해 Cucumber 확장 프로그램이 Feature 및 해당하는 Step Definitions 파일을 매핑하는 데 도움이 됩니다.</p>
<pre><code class="hljs language-json"><span class="hljs-comment">// 참고:-</span>
<span class="hljs-comment">// 아래에 표시된 것과 다를 수 있는 경우가 있습니다.</span>

<span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"workbench.colorTheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Quiet Light"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"files.autoSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"afterDelay"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"workbench.iconTheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vscode-icons"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"playwright.reuseBrowser"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"playwright.showTrace"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"cucumber.features"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"src/test/features/*.feature"</span> <span class="hljs-comment">// Feature 파일의 위치</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"cucumber.glue"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"src/test/steps/*.ts"</span> <span class="hljs-comment">// Step Definition 파일의 위치</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"aws.telemetry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"amazonQ.telemetry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"explorer.confirmDelete"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"javascript.updateImportsOnFileMove.enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"always"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h1>Feature 파일</h1>
<p>"root \ src \ test \ features \ search.feature" 경로에 다음 기능 파일을 추가해 주세요.</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Feature</span>: <span class="hljs-title class_">Basic</span> search using google engine

  <span class="hljs-title class_">Scenario</span>: <span class="hljs-title class_">Search</span> <span class="hljs-keyword">for</span> a term
    <span class="hljs-title class_">Given</span> I am on the google search page
    <span class="hljs-title class_">When</span> I search <span class="hljs-keyword">for</span> <span class="hljs-string">"cucumber"</span>
    <span class="hljs-title class_">Then</span> the search results page should contain <span class="hljs-string">"cucumber"</span>
</code></pre>
<h1>단계 정의</h1>
<p>"root \ src \ test \ steps \ search.ts" 경로에 다음 단계 정의 파일을 추가해 주세요.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Given</span>, <span class="hljs-title class_">When</span>, <span class="hljs-title class_">Then</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@cucumber/cucumber'</span>;
<span class="hljs-keyword">import</span> { expect } <span class="hljs-keyword">from</span> <span class="hljs-string">'@playwright/test'</span>;
<span class="hljs-keyword">import</span> { page } <span class="hljs-keyword">from</span> <span class="hljs-string">'./hooks'</span>;

<span class="hljs-title class_">Given</span>(<span class="hljs-string">'I am on the google search page'</span>, <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'I am on the google search page'</span>);
});

<span class="hljs-title class_">When</span>(<span class="hljs-string">'I search for {string}'</span>, <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">string</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'I search for '</span> + string);
    <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">getByLabel</span>(<span class="hljs-string">'Search'</span>, { <span class="hljs-attr">exact</span>: <span class="hljs-literal">true</span> }).<span class="hljs-title function_">click</span>();
    <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">getByLabel</span>(<span class="hljs-string">'Search'</span>, { <span class="hljs-attr">exact</span>: <span class="hljs-literal">true</span> }).<span class="hljs-title function_">fill</span>(string);
    <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">getByLabel</span>(<span class="hljs-string">'Google Search'</span>).<span class="hljs-title function_">first</span>().<span class="hljs-title function_">click</span>();

});

<span class="hljs-title class_">Then</span>(<span class="hljs-string">'the search results page should contain {string}'</span>, <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">string</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'the search results page should contain '</span> + string);
    <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">'link'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'Cucumber: BDD Testing &#x26;'</span> }).<span class="hljs-title function_">click</span>();
    <span class="hljs-title function_">expect</span>(page.<span class="hljs-title function_">url</span>()).<span class="hljs-title function_">toContain</span>(<span class="hljs-string">'cucumber.io'</span>);
});
</code></pre>
<h2>Hooks</h2>
<p>Add the following hooks file under: root \ src \ test \ steps \ hooks.ts</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Before</span>, <span class="hljs-title class_">After</span>, <span class="hljs-title class_">AfterStep</span>, <span class="hljs-title class_">BeforeStep</span>, <span class="hljs-title class_">World</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@cucumber/cucumber"</span>;
<span class="hljs-keyword">import</span> { chromium, <span class="hljs-title class_">Page</span>, <span class="hljs-title class_">Browser</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@playwright/test'</span>;
<span class="hljs-keyword">import</span> { addCommentToReport, addScreenshotToReport } <span class="hljs-keyword">from</span> <span class="hljs-string">"../utils/reporting"</span>;

<span class="hljs-keyword">let</span> browser : <span class="hljs-title class_">Browser</span>;
<span class="hljs-keyword">let</span> page : <span class="hljs-title class_">Page</span>;

<span class="hljs-title class_">Before</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) { <span class="hljs-comment">// SETUP (Runs Before Every Test Scenario) </span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Before hook'</span>);
    browser = <span class="hljs-keyword">await</span> chromium.<span class="hljs-title function_">launch</span>({<span class="hljs-attr">headless</span>: <span class="hljs-literal">false</span>});
    page = <span class="hljs-keyword">await</span> browser.<span class="hljs-title function_">newPage</span>();
    <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">goto</span>(<span class="hljs-string">'https://www.google.com'</span>);
});

<span class="hljs-title class_">After</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) { <span class="hljs-comment">// TEARDOWN (Runs After Every Test Scenario)</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'After hook'</span>);
    <span class="hljs-keyword">await</span> browser.<span class="hljs-title function_">close</span>();
});

<span class="hljs-comment">// RUNS BEFORE EVERY STEP</span>
<span class="hljs-comment">// We are taking screenshop before every step and adding it to the test report</span>
<span class="hljs-title class_">BeforeStep</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">{pickle, pickleStep, gherkinDocument, testCaseStartedId, testStepId}</span>) {
    <span class="hljs-keyword">await</span> addScreenshotToReport.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
    <span class="hljs-keyword">await</span> addCommentToReport.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'BeforeStep hook: '</span> + pickleStep.<span class="hljs-property">text</span>);
})

<span class="hljs-comment">// RUNS AFTER EVERY STEP</span>
<span class="hljs-comment">// We are taking screenshop after every step and adding it to the test report</span>
<span class="hljs-title class_">AfterStep</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">{pickle, pickleStep, gherkinDocument, result, testCaseStartedId, testStepId}</span>) {
    <span class="hljs-keyword">await</span> addScreenshotToReport.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
    <span class="hljs-keyword">await</span> addCommentToReport.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'AfterStep hook: '</span> + pickleStep.<span class="hljs-property">text</span> + <span class="hljs-string">' - '</span> + result.<span class="hljs-property">status</span>);
})

<span class="hljs-keyword">export</span> { browser, page };
</code></pre>
<h1>유틸리티</h1>
<p>아래의 유틸리티 파일을 다음 경로에 추가하세요: root \ src \ test \ utils\ reporting.ts</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">World</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@cucumber/cucumber"</span>;
<span class="hljs-keyword">import</span> { page } <span class="hljs-keyword">from</span> <span class="hljs-string">"../steps/hooks"</span>;

<span class="hljs-comment">// 테스트 리포트에 스크린샷을 추가하는 함수</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">addScreenshotToReport</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span>: World</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attach</span>(<span class="hljs-keyword">await</span> page.<span class="hljs-title function_">screenshot</span>({ <span class="hljs-attr">fullPage</span>: <span class="hljs-literal">true</span> }), <span class="hljs-string">'image/png'</span>);
}

<span class="hljs-comment">// 테스트 리포트에 코멘트를 추가하는 함수</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">addCommentToReport</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span>: World, comment: string</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attach</span>(comment, <span class="hljs-string">'text/plain'</span>);
}
</code></pre>
<h1>최종 설정은 이렇게 될 것입니다:</h1>
<p><img src="/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_3.png" alt="이미지"></p>
<h1>테스트 실행</h1>
<p>package.json에서 test 필드 값을 "cucumber-js test"로 설정하세요.</p>
<pre><code class="hljs language-js"> <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"cucumber-js test"</span>
  },
</code></pre>
<p>터미널을 열고 (CTRL + J) <code>npm test</code>를 실행해주세요.</p>
<p>이 명령을 통해 테스트가 실행됩니다.</p>
<p><img src="/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_4.png" alt="이미지"></p>
<h1>실행 보고서 유효성 검사</h1>
<p>루트 / 보고서 / 로 이동하셔서</p>
<p>여기에서 최신 테스트 실행 보고서를 찾으실 수 있습니다.</p>
<p><img src="/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_5.png" alt="보고서 이미지"></p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"빠른 BDD UI 테스트 프레임워크 with Playwright","description":"","date":"2024-05-15 10:41","slug":"2024-05-15-QuickBDDUITestFrameworkwithPlaywright","content":"\n\n\u003cimg src=\"/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_0.png\" /\u003e\n\n```javascript\n// Playwright에서 Type Script와 Cucumber로 UI 테스트 프레임워크를 시작하는 빠른 가이드입니다.\n\n// 주의 사항:-\n// 이것은 테스트 자동화를 시작하기 위해 의도적으로 매우 기본적인 프레임워크 설정입니다.\n// 요구 사항에 맞게 향상시킬 수 있습니다.\n```\n\n# 필요한 것\n\n- Node 및 NPM 설치가 되어 있어야 합니다.\n- Visual Studio Code\n- Cucumber 익스텐션\n\n\n\n# 프로젝트 설정하기\n\n명령줄로 이동하여 다음을 실행하세요 (프로젝트 설정 및 종속성 설치):\n\n```js\n\u003e mkdir playwright-bdd-project\n\u003e cd playwright-bdd-project\n\u003e npm init // 모든 기본 값 선택, 이렇게 하면 새 노드 프로젝트가 초기화되고 package.json이 생성됩니다\n\u003e npm i @cucumber/cucumber -D // cucumber // -D 플래그는 이 설치를 package.json의 개발용 종속성으로 추가합니다\n\u003e npm i @playwright/test -D // Playwright\n\u003e npm i @types/node -D // Node용 Type Script\n\u003e npm i ts-node -D // Node 실행 환경에서 Type Script 파일을 실행하기 위함\n\u003e code . // 이 새롭게 설정한 프로젝트를 Visual Studio Code로 엽니다\n```\n\n\u003cimg src=\"/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_1.png\" /\u003e\n\n\n\n# 프로젝트 구조\n\n다음과 같이 프로젝트에서 디렉터리 구조를 설정해주세요:\n\n```js\nroot \\ src \\ test \\ features // 여기에는 피쳐 파일이 위치합니다\nroot \\src \\ test \\steps // 여기에는 스텝 정의 파일이 위치합니다\nroot \\ reports // 여기에는 테스트 보고서가 생성됩니다\nroot \\ src \\ test \\ utils // 여기에는 유틸리티 코드를 유지합니다\n```\n\n![예시 이미지](/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_2.png)\n\n\n\n# 이 프레임워크의 핵심 — cucumber.json\n\n프로젝트 루트에 cucumber.json 파일을 생성하세요.\n\n루트 `cucumber.json\n\n```js\n{\n    \"default\": {\n        \"paths\": [\n            \"src/test/features/*.feature\" // 피처 파일의 위치\n        ],\n        \"dryRun\": false,\n        \"formatOptions\": {\n            \"snippetInterface\": \"async-await\" // async-await 형식으로 스텝 정의를 자동 생성하기 위함\n        },\n        \"require\": [\n            \"src/test/steps/*.ts\" // 피처 파일의 위치\n        ],\n        \"requireModule\": [\n            \"ts-node/register\" // 타입스크립트 파일에서 import를 사용할 수 있도록, node 실행 환경에서 이를 인식할 수 있게 함\n        ],\n        \"format\": [\n            [\"html\", \"reports/cucumber-report.html\"] // 테스트 실행 보고서가 여기에 생성됩니다\n        ]\n    }\n}\n```\n\n\n\n# Cucumber Extension 설정.json 파일에 Feature 파일 및 Step Definitions 경로 업데이트\n\n이를 통해 Cucumber 확장 프로그램이 Feature 및 해당하는 Step Definitions 파일을 매핑하는 데 도움이 됩니다.\n\n```json\n// 참고:-\n// 아래에 표시된 것과 다를 수 있는 경우가 있습니다.\n\n{\n    \"workbench.colorTheme\": \"Quiet Light\",\n    \"files.autoSave\": \"afterDelay\",\n    \"workbench.iconTheme\": \"vscode-icons\",\n    \"playwright.reuseBrowser\": false,\n    \"playwright.showTrace\": false,\n    \"cucumber.features\": [\n        \"src/test/features/*.feature\" // Feature 파일의 위치\n    ],\n    \"cucumber.glue\": [\n        \"src/test/steps/*.ts\" // Step Definition 파일의 위치\n    ],\n    \"aws.telemetry\": false,\n    \"amazonQ.telemetry\": false,\n    \"explorer.confirmDelete\": false,\n    \"javascript.updateImportsOnFileMove.enabled\": \"always\"\n}\n```\n\n# Feature 파일\n\n\n\n\"root \\ src \\ test \\ features \\ search.feature\" 경로에 다음 기능 파일을 추가해 주세요.\n\n```js\nFeature: Basic search using google engine\n\n  Scenario: Search for a term\n    Given I am on the google search page\n    When I search for \"cucumber\"\n    Then the search results page should contain \"cucumber\"\n```\n\n# 단계 정의\n\n\"root \\ src \\ test \\ steps \\ search.ts\" 경로에 다음 단계 정의 파일을 추가해 주세요.\n\n\n\n\n```js\nimport { Given, When, Then } from '@cucumber/cucumber';\nimport { expect } from '@playwright/test';\nimport { page } from './hooks';\n\nGiven('I am on the google search page', async function () {\n    console.log('I am on the google search page');\n});\n\nWhen('I search for {string}', async function (string) {\n    console.log('I search for ' + string);\n    await page.getByLabel('Search', { exact: true }).click();\n    await page.getByLabel('Search', { exact: true }).fill(string);\n    await page.getByLabel('Google Search').first().click();\n\n});\n\nThen('the search results page should contain {string}', async function (string) {\n    console.log('the search results page should contain ' + string);\n    await page.getByRole('link', { name: 'Cucumber: BDD Testing \u0026' }).click();\n    expect(page.url()).toContain('cucumber.io');\n});\n``` \n\n## Hooks\n\nAdd the following hooks file under: root \\ src \\ test \\ steps \\ hooks.ts\n\n```js\nimport { Before, After, AfterStep, BeforeStep, World } from \"@cucumber/cucumber\";\nimport { chromium, Page, Browser } from '@playwright/test';\nimport { addCommentToReport, addScreenshotToReport } from \"../utils/reporting\";\n\nlet browser : Browser;\nlet page : Page;\n\nBefore(async function () { // SETUP (Runs Before Every Test Scenario) \n    console.log('Before hook');\n    browser = await chromium.launch({headless: false});\n    page = await browser.newPage();\n    await page.goto('https://www.google.com');\n});\n\nAfter(async function () { // TEARDOWN (Runs After Every Test Scenario)\n    console.log('After hook');\n    await browser.close();\n});\n\n// RUNS BEFORE EVERY STEP\n// We are taking screenshop before every step and adding it to the test report\nBeforeStep(async function({pickle, pickleStep, gherkinDocument, testCaseStartedId, testStepId}) {\n    await addScreenshotToReport.call(this);\n    await addCommentToReport.call(this, 'BeforeStep hook: ' + pickleStep.text);\n})\n\n// RUNS AFTER EVERY STEP\n// We are taking screenshop after every step and adding it to the test report\nAfterStep(async function({pickle, pickleStep, gherkinDocument, result, testCaseStartedId, testStepId}) {\n    await addScreenshotToReport.call(this);\n    await addCommentToReport.call(this, 'AfterStep hook: ' + pickleStep.text + ' - ' + result.status);\n})\n\nexport { browser, page };\n```   \n  \n\n\n\n# 유틸리티\n\n아래의 유틸리티 파일을 다음 경로에 추가하세요: root \\ src \\ test \\ utils\\ reporting.ts\n\n```js\nimport { World } from \"@cucumber/cucumber\";\nimport { page } from \"../steps/hooks\";\n\n// 테스트 리포트에 스크린샷을 추가하는 함수\nexport async function addScreenshotToReport(this: World) {\n    this.attach(await page.screenshot({ fullPage: true }), 'image/png');\n}\n\n// 테스트 리포트에 코멘트를 추가하는 함수\nexport async function addCommentToReport(this: World, comment: string) {\n    this.attach(comment, 'text/plain');\n}\n```\n\n# 최종 설정은 이렇게 될 것입니다:\n\n\n\n\n![이미지](/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_3.png)\n\n# 테스트 실행\n\npackage.json에서 test 필드 값을 \"cucumber-js test\"로 설정하세요.\n\n```js\n \"scripts\": {\n    \"test\": \"cucumber-js test\"\n  },\n```\n\n\n\n터미널을 열고 (CTRL + J) `npm test`를 실행해주세요.\n\n이 명령을 통해 테스트가 실행됩니다.\n\n![이미지](/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_4.png)\n\n# 실행 보고서 유효성 검사\n\n\n\n루트 / 보고서 / 로 이동하셔서\n\n여기에서 최신 테스트 실행 보고서를 찾으실 수 있습니다.\n\n![보고서 이미지](/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_5.png)","ogImage":{"url":"/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_0.png"},"coverImage":"/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_0.png","tag":["Tech"],"readingTime":7},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Playwright에서 Type Script와 Cucumber로 UI 테스트 프레임워크를 시작하는 빠른 가이드입니다.\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// 주의 사항:-\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// 이것은 테스트 자동화를 시작하기 위해 의도적으로 매우 기본적인 프레임워크 설정입니다.\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// 요구 사항에 맞게 향상시킬 수 있습니다.\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e필요한 것\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eNode 및 NPM 설치가 되어 있어야 합니다.\u003c/li\u003e\n\u003cli\u003eVisual Studio Code\u003c/li\u003e\n\u003cli\u003eCucumber 익스텐션\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e프로젝트 설정하기\u003c/h1\u003e\n\u003cp\u003e명령줄로 이동하여 다음을 실행하세요 (프로젝트 설정 및 종속성 설치):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003e mkdir playwright-bdd-project\n\u003e cd playwright-bdd-project\n\u003e npm init \u003cspan class=\"hljs-comment\"\u003e// 모든 기본 값 선택, 이렇게 하면 새 노드 프로젝트가 초기화되고 package.json이 생성됩니다\u003c/span\u003e\n\u003e npm i @cucumber/cucumber -D \u003cspan class=\"hljs-comment\"\u003e// cucumber // -D 플래그는 이 설치를 package.json의 개발용 종속성으로 추가합니다\u003c/span\u003e\n\u003e npm i @playwright/test -D \u003cspan class=\"hljs-comment\"\u003e// Playwright\u003c/span\u003e\n\u003e npm i @types/node -D \u003cspan class=\"hljs-comment\"\u003e// Node용 Type Script\u003c/span\u003e\n\u003e npm i ts-node -D \u003cspan class=\"hljs-comment\"\u003e// Node 실행 환경에서 Type Script 파일을 실행하기 위함\u003c/span\u003e\n\u003e code . \u003cspan class=\"hljs-comment\"\u003e// 이 새롭게 설정한 프로젝트를 Visual Studio Code로 엽니다\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e프로젝트 구조\u003c/h1\u003e\n\u003cp\u003e다음과 같이 프로젝트에서 디렉터리 구조를 설정해주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eroot \\ src \\ test \\ features \u003cspan class=\"hljs-comment\"\u003e// 여기에는 피쳐 파일이 위치합니다\u003c/span\u003e\nroot \\src \\ test \\steps \u003cspan class=\"hljs-comment\"\u003e// 여기에는 스텝 정의 파일이 위치합니다\u003c/span\u003e\nroot \\ reports \u003cspan class=\"hljs-comment\"\u003e// 여기에는 테스트 보고서가 생성됩니다\u003c/span\u003e\nroot \\ src \\ test \\ utils \u003cspan class=\"hljs-comment\"\u003e// 여기에는 유틸리티 코드를 유지합니다\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_2.png\" alt=\"예시 이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e이 프레임워크의 핵심 — cucumber.json\u003c/h1\u003e\n\u003cp\u003e프로젝트 루트에 cucumber.json 파일을 생성하세요.\u003c/p\u003e\n\u003cp\u003e루트 `cucumber.json\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n    \u003cspan class=\"hljs-string\"\u003e\"default\"\u003c/span\u003e: {\n        \u003cspan class=\"hljs-string\"\u003e\"paths\"\u003c/span\u003e: [\n            \u003cspan class=\"hljs-string\"\u003e\"src/test/features/*.feature\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 피처 파일의 위치\u003c/span\u003e\n        ],\n        \u003cspan class=\"hljs-string\"\u003e\"dryRun\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"formatOptions\"\u003c/span\u003e: {\n            \u003cspan class=\"hljs-string\"\u003e\"snippetInterface\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"async-await\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// async-await 형식으로 스텝 정의를 자동 생성하기 위함\u003c/span\u003e\n        },\n        \u003cspan class=\"hljs-string\"\u003e\"require\"\u003c/span\u003e: [\n            \u003cspan class=\"hljs-string\"\u003e\"src/test/steps/*.ts\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 피처 파일의 위치\u003c/span\u003e\n        ],\n        \u003cspan class=\"hljs-string\"\u003e\"requireModule\"\u003c/span\u003e: [\n            \u003cspan class=\"hljs-string\"\u003e\"ts-node/register\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 타입스크립트 파일에서 import를 사용할 수 있도록, node 실행 환경에서 이를 인식할 수 있게 함\u003c/span\u003e\n        ],\n        \u003cspan class=\"hljs-string\"\u003e\"format\"\u003c/span\u003e: [\n            [\u003cspan class=\"hljs-string\"\u003e\"html\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"reports/cucumber-report.html\"\u003c/span\u003e] \u003cspan class=\"hljs-comment\"\u003e// 테스트 실행 보고서가 여기에 생성됩니다\u003c/span\u003e\n        ]\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003eCucumber Extension 설정.json 파일에 Feature 파일 및 Step Definitions 경로 업데이트\u003c/h1\u003e\n\u003cp\u003e이를 통해 Cucumber 확장 프로그램이 Feature 및 해당하는 Step Definitions 파일을 매핑하는 데 도움이 됩니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 참고:-\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// 아래에 표시된 것과 다를 수 있는 경우가 있습니다.\u003c/span\u003e\n\n\u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"workbench.colorTheme\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Quiet Light\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"files.autoSave\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"afterDelay\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"workbench.iconTheme\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"vscode-icons\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"playwright.reuseBrowser\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003e\u003cspan class=\"hljs-keyword\"\u003efalse\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"playwright.showTrace\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003e\u003cspan class=\"hljs-keyword\"\u003efalse\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"cucumber.features\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"src/test/features/*.feature\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// Feature 파일의 위치\u003c/span\u003e\n    \u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"cucumber.glue\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"src/test/steps/*.ts\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// Step Definition 파일의 위치\u003c/span\u003e\n    \u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"aws.telemetry\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003e\u003cspan class=\"hljs-keyword\"\u003efalse\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"amazonQ.telemetry\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003e\u003cspan class=\"hljs-keyword\"\u003efalse\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"explorer.confirmDelete\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003e\u003cspan class=\"hljs-keyword\"\u003efalse\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"javascript.updateImportsOnFileMove.enabled\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"always\"\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003eFeature 파일\u003c/h1\u003e\n\u003cp\u003e\"root \\ src \\ test \\ features \\ search.feature\" 경로에 다음 기능 파일을 추가해 주세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eFeature\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eBasic\u003c/span\u003e search using google engine\n\n  \u003cspan class=\"hljs-title class_\"\u003eScenario\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eSearch\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e a term\n    \u003cspan class=\"hljs-title class_\"\u003eGiven\u003c/span\u003e I am on the google search page\n    \u003cspan class=\"hljs-title class_\"\u003eWhen\u003c/span\u003e I search \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"cucumber\"\u003c/span\u003e\n    \u003cspan class=\"hljs-title class_\"\u003eThen\u003c/span\u003e the search results page should contain \u003cspan class=\"hljs-string\"\u003e\"cucumber\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e단계 정의\u003c/h1\u003e\n\u003cp\u003e\"root \\ src \\ test \\ steps \\ search.ts\" 경로에 다음 단계 정의 파일을 추가해 주세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eGiven\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eWhen\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eThen\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@cucumber/cucumber'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { expect } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@playwright/test'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { page } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./hooks'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-title class_\"\u003eGiven\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'I am on the google search page'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'I am on the google search page'\u003c/span\u003e);\n});\n\n\u003cspan class=\"hljs-title class_\"\u003eWhen\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'I search for {string}'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003estring\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'I search for '\u003c/span\u003e + string);\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e page.\u003cspan class=\"hljs-title function_\"\u003egetByLabel\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Search'\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003eexact\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e }).\u003cspan class=\"hljs-title function_\"\u003eclick\u003c/span\u003e();\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e page.\u003cspan class=\"hljs-title function_\"\u003egetByLabel\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Search'\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003eexact\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e }).\u003cspan class=\"hljs-title function_\"\u003efill\u003c/span\u003e(string);\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e page.\u003cspan class=\"hljs-title function_\"\u003egetByLabel\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Google Search'\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003efirst\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003eclick\u003c/span\u003e();\n\n});\n\n\u003cspan class=\"hljs-title class_\"\u003eThen\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'the search results page should contain {string}'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003estring\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'the search results page should contain '\u003c/span\u003e + string);\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e page.\u003cspan class=\"hljs-title function_\"\u003egetByRole\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'link'\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Cucumber: BDD Testing \u0026#x26;'\u003c/span\u003e }).\u003cspan class=\"hljs-title function_\"\u003eclick\u003c/span\u003e();\n    \u003cspan class=\"hljs-title function_\"\u003eexpect\u003c/span\u003e(page.\u003cspan class=\"hljs-title function_\"\u003eurl\u003c/span\u003e()).\u003cspan class=\"hljs-title function_\"\u003etoContain\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'cucumber.io'\u003c/span\u003e);\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eHooks\u003c/h2\u003e\n\u003cp\u003eAdd the following hooks file under: root \\ src \\ test \\ steps \\ hooks.ts\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eBefore\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eAfter\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eAfterStep\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBeforeStep\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eWorld\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@cucumber/cucumber\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { chromium, \u003cspan class=\"hljs-title class_\"\u003ePage\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eBrowser\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@playwright/test'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { addCommentToReport, addScreenshotToReport } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"../utils/reporting\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e browser : \u003cspan class=\"hljs-title class_\"\u003eBrowser\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e page : \u003cspan class=\"hljs-title class_\"\u003ePage\u003c/span\u003e;\n\n\u003cspan class=\"hljs-title class_\"\u003eBefore\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) { \u003cspan class=\"hljs-comment\"\u003e// SETUP (Runs Before Every Test Scenario) \u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Before hook'\u003c/span\u003e);\n    browser = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e chromium.\u003cspan class=\"hljs-title function_\"\u003elaunch\u003c/span\u003e({\u003cspan class=\"hljs-attr\"\u003eheadless\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e});\n    page = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e browser.\u003cspan class=\"hljs-title function_\"\u003enewPage\u003c/span\u003e();\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e page.\u003cspan class=\"hljs-title function_\"\u003egoto\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'https://www.google.com'\u003c/span\u003e);\n});\n\n\u003cspan class=\"hljs-title class_\"\u003eAfter\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) { \u003cspan class=\"hljs-comment\"\u003e// TEARDOWN (Runs After Every Test Scenario)\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'After hook'\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e browser.\u003cspan class=\"hljs-title function_\"\u003eclose\u003c/span\u003e();\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// RUNS BEFORE EVERY STEP\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// We are taking screenshop before every step and adding it to the test report\u003c/span\u003e\n\u003cspan class=\"hljs-title class_\"\u003eBeforeStep\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{pickle, pickleStep, gherkinDocument, testCaseStartedId, testStepId}\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e addScreenshotToReport.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e addCommentToReport.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'BeforeStep hook: '\u003c/span\u003e + pickleStep.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e);\n})\n\n\u003cspan class=\"hljs-comment\"\u003e// RUNS AFTER EVERY STEP\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// We are taking screenshop after every step and adding it to the test report\u003c/span\u003e\n\u003cspan class=\"hljs-title class_\"\u003eAfterStep\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{pickle, pickleStep, gherkinDocument, result, testCaseStartedId, testStepId}\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e addScreenshotToReport.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e addCommentToReport.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'AfterStep hook: '\u003c/span\u003e + pickleStep.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e + \u003cspan class=\"hljs-string\"\u003e' - '\u003c/span\u003e + result.\u003cspan class=\"hljs-property\"\u003estatus\u003c/span\u003e);\n})\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e { browser, page };\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e유틸리티\u003c/h1\u003e\n\u003cp\u003e아래의 유틸리티 파일을 다음 경로에 추가하세요: root \\ src \\ test \\ utils\\ reporting.ts\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eWorld\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@cucumber/cucumber\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { page } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"../steps/hooks\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// 테스트 리포트에 스크린샷을 추가하는 함수\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eaddScreenshotToReport\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e: World\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eattach\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e page.\u003cspan class=\"hljs-title function_\"\u003escreenshot\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003efullPage\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e }), \u003cspan class=\"hljs-string\"\u003e'image/png'\u003c/span\u003e);\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// 테스트 리포트에 코멘트를 추가하는 함수\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eaddCommentToReport\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e: World, comment: string\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eattach\u003c/span\u003e(comment, \u003cspan class=\"hljs-string\"\u003e'text/plain'\u003c/span\u003e);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e최종 설정은 이렇게 될 것입니다:\u003c/h1\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_3.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e테스트 실행\u003c/h1\u003e\n\u003cp\u003epackage.json에서 test 필드 값을 \"cucumber-js test\"로 설정하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e \u003cspan class=\"hljs-string\"\u003e\"scripts\"\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\"test\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"cucumber-js test\"\u003c/span\u003e\n  },\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e터미널을 열고 (CTRL + J) \u003ccode\u003enpm test\u003c/code\u003e를 실행해주세요.\u003c/p\u003e\n\u003cp\u003e이 명령을 통해 테스트가 실행됩니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_4.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e실행 보고서 유효성 검사\u003c/h1\u003e\n\u003cp\u003e루트 / 보고서 / 로 이동하셔서\u003c/p\u003e\n\u003cp\u003e여기에서 최신 테스트 실행 보고서를 찾으실 수 있습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-QuickBDDUITestFrameworkwithPlaywright_5.png\" alt=\"보고서 이미지\"\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-15-QuickBDDUITestFrameworkwithPlaywright"},"buildId":"t9N7vwmpvBMQnO2PSctoH","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>