<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>ì±—ë´‡ ì¹˜íŠ¸ ì½”ë“œ Qwen110Bë¡œ ìŠ¤íŠ¸ë¦¼ë¦¿ì—ì„œ ëˆì„ ì“°ì§€ ì•Šê³  í™œìš©í•˜ëŠ” ë°©ë²• | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="ì±—ë´‡ ì¹˜íŠ¸ ì½”ë“œ Qwen110Bë¡œ ìŠ¤íŠ¸ë¦¼ë¦¿ì—ì„œ ëˆì„ ì“°ì§€ ì•Šê³  í™œìš©í•˜ëŠ” ë°©ë²• | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="ì±—ë´‡ ì¹˜íŠ¸ ì½”ë“œ Qwen110Bë¡œ ìŠ¤íŠ¸ë¦¼ë¦¿ì—ì„œ ëˆì„ ì“°ì§€ ì•Šê³  í™œìš©í•˜ëŠ” ë°©ë²• | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2" data-gatsby-head="true"/><meta name="twitter:title" content="ì±—ë´‡ ì¹˜íŠ¸ ì½”ë“œ Qwen110Bë¡œ ìŠ¤íŠ¸ë¦¼ë¦¿ì—ì„œ ëˆì„ ì“°ì§€ ì•Šê³  í™œìš©í•˜ëŠ” ë°©ë²• | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-17 03:23" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cd012fc8787133d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cd012fc8787133d0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/551-3069cf29fe274aab.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-a8eda6c93e0b14fe.js" defer=""></script><script src="/_next/static/7rKODeu6chWTLgXf6auoL/_buildManifest.js" defer=""></script><script src="/_next/static/7rKODeu6chWTLgXf6auoL/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">ì±—ë´‡ ì¹˜íŠ¸ ì½”ë“œ Qwen110Bë¡œ ìŠ¤íŠ¸ë¦¼ë¦¿ì—ì„œ ëˆì„ ì“°ì§€ ì•Šê³  í™œìš©í•˜ëŠ” ë°©ë²•</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="ì±—ë´‡ ì¹˜íŠ¸ ì½”ë“œ Qwen110Bë¡œ ìŠ¤íŠ¸ë¦¼ë¦¿ì—ì„œ ëˆì„ ì“°ì§€ ì•Šê³  í™œìš©í•˜ëŠ” ë°©ë²•" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/assets/profile.jpg"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 17, 2024</span><span class="posts_reading_time__f7YPP">9<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><p>ì œ1ë¶€ì—ì„œëŠ” ìˆ˜ì‹­ì–µ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì§„ í° ì–¸ì–´ ëª¨ë¸ì— ë¬´ë£Œë¡œ ì•¡ì„¸ìŠ¤í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ë°œê²¬í–ˆì–´ìš”. ì œì²˜ëŸ¼ ì—¬ëŸ¬ë¶„ë„ í•˜ë“œì›¨ì–´ í•œì •ìœ¼ë¡œ ê³ ë¯¼ ì¤‘ì´ë¼ë©´, ì´ í•´í‚¹ ë°©ë²•ì€ í•˜ì´ì—”ë“œ GPUë‚˜ ìœ ë£Œ êµ¬ë… ì—†ì´ë„ Qwen-110B-chatê³¼ ê°™ì€ ëŒ€ê·œëª¨ ëª¨ë¸ê³¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ì¨ì„ ì„ ì‚¬í•  ê±°ì˜ˆìš”.</p>
<p>ì œ2ë¶€ì—ì„œëŠ” ì§€ê¸ˆë¶€í„° ì²´í—˜ì„ ë” í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ìŠ¤íŠ¸ë¦¼ë¦¿ ì¸í„°í˜ì´ìŠ¤ë¡œ ë™ì¼í•œ ê°œë…ì„ ì ìš©í•˜ì—¬ ì±—ë´‡ì— ì‹œê°ì ìœ¼ë¡œ ë§¤ë ¥ì ì¸ ìŠ¤íŠ¸ë¦¬ë° íš¨ê³¼ë¥¼ ì¶”ê°€í•  ê±°ì˜ˆìš”.</p>
<p>ê³¼ì •ì„ ë˜ì§šì–´ë³´ìë©´, Python, Gradio_client ë° ì½”ë”© ëŠ¥ë ¥ì´ í•„ìš”í•´ìš”. AI ì±—ë´‡ì„ í…ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ë§Œë“œëŠ” ë° ì´ˆì ì„ ë§ì¶”ì—ˆì–´ìš”:</p>
<ul>
<li>í™˜ê²½ ì„¤ì •: ë¨¼ì € ê°€ìƒ í™˜ê²½ì„ ë§Œë“¤ê³  í•„ìš”í•œ íŒ¨í‚¤ì§€(huggingface_hub, gradio-client ë° streamlit)ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”. PyTorchë‚˜ TensorFlowê°€ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©°, ìƒí˜¸ ì‘ìš©ì€ APIë¥¼ í†µí•´ ì´ë£¨ì–´ì§ˆ ê±°ì˜ˆìš”.</li>
<li>Hugging Face API í† í°: ì‚¬ìš©ìëŠ” Hugging Faceì— ë“±ë¡í•˜ê³  ëª¨ë¸ ì¶”ë¡  APIì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ API í† í°ì„ ìƒì„±í•´ì•¼ í•´ìš”.</li>
<li>ì±—ë´‡ ì½”ë”©: Hugging Face Spacesì—ì„œ Gradioì˜ &quot;APIë¥¼ í†µí•´ ì‚¬ìš©&quot; ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ì´ëŸ¬í•œ ê°•ë ¥í•œ ëª¨ë¸ì— Python ì½”ë“œë¡œ ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ë°°ì› ì–´ìš”. íŠ¹íˆ ì—¬ëŸ¬ ì–¸ì–´ë¡œ ìƒì—…ì  ì´ìš©ì„ ìœ„í•œ ë¼ì´ì„ ìŠ¤ê°€ í—ˆìš©ë˜ëŠ” Qwen ì‹œë¦¬ì¦ˆ ëª¨ë¸ì— ì´ˆì ì„ ë§ì·„ì–´ìš”.</li>
<li>ìŠ¤íŠ¸ë¦¬ë° íš¨ê³¼: ì½”ë“œ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ë©´, ëª¨ë¸ê³¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì„¤ëª…í–ˆì–´ìš”. predict() ë° submit() ë©”ì„œë“œ ì¤‘ì—ì„œ ì„ íƒí•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° íš¨ê³¼ì™€ í•¨ê»˜ ë˜ëŠ” ì—†ì´ ì‘ë‹µì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ê°•ì¡°í–ˆì–´ìš”.</li>
</ul>
<div class="content-ad"></div>
<p>ì¡°ê¸ˆ í—¤ë§¤ê³  ìˆë‹¤ë©´ part 1ë¶€í„° ì‹œì‘í•˜ëŠ” ê²ƒì„ ì œì•ˆí•´ìš”:</p>
<h2>í•µì‹¬ ì½”ë“œë¶€í„° Streamlit ì¸í„°í˜ì´ìŠ¤ê¹Œì§€</h2>
<p>ì´ê±¸ ê¼­ ë§í•´ì•¼ í•´ìš”: í„°ë¯¸ë„ì—ì„œ ëª¨ë“  ì•±ì´ ì •ìƒ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´ ê·¸ë˜í”½ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹œì‘í•˜ì§€ ë§ì•„ì•¼ í•´ìš”.</p>
<p>ì´ê±´ í•„ìˆ˜ ì¡°ê±´ì´ì—ìš”! ê·¸ë˜ì„œ Streamlit ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì•„ì£¼ ì‰¬ìš¸ ê±°ì—ìš”: ì´ë¯¸ ì´ì „ íŒŒíŠ¸ì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ìƒí˜¸ì‘ìš©ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í–ˆê¸° ë•Œë¬¸ì´ì£ .</p>
<div class="content-ad"></div>
<p>ëª¨ë“  ê²ƒì€ ì´ í•µì‹¬ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì›€ì§ì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">from</span> gradio_client <span class="hljs-keyword">import</span> <span class="hljs-title class_">Client</span>

client = <span class="hljs-title class_">Client</span>(<span class="hljs-string">&quot;Qwen/Qwen1.5-110B-Chat-demo&quot;</span>)
result = client.<span class="hljs-title function_">submit</span>(
        query=<span class="hljs-string">&#x27;What is Science?&#x27;</span>,
        history=[],
        system=<span class="hljs-string">&quot;You are a helpful assistant.&quot;</span>,
        api_name=<span class="hljs-string">&quot;/model_chat&quot;</span>
)
<span class="hljs-title function_">print</span>(result)
</code></pre>
<p>ê·¸ë¦¬ê³  submit() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° ê°ì²´/ë°˜ë³µìë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆìŠµë‹ˆë‹¤. Streamlitì„ ì‚¬ìš©í•˜ë©´ ìŠ¤íŠ¸ë¦¼ì„ ë‹¤ë£¨ê¸°ê°€ í›¨ì”¬ ì‰¬ì›Œì§‘ë‹ˆë‹¤. ì‚¬ì‹¤, ì• í”Œë¦¬ì¼€ì´ì…˜ì€ í•­ìƒ í˜ì´ì§€ ìœ„ì ¯ì„ ìƒˆë¡œ ê³ ì¹˜ê¸° ë•Œë¬¸ì— í…ìŠ¤íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì§€ë£¨í•œ ì•Œê³ ë¦¬ì¦˜ì„ ë¬´ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì–µí•˜ì‹œë‚˜ìš”?</p>
<pre><code class="hljs language-js">    final = <span class="hljs-string">&#x27;&#x27;</span>
    <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> <span class="hljs-attr">result</span>:
        <span class="hljs-keyword">if</span> final == <span class="hljs-string">&#x27;&#x27;</span>:
            final=chunk[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]
            <span class="hljs-title function_">print</span>(chunk[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>], end=<span class="hljs-string">&quot;&quot;</span>, flush=<span class="hljs-title class_">True</span>)
        <span class="hljs-attr">else</span>:
            <span class="hljs-attr">try</span>:
                <span class="hljs-title function_">print</span>(chunk[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>].<span class="hljs-title function_">replace</span>(final,<span class="hljs-string">&#x27;&#x27;</span>), end=<span class="hljs-string">&quot;&quot;</span>, flush=<span class="hljs-title class_">True</span>)
                final = chunk[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]
            <span class="hljs-attr">except</span>:
                pass    
</code></pre>
<div class="content-ad"></div>
<p>string.replace()ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ ìƒì„±ëœ ê²ƒì—ì„œ ìƒˆë¡œìš´ ë‹¨ì–´ë¥¼ ë¹¼ë‚´ëŠ” ì‘ì—…ì„ í–ˆì—ˆëŠ”ë°, ë”ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì•„ìš”.ğŸ¥³</p>
<h1>Streamlit ì•±</h1>
<p>ìŠµê´€ì ì¸ ì‚¬ëŒì´ë¼... ê·¸ë˜ì„œ ë‚´ ì½”ë“œê°€ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì™€ ë§¤ìš° ë¹„ìŠ·í•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ë°œê²¬í•  ìˆ˜ ìˆì„ ê±°ì—ìš”. ê·¸ëŸ°ë° ê´œì°®ì•„ìš”! ê²°êµ­, í…œí”Œë¦¿ì„ ì ìš©í•˜ê³  ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ë§¤ë²ˆ ì²˜ìŒë¶€í„° ì‹œì‘í•˜ëŠ” ê²ƒë³´ë‹¤ ì‰½ê³  ë¹ ë¥¼ ìˆ˜ ìˆê±°ë“ .</p>
<p>ìƒˆ íŒŒì¼ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”: ì œ íŒŒì¼ì€ st-Qwen1.5â€“110B-Chat.pyë¼ê³  í•´ìš”. ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì™€ ì„¸ì…˜ ìƒíƒœ ì „ì—­ ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•´ë³¼ê¹Œìš”?</p>
<div class="content-ad"></div>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> streamlit <span class="hljs-keyword">as</span> st
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> gradio_client <span class="hljs-keyword">import</span> Client
<span class="hljs-comment"># Internal usage</span>
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep


<span class="hljs-keyword">if</span> <span class="hljs-string">&quot;hf_model&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> st.session_state:
    st.session_state.hf_model = <span class="hljs-string">&quot;Qwen1.5-110B-Chat&quot;</span>
<span class="hljs-comment"># Initialize chat history</span>
<span class="hljs-keyword">if</span> <span class="hljs-string">&quot;messages&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> st.session_state:
    st.session_state.messages = []
</code></pre>
<p>í”„ë¡œê·¸ë¨ì—ì„œ ì „ì—­ ë³€ìˆ˜ëŠ” ê³µìœ ë˜ì–´ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ session_stateë¼ê³  ë¶ˆë¦¬ëŠ” ì´ëŸ¬í•œ ê°ì²´ë“¤ì´ streamlitì˜ ë§¤ ì‹¤í–‰ë§ˆë‹¤ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ê²ƒì„ í•„ìš”ë¡œí•©ë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  2ê°€ì§€ ì£¼ìš” í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-python"><span class="hljs-meta">@st.cache_resource</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_client</span>():   
    yourHFtoken = <span class="hljs-string">&quot;hf_xxxxxxxxxxxxxxxxxxxxxxx&quot;</span> <span class="hljs-comment">#ì—¬ê¸°ì— ì—¬ëŸ¬ë¶„ì˜ HF í† í°ì„ ë„£ìœ¼ì„¸ìš”</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">{st.session_state.hf_model}</span>ì— ëŒ€í•œ API Gradio í´ë¼ì´ì–¸íŠ¸ë¥¼ ë¡œë”© ì¤‘ì…ë‹ˆë‹¤.&#x27;</span>)
    client = Client(<span class="hljs-string">&quot;Qwen/Qwen1.5-110B-Chat-demo&quot;</span>, hf_token=yourHFtoken)
    <span class="hljs-keyword">return</span> client

<span class="hljs-comment"># ëª¨ë“  ì±„íŒ… ë©”ì‹œì§€ë¥¼ chathistory.txtì— ê¸°ë¡í•˜ëŠ” í•¨ìˆ˜</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">writehistory</span>(<span class="hljs-params">text</span>):
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;chathistorywen110b.txt&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:
        f.write(text)
        f.write(<span class="hljs-string">&#x27;\n&#x27;</span>)
    f.close()
</code></pre>
<div class="content-ad"></div>
<p>ì €í¬ëŠ” @st.cache_resource ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” Qwen1.5-110ì— ëŒ€í•œ API gradio í´ë¼ì´ì–¸íŠ¸ë¥¼ Streamlitì´ ë§¤ ì‹¤í–‰ë§ˆë‹¤ ë¡œë”©í•˜ì§€ ì•Šê¸°ë¥¼ ì›í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤ (ì´ëŠ” ë¶„ë‹¹ 1íšŒ ì´ìƒ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤): Gradio í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì´ ì‹¤í–‰ ì¤‘ì— ë³€ê²½ë˜ì§€ ì•Šì„ ê²ƒì´ê¸° ë•Œë¬¸ì—, ì´ ë¦¬ì†ŒìŠ¤ë¥¼ íŠ¹ë³„í•œ ë©”ëª¨ë¦¬ì— ìºì‹±í•˜ê³  ìˆìŠµë‹ˆë‹¤ (@st.cache_resource). ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸°ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h2>ì¼ë¶€ ê·¸ë˜í”½ ì¡°ì •</h2>
<p>ì´ì œ ê¸°ë³¸ Streamlit í˜ì´ì§€ ìš”ì†Œì™€ ì±—ë´‡ì— ì‚¬ìš©í•  ì•„ì´ì½˜ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">#ì•„ë°”íƒ€
av_us = <span class="hljs-string">&#x27;ğŸ§‘â€ğŸ’»&#x27;</span>  # <span class="hljs-string">&#x27;./man.png&#x27;</span>  #<span class="hljs-string">&quot;ğŸ¦–&quot;</span>  # <span class="hljs-string">&quot;ğŸ§‘â€ğŸ’»&quot;</span>, <span class="hljs-string">&quot;ğŸ¤–&quot;</span>, <span class="hljs-string">&quot;ğŸ¦–&quot;</span>ê³¼ ê°™ì€ ë‹¨ì¼ ì´ëª¨ì§€ì…ë‹ˆë‹¤. <span class="hljs-title class_">Shortcut</span>ì€ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
av_ass = <span class="hljs-string">&quot;ğŸ¤–&quot;</span>   #<span class="hljs-string">&#x27;./robot.png&#x27;</span>
# ê¸°ë³¸ ëª¨ë¸ ì„¤ì •

### <span class="hljs-variable constant_">STREAMLIT</span> <span class="hljs-variable constant_">UI</span> ì‹œì‘
st.<span class="hljs-title function_">image</span>(<span class="hljs-string">&#x27;https://github.com/fabiomatricardi/ChatBOTMastery/raw/main/qwen100logo.png&#x27;</span>, )
st.<span class="hljs-title function_">markdown</span>(<span class="hljs-string">&quot;### *Streamlit &amp; Gradio_clientë¡œ êµ¬ë™ë¨*&quot;</span>, unsafe_allow_html=<span class="hljs-title class_">True</span> )
st.<span class="hljs-title function_">markdown</span>(<span class="hljs-string">&#x27;---&#x27;</span>)

client = <span class="hljs-title function_">create_client</span>()
</code></pre>
<div class="content-ad"></div>
<ul>
<li>ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ì— ë¡œì»¬ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì–´ìš” (ì½”ë“œì˜ ì£¼ì„ì„ ì°¸ê³ í•˜ì„¸ìš”!)</li>
<li>ë§ˆì§€ë§‰ìœ¼ë¡œ, create_client()ë¡œ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ì¸ìŠ¤í„´ìŠ¤í™”í•´ìš”.</li>
</ul>
<h1>ë³¸ë¬¸ â€” ì±„íŒ… ì¸í„°í˜ì´ìŠ¤</h1>
<p>Streamlitì€ ìì‹ ì˜ ìœ„ì ¯ì— ë³€ê²½ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ë˜ëŠ” ì…ë ¥(ë²„íŠ¼, ì„ íƒê¸°, ë¼ë””ì˜¤ ìš”ì†Œ ë“±)ìœ¼ë¡œ ì‚¬ìš©ì ì¡°ì‘ì´ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì½”ë“œë¥¼ ë§¨ ìœ„ë¶€í„° ë‹¤ì‹œ ì‹¤í–‰í•´ìš”.</p>
<p>ê·¸ë˜ì„œ ì €í¬ëŠ” ëŒ€í™” ê¸°ë¡ì„ ë§¨ ìœ„ì— ë¨¼ì € ë Œë”ë§í•˜ê¸° ì‹œì‘í–ˆì–´ìš”. ì—¬ê¸°ì„œëŠ” ë­ë¼ë„ ìƒˆë¡­ê²Œ ë°œëª…í•œ ê±´ ì—†ì–´ìš”: Streamlit ë¸”ë¡œê·¸ì˜ ê³µì‹ ììŠµì„œì—ì„œ ëª¨ë‘ ë°°ì› ê±°ë“ ìš”.</p>
<div class="content-ad"></div>
<p>ì´ê²ƒì€ í‘œì¤€ ë Œë”ë§ì…ë‹ˆë‹¤. OpenAI APIì™€ í˜¸í™˜ë˜ëŠ” chat_completion í˜•ì‹ì— ëª¨ë‘ ì ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
<p>ì½”ë“œë¡œ ëŒì•„ê°€ì„œ, ìš°ë¦¬ëŠ” chat_template ë©”ì‹œì§€ë“¤ì„ í‘œì‹œí•˜ê³ , ë©”ì‹œì§€ ëª©ë¡ì„ ë°˜ë³µí•˜ë©° ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸(myprompt)ê°€ ì œì¶œë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"># ì•± ì¬ì‹¤í–‰ ì‹œ ì´ì „ ëŒ€í™” ë‚´ìš©ì„ ë³´ì—¬ì¤ë‹ˆë‹¤
<span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> st.<span class="hljs-property">session_state</span>.<span class="hljs-property">messages</span>:
    <span class="hljs-keyword">if</span> message[<span class="hljs-string">&quot;role&quot;</span>] == <span class="hljs-string">&quot;user&quot;</span>:
        <span class="hljs-keyword">with</span> st.<span class="hljs-title function_">chat_message</span>(message[<span class="hljs-string">&quot;role&quot;</span>],avatar=av_us):
            st.<span class="hljs-title function_">markdown</span>(message[<span class="hljs-string">&quot;content&quot;</span>])
    <span class="hljs-attr">else</span>:
        <span class="hljs-keyword">with</span> st.<span class="hljs-title function_">chat_message</span>(message[<span class="hljs-string">&quot;role&quot;</span>],avatar=av_ass):
            st.<span class="hljs-title function_">markdown</span>(message[<span class="hljs-string">&quot;content&quot;</span>])
# ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°
<span class="hljs-keyword">if</span> myprompt := st.<span class="hljs-title function_">chat_input</span>(<span class="hljs-string">&quot;ì¸ê³µì§€ëŠ¥ ëª¨ë¸ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?&quot;</span>):
    # ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ ëŒ€í™” ë‚´ì—­ì— ì¶”ê°€
    st.<span class="hljs-property">session_state</span>.<span class="hljs-property">messages</span>.<span class="hljs-title function_">append</span>({<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: myprompt})
    # ëŒ€í™” ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆì— ì‚¬ìš©ì ë©”ì‹œì§€ í‘œì‹œ
    <span class="hljs-keyword">with</span> st.<span class="hljs-title function_">chat_message</span>(<span class="hljs-string">&quot;user&quot;</span>, avatar=av_us):
        st.<span class="hljs-title function_">markdown</span>(myprompt)
        usertext = f<span class="hljs-string">&quot;user: {myprompt}&quot;</span>
        <span class="hljs-title function_">writehistory</span>(usertext)
        # ì°¨í›„ ì‚¬ìš©ì„ ìœ„í•´ ëŒ€í™” ìƒëŒ€ì˜ ì‘ë‹µì„ í‘œì‹œ
</code></pre>
<p>ì—¬ê¸°ì— ì´ìƒí•œ writehistory(usertext) ì§€ì‹œë¬¸ì„ ì¶”ê°€í•˜ê³  ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì–µí•˜ì‹œë‚˜ìš”? ì²˜ìŒì— ì´ í•¨ìˆ˜ë¥¼ ì„ ì–¸í–ˆë˜ ê±°ì£ ? ì €ëŠ” ëª¨ë“  ëŒ€í™” ë‚´ìš©ì„ ë¡œì»¬ í…ìŠ¤íŠ¸ íŒŒì¼ì— ì €ì¥í•˜ëŠ” ë²„ë¦‡ì´ ìˆì–´ìš”. ì´ëŠ” í”„ë¡¬í”„íŠ¸ë¥¼ ë¶„ì„í•˜ê±°ë‚˜ ë¯¸ë˜ í™œìš©ì„ ìœ„í•´ ìë£Œë¥¼ ì¡°ì§í™”í•  ë•Œ ë§¤ìš° í¸ë¦¬í•©ë‹ˆë‹¤.ğŸ™‚</p>
<div class="content-ad"></div>
<p>í”„ë¡¬í”„íŠ¸ì—ì„œ ì œì¶œëœ ë‚´ìš©ì„ í™•ì¸í•œ í›„, gradio í´ë¼ì´ì–¸íŠ¸ ì¸ìŠ¤í„´ìŠ¤(client.submit)ë¥¼ í˜¸ì¶œí•˜ê³  ìŠ¤íŠ¸ë¦¬ë°ì„ ì‹œì‘í•©ë‹ˆë‹¤ (message_placeholder.markdown(r[1][0][1]+ &quot;â–Œ&quot;))</p>
<pre><code class="hljs language-js">    # ì±„íŒ… ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆì— ì–´ì‹œìŠ¤í„´íŠ¸ ì‘ë‹µ í‘œì‹œ
    <span class="hljs-keyword">with</span> st.<span class="hljs-title function_">chat_message</span>(<span class="hljs-string">&quot;assistant&quot;</span>):
        message_placeholder = st.<span class="hljs-title function_">empty</span>()
        full_response = <span class="hljs-string">&quot;&quot;</span>
        res  =  client.<span class="hljs-title function_">submit</span>(
                query=myprompt,
                history=[],
                system=<span class="hljs-string">&quot;You are a helpful assistant.&quot;</span>,
                api_name=<span class="hljs-string">&quot;/model_chat&quot;</span>
                )        
        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> <span class="hljs-attr">res</span>:
            full_response=r[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]
            message_placeholder.<span class="hljs-title function_">markdown</span>(r[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]+ <span class="hljs-string">&quot;â–Œ&quot;</span>)

        message_placeholder.<span class="hljs-title function_">markdown</span>(full_response)
        asstext = f<span class="hljs-string">&quot;assistant: {full_response}&quot;</span>
        <span class="hljs-title function_">writehistory</span>(asstext)       
        st.<span class="hljs-property">session_state</span>.<span class="hljs-property">messages</span>.<span class="hljs-title function_">append</span>({<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;assistant&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: full_response})
</code></pre>
<p>ì´ê²Œ ì „ë¶€ì—ìš”. full_responseëŠ” ìµœì¢… í…ìŠ¤íŠ¸ê°€ ë“¤ì–´ ìˆëŠ” ë³€ìˆ˜ì´ë¯€ë¡œ ëŒ€í™” ê¸°ë¡ì—ë„ ì¶”ê°€í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤.</p>
<p>í•´ê²°í–ˆìœ¼ë©´ ëŒ“ê¸€ì— ì•Œë ¤ì£¼ì„¸ìš” ğŸ‘</p>
<div class="content-ad"></div>
<p>íŒŒì´ì¬ íŒŒì¼ì„ ì €ì¥í•œ í›„ í„°ë¯¸ë„ì—ì„œ ê°€ìƒ í™˜ê²½ì„ í™œì„±í™”í•œ ìƒíƒœì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•˜ì„¸ìš”.</p>
<pre><code class="hljs language-js">streamlit run .\st-<span class="hljs-title class_">Qwen1</span><span class="hljs-number">.5</span>-110B-<span class="hljs-title class_">Chat</span>.<span class="hljs-property">py</span>
</code></pre>
<p>ì•„ë˜ì²˜ëŸ¼ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤... ê·¸ë¦¬ê³  ê¸°ë³¸ ë¸Œë¼ìš°ì €ê°€ ë¡œì»¬ URLì¸ http://localhost:8501ë¡œ ì—´ë¦¬ê²Œ ë©ë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_0.png" alt="ì´ë¯¸ì§€"/></p>
<div class="content-ad"></div>
<p>Streamlitì€ ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ë¡œì˜ í¸ë¦¬í•œ ë¼ìš°íŒ…ì„ ì œê³µí•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í•¸ë“œí°ì´ ë™ì¼í•œ ì•¡ì„¸ìŠ¤ í¬ì¸íŠ¸ì— ì—°ê²°ë˜ì–´ ìˆìœ¼ë©´ Network URLë¡œ í‘œì‹œëœ ì£¼ì†Œì¸ http://192.168.2.6:8501ì„ í†µí•´ í•¸ë“œí°ì—ì„œë„ ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_1.png" alt="ì´ë¯¸ì§€"/></p>
<h1>ë‹¤ë¥¸ ëª¨ë¸ ì‹¤í–‰ì— ëŒ€í•œ ì°¸ê³  ì‚¬í•­</h1>
<p>GitHub ë¦¬í¬ì§€í† ë¦¬ì—ì„œë„ Streamlit Python íŒŒì¼ì„ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<ul>
<li>OpenELM 3B</li>
<li>Phi-3-mini-Instruct 128k</li>
<li>QwenMoE</li>
</ul>
<p>ê³ ê° êµ¬ì„±ì´ ë³€ê²½ë  ì˜ˆì •ì…ë‹ˆë‹¤ (ë¬¼ë¡ ...) ê·¸ë¦¬ê³  ìŠ¤íŠ¸ë¦¬ë° ì§€ì¹¨ë„ ë³€ê²½ë  ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” API ì—”ë“œí¬ì¸íŠ¸ê°€ ë‹¤ë¥¸ ë°ì´í„° ìœ í˜•ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤. OpenELM ë° Phi-3ì˜ ê²½ìš° ìˆœìˆ˜í•œ ë¬¸ìì—´ì´ ë°˜í™˜ë˜ë¯€ë¡œ ì–´ë– í•œ ì‚¬ì „/íŠœí”Œ ìœ„ì¹˜ì— ìˆëŠ” LLM ì‘ë‹µì„ ì¶”ì¶œí•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì—¬ê¸°ë¥¼ ì‚´í´ë³´ì„¸ìš”:</p>
<p>ê·¸ë¦¬ê³  ë˜í•œ PLEASE, ê¸°ì–µí•´ì£¼ì„¸ìš”...</p>
<p><img src="/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_2.png" alt="ì´ë¯¸ì§€"/></p>
<div class="content-ad"></div>
<h1>ê²°ë¡ </h1>
<p>ì´ ëª¨ë“  ë³µì¡ì„±ì„ ë‹¤ë£¨ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ì¼í•˜ëŠ”ì§€ ë°°ìš°ê³ , ë‚˜ë§Œì˜ AI ë¹„ì„œë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì•Œê³  ì‹¶ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë‚´ê°€ ìƒìƒí•  ìˆ˜ ìˆëŠ” ìµœê³ ì˜ ëª©ì ì„ ìœ„í•´ ì½˜í…ì¸  ìƒì„±, í•™ìŠµ ìë£Œ, í”„ë ˆì  í…Œì´ì…˜, êµìœ¡ ì§€ì› ë“±.</p>
<p>ì–´ë””ì— ì‚¬ìš©í•  ê±´ê°€ìš”?</p>
<p>ê¸€ì´ ë§ˆìŒì— ë“œì…¨ìœ¼ë©´ ì¢‹ê²£ìŠµë‹ˆë‹¤. ì´ ì´ì•¼ê¸°ê°€ ê°€ì¹˜ë¥¼ ì œê³µí–ˆê³  ì¡°ê¸ˆì´ë¼ë„ ì§€ì›í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒì„ í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤ :</p>
<div class="content-ad"></div>
<ul>
<li>ì´ ì´ì•¼ê¸°ì— ëŒ€í•´ ë§ì´ ë°•ìˆ˜ë¥¼ ì³ ì£¼ì„¸ìš”</li>
<li>ê¸°ì–µí•  ê°€ì¹˜ê°€ ìˆëŠ” ë¶€ë¶„ì„ ê°•ì¡°í•˜ì‹­ì‹œì˜¤ (ë‚˜ì¤‘ì— ì°¾ê¸° ì‰½ê³ , ë” ë‚˜ì€ ê¸°ì‚¬ë¥¼ ì“°ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤)</li>
<li>Build Your Own AIë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ë ¤ë©´, ë¬´ë£Œ eBookì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”</li>
<li>ë‚´ ë§í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ Medium ë©¤ë²„ì‹­ ê°€ì…í•˜ê¸° - (ë¬´ì œí•œ Medium ì´ì•¼ê¸°ë¥¼ ì½ìœ¼ë ¤ë©´ ë§¤ë‹¬ $5)</li>
<li>Mediumì—ì„œ ë‚˜ë¥¼ íŒ”ë¡œìš°í•˜ê¸°</li>
<li>ë‚´ ìµœì‹  ê¸°ì‚¬ ì½ê¸° https://medium.com/@fabio.matricardi</li>
</ul>
<p>ì—¬ê¸° ëª‡ ê°€ì§€ ë” í¥ë¯¸ë¡œìš´ ì½ì„ê±°ë¦¬:</p>
<p>ì¶”ê°€ í•™ìŠµ ìë£Œ</p>
<p><img src="/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_3.png" alt="ì´ë¯¸ì§€"/></p>
<div class="content-ad"></div>
<p>ì´ ì´ì•¼ê¸°ëŠ” Generative AI Publicationì—ì„œ ë°œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ìµœì‹  AI ì´ì•¼ê¸°ë¥¼ ë†“ì¹˜ì§€ ì•Šìœ¼ë ¤ë©´ Substack, LinkedIn ë° Zeniteqì—ì„œ ì €í¬ì™€ ì—°ë½í•˜ì—¬ AIì˜ ë¯¸ë˜ë¥¼ í•¨ê»˜ ì°½ì¡°í•´ë³´ì„¸ìš”!</p>
<p><img src="/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_4.png" alt="ì´ë¯¸ì§€"/></p></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ì±—ë´‡ ì¹˜íŠ¸ ì½”ë“œ Qwen110Bë¡œ ìŠ¤íŠ¸ë¦¼ë¦¿ì—ì„œ ëˆì„ ì“°ì§€ ì•Šê³  í™œìš©í•˜ëŠ” ë°©ë²•","description":"","date":"2024-05-17 03:23","slug":"2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2","content":"\n\nì œ1ë¶€ì—ì„œëŠ” ìˆ˜ì‹­ì–µ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì§„ í° ì–¸ì–´ ëª¨ë¸ì— ë¬´ë£Œë¡œ ì•¡ì„¸ìŠ¤í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ë°œê²¬í–ˆì–´ìš”. ì œì²˜ëŸ¼ ì—¬ëŸ¬ë¶„ë„ í•˜ë“œì›¨ì–´ í•œì •ìœ¼ë¡œ ê³ ë¯¼ ì¤‘ì´ë¼ë©´, ì´ í•´í‚¹ ë°©ë²•ì€ í•˜ì´ì—”ë“œ GPUë‚˜ ìœ ë£Œ êµ¬ë… ì—†ì´ë„ Qwen-110B-chatê³¼ ê°™ì€ ëŒ€ê·œëª¨ ëª¨ë¸ê³¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ì¨ì„ ì„ ì‚¬í•  ê±°ì˜ˆìš”.\n\nì œ2ë¶€ì—ì„œëŠ” ì§€ê¸ˆë¶€í„° ì²´í—˜ì„ ë” í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ìŠ¤íŠ¸ë¦¼ë¦¿ ì¸í„°í˜ì´ìŠ¤ë¡œ ë™ì¼í•œ ê°œë…ì„ ì ìš©í•˜ì—¬ ì±—ë´‡ì— ì‹œê°ì ìœ¼ë¡œ ë§¤ë ¥ì ì¸ ìŠ¤íŠ¸ë¦¬ë° íš¨ê³¼ë¥¼ ì¶”ê°€í•  ê±°ì˜ˆìš”.\n\nê³¼ì •ì„ ë˜ì§šì–´ë³´ìë©´, Python, Gradio_client ë° ì½”ë”© ëŠ¥ë ¥ì´ í•„ìš”í•´ìš”. AI ì±—ë´‡ì„ í…ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ë§Œë“œëŠ” ë° ì´ˆì ì„ ë§ì¶”ì—ˆì–´ìš”:\n\n- í™˜ê²½ ì„¤ì •: ë¨¼ì € ê°€ìƒ í™˜ê²½ì„ ë§Œë“¤ê³  í•„ìš”í•œ íŒ¨í‚¤ì§€(huggingface_hub, gradio-client ë° streamlit)ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”. PyTorchë‚˜ TensorFlowê°€ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©°, ìƒí˜¸ ì‘ìš©ì€ APIë¥¼ í†µí•´ ì´ë£¨ì–´ì§ˆ ê±°ì˜ˆìš”.\n- Hugging Face API í† í°: ì‚¬ìš©ìëŠ” Hugging Faceì— ë“±ë¡í•˜ê³  ëª¨ë¸ ì¶”ë¡  APIì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ API í† í°ì„ ìƒì„±í•´ì•¼ í•´ìš”.\n- ì±—ë´‡ ì½”ë”©: Hugging Face Spacesì—ì„œ Gradioì˜ \"APIë¥¼ í†µí•´ ì‚¬ìš©\" ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ì´ëŸ¬í•œ ê°•ë ¥í•œ ëª¨ë¸ì— Python ì½”ë“œë¡œ ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ë°°ì› ì–´ìš”. íŠ¹íˆ ì—¬ëŸ¬ ì–¸ì–´ë¡œ ìƒì—…ì  ì´ìš©ì„ ìœ„í•œ ë¼ì´ì„ ìŠ¤ê°€ í—ˆìš©ë˜ëŠ” Qwen ì‹œë¦¬ì¦ˆ ëª¨ë¸ì— ì´ˆì ì„ ë§ì·„ì–´ìš”.\n- ìŠ¤íŠ¸ë¦¬ë° íš¨ê³¼: ì½”ë“œ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ë©´, ëª¨ë¸ê³¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì„¤ëª…í–ˆì–´ìš”. predict() ë° submit() ë©”ì„œë“œ ì¤‘ì—ì„œ ì„ íƒí•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° íš¨ê³¼ì™€ í•¨ê»˜ ë˜ëŠ” ì—†ì´ ì‘ë‹µì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ê°•ì¡°í–ˆì–´ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì¡°ê¸ˆ í—¤ë§¤ê³  ìˆë‹¤ë©´ part 1ë¶€í„° ì‹œì‘í•˜ëŠ” ê²ƒì„ ì œì•ˆí•´ìš”:\n\n## í•µì‹¬ ì½”ë“œë¶€í„° Streamlit ì¸í„°í˜ì´ìŠ¤ê¹Œì§€\n\nì´ê±¸ ê¼­ ë§í•´ì•¼ í•´ìš”: í„°ë¯¸ë„ì—ì„œ ëª¨ë“  ì•±ì´ ì •ìƒ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´ ê·¸ë˜í”½ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹œì‘í•˜ì§€ ë§ì•„ì•¼ í•´ìš”.\n\nì´ê±´ í•„ìˆ˜ ì¡°ê±´ì´ì—ìš”! ê·¸ë˜ì„œ Streamlit ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì•„ì£¼ ì‰¬ìš¸ ê±°ì—ìš”: ì´ë¯¸ ì´ì „ íŒŒíŠ¸ì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ìƒí˜¸ì‘ìš©ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í–ˆê¸° ë•Œë¬¸ì´ì£ .\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nëª¨ë“  ê²ƒì€ ì´ í•µì‹¬ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì›€ì§ì…ë‹ˆë‹¤:\n\n```js\nfrom gradio_client import Client\n\nclient = Client(\"Qwen/Qwen1.5-110B-Chat-demo\")\nresult = client.submit(\n        query='What is Science?',\n        history=[],\n        system=\"You are a helpful assistant.\",\n        api_name=\"/model_chat\"\n)\nprint(result)\n```\n\nê·¸ë¦¬ê³  submit() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° ê°ì²´/ë°˜ë³µìë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆìŠµë‹ˆë‹¤. Streamlitì„ ì‚¬ìš©í•˜ë©´ ìŠ¤íŠ¸ë¦¼ì„ ë‹¤ë£¨ê¸°ê°€ í›¨ì”¬ ì‰¬ì›Œì§‘ë‹ˆë‹¤. ì‚¬ì‹¤, ì• í”Œë¦¬ì¼€ì´ì…˜ì€ í•­ìƒ í˜ì´ì§€ ìœ„ì ¯ì„ ìƒˆë¡œ ê³ ì¹˜ê¸° ë•Œë¬¸ì— í…ìŠ¤íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì§€ë£¨í•œ ì•Œê³ ë¦¬ì¦˜ì„ ë¬´ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì–µí•˜ì‹œë‚˜ìš”?\n\n```js\n    final = ''\n    for chunk in result:\n        if final == '':\n            final=chunk[1][0][1]\n            print(chunk[1][0][1], end=\"\", flush=True)\n        else:\n            try:\n                print(chunk[1][0][1].replace(final,''), end=\"\", flush=True)\n                final = chunk[1][0][1]\n            except:\n                pass    \n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nstring.replace()ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ ìƒì„±ëœ ê²ƒì—ì„œ ìƒˆë¡œìš´ ë‹¨ì–´ë¥¼ ë¹¼ë‚´ëŠ” ì‘ì—…ì„ í–ˆì—ˆëŠ”ë°, ë”ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì•„ìš”.ğŸ¥³\n\n# Streamlit ì•±\n\nìŠµê´€ì ì¸ ì‚¬ëŒì´ë¼... ê·¸ë˜ì„œ ë‚´ ì½”ë“œê°€ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì™€ ë§¤ìš° ë¹„ìŠ·í•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ë°œê²¬í•  ìˆ˜ ìˆì„ ê±°ì—ìš”. ê·¸ëŸ°ë° ê´œì°®ì•„ìš”! ê²°êµ­, í…œí”Œë¦¿ì„ ì ìš©í•˜ê³  ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ë§¤ë²ˆ ì²˜ìŒë¶€í„° ì‹œì‘í•˜ëŠ” ê²ƒë³´ë‹¤ ì‰½ê³  ë¹ ë¥¼ ìˆ˜ ìˆê±°ë“ .\n\nìƒˆ íŒŒì¼ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”: ì œ íŒŒì¼ì€ st-Qwen1.5â€“110B-Chat.pyë¼ê³  í•´ìš”. ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì™€ ì„¸ì…˜ ìƒíƒœ ì „ì—­ ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•´ë³¼ê¹Œìš”?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```python\nimport streamlit as st\nimport time\nimport sys\nfrom gradio_client import Client\n# Internal usage\nimport os\nfrom time import sleep\n\n\nif \"hf_model\" not in st.session_state:\n    st.session_state.hf_model = \"Qwen1.5-110B-Chat\"\n# Initialize chat history\nif \"messages\" not in st.session_state:\n    st.session_state.messages = []\n```\n\ní”„ë¡œê·¸ë¨ì—ì„œ ì „ì—­ ë³€ìˆ˜ëŠ” ê³µìœ ë˜ì–´ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ session_stateë¼ê³  ë¶ˆë¦¬ëŠ” ì´ëŸ¬í•œ ê°ì²´ë“¤ì´ streamlitì˜ ë§¤ ì‹¤í–‰ë§ˆë‹¤ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ê²ƒì„ í•„ìš”ë¡œí•©ë‹ˆë‹¤.\n\nê·¸ë¦¬ê³  2ê°€ì§€ ì£¼ìš” í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤:\n\n```python\n@st.cache_resource\ndef create_client():   \n    yourHFtoken = \"hf_xxxxxxxxxxxxxxxxxxxxxxx\" #ì—¬ê¸°ì— ì—¬ëŸ¬ë¶„ì˜ HF í† í°ì„ ë„£ìœ¼ì„¸ìš”\n    print(f'{st.session_state.hf_model}ì— ëŒ€í•œ API Gradio í´ë¼ì´ì–¸íŠ¸ë¥¼ ë¡œë”© ì¤‘ì…ë‹ˆë‹¤.')\n    client = Client(\"Qwen/Qwen1.5-110B-Chat-demo\", hf_token=yourHFtoken)\n    return client\n\n# ëª¨ë“  ì±„íŒ… ë©”ì‹œì§€ë¥¼ chathistory.txtì— ê¸°ë¡í•˜ëŠ” í•¨ìˆ˜\ndef writehistory(text):\n    with open('chathistorywen110b.txt', 'a', encoding='utf-8') as f:\n        f.write(text)\n        f.write('\\n')\n    f.close()\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì €í¬ëŠ” @st.cache_resource ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” Qwen1.5-110ì— ëŒ€í•œ API gradio í´ë¼ì´ì–¸íŠ¸ë¥¼ Streamlitì´ ë§¤ ì‹¤í–‰ë§ˆë‹¤ ë¡œë”©í•˜ì§€ ì•Šê¸°ë¥¼ ì›í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤ (ì´ëŠ” ë¶„ë‹¹ 1íšŒ ì´ìƒ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤): Gradio í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì´ ì‹¤í–‰ ì¤‘ì— ë³€ê²½ë˜ì§€ ì•Šì„ ê²ƒì´ê¸° ë•Œë¬¸ì—, ì´ ë¦¬ì†ŒìŠ¤ë¥¼ íŠ¹ë³„í•œ ë©”ëª¨ë¦¬ì— ìºì‹±í•˜ê³  ìˆìŠµë‹ˆë‹¤ (@st.cache_resource). ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸°ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì¼ë¶€ ê·¸ë˜í”½ ì¡°ì •\n\nì´ì œ ê¸°ë³¸ Streamlit í˜ì´ì§€ ìš”ì†Œì™€ ì±—ë´‡ì— ì‚¬ìš©í•  ì•„ì´ì½˜ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n#ì•„ë°”íƒ€\nav_us = 'ğŸ§‘â€ğŸ’»'  # './man.png'  #\"ğŸ¦–\"  # \"ğŸ§‘â€ğŸ’»\", \"ğŸ¤–\", \"ğŸ¦–\"ê³¼ ê°™ì€ ë‹¨ì¼ ì´ëª¨ì§€ì…ë‹ˆë‹¤. Shortcutì€ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nav_ass = \"ğŸ¤–\"   #'./robot.png'\n# ê¸°ë³¸ ëª¨ë¸ ì„¤ì •\n\n### STREAMLIT UI ì‹œì‘\nst.image('https://github.com/fabiomatricardi/ChatBOTMastery/raw/main/qwen100logo.png', )\nst.markdown(\"### *Streamlit \u0026 Gradio_clientë¡œ êµ¬ë™ë¨*\", unsafe_allow_html=True )\nst.markdown('---')\n\nclient = create_client()\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ì— ë¡œì»¬ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì–´ìš” (ì½”ë“œì˜ ì£¼ì„ì„ ì°¸ê³ í•˜ì„¸ìš”!)\n- ë§ˆì§€ë§‰ìœ¼ë¡œ, create_client()ë¡œ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ì¸ìŠ¤í„´ìŠ¤í™”í•´ìš”.\n\n# ë³¸ë¬¸ â€” ì±„íŒ… ì¸í„°í˜ì´ìŠ¤\n\nStreamlitì€ ìì‹ ì˜ ìœ„ì ¯ì— ë³€ê²½ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ë˜ëŠ” ì…ë ¥(ë²„íŠ¼, ì„ íƒê¸°, ë¼ë””ì˜¤ ìš”ì†Œ ë“±)ìœ¼ë¡œ ì‚¬ìš©ì ì¡°ì‘ì´ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì½”ë“œë¥¼ ë§¨ ìœ„ë¶€í„° ë‹¤ì‹œ ì‹¤í–‰í•´ìš”.\n\nê·¸ë˜ì„œ ì €í¬ëŠ” ëŒ€í™” ê¸°ë¡ì„ ë§¨ ìœ„ì— ë¨¼ì € ë Œë”ë§í•˜ê¸° ì‹œì‘í–ˆì–´ìš”. ì—¬ê¸°ì„œëŠ” ë­ë¼ë„ ìƒˆë¡­ê²Œ ë°œëª…í•œ ê±´ ì—†ì–´ìš”: Streamlit ë¸”ë¡œê·¸ì˜ ê³µì‹ ììŠµì„œì—ì„œ ëª¨ë‘ ë°°ì› ê±°ë“ ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ê²ƒì€ í‘œì¤€ ë Œë”ë§ì…ë‹ˆë‹¤. OpenAI APIì™€ í˜¸í™˜ë˜ëŠ” chat_completion í˜•ì‹ì— ëª¨ë‘ ì ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\nì½”ë“œë¡œ ëŒì•„ê°€ì„œ, ìš°ë¦¬ëŠ” chat_template ë©”ì‹œì§€ë“¤ì„ í‘œì‹œí•˜ê³ , ë©”ì‹œì§€ ëª©ë¡ì„ ë°˜ë³µí•˜ë©° ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸(myprompt)ê°€ ì œì¶œë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.\n\n```js\n# ì•± ì¬ì‹¤í–‰ ì‹œ ì´ì „ ëŒ€í™” ë‚´ìš©ì„ ë³´ì—¬ì¤ë‹ˆë‹¤\nfor message in st.session_state.messages:\n    if message[\"role\"] == \"user\":\n        with st.chat_message(message[\"role\"],avatar=av_us):\n            st.markdown(message[\"content\"])\n    else:\n        with st.chat_message(message[\"role\"],avatar=av_ass):\n            st.markdown(message[\"content\"])\n# ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°\nif myprompt := st.chat_input(\"ì¸ê³µì§€ëŠ¥ ëª¨ë¸ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\"):\n    # ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ ëŒ€í™” ë‚´ì—­ì— ì¶”ê°€\n    st.session_state.messages.append({\"role\": \"user\", \"content\": myprompt})\n    # ëŒ€í™” ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆì— ì‚¬ìš©ì ë©”ì‹œì§€ í‘œì‹œ\n    with st.chat_message(\"user\", avatar=av_us):\n        st.markdown(myprompt)\n        usertext = f\"user: {myprompt}\"\n        writehistory(usertext)\n        # ì°¨í›„ ì‚¬ìš©ì„ ìœ„í•´ ëŒ€í™” ìƒëŒ€ì˜ ì‘ë‹µì„ í‘œì‹œ\n```\n\nì—¬ê¸°ì— ì´ìƒí•œ writehistory(usertext) ì§€ì‹œë¬¸ì„ ì¶”ê°€í•˜ê³  ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì–µí•˜ì‹œë‚˜ìš”? ì²˜ìŒì— ì´ í•¨ìˆ˜ë¥¼ ì„ ì–¸í–ˆë˜ ê±°ì£ ? ì €ëŠ” ëª¨ë“  ëŒ€í™” ë‚´ìš©ì„ ë¡œì»¬ í…ìŠ¤íŠ¸ íŒŒì¼ì— ì €ì¥í•˜ëŠ” ë²„ë¦‡ì´ ìˆì–´ìš”. ì´ëŠ” í”„ë¡¬í”„íŠ¸ë¥¼ ë¶„ì„í•˜ê±°ë‚˜ ë¯¸ë˜ í™œìš©ì„ ìœ„í•´ ìë£Œë¥¼ ì¡°ì§í™”í•  ë•Œ ë§¤ìš° í¸ë¦¬í•©ë‹ˆë‹¤.ğŸ™‚\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní”„ë¡¬í”„íŠ¸ì—ì„œ ì œì¶œëœ ë‚´ìš©ì„ í™•ì¸í•œ í›„, gradio í´ë¼ì´ì–¸íŠ¸ ì¸ìŠ¤í„´ìŠ¤(client.submit)ë¥¼ í˜¸ì¶œí•˜ê³  ìŠ¤íŠ¸ë¦¬ë°ì„ ì‹œì‘í•©ë‹ˆë‹¤ (message_placeholder.markdown(r[1][0][1]+ \"â–Œ\"))\n\n```js\n    # ì±„íŒ… ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆì— ì–´ì‹œìŠ¤í„´íŠ¸ ì‘ë‹µ í‘œì‹œ\n    with st.chat_message(\"assistant\"):\n        message_placeholder = st.empty()\n        full_response = \"\"\n        res  =  client.submit(\n                query=myprompt,\n                history=[],\n                system=\"You are a helpful assistant.\",\n                api_name=\"/model_chat\"\n                )        \n        for r in res:\n            full_response=r[1][0][1]\n            message_placeholder.markdown(r[1][0][1]+ \"â–Œ\")\n\n        message_placeholder.markdown(full_response)\n        asstext = f\"assistant: {full_response}\"\n        writehistory(asstext)       \n        st.session_state.messages.append({\"role\": \"assistant\", \"content\": full_response})\n```\n\nì´ê²Œ ì „ë¶€ì—ìš”. full_responseëŠ” ìµœì¢… í…ìŠ¤íŠ¸ê°€ ë“¤ì–´ ìˆëŠ” ë³€ìˆ˜ì´ë¯€ë¡œ ëŒ€í™” ê¸°ë¡ì—ë„ ì¶”ê°€í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤.\n\ní•´ê²°í–ˆìœ¼ë©´ ëŒ“ê¸€ì— ì•Œë ¤ì£¼ì„¸ìš” ğŸ‘\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\níŒŒì´ì¬ íŒŒì¼ì„ ì €ì¥í•œ í›„ í„°ë¯¸ë„ì—ì„œ ê°€ìƒ í™˜ê²½ì„ í™œì„±í™”í•œ ìƒíƒœì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•˜ì„¸ìš”.\n\n```js\nstreamlit run .\\st-Qwen1.5-110B-Chat.py\n```\n\nì•„ë˜ì²˜ëŸ¼ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤... ê·¸ë¦¬ê³  ê¸°ë³¸ ë¸Œë¼ìš°ì €ê°€ ë¡œì»¬ URLì¸ http://localhost:8501ë¡œ ì—´ë¦¬ê²Œ ë©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_0.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nStreamlitì€ ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ë¡œì˜ í¸ë¦¬í•œ ë¼ìš°íŒ…ì„ ì œê³µí•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í•¸ë“œí°ì´ ë™ì¼í•œ ì•¡ì„¸ìŠ¤ í¬ì¸íŠ¸ì— ì—°ê²°ë˜ì–´ ìˆìœ¼ë©´ Network URLë¡œ í‘œì‹œëœ ì£¼ì†Œì¸ http://192.168.2.6:8501ì„ í†µí•´ í•¸ë“œí°ì—ì„œë„ ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_1.png)\n\n# ë‹¤ë¥¸ ëª¨ë¸ ì‹¤í–‰ì— ëŒ€í•œ ì°¸ê³  ì‚¬í•­\n\nGitHub ë¦¬í¬ì§€í† ë¦¬ì—ì„œë„ Streamlit Python íŒŒì¼ì„ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- OpenELM 3B\n- Phi-3-mini-Instruct 128k\n- QwenMoE\n\nê³ ê° êµ¬ì„±ì´ ë³€ê²½ë  ì˜ˆì •ì…ë‹ˆë‹¤ (ë¬¼ë¡ ...) ê·¸ë¦¬ê³  ìŠ¤íŠ¸ë¦¬ë° ì§€ì¹¨ë„ ë³€ê²½ë  ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” API ì—”ë“œí¬ì¸íŠ¸ê°€ ë‹¤ë¥¸ ë°ì´í„° ìœ í˜•ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤. OpenELM ë° Phi-3ì˜ ê²½ìš° ìˆœìˆ˜í•œ ë¬¸ìì—´ì´ ë°˜í™˜ë˜ë¯€ë¡œ ì–´ë– í•œ ì‚¬ì „/íŠœí”Œ ìœ„ì¹˜ì— ìˆëŠ” LLM ì‘ë‹µì„ ì¶”ì¶œí•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì—¬ê¸°ë¥¼ ì‚´í´ë³´ì„¸ìš”:\n\nê·¸ë¦¬ê³  ë˜í•œ PLEASE, ê¸°ì–µí•´ì£¼ì„¸ìš”...\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_2.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ê²°ë¡ \n\nì´ ëª¨ë“  ë³µì¡ì„±ì„ ë‹¤ë£¨ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ì¼í•˜ëŠ”ì§€ ë°°ìš°ê³ , ë‚˜ë§Œì˜ AI ë¹„ì„œë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì•Œê³  ì‹¶ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë‚´ê°€ ìƒìƒí•  ìˆ˜ ìˆëŠ” ìµœê³ ì˜ ëª©ì ì„ ìœ„í•´ ì½˜í…ì¸  ìƒì„±, í•™ìŠµ ìë£Œ, í”„ë ˆì  í…Œì´ì…˜, êµìœ¡ ì§€ì› ë“±.\n\nì–´ë””ì— ì‚¬ìš©í•  ê±´ê°€ìš”?\n\nê¸€ì´ ë§ˆìŒì— ë“œì…¨ìœ¼ë©´ ì¢‹ê²£ìŠµë‹ˆë‹¤. ì´ ì´ì•¼ê¸°ê°€ ê°€ì¹˜ë¥¼ ì œê³µí–ˆê³  ì¡°ê¸ˆì´ë¼ë„ ì§€ì›í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒì„ í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤ :\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- ì´ ì´ì•¼ê¸°ì— ëŒ€í•´ ë§ì´ ë°•ìˆ˜ë¥¼ ì³ ì£¼ì„¸ìš”\n- ê¸°ì–µí•  ê°€ì¹˜ê°€ ìˆëŠ” ë¶€ë¶„ì„ ê°•ì¡°í•˜ì‹­ì‹œì˜¤ (ë‚˜ì¤‘ì— ì°¾ê¸° ì‰½ê³ , ë” ë‚˜ì€ ê¸°ì‚¬ë¥¼ ì“°ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤)\n- Build Your Own AIë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ë ¤ë©´, ë¬´ë£Œ eBookì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”\n- ë‚´ ë§í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ Medium ë©¤ë²„ì‹­ ê°€ì…í•˜ê¸° - (ë¬´ì œí•œ Medium ì´ì•¼ê¸°ë¥¼ ì½ìœ¼ë ¤ë©´ ë§¤ë‹¬ $5)\n- Mediumì—ì„œ ë‚˜ë¥¼ íŒ”ë¡œìš°í•˜ê¸°\n- ë‚´ ìµœì‹  ê¸°ì‚¬ ì½ê¸° https://medium.com/@fabio.matricardi\n\nì—¬ê¸° ëª‡ ê°€ì§€ ë” í¥ë¯¸ë¡œìš´ ì½ì„ê±°ë¦¬:\n\nì¶”ê°€ í•™ìŠµ ìë£Œ\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_3.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ì´ì•¼ê¸°ëŠ” Generative AI Publicationì—ì„œ ë°œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nìµœì‹  AI ì´ì•¼ê¸°ë¥¼ ë†“ì¹˜ì§€ ì•Šìœ¼ë ¤ë©´ Substack, LinkedIn ë° Zeniteqì—ì„œ ì €í¬ì™€ ì—°ë½í•˜ì—¬ AIì˜ ë¯¸ë˜ë¥¼ í•¨ê»˜ ì°½ì¡°í•´ë³´ì„¸ìš”!\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_4.png)","ogImage":{"url":"/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_0.png"},"coverImage":"/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_0.png","tag":["Tech"],"readingTime":9},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    h2: \"h2\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    h1: \"h1\",\n    img: \"img\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"ì œ1ë¶€ì—ì„œëŠ” ìˆ˜ì‹­ì–µ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì§„ í° ì–¸ì–´ ëª¨ë¸ì— ë¬´ë£Œë¡œ ì•¡ì„¸ìŠ¤í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ë°œê²¬í–ˆì–´ìš”. ì œì²˜ëŸ¼ ì—¬ëŸ¬ë¶„ë„ í•˜ë“œì›¨ì–´ í•œì •ìœ¼ë¡œ ê³ ë¯¼ ì¤‘ì´ë¼ë©´, ì´ í•´í‚¹ ë°©ë²•ì€ í•˜ì´ì—”ë“œ GPUë‚˜ ìœ ë£Œ êµ¬ë… ì—†ì´ë„ Qwen-110B-chatê³¼ ê°™ì€ ëŒ€ê·œëª¨ ëª¨ë¸ê³¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ì¨ì„ ì„ ì‚¬í•  ê±°ì˜ˆìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì œ2ë¶€ì—ì„œëŠ” ì§€ê¸ˆë¶€í„° ì²´í—˜ì„ ë” í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ìŠ¤íŠ¸ë¦¼ë¦¿ ì¸í„°í˜ì´ìŠ¤ë¡œ ë™ì¼í•œ ê°œë…ì„ ì ìš©í•˜ì—¬ ì±—ë´‡ì— ì‹œê°ì ìœ¼ë¡œ ë§¤ë ¥ì ì¸ ìŠ¤íŠ¸ë¦¬ë° íš¨ê³¼ë¥¼ ì¶”ê°€í•  ê±°ì˜ˆìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê³¼ì •ì„ ë˜ì§šì–´ë³´ìë©´, Python, Gradio_client ë° ì½”ë”© ëŠ¥ë ¥ì´ í•„ìš”í•´ìš”. AI ì±—ë´‡ì„ í…ìŠ¤íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ë§Œë“œëŠ” ë° ì´ˆì ì„ ë§ì¶”ì—ˆì–´ìš”:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"í™˜ê²½ ì„¤ì •: ë¨¼ì € ê°€ìƒ í™˜ê²½ì„ ë§Œë“¤ê³  í•„ìš”í•œ íŒ¨í‚¤ì§€(huggingface_hub, gradio-client ë° streamlit)ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”. PyTorchë‚˜ TensorFlowê°€ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©°, ìƒí˜¸ ì‘ìš©ì€ APIë¥¼ í†µí•´ ì´ë£¨ì–´ì§ˆ ê±°ì˜ˆìš”.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Hugging Face API í† í°: ì‚¬ìš©ìëŠ” Hugging Faceì— ë“±ë¡í•˜ê³  ëª¨ë¸ ì¶”ë¡  APIì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ API í† í°ì„ ìƒì„±í•´ì•¼ í•´ìš”.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ì±—ë´‡ ì½”ë”©: Hugging Face Spacesì—ì„œ Gradioì˜ \\\"APIë¥¼ í†µí•´ ì‚¬ìš©\\\" ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ì´ëŸ¬í•œ ê°•ë ¥í•œ ëª¨ë¸ì— Python ì½”ë“œë¡œ ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ë°°ì› ì–´ìš”. íŠ¹íˆ ì—¬ëŸ¬ ì–¸ì–´ë¡œ ìƒì—…ì  ì´ìš©ì„ ìœ„í•œ ë¼ì´ì„ ìŠ¤ê°€ í—ˆìš©ë˜ëŠ” Qwen ì‹œë¦¬ì¦ˆ ëª¨ë¸ì— ì´ˆì ì„ ë§ì·„ì–´ìš”.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ìŠ¤íŠ¸ë¦¬ë° íš¨ê³¼: ì½”ë“œ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ë©´, ëª¨ë¸ê³¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì„¤ëª…í–ˆì–´ìš”. predict() ë° submit() ë©”ì„œë“œ ì¤‘ì—ì„œ ì„ íƒí•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° íš¨ê³¼ì™€ í•¨ê»˜ ë˜ëŠ” ì—†ì´ ì‘ë‹µì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ê°•ì¡°í–ˆì–´ìš”.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¡°ê¸ˆ í—¤ë§¤ê³  ìˆë‹¤ë©´ part 1ë¶€í„° ì‹œì‘í•˜ëŠ” ê²ƒì„ ì œì•ˆí•´ìš”:\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"í•µì‹¬ ì½”ë“œë¶€í„° Streamlit ì¸í„°í˜ì´ìŠ¤ê¹Œì§€\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê±¸ ê¼­ ë§í•´ì•¼ í•´ìš”: í„°ë¯¸ë„ì—ì„œ ëª¨ë“  ì•±ì´ ì •ìƒ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´ ê·¸ë˜í”½ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹œì‘í•˜ì§€ ë§ì•„ì•¼ í•´ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê±´ í•„ìˆ˜ ì¡°ê±´ì´ì—ìš”! ê·¸ë˜ì„œ Streamlit ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì•„ì£¼ ì‰¬ìš¸ ê±°ì—ìš”: ì´ë¯¸ ì´ì „ íŒŒíŠ¸ì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ìƒí˜¸ì‘ìš©ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í–ˆê¸° ë•Œë¬¸ì´ì£ .\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ëª¨ë“  ê²ƒì€ ì´ í•µì‹¬ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì›€ì§ì…ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" gradio_client \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Client\"\n        }), \"\\n\\nclient = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Client\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Qwen/Qwen1.5-110B-Chat-demo\\\"\"\n        }), \")\\nresult = client.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"submit\"\n        }), \"(\\n        query=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'What is Science?'\"\n        }), \",\\n        history=[],\\n        system=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"You are a helpful assistant.\\\"\"\n        }), \",\\n        api_name=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/model_chat\\\"\"\n        }), \"\\n)\\n\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print\"\n        }), \"(result)\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ë¦¬ê³  submit() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° ê°ì²´/ë°˜ë³µìë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆìŠµë‹ˆë‹¤. Streamlitì„ ì‚¬ìš©í•˜ë©´ ìŠ¤íŠ¸ë¦¼ì„ ë‹¤ë£¨ê¸°ê°€ í›¨ì”¬ ì‰¬ì›Œì§‘ë‹ˆë‹¤. ì‚¬ì‹¤, ì• í”Œë¦¬ì¼€ì´ì…˜ì€ í•­ìƒ í˜ì´ì§€ ìœ„ì ¯ì„ ìƒˆë¡œ ê³ ì¹˜ê¸° ë•Œë¬¸ì— í…ìŠ¤íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì§€ë£¨í•œ ì•Œê³ ë¦¬ì¦˜ì„ ë¬´ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì–µí•˜ì‹œë‚˜ìš”?\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"    final = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"''\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" chunk \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"result\"\n        }), \":\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" final == \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"''\"\n        }), \":\\n            final=chunk[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"]\\n            \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print\"\n        }), \"(chunk[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"], end=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"\\\"\"\n        }), \", flush=\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"True\"\n        }), \")\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"else\"\n        }), \":\\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"try\"\n        }), \":\\n                \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print\"\n        }), \"(chunk[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"].\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"replace\"\n        }), \"(final,\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"''\"\n        }), \"), end=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"\\\"\"\n        }), \", flush=\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"True\"\n        }), \")\\n                final = chunk[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"]\\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"except\"\n        }), \":\\n                pass    \\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"string.replace()ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ ìƒì„±ëœ ê²ƒì—ì„œ ìƒˆë¡œìš´ ë‹¨ì–´ë¥¼ ë¹¼ë‚´ëŠ” ì‘ì—…ì„ í–ˆì—ˆëŠ”ë°, ë”ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì•„ìš”.ğŸ¥³\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Streamlit ì•±\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìŠµê´€ì ì¸ ì‚¬ëŒì´ë¼... ê·¸ë˜ì„œ ë‚´ ì½”ë“œê°€ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì™€ ë§¤ìš° ë¹„ìŠ·í•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ë°œê²¬í•  ìˆ˜ ìˆì„ ê±°ì—ìš”. ê·¸ëŸ°ë° ê´œì°®ì•„ìš”! ê²°êµ­, í…œí”Œë¦¿ì„ ì ìš©í•˜ê³  ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ë§¤ë²ˆ ì²˜ìŒë¶€í„° ì‹œì‘í•˜ëŠ” ê²ƒë³´ë‹¤ ì‰½ê³  ë¹ ë¥¼ ìˆ˜ ìˆê±°ë“ .\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìƒˆ íŒŒì¼ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”: ì œ íŒŒì¼ì€ st-Qwen1.5â€“110B-Chat.pyë¼ê³  í•´ìš”. ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì™€ ì„¸ì…˜ ìƒíƒœ ì „ì—­ ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•´ë³¼ê¹Œìš”?\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" streamlit \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" st\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" time\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" sys\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" gradio_client \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" Client\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# Internal usage\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" os\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" time \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" sleep\\n\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"hf_model\\\"\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"not\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" st.session_state:\\n    st.session_state.hf_model = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Qwen1.5-110B-Chat\\\"\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# Initialize chat history\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"messages\\\"\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"not\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" st.session_state:\\n    st.session_state.messages = []\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í”„ë¡œê·¸ë¨ì—ì„œ ì „ì—­ ë³€ìˆ˜ëŠ” ê³µìœ ë˜ì–´ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ session_stateë¼ê³  ë¶ˆë¦¬ëŠ” ì´ëŸ¬í•œ ê°ì²´ë“¤ì´ streamlitì˜ ë§¤ ì‹¤í–‰ë§ˆë‹¤ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ê²ƒì„ í•„ìš”ë¡œí•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ë¦¬ê³  2ê°€ì§€ ì£¼ìš” í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-meta\",\n          children: \"@st.cache_resource\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"def\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"create_client\"\n        }), \"():   \\n    yourHFtoken = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"hf_xxxxxxxxxxxxxxxxxxxxxxx\\\"\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"#ì—¬ê¸°ì— ì—¬ëŸ¬ë¶„ì˜ HF í† í°ì„ ë„£ìœ¼ì„¸ìš”\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"print\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"f'\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"{st.session_state.hf_model}\"\n          }), \"ì— ëŒ€í•œ API Gradio í´ë¼ì´ì–¸íŠ¸ë¥¼ ë¡œë”© ì¤‘ì…ë‹ˆë‹¤.'\"]\n        }), \")\\n    client = Client(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Qwen/Qwen1.5-110B-Chat-demo\\\"\"\n        }), \", hf_token=yourHFtoken)\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" client\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# ëª¨ë“  ì±„íŒ… ë©”ì‹œì§€ë¥¼ chathistory.txtì— ê¸°ë¡í•˜ëŠ” í•¨ìˆ˜\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"def\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"writehistory\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"text\"\n        }), \"):\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"with\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"open\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'chathistorywen110b.txt'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'a'\"\n        }), \", encoding=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'utf-8'\"\n        }), \") \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" f:\\n        f.write(text)\\n        f.write(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'\\\\n'\"\n        }), \")\\n    f.close()\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì €í¬ëŠ” @st.cache_resource ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” Qwen1.5-110ì— ëŒ€í•œ API gradio í´ë¼ì´ì–¸íŠ¸ë¥¼ Streamlitì´ ë§¤ ì‹¤í–‰ë§ˆë‹¤ ë¡œë”©í•˜ì§€ ì•Šê¸°ë¥¼ ì›í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤ (ì´ëŠ” ë¶„ë‹¹ 1íšŒ ì´ìƒ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤): Gradio í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì´ ì‹¤í–‰ ì¤‘ì— ë³€ê²½ë˜ì§€ ì•Šì„ ê²ƒì´ê¸° ë•Œë¬¸ì—, ì´ ë¦¬ì†ŒìŠ¤ë¥¼ íŠ¹ë³„í•œ ë©”ëª¨ë¦¬ì— ìºì‹±í•˜ê³  ìˆìŠµë‹ˆë‹¤ (@st.cache_resource). ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸°ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì¼ë¶€ ê·¸ë˜í”½ ì¡°ì •\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ ê¸°ë³¸ Streamlit í˜ì´ì§€ ìš”ì†Œì™€ ì±—ë´‡ì— ì‚¬ìš©í•  ì•„ì´ì½˜ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"#ì•„ë°”íƒ€\\nav_us = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'ğŸ§‘â€ğŸ’»'\"\n        }), \"  # \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'./man.png'\"\n        }), \"  #\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ğŸ¦–\\\"\"\n        }), \"  # \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ğŸ§‘â€ğŸ’»\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ğŸ¤–\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ğŸ¦–\\\"\"\n        }), \"ê³¼ ê°™ì€ ë‹¨ì¼ ì´ëª¨ì§€ì…ë‹ˆë‹¤. \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Shortcut\"\n        }), \"ì€ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\\nav_ass = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ğŸ¤–\\\"\"\n        }), \"   #\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'./robot.png'\"\n        }), \"\\n# ê¸°ë³¸ ëª¨ë¸ ì„¤ì •\\n\\n### \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"STREAMLIT\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"UI\"\n        }), \" ì‹œì‘\\nst.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"image\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'https://github.com/fabiomatricardi/ChatBOTMastery/raw/main/qwen100logo.png'\"\n        }), \", )\\nst.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"markdown\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"### *Streamlit \u0026 Gradio_clientë¡œ êµ¬ë™ë¨*\\\"\"\n        }), \", unsafe_allow_html=\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"True\"\n        }), \" )\\nst.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"markdown\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'---'\"\n        }), \")\\n\\nclient = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"create_client\"\n        }), \"()\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ì— ë¡œì»¬ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì–´ìš” (ì½”ë“œì˜ ì£¼ì„ì„ ì°¸ê³ í•˜ì„¸ìš”!)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë§ˆì§€ë§‰ìœ¼ë¡œ, create_client()ë¡œ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ì¸ìŠ¤í„´ìŠ¤í™”í•´ìš”.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ë³¸ë¬¸ â€” ì±„íŒ… ì¸í„°í˜ì´ìŠ¤\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Streamlitì€ ìì‹ ì˜ ìœ„ì ¯ì— ë³€ê²½ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ë˜ëŠ” ì…ë ¥(ë²„íŠ¼, ì„ íƒê¸°, ë¼ë””ì˜¤ ìš”ì†Œ ë“±)ìœ¼ë¡œ ì‚¬ìš©ì ì¡°ì‘ì´ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì½”ë“œë¥¼ ë§¨ ìœ„ë¶€í„° ë‹¤ì‹œ ì‹¤í–‰í•´ìš”.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ë˜ì„œ ì €í¬ëŠ” ëŒ€í™” ê¸°ë¡ì„ ë§¨ ìœ„ì— ë¨¼ì € ë Œë”ë§í•˜ê¸° ì‹œì‘í–ˆì–´ìš”. ì—¬ê¸°ì„œëŠ” ë­ë¼ë„ ìƒˆë¡­ê²Œ ë°œëª…í•œ ê±´ ì—†ì–´ìš”: Streamlit ë¸”ë¡œê·¸ì˜ ê³µì‹ ììŠµì„œì—ì„œ ëª¨ë‘ ë°°ì› ê±°ë“ ìš”.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê²ƒì€ í‘œì¤€ ë Œë”ë§ì…ë‹ˆë‹¤. OpenAI APIì™€ í˜¸í™˜ë˜ëŠ” chat_completion í˜•ì‹ì— ëª¨ë‘ ì ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì½”ë“œë¡œ ëŒì•„ê°€ì„œ, ìš°ë¦¬ëŠ” chat_template ë©”ì‹œì§€ë“¤ì„ í‘œì‹œí•˜ê³ , ë©”ì‹œì§€ ëª©ë¡ì„ ë°˜ë³µí•˜ë©° ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸(myprompt)ê°€ ì œì¶œë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"# ì•± ì¬ì‹¤í–‰ ì‹œ ì´ì „ ëŒ€í™” ë‚´ìš©ì„ ë³´ì—¬ì¤ë‹ˆë‹¤\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" message \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" st.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"session_state\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"messages\"\n        }), \":\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" message[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"role\\\"\"\n        }), \"] == \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"user\\\"\"\n        }), \":\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"with\"\n        }), \" st.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"chat_message\"\n        }), \"(message[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"role\\\"\"\n        }), \"],avatar=av_us):\\n            st.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"markdown\"\n        }), \"(message[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"content\\\"\"\n        }), \"])\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"else\"\n        }), \":\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"with\"\n        }), \" st.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"chat_message\"\n        }), \"(message[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"role\\\"\"\n        }), \"],avatar=av_ass):\\n            st.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"markdown\"\n        }), \"(message[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"content\\\"\"\n        }), \"])\\n# ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" myprompt := st.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"chat_input\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ì¸ê³µì§€ëŠ¥ ëª¨ë¸ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\\\"\"\n        }), \"):\\n    # ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ ëŒ€í™” ë‚´ì—­ì— ì¶”ê°€\\n    st.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"session_state\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"messages\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"append\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"role\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"user\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"content\\\"\"\n        }), \": myprompt})\\n    # ëŒ€í™” ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆì— ì‚¬ìš©ì ë©”ì‹œì§€ í‘œì‹œ\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"with\"\n        }), \" st.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"chat_message\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"user\\\"\"\n        }), \", avatar=av_us):\\n        st.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"markdown\"\n        }), \"(myprompt)\\n        usertext = f\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"user: {myprompt}\\\"\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"writehistory\"\n        }), \"(usertext)\\n        # ì°¨í›„ ì‚¬ìš©ì„ ìœ„í•´ ëŒ€í™” ìƒëŒ€ì˜ ì‘ë‹µì„ í‘œì‹œ\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì—¬ê¸°ì— ì´ìƒí•œ writehistory(usertext) ì§€ì‹œë¬¸ì„ ì¶”ê°€í•˜ê³  ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì–µí•˜ì‹œë‚˜ìš”? ì²˜ìŒì— ì´ í•¨ìˆ˜ë¥¼ ì„ ì–¸í–ˆë˜ ê±°ì£ ? ì €ëŠ” ëª¨ë“  ëŒ€í™” ë‚´ìš©ì„ ë¡œì»¬ í…ìŠ¤íŠ¸ íŒŒì¼ì— ì €ì¥í•˜ëŠ” ë²„ë¦‡ì´ ìˆì–´ìš”. ì´ëŠ” í”„ë¡¬í”„íŠ¸ë¥¼ ë¶„ì„í•˜ê±°ë‚˜ ë¯¸ë˜ í™œìš©ì„ ìœ„í•´ ìë£Œë¥¼ ì¡°ì§í™”í•  ë•Œ ë§¤ìš° í¸ë¦¬í•©ë‹ˆë‹¤.ğŸ™‚\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í”„ë¡¬í”„íŠ¸ì—ì„œ ì œì¶œëœ ë‚´ìš©ì„ í™•ì¸í•œ í›„, gradio í´ë¼ì´ì–¸íŠ¸ ì¸ìŠ¤í„´ìŠ¤(client.submit)ë¥¼ í˜¸ì¶œí•˜ê³  ìŠ¤íŠ¸ë¦¬ë°ì„ ì‹œì‘í•©ë‹ˆë‹¤ (message_placeholder.markdown(r[1][0][1]+ \\\"â–Œ\\\"))\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"    # ì±„íŒ… ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆì— ì–´ì‹œìŠ¤í„´íŠ¸ ì‘ë‹µ í‘œì‹œ\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"with\"\n        }), \" st.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"chat_message\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"assistant\\\"\"\n        }), \"):\\n        message_placeholder = st.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"empty\"\n        }), \"()\\n        full_response = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"\\\"\"\n        }), \"\\n        res  =  client.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"submit\"\n        }), \"(\\n                query=myprompt,\\n                history=[],\\n                system=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"You are a helpful assistant.\\\"\"\n        }), \",\\n                api_name=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/model_chat\\\"\"\n        }), \"\\n                )        \\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" r \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"res\"\n        }), \":\\n            full_response=r[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"]\\n            message_placeholder.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"markdown\"\n        }), \"(r[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"]+ \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"â–Œ\\\"\"\n        }), \")\\n\\n        message_placeholder.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"markdown\"\n        }), \"(full_response)\\n        asstext = f\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"assistant: {full_response}\\\"\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"writehistory\"\n        }), \"(asstext)       \\n        st.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"session_state\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"messages\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"append\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"role\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"assistant\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"content\\\"\"\n        }), \": full_response})\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê²Œ ì „ë¶€ì—ìš”. full_responseëŠ” ìµœì¢… í…ìŠ¤íŠ¸ê°€ ë“¤ì–´ ìˆëŠ” ë³€ìˆ˜ì´ë¯€ë¡œ ëŒ€í™” ê¸°ë¡ì—ë„ ì¶”ê°€í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í•´ê²°í–ˆìœ¼ë©´ ëŒ“ê¸€ì— ì•Œë ¤ì£¼ì„¸ìš” ğŸ‘\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"íŒŒì´ì¬ íŒŒì¼ì„ ì €ì¥í•œ í›„ í„°ë¯¸ë„ì—ì„œ ê°€ìƒ í™˜ê²½ì„ í™œì„±í™”í•œ ìƒíƒœì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•˜ì„¸ìš”.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"streamlit run .\\\\st-\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Qwen1\"\n        }), _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \".5\"\n        }), \"-110B-\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Chat\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"py\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì•„ë˜ì²˜ëŸ¼ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤... ê·¸ë¦¬ê³  ê¸°ë³¸ ë¸Œë¼ìš°ì €ê°€ ë¡œì»¬ URLì¸ http://localhost:8501ë¡œ ì—´ë¦¬ê²Œ ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_0.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Streamlitì€ ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ë¡œì˜ í¸ë¦¬í•œ ë¼ìš°íŒ…ì„ ì œê³µí•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í•¸ë“œí°ì´ ë™ì¼í•œ ì•¡ì„¸ìŠ¤ í¬ì¸íŠ¸ì— ì—°ê²°ë˜ì–´ ìˆìœ¼ë©´ Network URLë¡œ í‘œì‹œëœ ì£¼ì†Œì¸ http://192.168.2.6:8501ì„ í†µí•´ í•¸ë“œí°ì—ì„œë„ ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_1.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ë‹¤ë¥¸ ëª¨ë¸ ì‹¤í–‰ì— ëŒ€í•œ ì°¸ê³  ì‚¬í•­\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"GitHub ë¦¬í¬ì§€í† ë¦¬ì—ì„œë„ Streamlit Python íŒŒì¼ì„ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"OpenELM 3B\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Phi-3-mini-Instruct 128k\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"QwenMoE\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê³ ê° êµ¬ì„±ì´ ë³€ê²½ë  ì˜ˆì •ì…ë‹ˆë‹¤ (ë¬¼ë¡ ...) ê·¸ë¦¬ê³  ìŠ¤íŠ¸ë¦¬ë° ì§€ì¹¨ë„ ë³€ê²½ë  ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” API ì—”ë“œí¬ì¸íŠ¸ê°€ ë‹¤ë¥¸ ë°ì´í„° ìœ í˜•ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤. OpenELM ë° Phi-3ì˜ ê²½ìš° ìˆœìˆ˜í•œ ë¬¸ìì—´ì´ ë°˜í™˜ë˜ë¯€ë¡œ ì–´ë– í•œ ì‚¬ì „/íŠœí”Œ ìœ„ì¹˜ì— ìˆëŠ” LLM ì‘ë‹µì„ ì¶”ì¶œí•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì—¬ê¸°ë¥¼ ì‚´í´ë³´ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ë¦¬ê³  ë˜í•œ PLEASE, ê¸°ì–µí•´ì£¼ì„¸ìš”...\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_2.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ê²°ë¡ \"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ëª¨ë“  ë³µì¡ì„±ì„ ë‹¤ë£¨ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ì¼í•˜ëŠ”ì§€ ë°°ìš°ê³ , ë‚˜ë§Œì˜ AI ë¹„ì„œë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì•Œê³  ì‹¶ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë‚´ê°€ ìƒìƒí•  ìˆ˜ ìˆëŠ” ìµœê³ ì˜ ëª©ì ì„ ìœ„í•´ ì½˜í…ì¸  ìƒì„±, í•™ìŠµ ìë£Œ, í”„ë ˆì  í…Œì´ì…˜, êµìœ¡ ì§€ì› ë“±.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì–´ë””ì— ì‚¬ìš©í•  ê±´ê°€ìš”?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê¸€ì´ ë§ˆìŒì— ë“œì…¨ìœ¼ë©´ ì¢‹ê²£ìŠµë‹ˆë‹¤. ì´ ì´ì•¼ê¸°ê°€ ê°€ì¹˜ë¥¼ ì œê³µí–ˆê³  ì¡°ê¸ˆì´ë¼ë„ ì§€ì›í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒì„ í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤ :\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì´ ì´ì•¼ê¸°ì— ëŒ€í•´ ë§ì´ ë°•ìˆ˜ë¥¼ ì³ ì£¼ì„¸ìš”\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ê¸°ì–µí•  ê°€ì¹˜ê°€ ìˆëŠ” ë¶€ë¶„ì„ ê°•ì¡°í•˜ì‹­ì‹œì˜¤ (ë‚˜ì¤‘ì— ì°¾ê¸° ì‰½ê³ , ë” ë‚˜ì€ ê¸°ì‚¬ë¥¼ ì“°ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Build Your Own AIë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ë ¤ë©´, ë¬´ë£Œ eBookì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë‚´ ë§í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ Medium ë©¤ë²„ì‹­ ê°€ì…í•˜ê¸° - (ë¬´ì œí•œ Medium ì´ì•¼ê¸°ë¥¼ ì½ìœ¼ë ¤ë©´ ë§¤ë‹¬ $5)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Mediumì—ì„œ ë‚˜ë¥¼ íŒ”ë¡œìš°í•˜ê¸°\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë‚´ ìµœì‹  ê¸°ì‚¬ ì½ê¸° https://medium.com/@fabio.matricardi\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì—¬ê¸° ëª‡ ê°€ì§€ ë” í¥ë¯¸ë¡œìš´ ì½ì„ê±°ë¦¬:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¶”ê°€ í•™ìŠµ ìë£Œ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_3.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ì´ì•¼ê¸°ëŠ” Generative AI Publicationì—ì„œ ë°œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìµœì‹  AI ì´ì•¼ê¸°ë¥¼ ë†“ì¹˜ì§€ ì•Šìœ¼ë ¤ë©´ Substack, LinkedIn ë° Zeniteqì—ì„œ ì €í¬ì™€ ì—°ë½í•˜ì—¬ AIì˜ ë¯¸ë˜ë¥¼ í•¨ê»˜ ì°½ì¡°í•´ë³´ì„¸ìš”!\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2_4.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-17-ChatbotcheatcodeQwen110BonStreamlitwithoutspendingapennyPart2"},"buildId":"7rKODeu6chWTLgXf6auoL","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>