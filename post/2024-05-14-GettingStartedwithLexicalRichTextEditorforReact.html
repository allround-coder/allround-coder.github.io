<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Lexical와 함께하는 React용 리치 텍스트 에디터 시작하기 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Lexical와 함께하는 React용 리치 텍스트 에디터 시작하기 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="Lexical와 함께하는 React용 리치 텍스트 에디터 시작하기 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact" data-gatsby-head="true"/><meta name="twitter:title" content="Lexical와 함께하는 React용 리치 텍스트 에디터 시작하기 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-14 11:00" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/acd99c507555fdc6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/acd99c507555fdc6.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/162-4172e84c8e2aa747.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-742e6c91a18eb160.js" defer=""></script><script src="/_next/static/6w6Yg3qJxLtqeXNguENru/_buildManifest.js" defer=""></script><script src="/_next/static/6w6Yg3qJxLtqeXNguENru/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Lexical와 함께하는 React용 리치 텍스트 에디터 시작하기</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Lexical와 함께하는 React용 리치 텍스트 에디터 시작하기" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 14, 2024</span><span class="posts_reading_time__f7YPP">31<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<h2>React JS에서 Lexical을 사용하는 방법에 대한 튜토리얼; 예제와 함께 기본 사항.</h2>
<p>... 그러나 유감스럽게도 이 문서는 좋은 설명의 예시가 아닙니다. 이 기사에서는 이 라이브러리를 어떻게 사용하는지를 간단한 용어로 설명하겠습니다.</p>
<p>여기서는 특별한 스타일, 모달 또는 팝오버 없이 렉시컬 리치 텍스트 기능의 기본을 다룰 것입니다:</p>
<p><img src="/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_1.png" alt="이미지"></p>
<p>만약 이 라이브러리가 무엇을 할 수 있는지 확인하고 싶다면, 멋진 렉시컬 플레이그라운드를 확인해보세요.</p>
<p><img src="/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_2.png" alt="이미지"></p>
<p>관련 이야기:</p>
<h1>다룰 내용</h1>
<ul>
<li>준비물</li>
<li>시작하기</li>
<li>히스토리 플러그인</li>
<li>노드</li>
<li>리치 텍스트</li>
<li>테마</li>
<li>제목, 도우미 및 노드 구성</li>
<li>페이로드로 자신만의 명령어를 만드는 방법</li>
<li>사용자 정의 노드 만들기</li>
</ul>
<h1>준비물</h1>
<p>우리는 다음과 같이 만들어진 간단한 React JS 애플리케이션으로 시작할 것입니다:</p>
<pre><code class="hljs language-js">yarn create react-app react-lexical-examples --template typescript
</code></pre>
<p>그리고 우리는 어휘 패키지를 설치해야 합니다:</p>
<pre><code class="hljs language-js">yarn add lexical @lexical/react

<span class="hljs-comment">// OR</span>

npm install --save lexical @lexical/react
</code></pre>
<h1>시작</h1>
<pre><code>


Lexical을 이용하여 작업을 시작하려면 이 템플릿을 사용할 수 있어요:

```js
import React, {useMemo} from 'react';
import {InitialConfigType, LexicalComposer} from '@lexical/react/LexicalComposer';
import {PlainTextPlugin} from "@lexical/react/LexicalPlainTextPlugin";
import {ContentEditable} from '@lexical/react/LexicalContentEditable';
import LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';

export const App: React.FC = () => {

    const CustomContent = useMemo(() => {
        return (
            &#x3C;ContentEditable style={
                position: 'relative',
                borderColor: 'rgba(255,211,2,0.68)',
                border: '2px solid red',
                borderRadius: '5px',
                maxWidth: '100%',
                padding: '10px'
            }/>
        )
    }, []);

    const CustomPlaceholder = useMemo(() => {
        return (
            &#x3C;div style={
                position: 'absolute', top: 30, left: 30,
            }>
                텍스트를 입력하세요...
            &#x3C;/div>
        )
    }, []);

    const lexicalConfig: InitialConfigType = {
        namespace: '나의 리치 텍스트 편집기',
        onError: (e) => {
            console.log('에러 발생:', e)
        }
    }

    return (
        &#x3C;div style={padding: '20px'}>
            &#x3C;LexicalComposer initialConfig={lexicalConfig}>
                &#x3C;PlainTextPlugin
                    contentEditable={CustomContent}
                    placeholder={CustomPlaceholder}
                    ErrorBoundary={LexicalErrorBoundary}
                />
            &#x3C;/LexicalComposer>
        &#x3C;/div>
    );
}
</code></pre>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*-7S9xp-EweAiYl8Fn0O8_w.gif" alt="이미지"></p>
<p>보다시피, 아주 복잡해 보이지 않죠. 걱정하지 마세요, 나중에 이 컴포넌트들에 대해 자세히 다룰 거예요. 일단은 모든 것이 예상대로 작동하는지 확인하는 것이 중요해요.</p>
<p>이제 기능을 하나씩 추가해 봅시다.</p>
<h1>히스토리 플러그인</h1>
<p>이전 예제에서 새 텍스트를 입력할 수 있었지만, CTRL-Z(실행 취소)를 누르면 아무 일도 일어나지 않았죠. 이 문제를 해결하기 위해 @lexical/history 플러그인을 추가하여 CTRL-Z(실행 취소)와 CTRL-SHIFT-Z(다시 실행)를 사용할 수 있게 할 수 있습니다.</p>
<p>선택 사항으로 직접 Undo/Redo를 처리하는 사용자 정의 컴포넌트를 추가할 수도 있습니다:</p>
<pre><code class="hljs language-js">@@ -<span class="hljs-number">3</span>,<span class="hljs-number">6</span> +<span class="hljs-number">3</span>,<span class="hljs-number">8</span> @@
 <span class="hljs-keyword">import</span> {<span class="hljs-title class_">PlainTextPlugin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalPlainTextPlugin"</span>;
 <span class="hljs-keyword">import</span> {<span class="hljs-title class_">ContentEditable</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@lexical/react/LexicalContentEditable'</span>;
 <span class="hljs-keyword">import</span> <span class="hljs-title class_">LexicalErrorBoundary</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@lexical/react/LexicalErrorBoundary'</span>;
+<span class="hljs-keyword">import</span> {<span class="hljs-title class_">HistoryPlugin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@lexical/react/LexicalHistoryPlugin'</span>;
+<span class="hljs-keyword">import</span> {<span class="hljs-title class_">CustomHistoryActions</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"./components"</span>;
 
 <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =></span> {
 
@@ -<span class="hljs-number">44</span>,<span class="hljs-number">7</span> +<span class="hljs-number">46</span>,<span class="hljs-number">12</span> @@
                     placeholder={<span class="hljs-title class_">CustomPlaceholder</span>}
                     <span class="hljs-title class_">ErrorBoundary</span>={<span class="hljs-title class_">LexicalErrorBoundary</span>}
                 />
+                <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">HistoryPlugin</span>/></span></span>
+                <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{margin:</span> '<span class="hljs-attr">20px</span> <span class="hljs-attr">0px</span>'}></span>
+                    <span class="hljs-tag">&#x3C;<span class="hljs-name">CustomHistoryActions</span>/></span>
+                <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
             &#x3C;/<span class="hljs-title class_">LexicalComposer</span>>
+
         &#x3C;/div>
     );
 }
</code></pre>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> {<span class="hljs-variable constant_">UNDO_COMMAND</span>, <span class="hljs-variable constant_">REDO_COMMAND</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'lexical'</span>;
<span class="hljs-keyword">import</span> {useLexicalComposerContext} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomHistoryActions</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&#x3C;></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> editor.dispatchCommand(UNDO_COMMAND, undefined)}>되돌리기<span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> editor.dispatchCommand(REDO_COMMAND, undefined)}>다시 실행<span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
        <span class="hljs-tag">&#x3C;/></span></span>
    );
}
</code></pre>
<p>설명:</p>
<ul>
<li>editor는 <code>LexicalComposer/</code> 컴포넌트에서 가져온 컨텍스트 값입니다. 에디터 클래스/메소드에 대한 자세한 내용은 여기서 확인할 수 있습니다:```</li>
</ul>
<p>간단한 사용 예시:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-comment">// 이펙트가 발생할 때 에디터에 포커스를 맞춥니다!</span>
    editor.<span class="hljs-title function_">focus</span>();
  }, [editor]);
</code></pre>
<ul>
<li>UNDO_COMMAND과 REDO_COMMAND는 에디터 내용(또는 원하는 내용)을 처리해야 할 것을 렉시컬에 알리는 등록된 렉시컬 명령입니다. 다음과 같이 사용자 고유의 명령을 생성할 수도 있습니다:</li>
</ul>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { createCommand, <span class="hljs-variable constant_">COMMAND_PRIORITY_NORMAL</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"lexical"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DO_SOMETHING_AWESOME</span> = <span class="hljs-title function_">createCommand</span>(<span class="hljs-string">"create_banner"</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CustomComponent</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =></span> {
  <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();

  editor.<span class="hljs-title function_">registerCommand</span>(
    <span class="hljs-variable constant_">DO_SOMETHING_AWESOME</span>,
    <span class="hljs-function">() =></span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'이것은 내가 만든 명령입니다'</span>)
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-variable constant_">COMMAND_PRIORITY_NORMAL</span>,
  );

  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
};
</code></pre>
<p>걱정하지 마세요, 나중에 이 주제를 조금 더 다룰 거예요.</p>
<ul>
<li>editor.dispatchCommand(UNDO_COMMAND, undefined) → 왜 두 번째 인자로 undefined를 전달하는 걸까요? 첫 번째, 그렇게 하지 않으면 TS 오류가 발생합니다. 둘째, 이것은 명령과 함께 전달될 수 있는 페이로드 데이터입니다(우리 경우에는 해당되지 않습니다). dispatchCommand에 대해 더 알아보세요.</li>
</ul>
<h1>노드</h1>
<p>이 섹션에서는 용어의 작동 방식과 저장하는 데이터에 대해 깊이 파헤쳐야 할 것입니다.</p>
<p>먼저, 에디터의 상태 변화를 모니터링하고 에디터의 상태를 로깅하는 간단한 플러그인을 만들 것입니다:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// src/components/OnChangePlugin/OnChangePlugin.tsx</span>

<span class="hljs-keyword">import</span> {useLexicalComposerContext} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;
<span class="hljs-keyword">import</span> {useEffect} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">OnChangePlugin</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
        <span class="hljs-keyword">return</span> editor.<span class="hljs-title function_">registerUpdateListener</span>(<span class="hljs-function">(<span class="hljs-params">listener</span>) =></span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'DATA'</span>, listener.<span class="hljs-property">editorState</span>.<span class="hljs-title function_">toJSON</span>())
        });
    }, [editor]);

    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<p>다음으로, <code>LexicalComposer/</code>의 하위 컴포넌트로 <code>OnChangePlugin/</code> 컴포넌트를 추가해주세요:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/<span class="hljs-title class_">App</span>.<span class="hljs-property">tsx</span>
@@ -<span class="hljs-number">5</span>,<span class="hljs-number">6</span> +<span class="hljs-number">5</span>,<span class="hljs-number">7</span> @@
 <span class="hljs-keyword">import</span> <span class="hljs-title class_">LexicalErrorBoundary</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@lexical/react/LexicalErrorBoundary'</span>;
 <span class="hljs-keyword">import</span> {<span class="hljs-title class_">HistoryPlugin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@lexical/react/LexicalHistoryPlugin'</span>;
 <span class="hljs-keyword">import</span> {<span class="hljs-title class_">CustomHistoryActions</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"./components"</span>;
+<span class="hljs-keyword">import</span> {<span class="hljs-title class_">OnChangePlugin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"./components"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =></span> {

@@ -<span class="hljs-number">47</span>,<span class="hljs-number">6</span> +<span class="hljs-number">48</span>,<span class="hljs-number">7</span> @@
                    <span class="hljs-title class_">ErrorBoundary</span>={<span class="hljs-title class_">LexicalErrorBoundary</span>}
                />
                <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">HistoryPlugin</span>/></span></span>
+                <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">OnChangePlugin</span> /></span></span>
                <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{margin:</span> '<span class="hljs-attr">20px</span> <span class="hljs-attr">0px</span>'}></span>
                    <span class="hljs-tag">&#x3C;<span class="hljs-name">CustomHistoryActions</span>/></span>
                <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
</code></pre>
<p>이제 편집기의 상태가 변경될 때마다 편집기의 상태 트리 데이터를 콘솔에 출력할 것입니다:</p>
<p><img src="/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_3.png" alt="이미지"></p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*Lqyfyb4peVPoHJQvYuBNhQ.gif" alt="이미지"></p>
<p>이 텍스트를 입력하면 어떤 데이터를 얻을지 확인해 봅시다:</p>
<pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"root"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"detail"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"normal"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"asd"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"linebreak"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"detail"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"normal"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dsa"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"direction"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ltr"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"indent"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"paragraph"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"direction"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ltr"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"indent"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"root"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>아마도 노드가 간단한 속성을 가진 객체임을 알았을겁니다. 주요 속성은 노드의 종류인 type과 노드의 내용인 text입니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> initialState <span class="hljs-keyword">from</span> <span class="hljs-string">'./initialState.json'</span>;

<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">LexicalComposer</span>
        <span class="hljs-attr">initialConfig</span>=<span class="hljs-string">{</span>
          // <span class="hljs-attr">...</span>
          <span class="hljs-attr">editorState:</span> <span class="hljs-attr">JSON.stringify</span>(<span class="hljs-attr">initialState</span>),
        }
      ></span>
            {/* ... */}
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">LexicalComposer</span>></span></span>
    );
</code></pre>
<p>이 경우 앱을 다시 시작할 때마다 동일한 결과를 얻을 수 있습니다:</p>
<p>Nodes에 대해 더 많은 정보를 읽어보실 수 있습니다.</p>
<pre><code>


# 리치 텍스트

첫 번째 노드 수정 핸들러를 만들어 봅시다.

이전에 PlainTextPlugin 컴포넌트를 사용했기 때문에 "bold" (CTRL+B) 액션과 같은 텍스트 작업을 처리할 수 없습니다:

```js
&#x3C;LexicalComposer initialConfig={lexicalConfig}>
  &#x3C;PlainTextPlugin ...  />
...
&#x3C;/LexicalComposer>
</code></pre>
<p>App.tsx 파일에서 PlainTextPlugin을 RichTextPlugin으로 변경해야 합니다:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/<span class="hljs-title class_">App</span>.<span class="hljs-property">tsx</span>

@@ -<span class="hljs-number">1</span>,<span class="hljs-number">6</span> +<span class="hljs-number">1</span>,<span class="hljs-number">6</span> @@
 <span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, {useMemo} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
 <span class="hljs-keyword">import</span> {<span class="hljs-title class_">InitialConfigType</span>, <span class="hljs-title class_">LexicalComposer</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@lexical/react/LexicalComposer'</span>;
-<span class="hljs-keyword">import</span> {<span class="hljs-title class_">PlainTextPlugin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalPlainTextPlugin"</span>;
+<span class="hljs-keyword">import</span> {<span class="hljs-title class_">RichTextPlugin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalRichTextPlugin"</span>;
 <span class="hljs-keyword">import</span> {<span class="hljs-title class_">ContentEditable</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@lexical/react/LexicalContentEditable'</span>;
 <span class="hljs-keyword">import</span> <span class="hljs-title class_">LexicalErrorBoundary</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@lexical/react/LexicalErrorBoundary'</span>;
 <span class="hljs-keyword">import</span> {<span class="hljs-title class_">HistoryPlugin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@lexical/react/LexicalHistoryPlugin'</span>;
@@ -<span class="hljs-number">46</span>,<span class="hljs-number">7</span> +<span class="hljs-number">46</span>,<span class="hljs-number">7</span> @@
             &#x3C;<span class="hljs-title class_">LexicalComposer</span>
                 initialConfig={lexicalConfig}
             >
-                &#x3C;PlainTextPlugin
+                &#x3C;RichTextPlugin
                     contentEditable={CustomContent}
                     placeholder={CustomPlaceholder}
                     ErrorBoundary={LexicalErrorBoundary}
</code></pre>
<p>이제 에디터에서 기본 텍스트 작업을 사용할 수 있을 것입니다:</p>
<p>우리의 커스텀 버튼을 만들어 봅시다:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// src/components/CustomTextActions/CustomTextActions.tsx</span>

<span class="hljs-keyword">import</span> {useLexicalComposerContext} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-variable constant_">FORMAT_TEXT_COMMAND</span>, <span class="hljs-title class_">TextFormatType</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'lexical'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomTextActions</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleOnClick</span> = (<span class="hljs-params">formatType: TextFormatType</span>) => {
        editor.<span class="hljs-title function_">dispatchCommand</span>(<span class="hljs-variable constant_">FORMAT_TEXT_COMMAND</span>, formatType)
    }

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> '<span class="hljs-attr">10px</span>'}}></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontWeight:</span> '<span class="hljs-attr">bold</span>'}}></span>텍스트 액션<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>></span>
                {[
                    '굵게',
                    '이탤릭체',
                    '밑줄',
                    '코드',
                    '하이라이트',
                    '취소선',
                    '아래첨자',
                    '위첨자'
                ].map(value => {
                    return (
                        <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span>
                            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> handleOnClick(value.toLowerCase() as TextFormatType)}>
                            {value}
                        <span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
                    )
                })}
            <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
        <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
    );
}
</code></pre>
<p>하지만 텍스트를 수정하려고 하면 기대했던 결과가 나오지 않을 수 있습니다: 일부 항목은 변경되고 일부는 변경되지 않을 수 있습니다. 그 이유가 무엇일까요?</p>
<p>HTML 출력을 확인해 봅시다:</p>
<pre><code class="hljs language-js">&#x3C;p dir=<span class="hljs-string">"ltr"</span>><span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">strong</span> <span class="hljs-attr">data-lexical-text</span>=<span class="hljs-string">"true"</span>></span>굵게<span class="hljs-tag">&#x3C;/<span class="hljs-name">strong</span>></span></span>&#x3C;/p>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"ltr"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">em</span> <span class="hljs-attr">data-lexical-text</span>=<span class="hljs-string">"true"</span>></span>이탤릭체<span class="hljs-tag">&#x3C;/<span class="hljs-name">em</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span></span>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"ltr"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">data-lexical-text</span>=<span class="hljs-string">"true"</span>></span>밑줄<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span></span>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"ltr"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">code</span> <span class="hljs-attr">data-lexical-text</span>=<span class="hljs-string">"true"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">span</span>></span>코드<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">code</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span></span>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"ltr"</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">mark</span> <span class="hljs-attr">data-lexical-text</span>=<span class="hljs-string">"true"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">span</span>></span>강조<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">mark</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span></span>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"ltr"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">data-lexical-text</span>=<span class="hljs-string">"true"</span>></span>취소선<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span></span>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"ltr"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">sub</span> <span class="hljs-attr">data-lexical-text</span>=<span class="hljs-string">"true"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">span</span>></span>아래 첨자<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">sub</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span></span>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"ltr"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">sup</span> <span class="hljs-attr">data-lexical-text</span>=<span class="hljs-string">"true"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">span</span>></span>위 첨자<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">sup</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span></span>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">"ltr"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">code</span> <span class="hljs-attr">data-lexical-text</span>=<span class="hljs-string">"true"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">strong</span>></span>모두 표시<span class="hljs-tag">&#x3C;/<span class="hljs-name">strong</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">code</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span></span>
</code></pre>
<p>요소에는 적용된 스타일이 없지만 브라우저에서 <code>mark</code>/<code>strong/</code>/<code>em/</code>에 대한 사전 정의된 스타일이 있어 약간의 스타일 변화가 있습니다. 그러나 우리가 기대한 것은 아닙니다.</p>
<p>이제 다음 주제인 → 테마를 다루어볼 시간입니다.</p>
<p>👉 작은 참고사항입니다. Align 작업 구현이 이렇게 보일 것입니다 (텍스트와 동일한 디스패치 명령어 접근 방식):</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> {
    useLexicalComposerContext
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-variable constant_">FORMAT_ELEMENT_COMMAND</span>,
    <span class="hljs-title class_">ElementFormatType</span>,
    <span class="hljs-variable constant_">OUTDENT_CONTENT_COMMAND</span>,
    <span class="hljs-variable constant_">INDENT_CONTENT_COMMAND</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'lexical'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomAlignActions</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleOnClick</span> = (<span class="hljs-params">formatType: ElementFormatType</span>) => {
        editor.<span class="hljs-title function_">dispatchCommand</span>(<span class="hljs-variable constant_">FORMAT_ELEMENT_COMMAND</span>, formatType)
    }

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{marginTop:</span> '<span class="hljs-attr">10px</span>'}></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{fontWeight:</span> '<span class="hljs-attr">bold</span>'}></span>Align actions<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>></span>
                {[
                    'Left',
                    'Center',
                    'Right',
                    'Justify',
                ].map(value => {
                    return (
                        <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span>
                            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> handleOnClick(value.toLowerCase() as ElementFormatType)}>
                            {value}
                        <span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
                    )
                })}
                <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span>
                    <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> editor.dispatchCommand(OUTDENT_CONTENT_COMMAND, undefined)}>
                    Outdent
                <span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
                <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span>
                    <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> editor.dispatchCommand(INDENT_CONTENT_COMMAND, undefined)}>
                    Indent
                <span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
            <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
        <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
    );
}
</code></pre>
<p><img src="/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_7.png" alt="이미지"></p>
<p>위의 경우 "정당화" 노드가 편집기 상태 JSON에서 어떻게 나타낼지에 대한 예시입니다:</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">"children"</span>: [
    {
      <span class="hljs-string">"detail"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"format"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">"mode"</span>: <span class="hljs-string">"normal"</span>,
      <span class="hljs-string">"style"</span>: <span class="hljs-string">""</span>,
      <span class="hljs-string">"text"</span>: <span class="hljs-string">"Justify"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-string">"version"</span>: <span class="hljs-number">1</span>
    },
    {
      <span class="hljs-string">"detail"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"format"</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">"mode"</span>: <span class="hljs-string">"normal"</span>,
      <span class="hljs-string">"style"</span>: <span class="hljs-string">""</span>,
      <span class="hljs-string">"text"</span>: <span class="hljs-string">" - Lorem ipsum dolor sit amet, &#x3C;...>"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-string">"version"</span>: <span class="hljs-number">1</span>
    }
  ],
  <span class="hljs-string">"direction"</span>: <span class="hljs-string">"ltr"</span>,
  <span class="hljs-string">"format"</span>: <span class="hljs-string">"justify"</span>,
  <span class="hljs-string">"indent"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"paragraph"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-number">1</span>
}
</code></pre>
<h1>테마</h1>
<p>Nodes를 수정할 때, lexical은 테마 객체 theme.[<code>노드-타입</code>]에서 지정된 노드 타입에 대해 스타일(클래스 이름)을 적용합니다.</p>
<p>해달 코드를 추가하고 텍스트 스타일을 적용해 보겠습니다:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/<span class="hljs-title class_">App</span>.<span class="hljs-property">tsx</span>

@@ -<span class="hljs-number">10</span>,<span class="hljs-number">6</span> +<span class="hljs-number">10</span>,<span class="hljs-number">7</span> @@
     <span class="hljs-title class_">CustomHistoryActions</span>
 } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components"</span>;
 <span class="hljs-keyword">import</span> initialState <span class="hljs-keyword">from</span> <span class="hljs-string">'./initialState.json'</span>;
+<span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>
 
 <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =></span> {
 
@@ -<span class="hljs-number">38</span>,<span class="hljs-number">6</span> +<span class="hljs-number">39</span>,<span class="hljs-number">18</span> @@
 
     <span class="hljs-keyword">const</span> <span class="hljs-attr">lexicalConfig</span>: <span class="hljs-title class_">InitialConfigType</span> = {
         <span class="hljs-attr">namespace</span>: <span class="hljs-string">'My Rich Text Editor'</span>,
+        <span class="hljs-attr">theme</span>: {
+            <span class="hljs-attr">text</span>: {
+                <span class="hljs-attr">bold</span>: <span class="hljs-string">"text-bold"</span>,
+                <span class="hljs-attr">italic</span>: <span class="hljs-string">"text-italic"</span>,
+                <span class="hljs-attr">underline</span>: <span class="hljs-string">"text-underline"</span>,
+                <span class="hljs-attr">code</span>: <span class="hljs-string">'text-code'</span>,
+                <span class="hljs-attr">highlight</span>: <span class="hljs-string">'text-highlight'</span>,
+                <span class="hljs-attr">strikethrough</span>: <span class="hljs-string">'text-strikethrough'</span>,
+                <span class="hljs-attr">subscript</span>: <span class="hljs-string">'text-subscript'</span>,
+                <span class="hljs-attr">superscript</span>: <span class="hljs-string">'text-superscript'</span>,
+            },
+        },
         <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =></span> {
             <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ERROR:'</span>, e)
         },
</code></pre>
<p>CSS:</p>
<pre><code class="hljs language-js">.<span class="hljs-property">text</span>-bold {
    font-<span class="hljs-attr">weight</span>: bold;
}

.<span class="hljs-property">text</span>-italic {
    font-<span class="hljs-attr">style</span>: italic;
}

.<span class="hljs-property">text</span>-underline {
    text-<span class="hljs-attr">decoration</span>: underline;
}

.<span class="hljs-property">text</span>-code {
    background-<span class="hljs-attr">color</span>: #f0f2f5;
    <span class="hljs-attr">padding</span>: 1px <span class="hljs-number">0.</span>25rem;
    font-<span class="hljs-attr">family</span>: <span class="hljs-title class_">Menlo</span>, <span class="hljs-title class_">Consolas</span>, <span class="hljs-title class_">Monaco</span>, monospace;
    font-<span class="hljs-attr">size</span>: <span class="hljs-number">94</span>%;
}

.<span class="hljs-property">text</span>-highlight {
    <span class="hljs-attr">margin</span>: <span class="hljs-number">0</span> 5px;
}

.<span class="hljs-property">text</span>-strikethrough {
    text-<span class="hljs-attr">decoration</span>: line-through;
}

.<span class="hljs-property">text</span>-subscript {
    vertical-<span class="hljs-attr">align</span>: sub;
}

.<span class="hljs-property">text</span>-superscript {
    vertical-<span class="hljs-attr">align</span>: <span class="hljs-variable language_">super</span>;
}

p {
    <span class="hljs-attr">margin</span>: <span class="hljs-number">0</span>;
}
</code></pre>
<p><img src="https://miro.medium.com/v2/resize:fit:1260/1*_KW7zAxitBpOe3HrAqHHfw.gif" alt="image"></p>
<p><img src="/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_8.png" alt="image"></p>
<p><strong>Bold</strong>
<em>Italic</em>
Underline
<code>Code</code>
Highlight
<del>Strike</del>
XSub
XSuper
All of them</p>
<p>알겠지만, 우리가 디스패치를 트리거할 때마다, 렉시컬이 클래스를 교체하지 않고, 있는 경우 추가하거나 있는 경우 제거했습니다. 이 점을 명심해주세요. "굵게 기울임체 밑줄"에 대해 별도의 CSS 클래스를 만들 필요가 없습니다.</p>
<p>에디터의 상태 JSON:</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">"root"</span>: {
    <span class="hljs-string">"children"</span>: [
      {
        <span class="hljs-string">"children"</span>: [
          {
            <span class="hljs-string">"detail"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">"format"</span>: <span class="hljs-number">11</span>,
            <span class="hljs-string">"mode"</span>: <span class="hljs-string">"normal"</span>,
            <span class="hljs-string">"style"</span>: <span class="hljs-string">""</span>,
            <span class="hljs-string">"text"</span>: <span class="hljs-string">"굵게 기울임체 밑줄"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"version"</span>: <span class="hljs-number">1</span>
          }
        ],
        <span class="hljs-string">"direction"</span>: <span class="hljs-string">"ltr"</span>,
        <span class="hljs-string">"format"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-string">"indent"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"paragraph"</span>,
        <span class="hljs-string">"version"</span>: <span class="hljs-number">1</span>
      }
    ],
    <span class="hljs-string">"direction"</span>: <span class="hljs-string">"ltr"</span>,
    <span class="hljs-string">"format"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-string">"indent"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"root"</span>,
    <span class="hljs-string">"version"</span>: <span class="hljs-number">1</span>
  }
}
</code></pre>
<h1>헤딩. 헬퍼 및 노드 구성</h1>
<p>등록된 어휘 명령이 없을 경우 어떻게 해야 할까요? 단어 요소(어휘의 기본 노드)를 어휘 명령을 사용하지 않고 헤더 노드로 변환해 봅시다:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { useLexicalComposerContext } <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;
<span class="hljs-keyword">import</span> { $getSelection, $isRangeSelection } <span class="hljs-keyword">from</span> <span class="hljs-string">"lexical"</span>;
<span class="hljs-keyword">import</span> { $setBlocksType } <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/selection"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HeadingTagType</span>, $createHeadingNode } <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/rich-text"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomHeadingActions</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleOnClick</span> = (<span class="hljs-params">tag: HeadingTagType</span>) => {
        editor.<span class="hljs-title function_">update</span>(<span class="hljs-function">() =></span> {
            <span class="hljs-keyword">const</span> selection = $getSelection();
            <span class="hljs-keyword">if</span> ($isRangeSelection(selection)) {
                $setBlocksType(selection, <span class="hljs-function">() =></span> $createHeadingNode(tag));
            }
        });
    };

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">marginTop:</span> '<span class="hljs-attr">10px</span>' }}></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">fontWeight:</span> '<span class="hljs-attr">bold</span>' }}></span>Align actions<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>></span>
                {(["h1", "h2", "h3", "h4", "h5"] as Array<span class="hljs-tag">&#x3C;<span class="hljs-name">HeadingTagType</span>></span>).map((tag) => {
                    return (
                        <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span>
                            <span class="hljs-attr">key</span>=<span class="hljs-string">{tag}</span>
                            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> handleOnClick(tag)}
                        >
                            {tag}
                        <span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
                    );
                })}
            <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
        <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    );
}
</span></code></pre>
<p>일부 노드를 헤딩 노드로 변환하는 데 미리 정의된 명령이 없기 때문에 여기서는 다음과 같은 작업을 수행합니다:</p>
<ul>
<li>콜백을 인수로 전달하는 editor.update 함수 호출</li>
<li>선택된 노드를 가져오기 위해 $getSelection 헬퍼 사용</li>
<li>$isRangeSelection을 사용하여 RangeSelection 유형인지 확인합니다.</li>
</ul>
<pre><code class="hljs language-js"><span class="hljs-comment">// 소스코드</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">$isRangeSelection</span>(<span class="hljs-params">x: unknown</span>): x is <span class="hljs-title class_">RangeSelection</span> {
  <span class="hljs-keyword">return</span> x <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RangeSelection</span>;
}
</code></pre>
<ol start="4">
<li>$setBlocksType을 새로운 $createHeadingNode (h1, h2, h3…)으로 변경하세요;</li>
</ol>
<p>⚠️ 하지만 앱에서 사용해보면 아무 일도 일어나지 않습니다 → 문단이 헤더로 변경되지 않습니다. 에디터에서 사용하고 싶은 노드에 대해 렉시컬이 알지 못하기 때문입니다 (기본 노드를 제외하고). 노드 구성 배열에 HeaderNode를 추가해야 합니다:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/<span class="hljs-title class_">App</span>.<span class="hljs-property">tsx</span>

@@ -<span class="hljs-number">10</span>,<span class="hljs-number">6</span> +<span class="hljs-number">10</span>,<span class="hljs-number">7</span> @@
     <span class="hljs-title class_">CustomHistoryActions</span>,
     <span class="hljs-title class_">CustomAlignActions</span>, <span class="hljs-title class_">CustomHeadingActions</span>
 } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components"</span>;
+<span class="hljs-keyword">import</span> {<span class="hljs-title class_">HeadingNode</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/rich-text"</span>;
 <span class="hljs-keyword">import</span> initialState <span class="hljs-keyword">from</span> <span class="hljs-string">'./initialState.json'</span>;
 <span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>
 
@@ -<span class="hljs-number">40</span>,<span class="hljs-number">6</span> +<span class="hljs-number">41</span>,<span class="hljs-number">7</span> @@
 
     <span class="hljs-keyword">const</span> <span class="hljs-attr">lexicalConfig</span>: <span class="hljs-title class_">InitialConfigType</span> = {
         <span class="hljs-attr">namespace</span>: <span class="hljs-string">'My Rich Text Editor'</span>,
+        <span class="hljs-attr">nodes</span>: [<span class="hljs-title class_">HeadingNode</span>],
         <span class="hljs-attr">theme</span>: {
             <span class="hljs-attr">text</span>: {
                 <span class="hljs-attr">bold</span>: <span class="hljs-string">"text-bold"</span>,
</code></pre>
<h1>페이로드와 함께 자신만의 명령어를 생성하는 방법</h1>
<p>이전 코드를 다시 작성해 보겠습니다. 다른 곳에서 변환 명령을 호출해야 하는 경우에도 이 조각을 복사-붙여넣기할 필요가 없도록 바꿀 거에요:</p>
<pre><code class="hljs language-js">editor.<span class="hljs-title function_">update</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-keyword">const</span> selection = $getSelection();
      <span class="hljs-keyword">if</span> ($isRangeSelection(selection)) {
        $setBlocksType(selection, <span class="hljs-function">() =></span> $createHeadingNode(tag));
      }
});
</code></pre>
<p>위 작업을 위해 페이로드 <code>"h1" | "h2" | "h3", ...</code>을 사용하여 자체 FORMAT_HEADING_COMMAND를 생성하고 등록합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// src/components/CustomHeadingPlugin/CustomHeadingPlugin.tsx</span>

<span class="hljs-keyword">import</span> { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { useLexicalComposerContext } <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;
<span class="hljs-keyword">import</span> {
    createCommand,
    $getSelection,
    $isRangeSelection,
    <span class="hljs-variable constant_">COMMAND_PRIORITY_NORMAL</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"lexical"</span>;
<span class="hljs-keyword">import</span> {
    $setBlocksType
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/selection"</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">HeadingTagType</span>,
    $createHeadingNode
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/rich-text"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">FORMAT_HEADING_COMMAND</span> = <span class="hljs-title function_">createCommand</span>(<span class="hljs-string">"FORMAT_HEADING_COMMAND"</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomHeadingPlugin</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();

    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
        editor.<span class="hljs-property">registerCommand</span>&#x3C;<span class="hljs-title class_">HeadingTagType</span>>(
            <span class="hljs-variable constant_">FORMAT_HEADING_COMMAND</span>,
            <span class="hljs-function">(<span class="hljs-params">payload</span>) =></span> {
                <span class="hljs-keyword">const</span> selection = $getSelection();
                <span class="hljs-keyword">if</span> ($isRangeSelection(selection)) {
                    $setBlocksType(selection, <span class="hljs-function">() =></span> $createHeadingNode(payload));
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            },
            <span class="hljs-variable constant_">COMMAND_PRIORITY_NORMAL</span>,
        );
    }, []);

    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<p>이제 <code>CustomHeadingActions/</code> 구현을 업데이트할 수 있습니다:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/components/<span class="hljs-title class_">CustomHeadingActions</span>/<span class="hljs-title class_">CustomHeadingActions</span>.<span class="hljs-property">tsx</span>
@@ -<span class="hljs-number">1</span>,<span class="hljs-number">22</span> +<span class="hljs-number">1</span>,<span class="hljs-number">15</span> @@
<span class="hljs-keyword">import</span> {
    useLexicalComposerContext
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">HeadingTagType</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/rich-text"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-variable constant_">FORMAT_HEADING_COMMAND</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"../CustomHeadingPlugin"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomHeadingActions</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleOnClick</span> = (<span class="hljs-params">tag: HeadingTagType</span>) => {
        editor.<span class="hljs-title function_">dispatchCommand</span>(<span class="hljs-variable constant_">FORMAT_HEADING_COMMAND</span>, tag);
    };

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{marginTop:</span> '<span class="hljs-attr">10px</span>'}></span>
</span></code></pre>
<p>이 변형은 내게 훨씬 깔끔하고 재사용 가능해 보여요. 그 이후에는 LexicalComposer의 자식으로 우리가 만든 Header Plugin을 배치해야할거에요:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/<span class="hljs-title class_">App</span>.<span class="hljs-property">tsx</span>

@@ -<span class="hljs-number">8</span>,<span class="hljs-number">8</span> +<span class="hljs-number">8</span>,<span class="hljs-number">11</span> @@
     <span class="hljs-title class_">OnChangePlugin</span>,
     <span class="hljs-title class_">CustomTextActions</span>,
     <span class="hljs-title class_">CustomHistoryActions</span>,
     <span class="hljs-title class_">CustomAlignActions</span>,
     <span class="hljs-title class_">CustomHeadingActions</span>,
+    <span class="hljs-title class_">CustomHeadingPlugin</span>,
 } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components"</span>;
 <span class="hljs-keyword">import</span> {<span class="hljs-title class_">HeadingNode</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/rich-text"</span>;
 <span class="hljs-keyword">import</span> initialState <span class="hljs-keyword">from</span> <span class="hljs-string">'./initialState.json'</span>;
 <span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>

@@ -<span class="hljs-number">70</span>,<span class="hljs-number">7</span> +<span class="hljs-number">74</span>,<span class="hljs-number">7</span> @@
                 />
                 <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">HistoryPlugin</span>/></span></span>
                 <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">OnChangePlugin</span>/></span></span>
+                <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">CustomHeadingPlugin</span>/></span></span>
                 &#x3C;div style={margin: '20px 0px'}>
                     &#x3C;CustomHistoryActions/>
                     &#x3C;CustomHeadingActions/
</code></pre>
<p>👉 참고: 이전에 다뤘지만 다시 한 번 상기시키자면... 테마 구성을 업데이트하여 각 헤딩 엘리먼트에 적용하려는 CSS 클래스 이름을 지정할 수 있어요:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/<span class="hljs-title class_">App</span>.<span class="hljs-property">tsx</span>

@@ -<span class="hljs-number">62</span>,<span class="hljs-number">6</span> +<span class="hljs-number">62</span>,<span class="hljs-number">14</span> @@
                 <span class="hljs-attr">subscript</span>: <span class="hljs-string">'text-subscript'</span>,
                 <span class="hljs-attr">superscript</span>: <span class="hljs-string">'text-superscript'</span>,
             },
+            <span class="hljs-attr">heading</span>: {
+                <span class="hljs-comment">// Flowbite examples: https://flowbite.com/docs/typography/headings/#heading-one-h1</span>
+                <span class="hljs-attr">h1</span>: <span class="hljs-string">"text-5xl font-extrabold dark:text-white"</span>,
+                <span class="hljs-attr">h2</span>: <span class="hljs-string">"text-4xl font-bold dark:text-white"</span>,
+                <span class="hljs-attr">h3</span>: <span class="hljs-string">"text-3xl font-bold dark:text-white"</span>,
+                <span class="hljs-attr">h4</span>: <span class="hljs-string">"text-2xl font-bold dark:text-white"</span>,
+                <span class="hljs-attr">h5</span>: <span class="hljs-string">"text-xl font-bold dark:text-white"</span>,  
+            },
             <span class="hljs-attr">banner</span>: <span class="hljs-string">'banner'</span>
         },
         <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =></span> {
</code></pre>
<h1>커스텀 노드를 만드는 방법</h1>
<p>이전 섹션에서는 기본적으로 모든 것을 다루었으니, 이번 섹션에서는 직접 노드를 만들어보겠습니다. 제가 생각하기에 렉시컬이 노드를 처리하는 전체 그림을 파악하게 될 것입니다.</p>
<p>가장 간단한 배너 노드:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">EditorConfig</span>,
    <span class="hljs-title class_">ElementNode</span>,
    <span class="hljs-title class_">LexicalEditor</span>,
    <span class="hljs-title class_">SerializedElementNode</span>,
    <span class="hljs-title class_">Spread</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"lexical"</span>;

<span class="hljs-keyword">export</span> type <span class="hljs-title class_">SerializedBannerNode</span> = <span class="hljs-title class_">Spread</span>&#x3C;
    {
        <span class="hljs-attr">customValue</span>: string;
    },
    <span class="hljs-title class_">SerializedElementNode</span>
>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BannerNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ElementNode</span> {
    <span class="hljs-title function_">createDOM</span>(<span class="hljs-attr">_config</span>: <span class="hljs-title class_">EditorConfig</span>, <span class="hljs-attr">_editor</span>: <span class="hljs-title class_">LexicalEditor</span>): <span class="hljs-title class_">HTMLElement</span> {
        <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
        div.<span class="hljs-property">className</span> = _config.<span class="hljs-property">theme</span>.<span class="hljs-property">banner</span>;
        <span class="hljs-keyword">return</span> div;
    }

    <span class="hljs-keyword">static</span> <span class="hljs-title function_">clone</span>(<span class="hljs-attr">node</span>: <span class="hljs-title class_">BannerNode</span>): <span class="hljs-title class_">BannerNode</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BannerNode</span>(node.<span class="hljs-property">__key</span>);
    }

    <span class="hljs-keyword">static</span> <span class="hljs-title function_">getType</span>(): string {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"banner"</span>;
    }

    <span class="hljs-comment">/**
     * Returning false tells Lexical that this node does not need its
     * DOM element replacing with a new copy from createDOM.
     */</span>
    <span class="hljs-title function_">updateDOM</span>(
        <span class="hljs-attr">_prevNode</span>: unknown,
        <span class="hljs-attr">_dom</span>: <span class="hljs-title class_">HTMLElement</span>,
        <span class="hljs-attr">_config</span>: <span class="hljs-title class_">EditorConfig</span>,
    ): boolean {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-title function_">exportJSON</span>(): <span class="hljs-title class_">SerializedBannerNode</span> {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">type</span>: <span class="hljs-string">"banner"</span>,
            <span class="hljs-attr">version</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">children</span>: [],
            <span class="hljs-attr">customValue</span>: <span class="hljs-string">"anything you like"</span>,
            <span class="hljs-attr">format</span>: <span class="hljs-string">""</span>,
            <span class="hljs-attr">indent</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">direction</span>: <span class="hljs-literal">null</span>,
        };
    }
}
</code></pre>
<p>설명:</p>
<ul>
<li>새로운 어휘 노드를 만들려면 미리 정의된 어휘 노드(ElementNode | TextNode | DecoratorNode 중 하나를 확장한 클래스를 만들고 메서드를 재정의해야 합니다(모든 메서드를 다루지는 않겠습니다));</li>
<li>먼저, 어휘는 노드의 타입에 대한 일치 항목을 찾으려고 할 것이며, 타입 함수를 호출하여 구성 노드 배열('banner'의 경우)에서 지정한 노드들로부터 getType 함수를 호출할 것입니다;</li>
<li>그 다음으로, 어휘는 HTML 요소를 만드는 createDOM 메서드를 호출할 것입니다;</li>
<li>OnChangePlugin에 toJSON 함수가 있는 것을 기억하시나요?</li>
</ul>
<pre><code class="hljs language-js"><span class="hljs-comment">// src/components/OnChangePlugin/OnChangePlugin.tsx</span>

<span class="hljs-keyword">import</span> {useLexicalComposerContext} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;
<span class="hljs-keyword">import</span> {useEffect} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">OnChangePlugin</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
        <span class="hljs-keyword">return</span> editor.<span class="hljs-title function_">registerUpdateListener</span>(<span class="hljs-function">(<span class="hljs-params">listener</span>) =></span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'DATA'</span>, listener.<span class="hljs-property">editorState</span>.<span class="hljs-title function_">toJSON</span>())
        });
    }, [editor]);

    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<p>여기서 우리의 Banner exportJSON 함수가 호출될 것입니다.</p>
<p>이제 BannerNode를 위한 플러그인을 생성해야 합니다. 이미 Headings 섹션에서 이를 수행한 적이 있습니다:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> {useLexicalComposerContext} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;
<span class="hljs-keyword">import</span> {$getSelection, $isRangeSelection, <span class="hljs-variable constant_">COMMAND_PRIORITY_NORMAL</span>, createCommand} <span class="hljs-keyword">from</span> <span class="hljs-string">"lexical"</span>;
<span class="hljs-keyword">import</span> {
    $setBlocksType
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/selection"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">BannerNode</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"../../nodes"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> $createBannerNode = (): <span class="hljs-function"><span class="hljs-params">BannerNode</span> =></span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BannerNode</span>();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">INSERT_BANNER_COMMAND</span> = <span class="hljs-title function_">createCommand</span>(<span class="hljs-string">"create_banner"</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CustomBannerPlugin</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =></span> {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();

    <span class="hljs-keyword">if</span> (!editor.<span class="hljs-title function_">hasNode</span>(<span class="hljs-title class_">BannerNode</span>)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'BannerPlugin: "BannerNode" not registered on editor'</span>);
    }
    editor.<span class="hljs-title function_">registerCommand</span>(
        <span class="hljs-variable constant_">INSERT_BANNER_COMMAND</span>,
        <span class="hljs-function">() =></span> {
            <span class="hljs-keyword">const</span> selection = $getSelection();
            <span class="hljs-keyword">if</span> ($isRangeSelection(selection)) {
                $setBlocksType(selection, $createBannerNode);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        },
        <span class="hljs-variable constant_">COMMAND_PRIORITY_NORMAL</span>,
    );

    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
};
</code></pre>
<p>CustomBannerActions 컴포넌트를 추가하세요: 우리 명령어와 함께 간단한 버튼이 있습니다:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {useLexicalComposerContext} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/react/LexicalComposerContext"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-variable constant_">INSERT_BANNER_COMMAND</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"../CustomBannerPlugin"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CustomBannerActions</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =></span> {
    <span class="hljs-keyword">const</span> [editor] = <span class="hljs-title function_">useLexicalComposerContext</span>();

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleOnClick</span> = (<span class="hljs-params"></span>) => {
        editor.<span class="hljs-title function_">dispatchCommand</span>(<span class="hljs-variable constant_">INSERT_BANNER_COMMAND</span>, <span class="hljs-literal">undefined</span>);
    };

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> '<span class="hljs-attr">10px</span>'}}></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontWeight:</span> '<span class="hljs-attr">bold</span>'}}></span>Heading actions<span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
            <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>></span>
                <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleOnClick}</span>></span>
                    Banner
                <span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
            <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
        <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
    );
};
</code></pre>
<p>App.tsx를 업데이트하였습니다:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/<span class="hljs-title class_">App</span>.<span class="hljs-property">tsx</span>

@@ -<span class="hljs-number">11</span>,<span class="hljs-number">10</span> +<span class="hljs-number">11</span>,<span class="hljs-number">13</span> @@
     <span class="hljs-title class_">CustomAlignActions</span>,
     <span class="hljs-title class_">CustomHeadingActions</span>,
     <span class="hljs-title class_">CustomHeadingPlugin</span>,
+    <span class="hljs-title class_">CustomBannerPlugin</span>,
+    <span class="hljs-title class_">CustomBannerActions</span>,
 } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components"</span>;
 <span class="hljs-keyword">import</span> {<span class="hljs-title class_">HeadingNode</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@lexical/rich-text"</span>;
 <span class="hljs-keyword">import</span> initialState <span class="hljs-keyword">from</span> <span class="hljs-string">'./initialState.json'</span>;
 <span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>
+<span class="hljs-keyword">import</span> {<span class="hljs-title class_">BannerNode</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"./nodes"</span>;
 
 <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =></span> {
 
@@ -<span class="hljs-number">43</span>,<span class="hljs-number">7</span> +<span class="hljs-number">46</span>,<span class="hljs-number">10</span> @@
 
     <span class="hljs-keyword">const</span> <span class="hljs-attr">lexicalConfig</span>: <span class="hljs-title class_">InitialConfigType</span> = {
         <span class="hljs-attr">namespace</span>: <span class="hljs-string">'My Rich Text Editor'</span>,
-        <span class="hljs-attr">nodes</span>: [<span class="hljs-title class_">HeadingNode</span>],
+        <span class="hljs-attr">nodes</span>: [
+            <span class="hljs-title class_">BannerNode</span>,
+            <span class="hljs-title class_">HeadingNode</span>
+        ],
         <span class="hljs-attr">theme</span>: {
             <span class="hljs-attr">text</span>: {
                 <span class="hljs-attr">bold</span>: <span class="hljs-string">"text-bold"</span>,
@@ -<span class="hljs-number">55</span>,<span class="hljs-number">6</span> +<span class="hljs-number">61</span>,<span class="hljs-number">7</span> @@
                 <span class="hljs-attr">subscript</span>: <span class="hljs-string">'text-subscript'</span>,
                 <span class="hljs-attr">superscript</span>: <span class="hljs-string">'text-superscript'</span>,
             },
+            <span class="hljs-attr">banner</span>: <span class="hljs-string">'banner'</span>
         },
         <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =></span> {
             <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ERROR:'</span>, e)
@@ -<span class="hljs-number">75</span>,<span class="hljs-number">8</span> +<span class="hljs-number">82</span>,<span class="hljs-number">10</span> @@
                 &#x3C;<span class="hljs-title class_">HistoryPlugin</span>/>
                 <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">OnChangePlugin</span>/></span></span>
                 <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">CustomHeadingPlugin</span>/></span></span>
+                <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">CustomBannerPlugin</span>/></span></span>
                 <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{margin:</span> '<span class="hljs-attr">20px</span> <span class="hljs-attr">0px</span>'}></span>
                     <span class="hljs-tag">&#x3C;<span class="hljs-name">CustomHistoryActions</span>/></span>
+                    <span class="hljs-tag">&#x3C;<span class="hljs-name">CustomBannerActions</span>/></span>
                     <span class="hljs-tag">&#x3C;<span class="hljs-name">CustomHeadingActions</span>/></span>
                     <span class="hljs-tag">&#x3C;<span class="hljs-name">CustomTextActions</span>/></span>
                     <span class="hljs-tag">&#x3C;<span class="hljs-name">CustomAlignActions</span>/></span>
</span></code></pre>
<p>CSS:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/<span class="hljs-title class_">App</span>.<span class="hljs-property">css</span>

@@ -<span class="hljs-number">33</span>,<span class="hljs-number">6</span> +<span class="hljs-number">33</span>,<span class="hljs-number">13</span> @@
     vertical-<span class="hljs-attr">align</span>: <span class="hljs-variable language_">super</span> ;
 }
 
+.<span class="hljs-property">banner</span> {
+    border-<span class="hljs-attr">left</span>: 3px coral solid;
+    background-<span class="hljs-attr">color</span>: lightskyblue;
+    border-<span class="hljs-attr">radius</span>: 3px;
+    <span class="hljs-attr">padding</span>: 10px <span class="hljs-number">0</span>;
+}
+
 p {
     <span class="hljs-attr">margin</span>: <span class="hljs-number">0</span>;
 }
</code></pre>
<p>결과:</p>
<p>🔴 문제가 두 가지 있을 것입니다:</p>
<ul>
<li>사용자가 Enter 키 또는 Shift+Enter 키를 눌러 노드에서 "나가기"를 할 수 없을 것입니다.</li>
<li>사용자가 Backspace 키를 눌러 노드를 "제거"할 수 없을 것입니다.</li>
</ul>
<p>우리의 BannerNode를 업데이트해 봅시다:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/nodes/<span class="hljs-title class_">BannerNode</span>/<span class="hljs-title class_">BannerNode</span>.<span class="hljs-property">tsx</span>

@@ -<span class="hljs-number">2</span>,<span class="hljs-number">6</span> +<span class="hljs-number">2</span>,<span class="hljs-number">9</span> @@
     <span class="hljs-title class_">EditorConfig</span>,
     <span class="hljs-title class_">ElementNode</span>,
     <span class="hljs-title class_">LexicalEditor</span>,
+    $createParagraphNode,
+    <span class="hljs-title class_">LexicalNode</span>,
+    <span class="hljs-title class_">RangeSelection</span>,
     <span class="hljs-title class_">SerializedElementNode</span>,
     <span class="hljs-title class_">Spread</span>,
 } <span class="hljs-keyword">from</span> <span class="hljs-string">"lexical"</span>;
@@ -<span class="hljs-number">40</span>,<span class="hljs-number">6</span> +<span class="hljs-number">43</span>,<span class="hljs-number">34</span> @@
         <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
     }

+    <span class="hljs-comment">/**
+     * 사용자가 모든 콘텐츠를 삭제할 때 노드를 단락으로 설정해야 합니다
+     */</span>
+    <span class="hljs-title function_">collapseAtStart</span>(<span class="hljs-attr">_</span>: <span class="hljs-title class_">RangeSelection</span>): boolean {
+        <span class="hljs-keyword">const</span> paragraph = $createParagraphNode();
+        <span class="hljs-keyword">const</span> children = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getChildren</span>();
+        children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =></span> paragraph.<span class="hljs-title function_">append</span>(child));
+        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replace</span>(paragraph);
+
+        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
+    }
+
+    <span class="hljs-comment">/**
+     * 사용자가 Enter 키를 누를 때 노드를 단락으로 설정해야 합니다.
+     * Shift+Enter를 누를 경우 노드는 유지됩니다
+     */</span>
+    <span class="hljs-title function_">insertNewAfter</span>(
+        <span class="hljs-attr">_</span>: <span class="hljs-title class_">RangeSelection</span>,
+        restoreSelection?: boolean,
+    ): <span class="hljs-title class_">LexicalNode</span> | <span class="hljs-literal">null</span> {
+        <span class="hljs-keyword">const</span> paragraph = $createParagraphNode();
+        <span class="hljs-keyword">const</span> direction = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getDirection</span>();
+        paragraph.<span class="hljs-title function_">setDirection</span>(direction);
+        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">insertAfter</span>(paragraph, restoreSelection);
+
+        <span class="hljs-keyword">return</span> paragraph;
+    }
+
     <span class="hljs-title function_">exportJSON</span>(): <span class="hljs-title class_">SerializedBannerNode</span> {
         <span class="hljs-keyword">return</span> {
             <span class="hljs-attr">type</span>: <span class="hljs-string">"banner"</span>,
</code></pre>
<p>지금까지 얻은 것을 확인해 보겠습니다:</p>
<p>🟢 업데이트 후:</p>
<ul>
<li>사용자는 노드에서 Enter 키를 눌러 "나가기" 할 수 있습니다;</li>
<li>사용자는 노드를 Shift + Enter 키를 눌러 "확장"할 수 있습니다;</li>
<li>사용자는 콘텐츠 텍스트가 비어 있을 때 Backspace 키를 눌러 노드를 "삭제"할 수 있습니다;</li>
</ul>
<p>마지막으로, 에디터의 JSON 트리에서 BannerNode을 파싱하는 함수가 필요합니다:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">Index</span>: src/nodes/<span class="hljs-title class_">BannerNode</span>/<span class="hljs-title class_">BannerNode</span>.<span class="hljs-property">tsx</span>

@@ -<span class="hljs-number">71</span>,<span class="hljs-number">6</span> +<span class="hljs-number">71</span>,<span class="hljs-number">10</span> @@
         <span class="hljs-keyword">return</span> paragraph;
     }
 
+    <span class="hljs-keyword">static</span> importJSON(<span class="hljs-attr">_</span>: <span class="hljs-title class_">SerializedBannerNode</span>): <span class="hljs-title class_">BannerNode</span> {
+        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BannerNode</span>();
+    }
+
     <span class="hljs-title function_">exportJSON</span>(): <span class="hljs-title class_">SerializedBannerNode</span> {
         <span class="hljs-keyword">return</span> {
             <span class="hljs-attr">type</span>: <span class="hljs-string">"banner"</span>,
</code></pre>
<h1>깃허브 리포지토리:</h1>
<p>관련된 기사들:</p>
<p>이 글이 도움이 되었기를 바랍니다. 만약 그렇다면, "claps"를 주시면 감사하겠습니다.</p>
<h1>간단히 설명</h1>
<p>우리 커뮤니티에 참여해 주셔서 감사합니다! 떠나시기 전에:</p>
<ul>
<li>반드시 작가를 칭찬하고 팔로우하세요! 👏</li>
<li>PlainEnglish.io에서 더 많은 콘텐츠를 찾아보세요! 🚀</li>
<li>무료 주간 뉴스레터에 가입하세요. 🗞️</li>
<li>트위터, 링크드인, 유튜브, 그리고 디스코드에서 저희를 팔로우해주세요.</li>
</ul>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Lexical와 함께하는 React용 리치 텍스트 에디터 시작하기","description":"","date":"2024-05-14 11:00","slug":"2024-05-14-GettingStartedwithLexicalRichTextEditorforReact","content":"\n\n## React JS에서 Lexical을 사용하는 방법에 대한 튜토리얼; 예제와 함께 기본 사항.\n\n\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_0.png\" /\u003e\n\n... 그러나 유감스럽게도 이 문서는 좋은 설명의 예시가 아닙니다. 이 기사에서는 이 라이브러리를 어떻게 사용하는지를 간단한 용어로 설명하겠습니다.\n\n여기서는 특별한 스타일, 모달 또는 팝오버 없이 렉시컬 리치 텍스트 기능의 기본을 다룰 것입니다:\n\n\n\n![이미지](/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_1.png)\n\n만약 이 라이브러리가 무엇을 할 수 있는지 확인하고 싶다면, 멋진 렉시컬 플레이그라운드를 확인해보세요.\n\n![이미지](/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_2.png)\n\n관련 이야기:\n\n\n\n# 다룰 내용\n\n- 준비물\n- 시작하기\n- 히스토리 플러그인\n- 노드\n- 리치 텍스트\n- 테마\n- 제목, 도우미 및 노드 구성\n- 페이로드로 자신만의 명령어를 만드는 방법\n- 사용자 정의 노드 만들기\n\n# 준비물\n\n우리는 다음과 같이 만들어진 간단한 React JS 애플리케이션으로 시작할 것입니다:\n\n\n\n```js\nyarn create react-app react-lexical-examples --template typescript\n```\n\n그리고 우리는 어휘 패키지를 설치해야 합니다:\n\n```js\nyarn add lexical @lexical/react\n\n// OR\n\nnpm install --save lexical @lexical/react\n```\n\n# 시작\n```\n\n\n\nLexical을 이용하여 작업을 시작하려면 이 템플릿을 사용할 수 있어요:\n\n```js\nimport React, {useMemo} from 'react';\nimport {InitialConfigType, LexicalComposer} from '@lexical/react/LexicalComposer';\nimport {PlainTextPlugin} from \"@lexical/react/LexicalPlainTextPlugin\";\nimport {ContentEditable} from '@lexical/react/LexicalContentEditable';\nimport LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';\n\nexport const App: React.FC = () =\u003e {\n\n    const CustomContent = useMemo(() =\u003e {\n        return (\n            \u003cContentEditable style={\n                position: 'relative',\n                borderColor: 'rgba(255,211,2,0.68)',\n                border: '2px solid red',\n                borderRadius: '5px',\n                maxWidth: '100%',\n                padding: '10px'\n            }/\u003e\n        )\n    }, []);\n\n    const CustomPlaceholder = useMemo(() =\u003e {\n        return (\n            \u003cdiv style={\n                position: 'absolute', top: 30, left: 30,\n            }\u003e\n                텍스트를 입력하세요...\n            \u003c/div\u003e\n        )\n    }, []);\n\n    const lexicalConfig: InitialConfigType = {\n        namespace: '나의 리치 텍스트 편집기',\n        onError: (e) =\u003e {\n            console.log('에러 발생:', e)\n        }\n    }\n\n    return (\n        \u003cdiv style={padding: '20px'}\u003e\n            \u003cLexicalComposer initialConfig={lexicalConfig}\u003e\n                \u003cPlainTextPlugin\n                    contentEditable={CustomContent}\n                    placeholder={CustomPlaceholder}\n                    ErrorBoundary={LexicalErrorBoundary}\n                /\u003e\n            \u003c/LexicalComposer\u003e\n        \u003c/div\u003e\n    );\n}\n```\n\n![이미지](https://miro.medium.com/v2/resize:fit:1400/1*-7S9xp-EweAiYl8Fn0O8_w.gif)\n\n보다시피, 아주 복잡해 보이지 않죠. 걱정하지 마세요, 나중에 이 컴포넌트들에 대해 자세히 다룰 거예요. 일단은 모든 것이 예상대로 작동하는지 확인하는 것이 중요해요.\n\n\n\n이제 기능을 하나씩 추가해 봅시다.\n\n# 히스토리 플러그인\n\n이전 예제에서 새 텍스트를 입력할 수 있었지만, CTRL-Z(실행 취소)를 누르면 아무 일도 일어나지 않았죠. 이 문제를 해결하기 위해 @lexical/history 플러그인을 추가하여 CTRL-Z(실행 취소)와 CTRL-SHIFT-Z(다시 실행)를 사용할 수 있게 할 수 있습니다.\n\n선택 사항으로 직접 Undo/Redo를 처리하는 사용자 정의 컴포넌트를 추가할 수도 있습니다:\n\n\n\n```js\n@@ -3,6 +3,8 @@\n import {PlainTextPlugin} from \"@lexical/react/LexicalPlainTextPlugin\";\n import {ContentEditable} from '@lexical/react/LexicalContentEditable';\n import LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';\n+import {HistoryPlugin} from '@lexical/react/LexicalHistoryPlugin';\n+import {CustomHistoryActions} from \"./components\";\n \n export const App: React.FC = () =\u003e {\n \n@@ -44,7 +46,12 @@\n                     placeholder={CustomPlaceholder}\n                     ErrorBoundary={LexicalErrorBoundary}\n                 /\u003e\n+                \u003cHistoryPlugin/\u003e\n+                \u003cdiv style={margin: '20px 0px'}\u003e\n+                    \u003cCustomHistoryActions/\u003e\n+                \u003c/div\u003e\n             \u003c/LexicalComposer\u003e\n+\n         \u003c/div\u003e\n     );\n }\n```\n\n```js\nimport {UNDO_COMMAND, REDO_COMMAND} from 'lexical';\nimport {useLexicalComposerContext} from \"@lexical/react/LexicalComposerContext\";\n\nexport const CustomHistoryActions = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n    return (\n        \u003c\u003e\n            \u003cbutton onClick={() =\u003e editor.dispatchCommand(UNDO_COMMAND, undefined)}\u003e되돌리기\u003c/button\u003e\n            \u003cbutton onClick={() =\u003e editor.dispatchCommand(REDO_COMMAND, undefined)}\u003e다시 실행\u003c/button\u003e\n        \u003c/\u003e\n    );\n}\n```\n\n설명:\n\n- editor는 `LexicalComposer/` 컴포넌트에서 가져온 컨텍스트 값입니다. 에디터 클래스/메소드에 대한 자세한 내용은 여기서 확인할 수 있습니다:```\n\n\n\n간단한 사용 예시:\n\n```js\nconst [editor] = useLexicalComposerContext();\n\n  useEffect(() =\u003e {\n    // 이펙트가 발생할 때 에디터에 포커스를 맞춥니다!\n    editor.focus();\n  }, [editor]);\n```\n\n- UNDO_COMMAND과 REDO_COMMAND는 에디터 내용(또는 원하는 내용)을 처리해야 할 것을 렉시컬에 알리는 등록된 렉시컬 명령입니다. 다음과 같이 사용자 고유의 명령을 생성할 수도 있습니다:\n\n```js\nimport { createCommand, COMMAND_PRIORITY_NORMAL } from \"lexical\";\n\nexport const DO_SOMETHING_AWESOME = createCommand(\"create_banner\");\n\nexport const CustomComponent: React.FC = () =\u003e {\n  const [editor] = useLexicalComposerContext();\n\n  editor.registerCommand(\n    DO_SOMETHING_AWESOME,\n    () =\u003e {\n      console.log('이것은 내가 만든 명령입니다')\n      return true;\n    },\n    COMMAND_PRIORITY_NORMAL,\n  );\n\n  return null;\n};\n```\n\n\n\n걱정하지 마세요, 나중에 이 주제를 조금 더 다룰 거예요.\n\n- editor.dispatchCommand(UNDO_COMMAND, undefined) → 왜 두 번째 인자로 undefined를 전달하는 걸까요? 첫 번째, 그렇게 하지 않으면 TS 오류가 발생합니다. 둘째, 이것은 명령과 함께 전달될 수 있는 페이로드 데이터입니다(우리 경우에는 해당되지 않습니다). dispatchCommand에 대해 더 알아보세요.\n\n# 노드\n\n이 섹션에서는 용어의 작동 방식과 저장하는 데이터에 대해 깊이 파헤쳐야 할 것입니다.\n\n\n\n먼저, 에디터의 상태 변화를 모니터링하고 에디터의 상태를 로깅하는 간단한 플러그인을 만들 것입니다:\n\n```js\n// src/components/OnChangePlugin/OnChangePlugin.tsx\n\nimport {useLexicalComposerContext} from \"@lexical/react/LexicalComposerContext\";\nimport {useEffect} from \"react\";\n\nexport const OnChangePlugin = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n    useEffect(() =\u003e {\n        return editor.registerUpdateListener((listener) =\u003e {\n            console.log('DATA', listener.editorState.toJSON())\n        });\n    }, [editor]);\n\n    return null;\n}\n```\n\n다음으로, `LexicalComposer/`의 하위 컴포넌트로 `OnChangePlugin/` 컴포넌트를 추가해주세요:\n\n```js\nIndex: src/App.tsx\n@@ -5,6 +5,7 @@\n import LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';\n import {HistoryPlugin} from '@lexical/react/LexicalHistoryPlugin';\n import {CustomHistoryActions} from \"./components\";\n+import {OnChangePlugin} from \"./components\";\n\nexport const App: React.FC = () =\u003e {\n\n@@ -47,6 +48,7 @@\n                    ErrorBoundary={LexicalErrorBoundary}\n                /\u003e\n                \u003cHistoryPlugin/\u003e\n+                \u003cOnChangePlugin /\u003e\n                \u003cdiv style={margin: '20px 0px'}\u003e\n                    \u003cCustomHistoryActions/\u003e\n                \u003c/div\u003e\n```\n\n\n\n이제 편집기의 상태가 변경될 때마다 편집기의 상태 트리 데이터를 콘솔에 출력할 것입니다:\n\n![이미지](/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_3.png)\n\n![이미지](https://miro.medium.com/v2/resize:fit:1400/1*Lqyfyb4peVPoHJQvYuBNhQ.gif)\n\n이 텍스트를 입력하면 어떤 데이터를 얻을지 확인해 봅시다:\n\n\n\n```json\n{\n  \"root\": {\n    \"children\": [\n      {\n        \"children\": [\n          {\n            \"detail\": 0,\n            \"format\": 0,\n            \"mode\": \"normal\",\n            \"style\": \"\",\n            \"text\": \"asd\",\n            \"type\": \"text\",\n            \"version\": 1\n          },\n          {\n            \"type\": \"linebreak\",\n            \"version\": 1\n          },\n          {\n            \"detail\": 0,\n            \"format\": 0,\n            \"mode\": \"normal\",\n            \"style\": \"\",\n            \"text\": \"dsa\",\n            \"type\": \"text\",\n            \"version\": 1\n          }\n        ],\n        \"direction\": \"ltr\",\n        \"format\": \"\",\n        \"indent\": 0,\n        \"type\": \"paragraph\",\n        \"version\": 1\n      }\n    ],\n    \"direction\": \"ltr\",\n    \"format\": \"\",\n    \"indent\": 0,\n    \"type\": \"root\",\n    \"version\": 1\n  }\n}\n```\n\n아마도 노드가 간단한 속성을 가진 객체임을 알았을겁니다. 주요 속성은 노드의 종류인 type과 노드의 내용인 text입니다.\n\n\n\n```js\nimport initialState from './initialState.json';\n\n// ...\n\nreturn (\n      \u003cLexicalComposer\n        initialConfig={\n          // ...\n          editorState: JSON.stringify(initialState),\n        }\n      \u003e\n            {/* ... */}\n      \u003c/LexicalComposer\u003e\n    );\n```\n\n이 경우 앱을 다시 시작할 때마다 동일한 결과를 얻을 수 있습니다:\n\n\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_4.png\" /\u003e\n\nNodes에 대해 더 많은 정보를 읽어보실 수 있습니다.\n```\n\n\n\n# 리치 텍스트\n\n첫 번째 노드 수정 핸들러를 만들어 봅시다.\n\n이전에 PlainTextPlugin 컴포넌트를 사용했기 때문에 \"bold\" (CTRL+B) 액션과 같은 텍스트 작업을 처리할 수 없습니다:\n\n```js\n\u003cLexicalComposer initialConfig={lexicalConfig}\u003e\n  \u003cPlainTextPlugin ...  /\u003e\n...\n\u003c/LexicalComposer\u003e\n```\n\n\n\nApp.tsx 파일에서 PlainTextPlugin을 RichTextPlugin으로 변경해야 합니다:\n\n```js\nIndex: src/App.tsx\n\n@@ -1,6 +1,6 @@\n import React, {useMemo} from 'react';\n import {InitialConfigType, LexicalComposer} from '@lexical/react/LexicalComposer';\n-import {PlainTextPlugin} from \"@lexical/react/LexicalPlainTextPlugin\";\n+import {RichTextPlugin} from \"@lexical/react/LexicalRichTextPlugin\";\n import {ContentEditable} from '@lexical/react/LexicalContentEditable';\n import LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';\n import {HistoryPlugin} from '@lexical/react/LexicalHistoryPlugin';\n@@ -46,7 +46,7 @@\n             \u003cLexicalComposer\n                 initialConfig={lexicalConfig}\n             \u003e\n-                \u003cPlainTextPlugin\n+                \u003cRichTextPlugin\n                     contentEditable={CustomContent}\n                     placeholder={CustomPlaceholder}\n                     ErrorBoundary={LexicalErrorBoundary}\n```\n\n이제 에디터에서 기본 텍스트 작업을 사용할 수 있을 것입니다:\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:768/1*GWYMSFDfd3PI2PSh5bVsYw.gif\" /\u003e\n\n\n\n우리의 커스텀 버튼을 만들어 봅시다:\n\n```js\n// src/components/CustomTextActions/CustomTextActions.tsx\n\nimport {useLexicalComposerContext} from \"@lexical/react/LexicalComposerContext\";\nimport {FORMAT_TEXT_COMMAND, TextFormatType} from 'lexical';\n\nexport const CustomTextActions = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n\n    const handleOnClick = (formatType: TextFormatType) =\u003e {\n        editor.dispatchCommand(FORMAT_TEXT_COMMAND, formatType)\n    }\n\n    return (\n        \u003cdiv style={{marginTop: '10px'}}\u003e\n            \u003cspan style={{fontWeight: 'bold'}}\u003e텍스트 액션\u003c/span\u003e\n            \u003cdiv\u003e\n                {[\n                    '굵게',\n                    '이탤릭체',\n                    '밑줄',\n                    '코드',\n                    '하이라이트',\n                    '취소선',\n                    '아래첨자',\n                    '위첨자'\n                ].map(value =\u003e {\n                    return (\n                        \u003cbutton\n                            onClick={() =\u003e handleOnClick(value.toLowerCase() as TextFormatType)}\u003e\n                            {value}\n                        \u003c/button\u003e\n                    )\n                })}\n            \u003c/div\u003e\n        \u003c/div\u003e\n    );\n}\n```\n\n\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_5.png\" /\u003e\n\n하지만 텍스트를 수정하려고 하면 기대했던 결과가 나오지 않을 수 있습니다: 일부 항목은 변경되고 일부는 변경되지 않을 수 있습니다. 그 이유가 무엇일까요?\n\n\n\n\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_6.png\" /\u003e\n\nHTML 출력을 확인해 봅시다:\n\n```js\n\u003cp dir=\"ltr\"\u003e\u003cstrong data-lexical-text=\"true\"\u003e굵게\u003c/strong\u003e\u003c/p\u003e\n\u003cp dir=\"ltr\"\u003e\u003cem data-lexical-text=\"true\"\u003e이탤릭체\u003c/em\u003e\u003c/p\u003e\n\u003cp dir=\"ltr\"\u003e\u003cspan data-lexical-text=\"true\"\u003e밑줄\u003c/span\u003e\u003c/p\u003e\n\u003cp dir=\"ltr\"\u003e\u003ccode data-lexical-text=\"true\"\u003e\u003cspan\u003e코드\u003c/span\u003e\u003c/code\u003e\u003c/p\u003e\n\u003cp dir=\"ltr\"\u003e\n    \u003cmark data-lexical-text=\"true\"\u003e\u003cspan\u003e강조\u003c/span\u003e\u003c/mark\u003e\n\u003c/p\u003e\n\u003cp dir=\"ltr\"\u003e\u003cspan data-lexical-text=\"true\"\u003e취소선\u003c/span\u003e\u003c/p\u003e\n\u003cp dir=\"ltr\"\u003e\u003csub data-lexical-text=\"true\"\u003e\u003cspan\u003e아래 첨자\u003c/span\u003e\u003c/sub\u003e\u003c/p\u003e\n\u003cp dir=\"ltr\"\u003e\u003csup data-lexical-text=\"true\"\u003e\u003cspan\u003e위 첨자\u003c/span\u003e\u003c/sup\u003e\u003c/p\u003e\n\u003cp dir=\"ltr\"\u003e\u003ccode data-lexical-text=\"true\"\u003e\u003cstrong\u003e모두 표시\u003c/strong\u003e\u003c/code\u003e\u003c/p\u003e\n```\n\n요소에는 적용된 스타일이 없지만 브라우저에서 `mark`/`strong/`/`em/`에 대한 사전 정의된 스타일이 있어 약간의 스타일 변화가 있습니다. 그러나 우리가 기대한 것은 아닙니다.\n\n\n\n이제 다음 주제인 → 테마를 다루어볼 시간입니다.\n\n👉 작은 참고사항입니다. Align 작업 구현이 이렇게 보일 것입니다 (텍스트와 동일한 디스패치 명령어 접근 방식):\n\n```js\nimport {\n    useLexicalComposerContext\n} from \"@lexical/react/LexicalComposerContext\";\nimport {\n    FORMAT_ELEMENT_COMMAND,\n    ElementFormatType,\n    OUTDENT_CONTENT_COMMAND,\n    INDENT_CONTENT_COMMAND\n} from 'lexical';\n\nexport const CustomAlignActions = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n\n    const handleOnClick = (formatType: ElementFormatType) =\u003e {\n        editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, formatType)\n    }\n\n    return (\n        \u003cdiv style={marginTop: '10px'}\u003e\n            \u003cspan style={fontWeight: 'bold'}\u003eAlign actions\u003c/span\u003e\n            \u003cdiv\u003e\n                {[\n                    'Left',\n                    'Center',\n                    'Right',\n                    'Justify',\n                ].map(value =\u003e {\n                    return (\n                        \u003cbutton\n                            onClick={() =\u003e handleOnClick(value.toLowerCase() as ElementFormatType)}\u003e\n                            {value}\n                        \u003c/button\u003e\n                    )\n                })}\n                \u003cbutton\n                    onClick={() =\u003e editor.dispatchCommand(OUTDENT_CONTENT_COMMAND, undefined)}\u003e\n                    Outdent\n                \u003c/button\u003e\n                \u003cbutton\n                    onClick={() =\u003e editor.dispatchCommand(INDENT_CONTENT_COMMAND, undefined)}\u003e\n                    Indent\n                \u003c/button\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    );\n}\n```\n\n![이미지](/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_7.png)\n\n\n\n위의 경우 \"정당화\" 노드가 편집기 상태 JSON에서 어떻게 나타낼지에 대한 예시입니다:\n\n```js\n{\n  \"children\": [\n    {\n      \"detail\": 0,\n      \"format\": 1,\n      \"mode\": \"normal\",\n      \"style\": \"\",\n      \"text\": \"Justify\",\n      \"type\": \"text\",\n      \"version\": 1\n    },\n    {\n      \"detail\": 0,\n      \"format\": 0,\n      \"mode\": \"normal\",\n      \"style\": \"\",\n      \"text\": \" - Lorem ipsum dolor sit amet, \u003c...\u003e\",\n      \"type\": \"text\",\n      \"version\": 1\n    }\n  ],\n  \"direction\": \"ltr\",\n  \"format\": \"justify\",\n  \"indent\": 0,\n  \"type\": \"paragraph\",\n  \"version\": 1\n}\n```\n\n# 테마\n\nNodes를 수정할 때, lexical은 테마 객체 theme.[`노드-타입`]에서 지정된 노드 타입에 대해 스타일(클래스 이름)을 적용합니다.\n\n\n\n해달 코드를 추가하고 텍스트 스타일을 적용해 보겠습니다:\n\n```js\nIndex: src/App.tsx\n\n@@ -10,6 +10,7 @@\n     CustomHistoryActions\n } from \"./components\";\n import initialState from './initialState.json';\n+import './App.css'\n \n export const App: React.FC = () =\u003e {\n \n@@ -38,6 +39,18 @@\n \n     const lexicalConfig: InitialConfigType = {\n         namespace: 'My Rich Text Editor',\n+        theme: {\n+            text: {\n+                bold: \"text-bold\",\n+                italic: \"text-italic\",\n+                underline: \"text-underline\",\n+                code: 'text-code',\n+                highlight: 'text-highlight',\n+                strikethrough: 'text-strikethrough',\n+                subscript: 'text-subscript',\n+                superscript: 'text-superscript',\n+            },\n+        },\n         onError: (e) =\u003e {\n             console.log('ERROR:', e)\n         },\n```\n\nCSS:\n\n```js\n.text-bold {\n    font-weight: bold;\n}\n\n.text-italic {\n    font-style: italic;\n}\n\n.text-underline {\n    text-decoration: underline;\n}\n\n.text-code {\n    background-color: #f0f2f5;\n    padding: 1px 0.25rem;\n    font-family: Menlo, Consolas, Monaco, monospace;\n    font-size: 94%;\n}\n\n.text-highlight {\n    margin: 0 5px;\n}\n\n.text-strikethrough {\n    text-decoration: line-through;\n}\n\n.text-subscript {\n    vertical-align: sub;\n}\n\n.text-superscript {\n    vertical-align: super;\n}\n\np {\n    margin: 0;\n}\n```\n\n\n\n\n![image](https://miro.medium.com/v2/resize:fit:1260/1*_KW7zAxitBpOe3HrAqHHfw.gif)\n\n![image](/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_8.png)\n\n**Bold**\n*Italic*\n\u003cins\u003eUnderline\u003c/ins\u003e\n`Code`\n\u003cmark\u003eHighlight\u003c/mark\u003e\n~~Strike~~\nX\u003csub\u003eSub\u003c/sub\u003e\nX\u003csup\u003eSuper\u003c/sup\u003e\n\u003cmark\u003e\u003cstrong\u003e\u003cem\u003e\u003cins\u003e\u003cu\u003e\u003cstrike\u003e\u003csub\u003eAll of them\u003c/sub\u003e\u003c/strike\u003e\u003c/u\u003e\u003c/ins\u003e\u003c/em\u003e\u003c/strong\u003e\u003c/mark\u003e\n\n\n\n\n알겠지만, 우리가 디스패치를 트리거할 때마다, 렉시컬이 클래스를 교체하지 않고, 있는 경우 추가하거나 있는 경우 제거했습니다. 이 점을 명심해주세요. \"굵게 기울임체 밑줄\"에 대해 별도의 CSS 클래스를 만들 필요가 없습니다.\n\n에디터의 상태 JSON:\n\n```js\n{\n  \"root\": {\n    \"children\": [\n      {\n        \"children\": [\n          {\n            \"detail\": 0,\n            \"format\": 11,\n            \"mode\": \"normal\",\n            \"style\": \"\",\n            \"text\": \"굵게 기울임체 밑줄\",\n            \"type\": \"text\",\n            \"version\": 1\n          }\n        ],\n        \"direction\": \"ltr\",\n        \"format\": \"\",\n        \"indent\": 0,\n        \"type\": \"paragraph\",\n        \"version\": 1\n      }\n    ],\n    \"direction\": \"ltr\",\n    \"format\": \"\",\n    \"indent\": 0,\n    \"type\": \"root\",\n    \"version\": 1\n  }\n}\n```\n\n# 헤딩. 헬퍼 및 노드 구성\n\n\n\n등록된 어휘 명령이 없을 경우 어떻게 해야 할까요? 단어 요소(어휘의 기본 노드)를 어휘 명령을 사용하지 않고 헤더 노드로 변환해 봅시다:\n\n```js\nimport { useLexicalComposerContext } from \"@lexical/react/LexicalComposerContext\";\nimport { $getSelection, $isRangeSelection } from \"lexical\";\nimport { $setBlocksType } from \"@lexical/selection\";\nimport { HeadingTagType, $createHeadingNode } from \"@lexical/rich-text\";\n\nexport const CustomHeadingActions = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n\n    const handleOnClick = (tag: HeadingTagType) =\u003e {\n        editor.update(() =\u003e {\n            const selection = $getSelection();\n            if ($isRangeSelection(selection)) {\n                $setBlocksType(selection, () =\u003e $createHeadingNode(tag));\n            }\n        });\n    };\n\n    return (\n        \u003cdiv style={{ marginTop: '10px' }}\u003e\n            \u003cspan style={{ fontWeight: 'bold' }}\u003eAlign actions\u003c/span\u003e\n            \u003cdiv\u003e\n                {([\"h1\", \"h2\", \"h3\", \"h4\", \"h5\"] as Array\u003cHeadingTagType\u003e).map((tag) =\u003e {\n                    return (\n                        \u003cbutton\n                            key={tag}\n                            onClick={() =\u003e handleOnClick(tag)}\n                        \u003e\n                            {tag}\n                        \u003c/button\u003e\n                    );\n                })}\n            \u003c/div\u003e\n        \u003c/div\u003e\n    );\n}\n```\n\n일부 노드를 헤딩 노드로 변환하는 데 미리 정의된 명령이 없기 때문에 여기서는 다음과 같은 작업을 수행합니다:\n\n- 콜백을 인수로 전달하는 editor.update 함수 호출\n- 선택된 노드를 가져오기 위해 $getSelection 헬퍼 사용\n- $isRangeSelection을 사용하여 RangeSelection 유형인지 확인합니다.\n\n\n\n```js\n// 소스코드\nexport function $isRangeSelection(x: unknown): x is RangeSelection {\n  return x instanceof RangeSelection;\n}\n```\n\n4. $setBlocksType을 새로운 $createHeadingNode (h1, h2, h3…)으로 변경하세요;\n\n⚠️ 하지만 앱에서 사용해보면 아무 일도 일어나지 않습니다 → 문단이 헤더로 변경되지 않습니다. 에디터에서 사용하고 싶은 노드에 대해 렉시컬이 알지 못하기 때문입니다 (기본 노드를 제외하고). 노드 구성 배열에 HeaderNode를 추가해야 합니다:\n\n```js\nIndex: src/App.tsx\n\n@@ -10,6 +10,7 @@\n     CustomHistoryActions,\n     CustomAlignActions, CustomHeadingActions\n } from \"./components\";\n+import {HeadingNode} from \"@lexical/rich-text\";\n import initialState from './initialState.json';\n import './App.css'\n \n@@ -40,6 +41,7 @@\n \n     const lexicalConfig: InitialConfigType = {\n         namespace: 'My Rich Text Editor',\n+        nodes: [HeadingNode],\n         theme: {\n             text: {\n                 bold: \"text-bold\",\n```\n\n\n\n\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_9.png\" /\u003e\n\n# 페이로드와 함께 자신만의 명령어를 생성하는 방법\n\n이전 코드를 다시 작성해 보겠습니다. 다른 곳에서 변환 명령을 호출해야 하는 경우에도 이 조각을 복사-붙여넣기할 필요가 없도록 바꿀 거에요:\n\n```js\neditor.update(() =\u003e {\n    const selection = $getSelection();\n      if ($isRangeSelection(selection)) {\n        $setBlocksType(selection, () =\u003e $createHeadingNode(tag));\n      }\n});\n```\n\n\n\n위 작업을 위해 페이로드 `\"h1\" | \"h2\" | \"h3\", ...`을 사용하여 자체 FORMAT_HEADING_COMMAND를 생성하고 등록합니다.\n\n```js\n// src/components/CustomHeadingPlugin/CustomHeadingPlugin.tsx\n\nimport { useEffect } from \"react\";\nimport { useLexicalComposerContext } from \"@lexical/react/LexicalComposerContext\";\nimport {\n    createCommand,\n    $getSelection,\n    $isRangeSelection,\n    COMMAND_PRIORITY_NORMAL,\n} from \"lexical\";\nimport {\n    $setBlocksType\n} from \"@lexical/selection\";\nimport {\n    HeadingTagType,\n    $createHeadingNode\n} from \"@lexical/rich-text\";\n\nexport const FORMAT_HEADING_COMMAND = createCommand(\"FORMAT_HEADING_COMMAND\");\n\nexport const CustomHeadingPlugin = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n\n    useEffect(() =\u003e {\n        editor.registerCommand\u003cHeadingTagType\u003e(\n            FORMAT_HEADING_COMMAND,\n            (payload) =\u003e {\n                const selection = $getSelection();\n                if ($isRangeSelection(selection)) {\n                    $setBlocksType(selection, () =\u003e $createHeadingNode(payload));\n                }\n                return true;\n            },\n            COMMAND_PRIORITY_NORMAL,\n        );\n    }, []);\n\n    return null;\n}\n```\n\n이제 `CustomHeadingActions/` 구현을 업데이트할 수 있습니다:\n\n```js\nIndex: src/components/CustomHeadingActions/CustomHeadingActions.tsx\n@@ -1,22 +1,15 @@\nimport {\n    useLexicalComposerContext\n} from \"@lexical/react/LexicalComposerContext\";\nimport {HeadingTagType} from \"@lexical/rich-text\";\nimport {FORMAT_HEADING_COMMAND} from \"../CustomHeadingPlugin\";\n\nexport const CustomHeadingActions = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n\n    const handleOnClick = (tag: HeadingTagType) =\u003e {\n        editor.dispatchCommand(FORMAT_HEADING_COMMAND, tag);\n    };\n\n    return (\n        \u003cdiv style={marginTop: '10px'}\u003e\n```\n\n\n\n이 변형은 내게 훨씬 깔끔하고 재사용 가능해 보여요. 그 이후에는 LexicalComposer의 자식으로 우리가 만든 Header Plugin을 배치해야할거에요:\n\n```js\nIndex: src/App.tsx\n\n@@ -8,8 +8,11 @@\n     OnChangePlugin,\n     CustomTextActions,\n     CustomHistoryActions,\n     CustomAlignActions,\n     CustomHeadingActions,\n+    CustomHeadingPlugin,\n } from \"./components\";\n import {HeadingNode} from \"@lexical/rich-text\";\n import initialState from './initialState.json';\n import './App.css'\n\n@@ -70,7 +74,7 @@\n                 /\u003e\n                 \u003cHistoryPlugin/\u003e\n                 \u003cOnChangePlugin/\u003e\n+                \u003cCustomHeadingPlugin/\u003e\n                 \u003cdiv style={margin: '20px 0px'}\u003e\n                     \u003cCustomHistoryActions/\u003e\n                     \u003cCustomHeadingActions/\n```\n\n👉 참고: 이전에 다뤘지만 다시 한 번 상기시키자면... 테마 구성을 업데이트하여 각 헤딩 엘리먼트에 적용하려는 CSS 클래스 이름을 지정할 수 있어요:\n\n```js\nIndex: src/App.tsx\n\n@@ -62,6 +62,14 @@\n                 subscript: 'text-subscript',\n                 superscript: 'text-superscript',\n             },\n+            heading: {\n+                // Flowbite examples: https://flowbite.com/docs/typography/headings/#heading-one-h1\n+                h1: \"text-5xl font-extrabold dark:text-white\",\n+                h2: \"text-4xl font-bold dark:text-white\",\n+                h3: \"text-3xl font-bold dark:text-white\",\n+                h4: \"text-2xl font-bold dark:text-white\",\n+                h5: \"text-xl font-bold dark:text-white\",  \n+            },\n             banner: 'banner'\n         },\n         onError: (e) =\u003e {\n```\n\n\n\n# 커스텀 노드를 만드는 방법\n\n이전 섹션에서는 기본적으로 모든 것을 다루었으니, 이번 섹션에서는 직접 노드를 만들어보겠습니다. 제가 생각하기에 렉시컬이 노드를 처리하는 전체 그림을 파악하게 될 것입니다.\n\n가장 간단한 배너 노드:\n\n```js\nimport {\n    EditorConfig,\n    ElementNode,\n    LexicalEditor,\n    SerializedElementNode,\n    Spread,\n} from \"lexical\";\n\nexport type SerializedBannerNode = Spread\u003c\n    {\n        customValue: string;\n    },\n    SerializedElementNode\n\u003e;\n\nexport class BannerNode extends ElementNode {\n    createDOM(_config: EditorConfig, _editor: LexicalEditor): HTMLElement {\n        const div = document.createElement(\"div\");\n        div.className = _config.theme.banner;\n        return div;\n    }\n\n    static clone(node: BannerNode): BannerNode {\n        return new BannerNode(node.__key);\n    }\n\n    static getType(): string {\n        return \"banner\";\n    }\n\n    /**\n     * Returning false tells Lexical that this node does not need its\n     * DOM element replacing with a new copy from createDOM.\n     */\n    updateDOM(\n        _prevNode: unknown,\n        _dom: HTMLElement,\n        _config: EditorConfig,\n    ): boolean {\n        return false;\n    }\n\n    exportJSON(): SerializedBannerNode {\n        return {\n            type: \"banner\",\n            version: 1,\n            children: [],\n            customValue: \"anything you like\",\n            format: \"\",\n            indent: 1,\n            direction: null,\n        };\n    }\n}\n```\n\n\n\n설명:\n- 새로운 어휘 노드를 만들려면 미리 정의된 어휘 노드(ElementNode | TextNode | DecoratorNode 중 하나를 확장한 클래스를 만들고 메서드를 재정의해야 합니다(모든 메서드를 다루지는 않겠습니다));\n- 먼저, 어휘는 노드의 타입에 대한 일치 항목을 찾으려고 할 것이며, 타입 함수를 호출하여 구성 노드 배열('banner'의 경우)에서 지정한 노드들로부터 getType 함수를 호출할 것입니다;\n- 그 다음으로, 어휘는 HTML 요소를 만드는 createDOM 메서드를 호출할 것입니다;\n- OnChangePlugin에 toJSON 함수가 있는 것을 기억하시나요?\n\n```js\n// src/components/OnChangePlugin/OnChangePlugin.tsx\n\nimport {useLexicalComposerContext} from \"@lexical/react/LexicalComposerContext\";\nimport {useEffect} from \"react\";\n\nexport const OnChangePlugin = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n    useEffect(() =\u003e {\n        return editor.registerUpdateListener((listener) =\u003e {\n            console.log('DATA', listener.editorState.toJSON())\n        });\n    }, [editor]);\n\n    return null;\n}\n```\n\n여기서 우리의 Banner exportJSON 함수가 호출될 것입니다.\n\n\n\n이제 BannerNode를 위한 플러그인을 생성해야 합니다. 이미 Headings 섹션에서 이를 수행한 적이 있습니다:\n\n```js\nimport {useLexicalComposerContext} from \"@lexical/react/LexicalComposerContext\";\nimport {$getSelection, $isRangeSelection, COMMAND_PRIORITY_NORMAL, createCommand} from \"lexical\";\nimport {\n    $setBlocksType\n} from \"@lexical/selection\";\nimport {BannerNode} from \"../../nodes\";\nimport React from \"react\";\n\nexport const $createBannerNode = (): BannerNode =\u003e new BannerNode();\n\nexport const INSERT_BANNER_COMMAND = createCommand(\"create_banner\");\n\nexport const CustomBannerPlugin: React.FC = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n\n    if (!editor.hasNode(BannerNode)) {\n        throw new Error('BannerPlugin: \"BannerNode\" not registered on editor');\n    }\n    editor.registerCommand(\n        INSERT_BANNER_COMMAND,\n        () =\u003e {\n            const selection = $getSelection();\n            if ($isRangeSelection(selection)) {\n                $setBlocksType(selection, $createBannerNode);\n            }\n            return true;\n        },\n        COMMAND_PRIORITY_NORMAL,\n    );\n\n    return null;\n};\n```\n\nCustomBannerActions 컴포넌트를 추가하세요: 우리 명령어와 함께 간단한 버튼이 있습니다:\n\n```js\nimport React from \"react\";\nimport {useLexicalComposerContext} from \"@lexical/react/LexicalComposerContext\";\nimport {INSERT_BANNER_COMMAND} from \"../CustomBannerPlugin\";\n\nexport const CustomBannerActions: React.FC = () =\u003e {\n    const [editor] = useLexicalComposerContext();\n\n    const handleOnClick = () =\u003e {\n        editor.dispatchCommand(INSERT_BANNER_COMMAND, undefined);\n    };\n\n    return (\n        \u003cdiv style={{marginTop: '10px'}}\u003e\n            \u003cspan style={{fontWeight: 'bold'}}\u003eHeading actions\u003c/span\u003e\n            \u003cdiv\u003e\n                \u003cbutton onClick={handleOnClick}\u003e\n                    Banner\n                \u003c/button\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    );\n};\n```\n\n\n\nApp.tsx를 업데이트하였습니다:\n\n```js\nIndex: src/App.tsx\n\n@@ -11,10 +11,13 @@\n     CustomAlignActions,\n     CustomHeadingActions,\n     CustomHeadingPlugin,\n+    CustomBannerPlugin,\n+    CustomBannerActions,\n } from \"./components\";\n import {HeadingNode} from \"@lexical/rich-text\";\n import initialState from './initialState.json';\n import './App.css'\n+import {BannerNode} from \"./nodes\";\n \n export const App: React.FC = () =\u003e {\n \n@@ -43,7 +46,10 @@\n \n     const lexicalConfig: InitialConfigType = {\n         namespace: 'My Rich Text Editor',\n-        nodes: [HeadingNode],\n+        nodes: [\n+            BannerNode,\n+            HeadingNode\n+        ],\n         theme: {\n             text: {\n                 bold: \"text-bold\",\n@@ -55,6 +61,7 @@\n                 subscript: 'text-subscript',\n                 superscript: 'text-superscript',\n             },\n+            banner: 'banner'\n         },\n         onError: (e) =\u003e {\n             console.log('ERROR:', e)\n@@ -75,8 +82,10 @@\n                 \u003cHistoryPlugin/\u003e\n                 \u003cOnChangePlugin/\u003e\n                 \u003cCustomHeadingPlugin/\u003e\n+                \u003cCustomBannerPlugin/\u003e\n                 \u003cdiv style={margin: '20px 0px'}\u003e\n                     \u003cCustomHistoryActions/\u003e\n+                    \u003cCustomBannerActions/\u003e\n                     \u003cCustomHeadingActions/\u003e\n                     \u003cCustomTextActions/\u003e\n                     \u003cCustomAlignActions/\u003e\n```\n\nCSS:\n\n```js\nIndex: src/App.css\n\n@@ -33,6 +33,13 @@\n     vertical-align: super ;\n }\n \n+.banner {\n+    border-left: 3px coral solid;\n+    background-color: lightskyblue;\n+    border-radius: 3px;\n+    padding: 10px 0;\n+}\n+\n p {\n     margin: 0;\n }\n```\n\n\n\n결과:\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1334/1*zesdcbkZmVlSoY1HaflYUA.gif\" /\u003e\n\n🔴 문제가 두 가지 있을 것입니다:\n\n- 사용자가 Enter 키 또는 Shift+Enter 키를 눌러 노드에서 \"나가기\"를 할 수 없을 것입니다.\n- 사용자가 Backspace 키를 눌러 노드를 \"제거\"할 수 없을 것입니다.\n\n\n\n우리의 BannerNode를 업데이트해 봅시다:\n\n```js\nIndex: src/nodes/BannerNode/BannerNode.tsx\n\n@@ -2,6 +2,9 @@\n     EditorConfig,\n     ElementNode,\n     LexicalEditor,\n+    $createParagraphNode,\n+    LexicalNode,\n+    RangeSelection,\n     SerializedElementNode,\n     Spread,\n } from \"lexical\";\n@@ -40,6 +43,34 @@\n         return false;\n     }\n\n+    /**\n+     * 사용자가 모든 콘텐츠를 삭제할 때 노드를 단락으로 설정해야 합니다\n+     */\n+    collapseAtStart(_: RangeSelection): boolean {\n+        const paragraph = $createParagraphNode();\n+        const children = this.getChildren();\n+        children.forEach((child) =\u003e paragraph.append(child));\n+        this.replace(paragraph);\n+\n+        return true;\n+    }\n+\n+    /**\n+     * 사용자가 Enter 키를 누를 때 노드를 단락으로 설정해야 합니다.\n+     * Shift+Enter를 누를 경우 노드는 유지됩니다\n+     */\n+    insertNewAfter(\n+        _: RangeSelection,\n+        restoreSelection?: boolean,\n+    ): LexicalNode | null {\n+        const paragraph = $createParagraphNode();\n+        const direction = this.getDirection();\n+        paragraph.setDirection(direction);\n+        this.insertAfter(paragraph, restoreSelection);\n+\n+        return paragraph;\n+    }\n+\n     exportJSON(): SerializedBannerNode {\n         return {\n             type: \"banner\",\n```\n\n지금까지 얻은 것을 확인해 보겠습니다:\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1334/1*44Wg5Stz5crAXpP3Qi-PRA.gif\" /\u003e\n\n\n\n🟢 업데이트 후:\n\n- 사용자는 노드에서 Enter 키를 눌러 \"나가기\" 할 수 있습니다;\n- 사용자는 노드를 Shift + Enter 키를 눌러 \"확장\"할 수 있습니다;\n- 사용자는 콘텐츠 텍스트가 비어 있을 때 Backspace 키를 눌러 노드를 \"삭제\"할 수 있습니다;\n\n마지막으로, 에디터의 JSON 트리에서 BannerNode을 파싱하는 함수가 필요합니다:\n\n```js\nIndex: src/nodes/BannerNode/BannerNode.tsx\n\n@@ -71,6 +71,10 @@\n         return paragraph;\n     }\n \n+    static importJSON(_: SerializedBannerNode): BannerNode {\n+        return new BannerNode();\n+    }\n+\n     exportJSON(): SerializedBannerNode {\n         return {\n             type: \"banner\",\n```\n\n\n\n# 깃허브 리포지토리:\n\n관련된 기사들:\n\n이 글이 도움이 되었기를 바랍니다. 만약 그렇다면, \"claps\"를 주시면 감사하겠습니다.\n\n# 간단히 설명\n\n\n\n우리 커뮤니티에 참여해 주셔서 감사합니다! 떠나시기 전에:\n\n- 반드시 작가를 칭찬하고 팔로우하세요! 👏\n- PlainEnglish.io에서 더 많은 콘텐츠를 찾아보세요! 🚀\n- 무료 주간 뉴스레터에 가입하세요. 🗞️\n- 트위터, 링크드인, 유튜브, 그리고 디스코드에서 저희를 팔로우해주세요.","ogImage":{"url":"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_0.png"},"coverImage":"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_0.png","tag":["Tech"],"readingTime":31},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch2\u003eReact JS에서 Lexical을 사용하는 방법에 대한 튜토리얼; 예제와 함께 기본 사항.\u003c/h2\u003e\n\u003cp\u003e... 그러나 유감스럽게도 이 문서는 좋은 설명의 예시가 아닙니다. 이 기사에서는 이 라이브러리를 어떻게 사용하는지를 간단한 용어로 설명하겠습니다.\u003c/p\u003e\n\u003cp\u003e여기서는 특별한 스타일, 모달 또는 팝오버 없이 렉시컬 리치 텍스트 기능의 기본을 다룰 것입니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_1.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e만약 이 라이브러리가 무엇을 할 수 있는지 확인하고 싶다면, 멋진 렉시컬 플레이그라운드를 확인해보세요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_2.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e관련 이야기:\u003c/p\u003e\n\u003ch1\u003e다룰 내용\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e준비물\u003c/li\u003e\n\u003cli\u003e시작하기\u003c/li\u003e\n\u003cli\u003e히스토리 플러그인\u003c/li\u003e\n\u003cli\u003e노드\u003c/li\u003e\n\u003cli\u003e리치 텍스트\u003c/li\u003e\n\u003cli\u003e테마\u003c/li\u003e\n\u003cli\u003e제목, 도우미 및 노드 구성\u003c/li\u003e\n\u003cli\u003e페이로드로 자신만의 명령어를 만드는 방법\u003c/li\u003e\n\u003cli\u003e사용자 정의 노드 만들기\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e준비물\u003c/h1\u003e\n\u003cp\u003e우리는 다음과 같이 만들어진 간단한 React JS 애플리케이션으로 시작할 것입니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eyarn create react-app react-lexical-examples --template typescript\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그리고 우리는 어휘 패키지를 설치해야 합니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eyarn add lexical @lexical/react\n\n\u003cspan class=\"hljs-comment\"\u003e// OR\u003c/span\u003e\n\nnpm install --save lexical @lexical/react\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e시작\u003c/h1\u003e\n\u003cpre\u003e\u003ccode\u003e\n\n\nLexical을 이용하여 작업을 시작하려면 이 템플릿을 사용할 수 있어요:\n\n```js\nimport React, {useMemo} from 'react';\nimport {InitialConfigType, LexicalComposer} from '@lexical/react/LexicalComposer';\nimport {PlainTextPlugin} from \"@lexical/react/LexicalPlainTextPlugin\";\nimport {ContentEditable} from '@lexical/react/LexicalContentEditable';\nimport LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';\n\nexport const App: React.FC = () =\u003e {\n\n    const CustomContent = useMemo(() =\u003e {\n        return (\n            \u0026#x3C;ContentEditable style={\n                position: 'relative',\n                borderColor: 'rgba(255,211,2,0.68)',\n                border: '2px solid red',\n                borderRadius: '5px',\n                maxWidth: '100%',\n                padding: '10px'\n            }/\u003e\n        )\n    }, []);\n\n    const CustomPlaceholder = useMemo(() =\u003e {\n        return (\n            \u0026#x3C;div style={\n                position: 'absolute', top: 30, left: 30,\n            }\u003e\n                텍스트를 입력하세요...\n            \u0026#x3C;/div\u003e\n        )\n    }, []);\n\n    const lexicalConfig: InitialConfigType = {\n        namespace: '나의 리치 텍스트 편집기',\n        onError: (e) =\u003e {\n            console.log('에러 발생:', e)\n        }\n    }\n\n    return (\n        \u0026#x3C;div style={padding: '20px'}\u003e\n            \u0026#x3C;LexicalComposer initialConfig={lexicalConfig}\u003e\n                \u0026#x3C;PlainTextPlugin\n                    contentEditable={CustomContent}\n                    placeholder={CustomPlaceholder}\n                    ErrorBoundary={LexicalErrorBoundary}\n                /\u003e\n            \u0026#x3C;/LexicalComposer\u003e\n        \u0026#x3C;/div\u003e\n    );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*-7S9xp-EweAiYl8Fn0O8_w.gif\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e보다시피, 아주 복잡해 보이지 않죠. 걱정하지 마세요, 나중에 이 컴포넌트들에 대해 자세히 다룰 거예요. 일단은 모든 것이 예상대로 작동하는지 확인하는 것이 중요해요.\u003c/p\u003e\n\u003cp\u003e이제 기능을 하나씩 추가해 봅시다.\u003c/p\u003e\n\u003ch1\u003e히스토리 플러그인\u003c/h1\u003e\n\u003cp\u003e이전 예제에서 새 텍스트를 입력할 수 있었지만, CTRL-Z(실행 취소)를 누르면 아무 일도 일어나지 않았죠. 이 문제를 해결하기 위해 @lexical/history 플러그인을 추가하여 CTRL-Z(실행 취소)와 CTRL-SHIFT-Z(다시 실행)를 사용할 수 있게 할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e선택 사항으로 직접 Undo/Redo를 처리하는 사용자 정의 컴포넌트를 추가할 수도 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e@@ -\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e @@\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003ePlainTextPlugin\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalPlainTextPlugin\"\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eContentEditable\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@lexical/react/LexicalContentEditable'\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eLexicalErrorBoundary\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@lexical/react/LexicalErrorBoundary'\u003c/span\u003e;\n+\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eHistoryPlugin\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@lexical/react/LexicalHistoryPlugin'\u003c/span\u003e;\n+\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eCustomHistoryActions\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./components\"\u003c/span\u003e;\n \n \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eFC\u003c/span\u003e = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n \n@@ -\u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e46\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e @@\n                     placeholder={\u003cspan class=\"hljs-title class_\"\u003eCustomPlaceholder\u003c/span\u003e}\n                     \u003cspan class=\"hljs-title class_\"\u003eErrorBoundary\u003c/span\u003e={\u003cspan class=\"hljs-title class_\"\u003eLexicalErrorBoundary\u003c/span\u003e}\n                 /\u003e\n+                \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eHistoryPlugin\u003c/span\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n+                \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{margin:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003e20px\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003e0px\u003c/span\u003e'}\u003e\u003c/span\u003e\n+                    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomHistoryActions\u003c/span\u003e/\u003e\u003c/span\u003e\n+                \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n             \u0026#x3C;/\u003cspan class=\"hljs-title class_\"\u003eLexicalComposer\u003c/span\u003e\u003e\n+\n         \u0026#x3C;/div\u003e\n     );\n }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-variable constant_\"\u003eUNDO_COMMAND\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eREDO_COMMAND\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'lexical'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {useLexicalComposerContext} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eCustomHistoryActions\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n        \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e editor.dispatchCommand(UNDO_COMMAND, undefined)}\u003e되돌리기\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e editor.dispatchCommand(REDO_COMMAND, undefined)}\u003e다시 실행\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003e\u003c/span\u003e\u003c/span\u003e\n    );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e설명:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eeditor는 \u003ccode\u003eLexicalComposer/\u003c/code\u003e 컴포넌트에서 가져온 컨텍스트 값입니다. 에디터 클래스/메소드에 대한 자세한 내용은 여기서 확인할 수 있습니다:```\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e간단한 사용 예시:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n\n  \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// 이펙트가 발생할 때 에디터에 포커스를 맞춥니다!\u003c/span\u003e\n    editor.\u003cspan class=\"hljs-title function_\"\u003efocus\u003c/span\u003e();\n  }, [editor]);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eUNDO_COMMAND과 REDO_COMMAND는 에디터 내용(또는 원하는 내용)을 처리해야 할 것을 렉시컬에 알리는 등록된 렉시컬 명령입니다. 다음과 같이 사용자 고유의 명령을 생성할 수도 있습니다:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { createCommand, \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND_PRIORITY_NORMAL\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"lexical\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eDO_SOMETHING_AWESOME\u003c/span\u003e = \u003cspan class=\"hljs-title function_\"\u003ecreateCommand\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"create_banner\"\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCustomComponent\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eFC\u003c/span\u003e = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n\n  editor.\u003cspan class=\"hljs-title function_\"\u003eregisterCommand\u003c/span\u003e(\n    \u003cspan class=\"hljs-variable constant_\"\u003eDO_SOMETHING_AWESOME\u003c/span\u003e,\n    \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'이것은 내가 만든 명령입니다'\u003c/span\u003e)\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n    },\n    \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND_PRIORITY_NORMAL\u003c/span\u003e,\n  );\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e걱정하지 마세요, 나중에 이 주제를 조금 더 다룰 거예요.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eeditor.dispatchCommand(UNDO_COMMAND, undefined) → 왜 두 번째 인자로 undefined를 전달하는 걸까요? 첫 번째, 그렇게 하지 않으면 TS 오류가 발생합니다. 둘째, 이것은 명령과 함께 전달될 수 있는 페이로드 데이터입니다(우리 경우에는 해당되지 않습니다). dispatchCommand에 대해 더 알아보세요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e노드\u003c/h1\u003e\n\u003cp\u003e이 섹션에서는 용어의 작동 방식과 저장하는 데이터에 대해 깊이 파헤쳐야 할 것입니다.\u003c/p\u003e\n\u003cp\u003e먼저, 에디터의 상태 변화를 모니터링하고 에디터의 상태를 로깅하는 간단한 플러그인을 만들 것입니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/components/OnChangePlugin/OnChangePlugin.tsx\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {useLexicalComposerContext} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {useEffect} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"react\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eOnChangePlugin\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n    \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e editor.\u003cspan class=\"hljs-title function_\"\u003eregisterUpdateListener\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003elistener\u003c/span\u003e) =\u003e\u003c/span\u003e {\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'DATA'\u003c/span\u003e, listener.\u003cspan class=\"hljs-property\"\u003eeditorState\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etoJSON\u003c/span\u003e())\n        });\n    }, [editor]);\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e다음으로, \u003ccode\u003eLexicalComposer/\u003c/code\u003e의 하위 컴포넌트로 \u003ccode\u003eOnChangePlugin/\u003c/code\u003e 컴포넌트를 추가해주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n@@ -\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e @@\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eLexicalErrorBoundary\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@lexical/react/LexicalErrorBoundary'\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eHistoryPlugin\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@lexical/react/LexicalHistoryPlugin'\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eCustomHistoryActions\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./components\"\u003c/span\u003e;\n+\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eOnChangePlugin\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./components\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eFC\u003c/span\u003e = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n\n@@ -\u003cspan class=\"hljs-number\"\u003e47\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e48\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e @@\n                    \u003cspan class=\"hljs-title class_\"\u003eErrorBoundary\u003c/span\u003e={\u003cspan class=\"hljs-title class_\"\u003eLexicalErrorBoundary\u003c/span\u003e}\n                /\u003e\n                \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eHistoryPlugin\u003c/span\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n+                \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eOnChangePlugin\u003c/span\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n                \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{margin:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003e20px\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003e0px\u003c/span\u003e'}\u003e\u003c/span\u003e\n                    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomHistoryActions\u003c/span\u003e/\u003e\u003c/span\u003e\n                \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 편집기의 상태가 변경될 때마다 편집기의 상태 트리 데이터를 콘솔에 출력할 것입니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_3.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*Lqyfyb4peVPoHJQvYuBNhQ.gif\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e이 텍스트를 입력하면 어떤 데이터를 얻을지 확인해 봅시다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e\u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\"root\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"children\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"children\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\n          \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"detail\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"format\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"mode\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"normal\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"style\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"asd\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n          \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"linebreak\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n          \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"detail\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"format\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"mode\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"normal\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"style\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"dsa\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n          \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"direction\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"format\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"indent\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"paragraph\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n      \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"direction\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"format\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"indent\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"root\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e아마도 노드가 간단한 속성을 가진 객체임을 알았을겁니다. 주요 속성은 노드의 종류인 type과 노드의 내용인 text입니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e initialState \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./initialState.json'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n      \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eLexicalComposer\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003einitialConfig\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{\u003c/span\u003e\n          // \u003cspan class=\"hljs-attr\"\u003e...\u003c/span\u003e\n          \u003cspan class=\"hljs-attr\"\u003eeditorState:\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eJSON.stringify\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003einitialState\u003c/span\u003e),\n        }\n      \u003e\u003c/span\u003e\n            {/* ... */}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eLexicalComposer\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    );\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 경우 앱을 다시 시작할 때마다 동일한 결과를 얻을 수 있습니다:\u003c/p\u003e\n\u003cp\u003eNodes에 대해 더 많은 정보를 읽어보실 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\n\n\n# 리치 텍스트\n\n첫 번째 노드 수정 핸들러를 만들어 봅시다.\n\n이전에 PlainTextPlugin 컴포넌트를 사용했기 때문에 \"bold\" (CTRL+B) 액션과 같은 텍스트 작업을 처리할 수 없습니다:\n\n```js\n\u0026#x3C;LexicalComposer initialConfig={lexicalConfig}\u003e\n  \u0026#x3C;PlainTextPlugin ...  /\u003e\n...\n\u0026#x3C;/LexicalComposer\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eApp.tsx 파일에서 PlainTextPlugin을 RichTextPlugin으로 변경해야 합니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e @@\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e, {useMemo} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'react'\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eInitialConfigType\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eLexicalComposer\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@lexical/react/LexicalComposer'\u003c/span\u003e;\n-\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003ePlainTextPlugin\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalPlainTextPlugin\"\u003c/span\u003e;\n+\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eRichTextPlugin\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalRichTextPlugin\"\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eContentEditable\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@lexical/react/LexicalContentEditable'\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eLexicalErrorBoundary\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@lexical/react/LexicalErrorBoundary'\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eHistoryPlugin\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@lexical/react/LexicalHistoryPlugin'\u003c/span\u003e;\n@@ -\u003cspan class=\"hljs-number\"\u003e46\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e46\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e @@\n             \u0026#x3C;\u003cspan class=\"hljs-title class_\"\u003eLexicalComposer\u003c/span\u003e\n                 initialConfig={lexicalConfig}\n             \u003e\n-                \u0026#x3C;PlainTextPlugin\n+                \u0026#x3C;RichTextPlugin\n                     contentEditable={CustomContent}\n                     placeholder={CustomPlaceholder}\n                     ErrorBoundary={LexicalErrorBoundary}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 에디터에서 기본 텍스트 작업을 사용할 수 있을 것입니다:\u003c/p\u003e\n\u003cp\u003e우리의 커스텀 버튼을 만들어 봅시다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/components/CustomTextActions/CustomTextActions.tsx\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {useLexicalComposerContext} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-variable constant_\"\u003eFORMAT_TEXT_COMMAND\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eTextFormatType\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'lexical'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eCustomTextActions\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleOnClick\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003eformatType: TextFormatType\u003c/span\u003e) =\u003e {\n        editor.\u003cspan class=\"hljs-title function_\"\u003edispatchCommand\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eFORMAT_TEXT_COMMAND\u003c/span\u003e, formatType)\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n        \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{marginTop:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003e10px\u003c/span\u003e'}}\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{fontWeight:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003ebold\u003c/span\u003e'}}\u003e\u003c/span\u003e텍스트 액션\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n                {[\n                    '굵게',\n                    '이탤릭체',\n                    '밑줄',\n                    '코드',\n                    '하이라이트',\n                    '취소선',\n                    '아래첨자',\n                    '위첨자'\n                ].map(value =\u003e {\n                    return (\n                        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\n                            \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e handleOnClick(value.toLowerCase() as TextFormatType)}\u003e\n                            {value}\n                        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n                    )\n                })}\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e하지만 텍스트를 수정하려고 하면 기대했던 결과가 나오지 않을 수 있습니다: 일부 항목은 변경되고 일부는 변경되지 않을 수 있습니다. 그 이유가 무엇일까요?\u003c/p\u003e\n\u003cp\u003eHTML 출력을 확인해 봅시다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;p dir=\u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003e\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003estrong\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-lexical-text\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u003c/span\u003e굵게\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003estrong\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u0026#x3C;/p\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edir\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eem\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-lexical-text\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u003c/span\u003e이탤릭체\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eem\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edir\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-lexical-text\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u003c/span\u003e밑줄\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edir\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ecode\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-lexical-text\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e코드\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ecode\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edir\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003emark\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-lexical-text\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e강조\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003emark\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edir\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-lexical-text\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u003c/span\u003e취소선\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edir\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003esub\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-lexical-text\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e아래 첨자\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003esub\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edir\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003esup\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-lexical-text\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e위 첨자\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003esup\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edir\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ecode\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-lexical-text\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003estrong\u003c/span\u003e\u003e\u003c/span\u003e모두 표시\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003estrong\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ecode\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e요소에는 적용된 스타일이 없지만 브라우저에서 \u003ccode\u003emark\u003c/code\u003e/\u003ccode\u003estrong/\u003c/code\u003e/\u003ccode\u003eem/\u003c/code\u003e에 대한 사전 정의된 스타일이 있어 약간의 스타일 변화가 있습니다. 그러나 우리가 기대한 것은 아닙니다.\u003c/p\u003e\n\u003cp\u003e이제 다음 주제인 → 테마를 다루어볼 시간입니다.\u003c/p\u003e\n\u003cp\u003e👉 작은 참고사항입니다. Align 작업 구현이 이렇게 보일 것입니다 (텍스트와 동일한 디스패치 명령어 접근 방식):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n    useLexicalComposerContext\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable constant_\"\u003eFORMAT_ELEMENT_COMMAND\u003c/span\u003e,\n    \u003cspan class=\"hljs-title class_\"\u003eElementFormatType\u003c/span\u003e,\n    \u003cspan class=\"hljs-variable constant_\"\u003eOUTDENT_CONTENT_COMMAND\u003c/span\u003e,\n    \u003cspan class=\"hljs-variable constant_\"\u003eINDENT_CONTENT_COMMAND\u003c/span\u003e\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'lexical'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eCustomAlignActions\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleOnClick\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003eformatType: ElementFormatType\u003c/span\u003e) =\u003e {\n        editor.\u003cspan class=\"hljs-title function_\"\u003edispatchCommand\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eFORMAT_ELEMENT_COMMAND\u003c/span\u003e, formatType)\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n        \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{marginTop:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003e10px\u003c/span\u003e'}\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{fontWeight:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003ebold\u003c/span\u003e'}\u003e\u003c/span\u003eAlign actions\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n                {[\n                    'Left',\n                    'Center',\n                    'Right',\n                    'Justify',\n                ].map(value =\u003e {\n                    return (\n                        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\n                            \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e handleOnClick(value.toLowerCase() as ElementFormatType)}\u003e\n                            {value}\n                        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n                    )\n                })}\n                \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\n                    \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e editor.dispatchCommand(OUTDENT_CONTENT_COMMAND, undefined)}\u003e\n                    Outdent\n                \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n                \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\n                    \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e editor.dispatchCommand(INDENT_CONTENT_COMMAND, undefined)}\u003e\n                    Indent\n                \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_7.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e위의 경우 \"정당화\" 노드가 편집기 상태 JSON에서 어떻게 나타낼지에 대한 예시입니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\"children\"\u003c/span\u003e: [\n    {\n      \u003cspan class=\"hljs-string\"\u003e\"detail\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"format\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"mode\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"normal\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"style\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Justify\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"version\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n    },\n    {\n      \u003cspan class=\"hljs-string\"\u003e\"detail\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"format\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"mode\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"normal\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"style\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\" - Lorem ipsum dolor sit amet, \u0026#x3C;...\u003e\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e\"version\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n    }\n  ],\n  \u003cspan class=\"hljs-string\"\u003e\"direction\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"format\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"justify\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"indent\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"paragraph\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"version\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e테마\u003c/h1\u003e\n\u003cp\u003eNodes를 수정할 때, lexical은 테마 객체 theme.[\u003ccode\u003e노드-타입\u003c/code\u003e]에서 지정된 노드 타입에 대해 스타일(클래스 이름)을 적용합니다.\u003c/p\u003e\n\u003cp\u003e해달 코드를 추가하고 텍스트 스타일을 적용해 보겠습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e @@\n     \u003cspan class=\"hljs-title class_\"\u003eCustomHistoryActions\u003c/span\u003e\n } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./components\"\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e initialState \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./initialState.json'\u003c/span\u003e;\n+\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./App.css'\u003c/span\u003e\n \n \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eFC\u003c/span\u003e = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n \n@@ -\u003cspan class=\"hljs-number\"\u003e38\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e39\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e @@\n \n     \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elexicalConfig\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eInitialConfigType\u003c/span\u003e = {\n         \u003cspan class=\"hljs-attr\"\u003enamespace\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'My Rich Text Editor'\u003c/span\u003e,\n+        \u003cspan class=\"hljs-attr\"\u003etheme\u003c/span\u003e: {\n+            \u003cspan class=\"hljs-attr\"\u003etext\u003c/span\u003e: {\n+                \u003cspan class=\"hljs-attr\"\u003ebold\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-bold\"\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003eitalic\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-italic\"\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003eunderline\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-underline\"\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003ecode\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'text-code'\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003ehighlight\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'text-highlight'\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003estrikethrough\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'text-strikethrough'\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003esubscript\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'text-subscript'\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003esuperscript\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'text-superscript'\u003c/span\u003e,\n+            },\n+        },\n         \u003cspan class=\"hljs-attr\"\u003eonError\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ee\u003c/span\u003e) =\u003e\u003c/span\u003e {\n             \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'ERROR:'\u003c/span\u003e, e)\n         },\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCSS:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e-bold {\n    font-\u003cspan class=\"hljs-attr\"\u003eweight\u003c/span\u003e: bold;\n}\n\n.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e-italic {\n    font-\u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e: italic;\n}\n\n.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e-underline {\n    text-\u003cspan class=\"hljs-attr\"\u003edecoration\u003c/span\u003e: underline;\n}\n\n.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e-code {\n    background-\u003cspan class=\"hljs-attr\"\u003ecolor\u003c/span\u003e: #f0f2f5;\n    \u003cspan class=\"hljs-attr\"\u003epadding\u003c/span\u003e: 1px \u003cspan class=\"hljs-number\"\u003e0.\u003c/span\u003e25rem;\n    font-\u003cspan class=\"hljs-attr\"\u003efamily\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eMenlo\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eConsolas\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMonaco\u003c/span\u003e, monospace;\n    font-\u003cspan class=\"hljs-attr\"\u003esize\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e94\u003c/span\u003e%;\n}\n\n.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e-highlight {\n    \u003cspan class=\"hljs-attr\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e 5px;\n}\n\n.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e-strikethrough {\n    text-\u003cspan class=\"hljs-attr\"\u003edecoration\u003c/span\u003e: line-through;\n}\n\n.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e-subscript {\n    vertical-\u003cspan class=\"hljs-attr\"\u003ealign\u003c/span\u003e: sub;\n}\n\n.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e-superscript {\n    vertical-\u003cspan class=\"hljs-attr\"\u003ealign\u003c/span\u003e: \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e;\n}\n\np {\n    \u003cspan class=\"hljs-attr\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1260/1*_KW7zAxitBpOe3HrAqHHfw.gif\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-14-GettingStartedwithLexicalRichTextEditorforReact_8.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eBold\u003c/strong\u003e\n\u003cem\u003eItalic\u003c/em\u003e\nUnderline\n\u003ccode\u003eCode\u003c/code\u003e\nHighlight\n\u003cdel\u003eStrike\u003c/del\u003e\nXSub\nXSuper\nAll of them\u003c/p\u003e\n\u003cp\u003e알겠지만, 우리가 디스패치를 트리거할 때마다, 렉시컬이 클래스를 교체하지 않고, 있는 경우 추가하거나 있는 경우 제거했습니다. 이 점을 명심해주세요. \"굵게 기울임체 밑줄\"에 대해 별도의 CSS 클래스를 만들 필요가 없습니다.\u003c/p\u003e\n\u003cp\u003e에디터의 상태 JSON:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\"root\"\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\"children\"\u003c/span\u003e: [\n      {\n        \u003cspan class=\"hljs-string\"\u003e\"children\"\u003c/span\u003e: [\n          {\n            \u003cspan class=\"hljs-string\"\u003e\"detail\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"format\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"mode\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"normal\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"style\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"굵게 기울임체 밑줄\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"version\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n          }\n        ],\n        \u003cspan class=\"hljs-string\"\u003e\"direction\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"format\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"indent\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"paragraph\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"version\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n      }\n    ],\n    \u003cspan class=\"hljs-string\"\u003e\"direction\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ltr\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"format\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"indent\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"root\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"version\"\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e헤딩. 헬퍼 및 노드 구성\u003c/h1\u003e\n\u003cp\u003e등록된 어휘 명령이 없을 경우 어떻게 해야 할까요? 단어 요소(어휘의 기본 노드)를 어휘 명령을 사용하지 않고 헤더 노드로 변환해 봅시다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useLexicalComposerContext } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { $getSelection, $isRangeSelection } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"lexical\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { $setBlocksType } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/selection\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eHeadingTagType\u003c/span\u003e, $createHeadingNode } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/rich-text\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eCustomHeadingActions\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleOnClick\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003etag: HeadingTagType\u003c/span\u003e) =\u003e {\n        editor.\u003cspan class=\"hljs-title function_\"\u003eupdate\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n            \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e selection = $getSelection();\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ($isRangeSelection(selection)) {\n                $setBlocksType(selection, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e $createHeadingNode(tag));\n            }\n        });\n    };\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n        \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003emarginTop:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003e10px\u003c/span\u003e' }}\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003efontWeight:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003ebold\u003c/span\u003e' }}\u003e\u003c/span\u003eAlign actions\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n                {([\"h1\", \"h2\", \"h3\", \"h4\", \"h5\"] as Array\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eHeadingTagType\u003c/span\u003e\u003e\u003c/span\u003e).map((tag) =\u003e {\n                    return (\n                        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\n                            \u003cspan class=\"hljs-attr\"\u003ekey\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{tag}\u003c/span\u003e\n                            \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e handleOnClick(tag)}\n                        \u003e\n                            {tag}\n                        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n                    );\n                })}\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    );\n}\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e일부 노드를 헤딩 노드로 변환하는 데 미리 정의된 명령이 없기 때문에 여기서는 다음과 같은 작업을 수행합니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e콜백을 인수로 전달하는 editor.update 함수 호출\u003c/li\u003e\n\u003cli\u003e선택된 노드를 가져오기 위해 $getSelection 헬퍼 사용\u003c/li\u003e\n\u003cli\u003e$isRangeSelection을 사용하여 RangeSelection 유형인지 확인합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 소스코드\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003e$isRangeSelection\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ex: unknown\u003c/span\u003e): x is \u003cspan class=\"hljs-title class_\"\u003eRangeSelection\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e x \u003cspan class=\"hljs-keyword\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRangeSelection\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003e$setBlocksType을 새로운 $createHeadingNode (h1, h2, h3…)으로 변경하세요;\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e⚠️ 하지만 앱에서 사용해보면 아무 일도 일어나지 않습니다 → 문단이 헤더로 변경되지 않습니다. 에디터에서 사용하고 싶은 노드에 대해 렉시컬이 알지 못하기 때문입니다 (기본 노드를 제외하고). 노드 구성 배열에 HeaderNode를 추가해야 합니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e @@\n     \u003cspan class=\"hljs-title class_\"\u003eCustomHistoryActions\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eCustomAlignActions\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCustomHeadingActions\u003c/span\u003e\n } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./components\"\u003c/span\u003e;\n+\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eHeadingNode\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/rich-text\"\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e initialState \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./initialState.json'\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./App.css'\u003c/span\u003e\n \n@@ -\u003cspan class=\"hljs-number\"\u003e40\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e41\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e @@\n \n     \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elexicalConfig\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eInitialConfigType\u003c/span\u003e = {\n         \u003cspan class=\"hljs-attr\"\u003enamespace\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'My Rich Text Editor'\u003c/span\u003e,\n+        \u003cspan class=\"hljs-attr\"\u003enodes\u003c/span\u003e: [\u003cspan class=\"hljs-title class_\"\u003eHeadingNode\u003c/span\u003e],\n         \u003cspan class=\"hljs-attr\"\u003etheme\u003c/span\u003e: {\n             \u003cspan class=\"hljs-attr\"\u003etext\u003c/span\u003e: {\n                 \u003cspan class=\"hljs-attr\"\u003ebold\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-bold\"\u003c/span\u003e,\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e페이로드와 함께 자신만의 명령어를 생성하는 방법\u003c/h1\u003e\n\u003cp\u003e이전 코드를 다시 작성해 보겠습니다. 다른 곳에서 변환 명령을 호출해야 하는 경우에도 이 조각을 복사-붙여넣기할 필요가 없도록 바꿀 거에요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eeditor.\u003cspan class=\"hljs-title function_\"\u003eupdate\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e selection = $getSelection();\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ($isRangeSelection(selection)) {\n        $setBlocksType(selection, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e $createHeadingNode(tag));\n      }\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 작업을 위해 페이로드 \u003ccode\u003e\"h1\" | \"h2\" | \"h3\", ...\u003c/code\u003e을 사용하여 자체 FORMAT_HEADING_COMMAND를 생성하고 등록합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/components/CustomHeadingPlugin/CustomHeadingPlugin.tsx\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useEffect } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"react\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useLexicalComposerContext } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n    createCommand,\n    $getSelection,\n    $isRangeSelection,\n    \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND_PRIORITY_NORMAL\u003c/span\u003e,\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"lexical\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n    $setBlocksType\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/selection\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n    \u003cspan class=\"hljs-title class_\"\u003eHeadingTagType\u003c/span\u003e,\n    $createHeadingNode\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/rich-text\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eFORMAT_HEADING_COMMAND\u003c/span\u003e = \u003cspan class=\"hljs-title function_\"\u003ecreateCommand\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"FORMAT_HEADING_COMMAND\"\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eCustomHeadingPlugin\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n\n    \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n        editor.\u003cspan class=\"hljs-property\"\u003eregisterCommand\u003c/span\u003e\u0026#x3C;\u003cspan class=\"hljs-title class_\"\u003eHeadingTagType\u003c/span\u003e\u003e(\n            \u003cspan class=\"hljs-variable constant_\"\u003eFORMAT_HEADING_COMMAND\u003c/span\u003e,\n            \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003epayload\u003c/span\u003e) =\u003e\u003c/span\u003e {\n                \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e selection = $getSelection();\n                \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ($isRangeSelection(selection)) {\n                    $setBlocksType(selection, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e $createHeadingNode(payload));\n                }\n                \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n            },\n            \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND_PRIORITY_NORMAL\u003c/span\u003e,\n        );\n    }, []);\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 \u003ccode\u003eCustomHeadingActions/\u003c/code\u003e 구현을 업데이트할 수 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/components/\u003cspan class=\"hljs-title class_\"\u003eCustomHeadingActions\u003c/span\u003e/\u003cspan class=\"hljs-title class_\"\u003eCustomHeadingActions\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n@@ -\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e @@\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n    useLexicalComposerContext\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eHeadingTagType\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/rich-text\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-variable constant_\"\u003eFORMAT_HEADING_COMMAND\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"../CustomHeadingPlugin\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eCustomHeadingActions\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleOnClick\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003etag: HeadingTagType\u003c/span\u003e) =\u003e {\n        editor.\u003cspan class=\"hljs-title function_\"\u003edispatchCommand\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eFORMAT_HEADING_COMMAND\u003c/span\u003e, tag);\n    };\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n        \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{marginTop:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003e10px\u003c/span\u003e'}\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 변형은 내게 훨씬 깔끔하고 재사용 가능해 보여요. 그 이후에는 LexicalComposer의 자식으로 우리가 만든 Header Plugin을 배치해야할거에요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e @@\n     \u003cspan class=\"hljs-title class_\"\u003eOnChangePlugin\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eCustomTextActions\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eCustomHistoryActions\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eCustomAlignActions\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eCustomHeadingActions\u003c/span\u003e,\n+    \u003cspan class=\"hljs-title class_\"\u003eCustomHeadingPlugin\u003c/span\u003e,\n } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./components\"\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eHeadingNode\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/rich-text\"\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e initialState \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./initialState.json'\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./App.css'\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e70\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e74\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e @@\n                 /\u003e\n                 \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eHistoryPlugin\u003c/span\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n                 \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eOnChangePlugin\u003c/span\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n+                \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomHeadingPlugin\u003c/span\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n                 \u0026#x3C;div style={margin: '20px 0px'}\u003e\n                     \u0026#x3C;CustomHistoryActions/\u003e\n                     \u0026#x3C;CustomHeadingActions/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e👉 참고: 이전에 다뤘지만 다시 한 번 상기시키자면... 테마 구성을 업데이트하여 각 헤딩 엘리먼트에 적용하려는 CSS 클래스 이름을 지정할 수 있어요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e62\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e62\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e14\u003c/span\u003e @@\n                 \u003cspan class=\"hljs-attr\"\u003esubscript\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'text-subscript'\u003c/span\u003e,\n                 \u003cspan class=\"hljs-attr\"\u003esuperscript\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'text-superscript'\u003c/span\u003e,\n             },\n+            \u003cspan class=\"hljs-attr\"\u003eheading\u003c/span\u003e: {\n+                \u003cspan class=\"hljs-comment\"\u003e// Flowbite examples: https://flowbite.com/docs/typography/headings/#heading-one-h1\u003c/span\u003e\n+                \u003cspan class=\"hljs-attr\"\u003eh1\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-5xl font-extrabold dark:text-white\"\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003eh2\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-4xl font-bold dark:text-white\"\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003eh3\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-3xl font-bold dark:text-white\"\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003eh4\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-2xl font-bold dark:text-white\"\u003c/span\u003e,\n+                \u003cspan class=\"hljs-attr\"\u003eh5\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-xl font-bold dark:text-white\"\u003c/span\u003e,  \n+            },\n             \u003cspan class=\"hljs-attr\"\u003ebanner\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'banner'\u003c/span\u003e\n         },\n         \u003cspan class=\"hljs-attr\"\u003eonError\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ee\u003c/span\u003e) =\u003e\u003c/span\u003e {\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e커스텀 노드를 만드는 방법\u003c/h1\u003e\n\u003cp\u003e이전 섹션에서는 기본적으로 모든 것을 다루었으니, 이번 섹션에서는 직접 노드를 만들어보겠습니다. 제가 생각하기에 렉시컬이 노드를 처리하는 전체 그림을 파악하게 될 것입니다.\u003c/p\u003e\n\u003cp\u003e가장 간단한 배너 노드:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n    \u003cspan class=\"hljs-title class_\"\u003eEditorConfig\u003c/span\u003e,\n    \u003cspan class=\"hljs-title class_\"\u003eElementNode\u003c/span\u003e,\n    \u003cspan class=\"hljs-title class_\"\u003eLexicalEditor\u003c/span\u003e,\n    \u003cspan class=\"hljs-title class_\"\u003eSerializedElementNode\u003c/span\u003e,\n    \u003cspan class=\"hljs-title class_\"\u003eSpread\u003c/span\u003e,\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"lexical\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e type \u003cspan class=\"hljs-title class_\"\u003eSerializedBannerNode\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eSpread\u003c/span\u003e\u0026#x3C;\n    {\n        \u003cspan class=\"hljs-attr\"\u003ecustomValue\u003c/span\u003e: string;\n    },\n    \u003cspan class=\"hljs-title class_\"\u003eSerializedElementNode\u003c/span\u003e\n\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eElementNode\u003c/span\u003e {\n    \u003cspan class=\"hljs-title function_\"\u003ecreateDOM\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003e_config\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eEditorConfig\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003e_editor\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eLexicalEditor\u003c/span\u003e): \u003cspan class=\"hljs-title class_\"\u003eHTMLElement\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e div = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"div\"\u003c/span\u003e);\n        div.\u003cspan class=\"hljs-property\"\u003eclassName\u003c/span\u003e = _config.\u003cspan class=\"hljs-property\"\u003etheme\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebanner\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e div;\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eclone\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003enode\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e): \u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e(node.\u003cspan class=\"hljs-property\"\u003e__key\u003c/span\u003e);\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetType\u003c/span\u003e(): string {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"banner\"\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-comment\"\u003e/**\n     * Returning false tells Lexical that this node does not need its\n     * DOM element replacing with a new copy from createDOM.\n     */\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_\"\u003eupdateDOM\u003c/span\u003e(\n        \u003cspan class=\"hljs-attr\"\u003e_prevNode\u003c/span\u003e: unknown,\n        \u003cspan class=\"hljs-attr\"\u003e_dom\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eHTMLElement\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003e_config\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eEditorConfig\u003c/span\u003e,\n    ): boolean {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-title function_\"\u003eexportJSON\u003c/span\u003e(): \u003cspan class=\"hljs-title class_\"\u003eSerializedBannerNode\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n            \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"banner\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003echildren\u003c/span\u003e: [],\n            \u003cspan class=\"hljs-attr\"\u003ecustomValue\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"anything you like\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003eformat\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003eindent\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003edirection\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e,\n        };\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e설명:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e새로운 어휘 노드를 만들려면 미리 정의된 어휘 노드(ElementNode | TextNode | DecoratorNode 중 하나를 확장한 클래스를 만들고 메서드를 재정의해야 합니다(모든 메서드를 다루지는 않겠습니다));\u003c/li\u003e\n\u003cli\u003e먼저, 어휘는 노드의 타입에 대한 일치 항목을 찾으려고 할 것이며, 타입 함수를 호출하여 구성 노드 배열('banner'의 경우)에서 지정한 노드들로부터 getType 함수를 호출할 것입니다;\u003c/li\u003e\n\u003cli\u003e그 다음으로, 어휘는 HTML 요소를 만드는 createDOM 메서드를 호출할 것입니다;\u003c/li\u003e\n\u003cli\u003eOnChangePlugin에 toJSON 함수가 있는 것을 기억하시나요?\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// src/components/OnChangePlugin/OnChangePlugin.tsx\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {useLexicalComposerContext} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {useEffect} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"react\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eOnChangePlugin\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n    \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e editor.\u003cspan class=\"hljs-title function_\"\u003eregisterUpdateListener\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003elistener\u003c/span\u003e) =\u003e\u003c/span\u003e {\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'DATA'\u003c/span\u003e, listener.\u003cspan class=\"hljs-property\"\u003eeditorState\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etoJSON\u003c/span\u003e())\n        });\n    }, [editor]);\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e여기서 우리의 Banner exportJSON 함수가 호출될 것입니다.\u003c/p\u003e\n\u003cp\u003e이제 BannerNode를 위한 플러그인을 생성해야 합니다. 이미 Headings 섹션에서 이를 수행한 적이 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {useLexicalComposerContext} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {$getSelection, $isRangeSelection, \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND_PRIORITY_NORMAL\u003c/span\u003e, createCommand} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"lexical\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n    $setBlocksType\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/selection\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"../../nodes\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"react\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e $createBannerNode = (): \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eBannerNode\u003c/span\u003e =\u003e\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e();\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eINSERT_BANNER_COMMAND\u003c/span\u003e = \u003cspan class=\"hljs-title function_\"\u003ecreateCommand\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"create_banner\"\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCustomBannerPlugin\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eFC\u003c/span\u003e = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!editor.\u003cspan class=\"hljs-title function_\"\u003ehasNode\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e)) {\n        \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'BannerPlugin: \"BannerNode\" not registered on editor'\u003c/span\u003e);\n    }\n    editor.\u003cspan class=\"hljs-title function_\"\u003eregisterCommand\u003c/span\u003e(\n        \u003cspan class=\"hljs-variable constant_\"\u003eINSERT_BANNER_COMMAND\u003c/span\u003e,\n        \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n            \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e selection = $getSelection();\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ($isRangeSelection(selection)) {\n                $setBlocksType(selection, $createBannerNode);\n            }\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n        },\n        \u003cspan class=\"hljs-variable constant_\"\u003eCOMMAND_PRIORITY_NORMAL\u003c/span\u003e,\n    );\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCustomBannerActions 컴포넌트를 추가하세요: 우리 명령어와 함께 간단한 버튼이 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"react\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {useLexicalComposerContext} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/react/LexicalComposerContext\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-variable constant_\"\u003eINSERT_BANNER_COMMAND\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"../CustomBannerPlugin\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCustomBannerActions\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eFC\u003c/span\u003e = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [editor] = \u003cspan class=\"hljs-title function_\"\u003euseLexicalComposerContext\u003c/span\u003e();\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleOnClick\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n        editor.\u003cspan class=\"hljs-title function_\"\u003edispatchCommand\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eINSERT_BANNER_COMMAND\u003c/span\u003e, \u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e);\n    };\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n        \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{marginTop:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003e10px\u003c/span\u003e'}}\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{{fontWeight:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003ebold\u003c/span\u003e'}}\u003e\u003c/span\u003eHeading actions\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n                \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{handleOnClick}\u003c/span\u003e\u003e\u003c/span\u003e\n                    Banner\n                \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    );\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eApp.tsx를 업데이트하였습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e13\u003c/span\u003e @@\n     \u003cspan class=\"hljs-title class_\"\u003eCustomAlignActions\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eCustomHeadingActions\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eCustomHeadingPlugin\u003c/span\u003e,\n+    \u003cspan class=\"hljs-title class_\"\u003eCustomBannerPlugin\u003c/span\u003e,\n+    \u003cspan class=\"hljs-title class_\"\u003eCustomBannerActions\u003c/span\u003e,\n } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./components\"\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eHeadingNode\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@lexical/rich-text\"\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e initialState \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./initialState.json'\u003c/span\u003e;\n \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./App.css'\u003c/span\u003e\n+\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./nodes\"\u003c/span\u003e;\n \n \u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eFC\u003c/span\u003e = \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n \n@@ -\u003cspan class=\"hljs-number\"\u003e43\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e46\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e @@\n \n     \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elexicalConfig\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eInitialConfigType\u003c/span\u003e = {\n         \u003cspan class=\"hljs-attr\"\u003enamespace\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'My Rich Text Editor'\u003c/span\u003e,\n-        \u003cspan class=\"hljs-attr\"\u003enodes\u003c/span\u003e: [\u003cspan class=\"hljs-title class_\"\u003eHeadingNode\u003c/span\u003e],\n+        \u003cspan class=\"hljs-attr\"\u003enodes\u003c/span\u003e: [\n+            \u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e,\n+            \u003cspan class=\"hljs-title class_\"\u003eHeadingNode\u003c/span\u003e\n+        ],\n         \u003cspan class=\"hljs-attr\"\u003etheme\u003c/span\u003e: {\n             \u003cspan class=\"hljs-attr\"\u003etext\u003c/span\u003e: {\n                 \u003cspan class=\"hljs-attr\"\u003ebold\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"text-bold\"\u003c/span\u003e,\n@@ -\u003cspan class=\"hljs-number\"\u003e55\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e61\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e @@\n                 \u003cspan class=\"hljs-attr\"\u003esubscript\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'text-subscript'\u003c/span\u003e,\n                 \u003cspan class=\"hljs-attr\"\u003esuperscript\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'text-superscript'\u003c/span\u003e,\n             },\n+            \u003cspan class=\"hljs-attr\"\u003ebanner\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'banner'\u003c/span\u003e\n         },\n         \u003cspan class=\"hljs-attr\"\u003eonError\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ee\u003c/span\u003e) =\u003e\u003c/span\u003e {\n             \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'ERROR:'\u003c/span\u003e, e)\n@@ -\u003cspan class=\"hljs-number\"\u003e75\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e82\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e @@\n                 \u0026#x3C;\u003cspan class=\"hljs-title class_\"\u003eHistoryPlugin\u003c/span\u003e/\u003e\n                 \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eOnChangePlugin\u003c/span\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n                 \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomHeadingPlugin\u003c/span\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n+                \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomBannerPlugin\u003c/span\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n                 \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{margin:\u003c/span\u003e '\u003cspan class=\"hljs-attr\"\u003e20px\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003e0px\u003c/span\u003e'}\u003e\u003c/span\u003e\n                     \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomHistoryActions\u003c/span\u003e/\u003e\u003c/span\u003e\n+                    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomBannerActions\u003c/span\u003e/\u003e\u003c/span\u003e\n                     \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomHeadingActions\u003c/span\u003e/\u003e\u003c/span\u003e\n                     \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomTextActions\u003c/span\u003e/\u003e\u003c/span\u003e\n                     \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eCustomAlignActions\u003c/span\u003e/\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCSS:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecss\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e33\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e13\u003c/span\u003e @@\n     vertical-\u003cspan class=\"hljs-attr\"\u003ealign\u003c/span\u003e: \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e ;\n }\n \n+.\u003cspan class=\"hljs-property\"\u003ebanner\u003c/span\u003e {\n+    border-\u003cspan class=\"hljs-attr\"\u003eleft\u003c/span\u003e: 3px coral solid;\n+    background-\u003cspan class=\"hljs-attr\"\u003ecolor\u003c/span\u003e: lightskyblue;\n+    border-\u003cspan class=\"hljs-attr\"\u003eradius\u003c/span\u003e: 3px;\n+    \u003cspan class=\"hljs-attr\"\u003epadding\u003c/span\u003e: 10px \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n+}\n+\n p {\n     \u003cspan class=\"hljs-attr\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e결과:\u003c/p\u003e\n\u003cp\u003e🔴 문제가 두 가지 있을 것입니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e사용자가 Enter 키 또는 Shift+Enter 키를 눌러 노드에서 \"나가기\"를 할 수 없을 것입니다.\u003c/li\u003e\n\u003cli\u003e사용자가 Backspace 키를 눌러 노드를 \"제거\"할 수 없을 것입니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e우리의 BannerNode를 업데이트해 봅시다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/nodes/\u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e/\u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e @@\n     \u003cspan class=\"hljs-title class_\"\u003eEditorConfig\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eElementNode\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eLexicalEditor\u003c/span\u003e,\n+    $createParagraphNode,\n+    \u003cspan class=\"hljs-title class_\"\u003eLexicalNode\u003c/span\u003e,\n+    \u003cspan class=\"hljs-title class_\"\u003eRangeSelection\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eSerializedElementNode\u003c/span\u003e,\n     \u003cspan class=\"hljs-title class_\"\u003eSpread\u003c/span\u003e,\n } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"lexical\"\u003c/span\u003e;\n@@ -\u003cspan class=\"hljs-number\"\u003e40\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e43\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e34\u003c/span\u003e @@\n         \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n     }\n\n+    \u003cspan class=\"hljs-comment\"\u003e/**\n+     * 사용자가 모든 콘텐츠를 삭제할 때 노드를 단락으로 설정해야 합니다\n+     */\u003c/span\u003e\n+    \u003cspan class=\"hljs-title function_\"\u003ecollapseAtStart\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003e_\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eRangeSelection\u003c/span\u003e): boolean {\n+        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e paragraph = $createParagraphNode();\n+        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e children = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetChildren\u003c/span\u003e();\n+        children.\u003cspan class=\"hljs-title function_\"\u003eforEach\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003echild\u003c/span\u003e) =\u003e\u003c/span\u003e paragraph.\u003cspan class=\"hljs-title function_\"\u003eappend\u003c/span\u003e(child));\n+        \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ereplace\u003c/span\u003e(paragraph);\n+\n+        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n+    }\n+\n+    \u003cspan class=\"hljs-comment\"\u003e/**\n+     * 사용자가 Enter 키를 누를 때 노드를 단락으로 설정해야 합니다.\n+     * Shift+Enter를 누를 경우 노드는 유지됩니다\n+     */\u003c/span\u003e\n+    \u003cspan class=\"hljs-title function_\"\u003einsertNewAfter\u003c/span\u003e(\n+        \u003cspan class=\"hljs-attr\"\u003e_\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eRangeSelection\u003c/span\u003e,\n+        restoreSelection?: boolean,\n+    ): \u003cspan class=\"hljs-title class_\"\u003eLexicalNode\u003c/span\u003e | \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e {\n+        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e paragraph = $createParagraphNode();\n+        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e direction = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetDirection\u003c/span\u003e();\n+        paragraph.\u003cspan class=\"hljs-title function_\"\u003esetDirection\u003c/span\u003e(direction);\n+        \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003einsertAfter\u003c/span\u003e(paragraph, restoreSelection);\n+\n+        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e paragraph;\n+    }\n+\n     \u003cspan class=\"hljs-title function_\"\u003eexportJSON\u003c/span\u003e(): \u003cspan class=\"hljs-title class_\"\u003eSerializedBannerNode\u003c/span\u003e {\n         \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n             \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"banner\"\u003c/span\u003e,\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e지금까지 얻은 것을 확인해 보겠습니다:\u003c/p\u003e\n\u003cp\u003e🟢 업데이트 후:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e사용자는 노드에서 Enter 키를 눌러 \"나가기\" 할 수 있습니다;\u003c/li\u003e\n\u003cli\u003e사용자는 노드를 Shift + Enter 키를 눌러 \"확장\"할 수 있습니다;\u003c/li\u003e\n\u003cli\u003e사용자는 콘텐츠 텍스트가 비어 있을 때 Backspace 키를 눌러 노드를 \"삭제\"할 수 있습니다;\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e마지막으로, 에디터의 JSON 트리에서 BannerNode을 파싱하는 함수가 필요합니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e: src/nodes/\u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e/\u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etsx\u003c/span\u003e\n\n@@ -\u003cspan class=\"hljs-number\"\u003e71\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e +\u003cspan class=\"hljs-number\"\u003e71\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e @@\n         \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e paragraph;\n     }\n \n+    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e importJSON(\u003cspan class=\"hljs-attr\"\u003e_\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eSerializedBannerNode\u003c/span\u003e): \u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e {\n+        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBannerNode\u003c/span\u003e();\n+    }\n+\n     \u003cspan class=\"hljs-title function_\"\u003eexportJSON\u003c/span\u003e(): \u003cspan class=\"hljs-title class_\"\u003eSerializedBannerNode\u003c/span\u003e {\n         \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n             \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"banner\"\u003c/span\u003e,\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e깃허브 리포지토리:\u003c/h1\u003e\n\u003cp\u003e관련된 기사들:\u003c/p\u003e\n\u003cp\u003e이 글이 도움이 되었기를 바랍니다. 만약 그렇다면, \"claps\"를 주시면 감사하겠습니다.\u003c/p\u003e\n\u003ch1\u003e간단히 설명\u003c/h1\u003e\n\u003cp\u003e우리 커뮤니티에 참여해 주셔서 감사합니다! 떠나시기 전에:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e반드시 작가를 칭찬하고 팔로우하세요! 👏\u003c/li\u003e\n\u003cli\u003ePlainEnglish.io에서 더 많은 콘텐츠를 찾아보세요! 🚀\u003c/li\u003e\n\u003cli\u003e무료 주간 뉴스레터에 가입하세요. 🗞️\u003c/li\u003e\n\u003cli\u003e트위터, 링크드인, 유튜브, 그리고 디스코드에서 저희를 팔로우해주세요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-14-GettingStartedwithLexicalRichTextEditorforReact"},"buildId":"6w6Yg3qJxLtqeXNguENru","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>