<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸° | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-20-RenderHTMLinSwiftUI" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸° | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸° | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-RenderHTMLinSwiftUI_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-20-RenderHTMLinSwiftUI" data-gatsby-head="true"/><meta name="twitter:title" content="SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸° | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-RenderHTMLinSwiftUI_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 03:39" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_buildManifest.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸°</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸°" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">12<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-RenderHTMLinSwiftUI&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<h2>NSAttributedString, UITextView ë° UIViewRepresentableë¥¼ ì‚¬ìš©í•˜ì—¬ SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸°.</h2>
<p><img src="/assets/img/2024-06-20-RenderHTMLinSwiftUI_0.png" alt="ì´ë¯¸ì§€"></p>
<p>SwiftUIëŠ” ë©‹ì§€ì§€ë§Œ ì—¬ì „íˆ ê¸°ëŠ¥ì´ ë¶€ì¡±í•œ ê²ƒì´ ë§ìŠµë‹ˆë‹¤. ëª‡ ë…„ê°„ UIKitì„ ì‚¬ìš©í•œ í›„ ìµìˆ™í•´ì§„ ê¸°ëŠ¥ì´ì£ . ê·¸ ì¤‘ í•˜ë‚˜ëŠ” NSAttributedString ë° UITextViewë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ HTML í…ìŠ¤íŠ¸ë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.</p>
<p>ì´ ê¸€ì—ì„œëŠ” SwiftUIë¥¼ UIViewRepresentableì„ ì‚¬ìš©í•˜ì—¬ UIKitê³¼ ì—°ê²°í•˜ê³ , HTMLì„ ë Œë”ë§í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ SwiftUI Viewë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p>ì—…ë°ì´íŠ¸: ì›ë³¸ ê¸°ì‚¬ ê°œì„  ì‚¬í•­</p>
<p>ì´ ê¸°ì‚¬ì˜ ì›ë³¸ ë²„ì „ì—ì„œëŠ” NSAttributedStringì„ ì‚¬ìš©í•˜ì—¬ HTMLì„ ìŠ¤íƒ€ì¼ë§í•˜ê³  ë Œë”ë§í•˜ëŠ” ë° íŠ¹í™”ëœ ê°„ë‹¨í•œ ì‚¬ìš©ì ì •ì˜ SwiftUI ë·°ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œëŠ” AttributedText ë·°ë„ ì–¸ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ë¡œ ì¸í•´ ì´ìƒí•œ ë™ì‘ì´ ë°œìƒí–ˆëŠ”ë°, ì•„ì§ ì ì ˆí•œ í•´ê²°ì±…ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ ê¸°ì‚¬ì˜ ì—…ë°ì´íŠ¸ëœ ë²„ì „ì—ì„œëŠ” HTML ë·°ë¥¼ ì œê±°í•˜ê³  NSAttributedStringì— ëŒ€í•œ í¸ë¦¬í•œ í™•ì¥ ê¸°ëŠ¥ì´ ëª‡ ê°€ì§€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ë‚˜ëŠ” ì´ìƒí•œ ë™ì‘ì— ëŒ€í•œ ë” ë‚˜ì€ ì´í•´ë¥¼ ì–»ê¸° ìœ„í•´ Apple ê°œë°œì í¬ëŸ¼ê³¼ ìŠ¤íƒ ì˜¤ë²„í”Œë¡œì— ê²Œì‹œí–ˆìŠµë‹ˆë‹¤.</p>
<h2>ì£¼ìš” í¬ì¸íŠ¸</h2>
<ul>
<li>UIViewRepresentable í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ UIKit ë·°ë¥¼ SwiftUI ë·° ê³„ì¸µêµ¬ì¡°ì— í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>NSAttributedString (UITextViewë¥¼ í†µí•´)ì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ë…¸ì¶œí•  ìˆ˜ ìˆìœ¼ë©°, í˜„ì¬ SwiftUI ì„¸ê³„ì—ëŠ” ë™ë“±í•œ ê²ƒì´ ì—†ìŠµë‹ˆë‹¤ (í•˜ì§€ë§Œ AttributedStringëŠ” ì¢‹ì€ í›„ë³´ì¼ ìˆ˜ ìˆìŒ).</li>
<li>ìŠ¤íƒ€ì¼ì´ ì§€ì •ëœ HTML í˜•ì‹ì˜ NSAttributedStringsëŠ” UIViewRepresentableì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” UITextViewì— ì˜í•´ ë Œë”ë§ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ì—ì„œ ì¼ë¶€ CSS ìŠ¤íƒ€ì¼ ì†ì„±ì„ ì¸ë¼ì¸ìœ¼ë¡œ ì •ì˜í•˜ê±°ë‚˜ HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ì˜ ì „ìš© ìŠ¤íƒ€ì¼ íƒœê·¸ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
<p>ì´ ê¸°ì‚¬ì—ì„œ ì‚¬ìš©ëœ ì™„ì„±ëœ ì˜ˆì œ ì½”ë“œëŠ” GitHubì—ì„œ ì°¾ì„ ìˆ˜ ìˆì–´ìš”: <a href="https://github.com/thomsmed/ios-examples/tree/main/SwiftUIHTML" rel="nofollow" target="_blank">https://github.com/thomsmed/ios-examples/tree/main/SwiftUIHTML</a>.</p>
<h1>ì»¤ìŠ¤í…€ UIViewRepresentable</h1>
<p>SwiftUIê°€ ì²˜ìŒ ë°œí‘œëì„ ë•ŒëŠ” ê¸°ì¡´ UIKit ë·°ë¥¼ SwiftUI ë·° ê³„ì¸µêµ¬ì¡°ì— ì„ë² ë“œí•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” APIë„ í•¨ê»˜ ì œê³µë˜ì—ˆìŠµë‹ˆë‹¤. ê°œë°œìë“¤ì—ê²Œ UIKitì—ì„œ SwiftUIë¡œì˜ ì „í™˜ì´ ì‰¬ì›Œì¡Œì–´ìš”.</p>
<p>ì´ëŸ¬í•œ API ì¤‘ í•˜ë‚˜ëŠ” UIViewRepresentable í”„ë¡œí† ì½œì¸ë°ìš”, SwiftUIì˜ ì»¨í…ìŠ¤íŠ¸ì—ì„œ UIKit ë·°ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë¼ìš”. Appleì€ ì´ í”„ë¡œí† ì½œê³¼ ë‹¤ë¥¸ SwiftUIì™€ UIKitì„ ì—°ê²°í•˜ëŠ” í”„ë¡œí† ì½œì„ í†µí•´ ì´ë¥¼ í†µí•œ ê°€ëŠ¥ì„±ì„ ë³´ì—¬ì£¼ëŠ” ë©‹ì§„ WWDC ë¹„ë””ì˜¤ë¥¼ ì œê³µí–ˆì–´ìš”. ì ì–´ë„ 'Integrating SwiftUI'ë¥¼ í™•ì¸í•´ë³´ì‹œê¸°ë¥¼ ê¶Œí•´ìš”.</p>
<h2>AttributedText</h2>
<p>NSAttributedStringì€ í…ìŠ¤íŠ¸ ë¬¸ìì—´ì„ ê°•ë ¥í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ë„êµ¬ë¡œ, í…ìŠ¤íŠ¸ ë¬¸ìì—´ì˜ ë¬¸ì ë²”ìœ„ë¥¼ ìŠ¤íƒ€ì¼ë§í•˜ëŠ” ê°•ë ¥í•œ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. ì‹¬ì§€ì–´ ê°„ë‹¨í•œ HTMLì— ë”°ë¼ í…ìŠ¤íŠ¸ë¥¼ ìŠ¤íƒ€ì¼ë§í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>
<p>NSAttributedStringì„ ìŠ¤íƒ€ì¼ë§ëœ ìƒíƒœë¡œ ì´ˆê¸°í™”í•˜ë ¤ë©´ NSAttributedString.init(data:options:documentAttributes:) ì´ë‹ˆì…œë¼ì´ì €ì— .documentType ì˜µì…˜ì„ .htmlë¡œ ì„¤ì •í•œ HTML ë¬¸ìì—´(ë°ì´í„° í˜•ì‹ìœ¼ë¡œ)ì„ ì „ë‹¬í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  UITextViewì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ì•±ì—ì„œ HTMLì„ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>
<p>UIViewRepresentable í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ NSAttributedString ë° UITextViewì˜ ê¸°ëŠ¥ì„ SwiftUIì— ì‚¬ìš©ë˜ëŠ” ì‚¬ìš©ì ì§€ì • AttributedText Viewë¡œ ë…¸ì¶œì‹œí‚¬ ê²ƒì…ë‹ˆë‹¤!</p>
<pre><code class="hljs language-swift"><span class="hljs-keyword">import</span> SwiftUI

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AttributedText</span>: <span class="hljs-title class_">UIViewRepresentable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> attributedString: <span class="hljs-type">NSAttributedString</span>

    <span class="hljs-keyword">init</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">attributedString</span>: <span class="hljs-type">NSAttributedString</span>) {
        <span class="hljs-keyword">self</span>.attributedString <span class="hljs-operator">=</span> attributedString
    }

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeUIView</span>(<span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) -> <span class="hljs-type">UITextView</span> {
        <span class="hljs-comment">// SwiftUIì´ ì´ "View"ë¥¼ ë Œë”ë§í•˜ëŠ” ì²« ë²ˆì§¸ ì‹œê°„ì— í˜¸ì¶œë©ë‹ˆë‹¤.</span>

        <span class="hljs-keyword">let</span> uiTextView <span class="hljs-operator">=</span> <span class="hljs-type">UITextView</span>()

        <span class="hljs-comment">// ë°°ê²½ ë·°ê°€ ë°˜ì§ì¼ ìˆ˜ ìˆë„ë¡ íˆ¬ëª…í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.</span>
        uiTextView.backgroundColor <span class="hljs-operator">=</span> .clear

        <span class="hljs-comment">// í…ìŠ¤íŠ¸ ì‹œê°í™”ë§Œì„ ìœ„í•œ ê²ƒì´ë¯€ë¡œ í¸ì§‘ë˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.</span>
        uiTextView.isEditable <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>

        <span class="hljs-comment">// UITextViewë¥¼ ê°€ëŠ¥í•œ ë„ˆë¹„ì— ë§ê²Œ ìœ ì—°í•˜ê²Œ ë§Œë“¤ì§€ë§Œ, ì½˜í…ì¸ ì— ë§ëŠ” ë†’ì´ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤.</span>
        <span class="hljs-comment">// ë˜í•œ UITextViewê°€ ìŠ¤í¬ë¡¤ë˜ì§€ ì•Šê²Œ í•˜ì—¬ UITextViewê°€ í…ìŠ¤íŠ¸ ì½˜í…ì¸ ì™€ ì¼ì¹˜í•˜ë„ë¡ `intrinsicContentSize`ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</span>
        uiTextView.isScrollEnabled <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
        uiTextView.setContentHuggingPriority(.defaultLow, for: .vertical)
        uiTextView.setContentHuggingPriority(.defaultLow, for: .horizontal)
        uiTextView.setContentCompressionResistancePriority(.required, for: .vertical)
        uiTextView.setContentCompressionResistancePriority(.defaultLow, for: .horizontal)

        <span class="hljs-keyword">return</span> uiTextView
    }

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">updateUIView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">uiTextView</span>: <span class="hljs-type">UITextView</span>, <span class="hljs-params">context</span>: <span class="hljs-type">Context</span>) {
        <span class="hljs-comment">// SwiftUIì´ ì´ UIViewRepresentableì„ ì²˜ìŒ ë Œë”ë§í•˜ëŠ” ì‹œê°„ê³¼ ìƒíƒœ ë³€ê²½ì— ëŒ€í•´ ì•Œë¦¼ì„ ë°›ì„ ë•Œë§ˆë‹¤ í˜¸ì¶œë©ë‹ˆë‹¤. (ì˜ˆ: @State ë³€ìˆ˜ë¥¼ í†µí•´)</span>
        uiTextView.attributedText <span class="hljs-operator">=</span> attributedString
    }
}
</code></pre>
<p>UIViewRepresentableë¡œ ìœ„ì—ì„œ ì •ì˜í•œ AttributedTextë¥¼ ì‚¬ìš©í•˜ì—¬ SwiftUI ì•±ì—ì„œ NSAttributedStringsë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ë¡œ ì´ˆê¸°í™”ëœ NSAttributedStringsë¥¼ ë Œë”ë§í•˜ëŠ” ê²ƒì´ ì£¼ëœ ëª©í‘œì´ë¯€ë¡œ NSAttributedStringì— ëŒ€í•œ í¸ì˜ ìƒì„±ìë¥¼ ë§Œë“­ë‹ˆë‹¤.</p>
<pre><code class="hljs language-swift"><span class="hljs-keyword">import</span> UIKit

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">NSAttributedString</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">html</span>(<span class="hljs-params">withBody</span> <span class="hljs-params">body</span>: <span class="hljs-type">String</span>) -> <span class="hljs-type">NSAttributedString</span> {
        <span class="hljs-comment">// ì•±ì—ì„œ ì‚¬ìš©ë˜ëŠ” í˜„ì¬ ë¡œì¼€ì´ì…˜ê³¼ ì¼ì¹˜í•˜ëŠ” HTML `lang` ì†ì„±ì„ ë§¤ì¹˜í•©ë‹ˆë‹¤. (ì¦‰, Bundle.main)</span>
        <span class="hljs-keyword">let</span> bundle <span class="hljs-operator">=</span> <span class="hljs-type">Bundle</span>.main
        <span class="hljs-keyword">let</span> lang <span class="hljs-operator">=</span> bundle.preferredLocalizations.first
            <span class="hljs-operator">??</span> bundle.developmentLocalization
            <span class="hljs-operator">??</span> <span class="hljs-string">"en"</span>

        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">try?</span> <span class="hljs-type">NSAttributedString</span>(
            data: <span class="hljs-string">"""
            &#x3C;!doctype html>
            &#x3C;html lang="<span class="hljs-subst">\(lang)</span>">
            &#x3C;head>
                &#x3C;meta charset="utf-8">
                &#x3C;style type="text/css">
                    /*
                      HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ì— ëŒ€í•œ ì‚¬ìš©ì ì •ì˜ CSS ìŠ¤íƒ€ì¼ ì§€ì •
                      ì£¼ì˜: NSAttributedString/UITextViewì—ì„œ ì§€ì›í•˜ëŠ” CSS ê¸°ëŠ¥ì€ ì œí•œì ì…ë‹ˆë‹¤.
                    */

                    body {
                        font: -apple-system-body;
                        color: <span class="hljs-subst">\(UIColor.secondaryLabel.hex)</span>;
                    }

                    h1, h2, h3, h4, h5, h6 {
                        color: <span class="hljs-subst">\(UIColor.label.hex)</span>;
                    }

                    a {
                        color: <span class="hljs-subst">\(UIColor.systemGreen.hex)</span>;
                    }

                    li:last-child {
                        margin-bottom: 1em;
                    }
                &#x3C;/style>
            &#x3C;/head>
            &#x3C;body>
                <span class="hljs-subst">\(body)</span>
            &#x3C;/body>
            &#x3C;/html>
            """</span>.data(using: .utf8)<span class="hljs-operator">!</span>,
            options: [
                .documentType: <span class="hljs-type">NSAttributedString</span>.<span class="hljs-type">DocumentType</span>.html,
                .characterEncoding: <span class="hljs-type">String</span>.<span class="hljs-type">Encoding</span>.utf8.rawValue,
            ],
            documentAttributes: <span class="hljs-literal">nil</span>
        )) <span class="hljs-operator">??</span> <span class="hljs-type">NSAttributedString</span>(string: body)
    }
}

<span class="hljs-comment">// UIColorë¥¼ CSS ì¹œí™”ì ì¸ ìƒ‰ìƒ í—¥ìŠ¤ ë¬¸ìì—´ë¡œ ë³€í™˜</span>

<span class="hljs-keyword">private</span> <span class="hljs-keyword">extension</span> <span class="hljs-title class_">UIColor</span> {
    <span class="hljs-keyword">var</span> hex: <span class="hljs-type">String</span> {
        <span class="hljs-keyword">var</span> red: <span class="hljs-type">CGFloat</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
        <span class="hljs-keyword">var</span> green: <span class="hljs-type">CGFloat</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
        <span class="hljs-keyword">var</span> blue: <span class="hljs-type">CGFloat</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
        <span class="hljs-keyword">var</span> alpha: <span class="hljs-type">CGFloat</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>

        getRed(<span class="hljs-operator">&#x26;</span>red, green: <span class="hljs-operator">&#x26;</span>green, blue: <span class="hljs-operator">&#x26;</span>blue, alpha: <span class="hljs-operator">&#x26;</span>alpha)

        <span class="hljs-keyword">return</span> <span class="hljs-type">String</span>(
            format: <span class="hljs-string">"#%02lX%02lX%02lX%02lX"</span>,
            lroundf(<span class="hljs-type">Float</span>(red <span class="hljs-operator">*</span> <span class="hljs-number">255</span>)),
            lroundf(<span class="hljs-type">Float</span>(green <span class="hljs-operator">*</span> <span class="hljs-number">255</span>)),
            lroundf(<span class="hljs-type">Float</span>(blue <span class="hljs-operator">*</span> <span class="hljs-number">255</span>)),
            lroundf(<span class="hljs-type">Float</span>(alpha <span class="hljs-operator">*</span> <span class="hljs-number">255</span>))
        )
    }
}
</code></pre>
<p>NSAttributedStringì€ ì¼ë¶€ CSS ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤ (ì•ˆíƒ€ê¹ê²Œë„ ì–´ë”˜ê°€ ì œëŒ€ë¡œ ë¬¸ì„œí™”ë˜ì§€ ì•Šì€ ê¸°ëŠ¥ë“¤ì´ ìˆìŠµë‹ˆë‹¤), í•˜ì§€ë§Œ ì¸ë¼ì¸ ë° ë³„ë„ì˜ íƒœê·¸ ë‚´ì—ì„œ ìŠ¤íƒ€ì¼ì„ ì •ì˜í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤ (ì¼ë°˜ì ìœ¼ë¡œ HTML head íƒœê·¸ì˜ ì¼ë¶€ë¡œ).</p>
<h2>SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸°</h2>
<p>ê·¸ëŸ° ë‹¤ìŒ, ìš°ë¦¬ëŠ” AttributedText UIViewRepresentableì„ ì‚¬ìš©í•˜ì—¬ NSAttributedString í¸ë¦¬í•œ ì´ˆê¸°í™”ìë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ SwiftUI ì•±ì—ì„œ HTMLì„ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ - ì‹¬ì§€ì–´ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ë§ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤!</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">SwiftUI</span>

struct <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">var</span> <span class="hljs-attr">body</span>: some <span class="hljs-title class_">View</span> {
        <span class="hljs-title class_">NavigationStack</span> {
            <span class="hljs-title class_">ScrollView</span> {
                <span class="hljs-title class_">AttributedText</span>(.<span class="hljs-title function_">html</span>(<span class="hljs-attr">withBody</span>: <span class="hljs-string">""</span><span class="hljs-string">"
                &#x3C;h3>This is a H3 header&#x3C;/h3>
                &#x3C;p>This is a paragraph&#x3C;/p>
                &#x3C;ul>
                    &#x3C;li>List item one&#x3C;/li>
                    &#x3C;li>List item two&#x3C;/li>
                &#x3C;/ul>
                &#x3C;p>This is a paragraph with a &#x3C;a href="</span><span class="hljs-attr">https</span>:<span class="hljs-comment">//developer.apple.com/">link&#x3C;/a>&#x3C;/p></span>
                <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: blue; text-align: center;"</span>></span>
                    This is a paragraph with inline styling
                <span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span></span>
                <span class="hljs-string">""</span><span class="hljs-string">"))
                .padding()
            }
            .navigationTitle("</span><span class="hljs-title class_">Render</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">SwiftUI</span><span class="hljs-string">")
        }
    }
}
</span></code></pre>
<h2>ë³´ë„ˆìŠ¤: í…Œë§ˆë³„ HTML ë Œë”ë§</h2>
<p>ë§Œì•½ ì•±ì´ (ìƒ‰ìƒ) í…Œë§ˆ ê°œë…ì„ ì‚¬ìš©í•˜ì—¬ ì•± ì „ë°˜ì— ëŒ€í•œ ìƒ‰ìƒ ì •ë³´ ë“±ì„ ì „íŒŒí•œë‹¤ë©´, í˜„ì¬ í…Œë§ˆ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ HTMLì„ ìŠ¤íƒ€ì¼ë§í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì‚¬ìš©ì ì •ì˜ í…Œë§ˆ í™˜ê²½ ê°’ê³¼ ë‹¤ë¥¸ NSAttributedString í¸ì˜ ì´ë‹ˆì…œë¼ì´ì €ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<p>ì‚¬ìš©ì ì •ì˜ í…Œë§ˆ í™˜ê²½ ê°’</p>
<p>ë‹¤ìŒì€ Markdown í˜•ì‹ìœ¼ë¡œ í…Œì´ë¸” íƒœê·¸ë¥¼ ë³€ê²½í•œ ì½”ë“œì…ë‹ˆë‹¤.</p>
<p>import SwiftUI</p>
<p>// Example of a simple Theme struct.
struct Theme {
let textPrimary: UIColor
let textSecondary: UIColor
let textInteractive: UIColor
}</p>
<p>extension Theme {
static let <code>default</code> = Theme(
textPrimary: .label,
textSecondary: .secondaryLabel,
textInteractive: .systemGreen
)
}</p>
<p>private struct ThemeEnvironmentKey: EnvironmentKey {
static var defaultValue: Theme = .default
}</p>
<p>extension EnvironmentValues {
var theme: Theme {
get { self[ThemeEnvironmentKey.self] }
set { self[ThemeEnvironmentKey.self] = newValue }
}
}</p>
<p>NSAttributedStringì„ ìœ„í•œ í¸ë¦¬í•œ ì´ë‹ˆì…œë¼ì´ì €</p>
<p>import UIKit</p>
<p>extension NSAttributedString {
static func themedHtml(withBody body: String, theme: Theme = .default) -> NSAttributedString {
// Match the HTML <code>lang</code> attribute to current localisation used by the app (aka Bundle.main).
let bundle = Bundle.main
let lang = bundle.preferredLocalizations.first
?? bundle.developmentLocalization
?? "en"</p>
<pre><code>    return (try? NSAttributedString(
        data: """
        &#x3C;!doctype html>
        &#x3C;html lang="\(lang)">
        &#x3C;head>
            &#x3C;meta charset="utf-8">
            &#x3C;style type="text/css">
                /*
                  Custom CSS styling of HTML formatted text.
                  Note, only a limited number of CSS features are supported by NSAttributedString/UITextView.
                */

                body {
                    font: -apple-system-body;
                    color: \(theme.textSecondary.hex);
                }

                h1, h2, h3, h4, h5, h6 {
                    color: \(theme.textPrimary.hex);
                }

                a {
                    color: \(theme.textInteractive.hex);
                }

                li:last-child {
                    margin-bottom: 1em;
                }
            &#x3C;/style>
        &#x3C;/head>
        &#x3C;body>
            \(body)
        &#x3C;/body>
        &#x3C;/html>
        """.data(using: .utf8)!,
        options: [
            .documentType: NSAttributedString.DocumentType.html,
            .characterEncoding: String.Encoding.utf8.rawValue,
        ],
        documentAttributes: nil
    )) ?? NSAttributedString(string: body)
}
</code></pre>
<p>}</p>
<p>// MARK: Converting UIColors into CSS friendly color hex string</p>
<p>private extension UIColor {
var hex: String {
var red: CGFloat = 0
var green: CGFloat = 0
var blue: CGFloat = 0
var alpha: CGFloat = 0</p>
<pre><code>    getRed(&#x26;red, green: &#x26;green, blue: &#x26;blue, alpha: &#x26;alpha)

    return String(
        format: "#%02lX%02lX%02lX%02lX",
        lroundf(Float(red * 255)),
        lroundf(Float(green * 255)),
        lroundf(Float(blue * 255)),
        lroundf(Float(alpha * 255))
    )
}
</code></pre>
<p>}</p>
<p>SwiftUIì—ì„œ í…Œë§ˆê°€ ì ìš©ëœ HTML ë Œë”ë§í•˜ê¸°</p>
<pre><code class="hljs language-swift"><span class="hljs-keyword">import</span> SwiftUI

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@Environment</span>(\.theme) <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> theme: <span class="hljs-type">Theme</span>

    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">NavigationStack</span> {
            <span class="hljs-type">ScrollView</span> {
                <span class="hljs-type">AttributedText</span>(.themedHtml(withBody: <span class="hljs-string">"""
                &#x3C;h3>This is a H3 header&#x3C;/h3>
                &#x3C;p>This is a paragraph&#x3C;/p>
                &#x3C;ul>
                    &#x3C;li>List item one&#x3C;/li>
                    &#x3C;li>List item two&#x3C;/li>
                &#x3C;/ul>
                &#x3C;p>This is a paragraph with a &#x3C;a href="https://developer.apple.com/">link&#x3C;/a>&#x3C;/p>
                &#x3C;p style="color: blue; text-align: center;">
                    This is a paragraph with inline styling
                &#x3C;/p>
                """</span>, theme: theme))
                .padding()
            }
            .navigationTitle(<span class="hljs-string">"Render Themed HTML in SwiftUI"</span>)
        }
    }
}
</code></pre>
<h2>ì´ê²Œ ë‹¤ì•¼!</h2>
<p>ì‰½ì£ ! SwiftUIê°€ ì •ë§ ë©‹ì§€ì§€ë§Œ, ë•Œë¡œëŠ” ëª‡ ë…„ ë™ì•ˆ ì‚¬ë‘í•´ ì˜¨ UIKit ë·°ì™€ ê¸°ëŠ¥ì„ ì„ë² ë“œí•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì°¸ ì¢‹ìŠµë‹ˆë‹¤.</p>
<p>ì½”ë”©í•˜ì„¸ìš”! ğŸ™Œ</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸°","description":"","date":"2024-06-20 03:39","slug":"2024-06-20-RenderHTMLinSwiftUI","content":"\n\n## NSAttributedString, UITextView ë° UIViewRepresentableë¥¼ ì‚¬ìš©í•˜ì—¬ SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸°.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-20-RenderHTMLinSwiftUI_0.png)\n\nSwiftUIëŠ” ë©‹ì§€ì§€ë§Œ ì—¬ì „íˆ ê¸°ëŠ¥ì´ ë¶€ì¡±í•œ ê²ƒì´ ë§ìŠµë‹ˆë‹¤. ëª‡ ë…„ê°„ UIKitì„ ì‚¬ìš©í•œ í›„ ìµìˆ™í•´ì§„ ê¸°ëŠ¥ì´ì£ . ê·¸ ì¤‘ í•˜ë‚˜ëŠ” NSAttributedString ë° UITextViewë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ HTML í…ìŠ¤íŠ¸ë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\nì´ ê¸€ì—ì„œëŠ” SwiftUIë¥¼ UIViewRepresentableì„ ì‚¬ìš©í•˜ì—¬ UIKitê³¼ ì—°ê²°í•˜ê³ , HTMLì„ ë Œë”ë§í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ SwiftUI Viewë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì—…ë°ì´íŠ¸: ì›ë³¸ ê¸°ì‚¬ ê°œì„  ì‚¬í•­\n\nì´ ê¸°ì‚¬ì˜ ì›ë³¸ ë²„ì „ì—ì„œëŠ” NSAttributedStringì„ ì‚¬ìš©í•˜ì—¬ HTMLì„ ìŠ¤íƒ€ì¼ë§í•˜ê³  ë Œë”ë§í•˜ëŠ” ë° íŠ¹í™”ëœ ê°„ë‹¨í•œ ì‚¬ìš©ì ì •ì˜ SwiftUI ë·°ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œëŠ” AttributedText ë·°ë„ ì–¸ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ë¡œ ì¸í•´ ì´ìƒí•œ ë™ì‘ì´ ë°œìƒí–ˆëŠ”ë°, ì•„ì§ ì ì ˆí•œ í•´ê²°ì±…ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ ê¸°ì‚¬ì˜ ì—…ë°ì´íŠ¸ëœ ë²„ì „ì—ì„œëŠ” HTML ë·°ë¥¼ ì œê±°í•˜ê³  NSAttributedStringì— ëŒ€í•œ í¸ë¦¬í•œ í™•ì¥ ê¸°ëŠ¥ì´ ëª‡ ê°€ì§€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ë‚˜ëŠ” ì´ìƒí•œ ë™ì‘ì— ëŒ€í•œ ë” ë‚˜ì€ ì´í•´ë¥¼ ì–»ê¸° ìœ„í•´ Apple ê°œë°œì í¬ëŸ¼ê³¼ ìŠ¤íƒ ì˜¤ë²„í”Œë¡œì— ê²Œì‹œí–ˆìŠµë‹ˆë‹¤.\n\n## ì£¼ìš” í¬ì¸íŠ¸\n\n- UIViewRepresentable í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ UIKit ë·°ë¥¼ SwiftUI ë·° ê³„ì¸µêµ¬ì¡°ì— í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- NSAttributedString (UITextViewë¥¼ í†µí•´)ì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ë…¸ì¶œí•  ìˆ˜ ìˆìœ¼ë©°, í˜„ì¬ SwiftUI ì„¸ê³„ì—ëŠ” ë™ë“±í•œ ê²ƒì´ ì—†ìŠµë‹ˆë‹¤ (í•˜ì§€ë§Œ AttributedStringëŠ” ì¢‹ì€ í›„ë³´ì¼ ìˆ˜ ìˆìŒ).\n- ìŠ¤íƒ€ì¼ì´ ì§€ì •ëœ HTML í˜•ì‹ì˜ NSAttributedStringsëŠ” UIViewRepresentableì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” UITextViewì— ì˜í•´ ë Œë”ë§ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ì—ì„œ ì¼ë¶€ CSS ìŠ¤íƒ€ì¼ ì†ì„±ì„ ì¸ë¼ì¸ìœ¼ë¡œ ì •ì˜í•˜ê±°ë‚˜ HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ì˜ ì „ìš© ìŠ¤íƒ€ì¼ íƒœê·¸ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ê¸°ì‚¬ì—ì„œ ì‚¬ìš©ëœ ì™„ì„±ëœ ì˜ˆì œ ì½”ë“œëŠ” GitHubì—ì„œ ì°¾ì„ ìˆ˜ ìˆì–´ìš”: https://github.com/thomsmed/ios-examples/tree/main/SwiftUIHTML.\n\n# ì»¤ìŠ¤í…€ UIViewRepresentable\n\nSwiftUIê°€ ì²˜ìŒ ë°œí‘œëì„ ë•ŒëŠ” ê¸°ì¡´ UIKit ë·°ë¥¼ SwiftUI ë·° ê³„ì¸µêµ¬ì¡°ì— ì„ë² ë“œí•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” APIë„ í•¨ê»˜ ì œê³µë˜ì—ˆìŠµë‹ˆë‹¤. ê°œë°œìë“¤ì—ê²Œ UIKitì—ì„œ SwiftUIë¡œì˜ ì „í™˜ì´ ì‰¬ì›Œì¡Œì–´ìš”.\n\nì´ëŸ¬í•œ API ì¤‘ í•˜ë‚˜ëŠ” UIViewRepresentable í”„ë¡œí† ì½œì¸ë°ìš”, SwiftUIì˜ ì»¨í…ìŠ¤íŠ¸ì—ì„œ UIKit ë·°ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë¼ìš”. Appleì€ ì´ í”„ë¡œí† ì½œê³¼ ë‹¤ë¥¸ SwiftUIì™€ UIKitì„ ì—°ê²°í•˜ëŠ” í”„ë¡œí† ì½œì„ í†µí•´ ì´ë¥¼ í†µí•œ ê°€ëŠ¥ì„±ì„ ë³´ì—¬ì£¼ëŠ” ë©‹ì§„ WWDC ë¹„ë””ì˜¤ë¥¼ ì œê³µí–ˆì–´ìš”. ì ì–´ë„ 'Integrating SwiftUI'ë¥¼ í™•ì¸í•´ë³´ì‹œê¸°ë¥¼ ê¶Œí•´ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## AttributedText\n\nNSAttributedStringì€ í…ìŠ¤íŠ¸ ë¬¸ìì—´ì„ ê°•ë ¥í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ë„êµ¬ë¡œ, í…ìŠ¤íŠ¸ ë¬¸ìì—´ì˜ ë¬¸ì ë²”ìœ„ë¥¼ ìŠ¤íƒ€ì¼ë§í•˜ëŠ” ê°•ë ¥í•œ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. ì‹¬ì§€ì–´ ê°„ë‹¨í•œ HTMLì— ë”°ë¼ í…ìŠ¤íŠ¸ë¥¼ ìŠ¤íƒ€ì¼ë§í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\nNSAttributedStringì„ ìŠ¤íƒ€ì¼ë§ëœ ìƒíƒœë¡œ ì´ˆê¸°í™”í•˜ë ¤ë©´ NSAttributedString.init(data:options:documentAttributes:) ì´ë‹ˆì…œë¼ì´ì €ì— .documentType ì˜µì…˜ì„ .htmlë¡œ ì„¤ì •í•œ HTML ë¬¸ìì—´(ë°ì´í„° í˜•ì‹ìœ¼ë¡œ)ì„ ì „ë‹¬í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  UITextViewì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ì•±ì—ì„œ HTMLì„ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!\n\nUIViewRepresentable í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ NSAttributedString ë° UITextViewì˜ ê¸°ëŠ¥ì„ SwiftUIì— ì‚¬ìš©ë˜ëŠ” ì‚¬ìš©ì ì§€ì • AttributedText Viewë¡œ ë…¸ì¶œì‹œí‚¬ ê²ƒì…ë‹ˆë‹¤!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```swift\nimport SwiftUI\n\nstruct AttributedText: UIViewRepresentable {\n    private let attributedString: NSAttributedString\n\n    init(_ attributedString: NSAttributedString) {\n        self.attributedString = attributedString\n    }\n\n    func makeUIView(context: Context) -\u003e UITextView {\n        // SwiftUIì´ ì´ \"View\"ë¥¼ ë Œë”ë§í•˜ëŠ” ì²« ë²ˆì§¸ ì‹œê°„ì— í˜¸ì¶œë©ë‹ˆë‹¤.\n\n        let uiTextView = UITextView()\n\n        // ë°°ê²½ ë·°ê°€ ë°˜ì§ì¼ ìˆ˜ ìˆë„ë¡ íˆ¬ëª…í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.\n        uiTextView.backgroundColor = .clear\n\n        // í…ìŠ¤íŠ¸ ì‹œê°í™”ë§Œì„ ìœ„í•œ ê²ƒì´ë¯€ë¡œ í¸ì§‘ë˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.\n        uiTextView.isEditable = false\n\n        // UITextViewë¥¼ ê°€ëŠ¥í•œ ë„ˆë¹„ì— ë§ê²Œ ìœ ì—°í•˜ê²Œ ë§Œë“¤ì§€ë§Œ, ì½˜í…ì¸ ì— ë§ëŠ” ë†’ì´ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤.\n        // ë˜í•œ UITextViewê°€ ìŠ¤í¬ë¡¤ë˜ì§€ ì•Šê²Œ í•˜ì—¬ UITextViewê°€ í…ìŠ¤íŠ¸ ì½˜í…ì¸ ì™€ ì¼ì¹˜í•˜ë„ë¡ `intrinsicContentSize`ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.\n        uiTextView.isScrollEnabled = false\n        uiTextView.setContentHuggingPriority(.defaultLow, for: .vertical)\n        uiTextView.setContentHuggingPriority(.defaultLow, for: .horizontal)\n        uiTextView.setContentCompressionResistancePriority(.required, for: .vertical)\n        uiTextView.setContentCompressionResistancePriority(.defaultLow, for: .horizontal)\n\n        return uiTextView\n    }\n\n    func updateUIView(_ uiTextView: UITextView, context: Context) {\n        // SwiftUIì´ ì´ UIViewRepresentableì„ ì²˜ìŒ ë Œë”ë§í•˜ëŠ” ì‹œê°„ê³¼ ìƒíƒœ ë³€ê²½ì— ëŒ€í•´ ì•Œë¦¼ì„ ë°›ì„ ë•Œë§ˆë‹¤ í˜¸ì¶œë©ë‹ˆë‹¤. (ì˜ˆ: @State ë³€ìˆ˜ë¥¼ í†µí•´)\n        uiTextView.attributedText = attributedString\n    }\n}\n```\n\nUIViewRepresentableë¡œ ìœ„ì—ì„œ ì •ì˜í•œ AttributedTextë¥¼ ì‚¬ìš©í•˜ì—¬ SwiftUI ì•±ì—ì„œ NSAttributedStringsë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ë¡œ ì´ˆê¸°í™”ëœ NSAttributedStringsë¥¼ ë Œë”ë§í•˜ëŠ” ê²ƒì´ ì£¼ëœ ëª©í‘œì´ë¯€ë¡œ NSAttributedStringì— ëŒ€í•œ í¸ì˜ ìƒì„±ìë¥¼ ë§Œë“­ë‹ˆë‹¤.\n\n```swift\nimport UIKit\n\nextension NSAttributedString {\n    static func html(withBody body: String) -\u003e NSAttributedString {\n        // ì•±ì—ì„œ ì‚¬ìš©ë˜ëŠ” í˜„ì¬ ë¡œì¼€ì´ì…˜ê³¼ ì¼ì¹˜í•˜ëŠ” HTML `lang` ì†ì„±ì„ ë§¤ì¹˜í•©ë‹ˆë‹¤. (ì¦‰, Bundle.main)\n        let bundle = Bundle.main\n        let lang = bundle.preferredLocalizations.first\n            ?? bundle.developmentLocalization\n            ?? \"en\"\n\n        return (try? NSAttributedString(\n            data: \"\"\"\n            \u003c!doctype html\u003e\n            \u003chtml lang=\"\\(lang)\"\u003e\n            \u003chead\u003e\n                \u003cmeta charset=\"utf-8\"\u003e\n                \u003cstyle type=\"text/css\"\u003e\n                    /*\n                      HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ì— ëŒ€í•œ ì‚¬ìš©ì ì •ì˜ CSS ìŠ¤íƒ€ì¼ ì§€ì •\n                      ì£¼ì˜: NSAttributedString/UITextViewì—ì„œ ì§€ì›í•˜ëŠ” CSS ê¸°ëŠ¥ì€ ì œí•œì ì…ë‹ˆë‹¤.\n                    */\n\n                    body {\n                        font: -apple-system-body;\n                        color: \\(UIColor.secondaryLabel.hex);\n                    }\n\n                    h1, h2, h3, h4, h5, h6 {\n                        color: \\(UIColor.label.hex);\n                    }\n\n                    a {\n                        color: \\(UIColor.systemGreen.hex);\n                    }\n\n                    li:last-child {\n                        margin-bottom: 1em;\n                    }\n                \u003c/style\u003e\n            \u003c/head\u003e\n            \u003cbody\u003e\n                \\(body)\n            \u003c/body\u003e\n            \u003c/html\u003e\n            \"\"\".data(using: .utf8)!,\n            options: [\n                .documentType: NSAttributedString.DocumentType.html,\n                .characterEncoding: String.Encoding.utf8.rawValue,\n            ],\n            documentAttributes: nil\n        )) ?? NSAttributedString(string: body)\n    }\n}\n\n// UIColorë¥¼ CSS ì¹œí™”ì ì¸ ìƒ‰ìƒ í—¥ìŠ¤ ë¬¸ìì—´ë¡œ ë³€í™˜\n\nprivate extension UIColor {\n    var hex: String {\n        var red: CGFloat = 0\n        var green: CGFloat = 0\n        var blue: CGFloat = 0\n        var alpha: CGFloat = 0\n\n        getRed(\u0026red, green: \u0026green, blue: \u0026blue, alpha: \u0026alpha)\n\n        return String(\n            format: \"#%02lX%02lX%02lX%02lX\",\n            lroundf(Float(red * 255)),\n            lroundf(Float(green * 255)),\n            lroundf(Float(blue * 255)),\n            lroundf(Float(alpha * 255))\n        )\n    }\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nNSAttributedStringì€ ì¼ë¶€ CSS ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤ (ì•ˆíƒ€ê¹ê²Œë„ ì–´ë”˜ê°€ ì œëŒ€ë¡œ ë¬¸ì„œí™”ë˜ì§€ ì•Šì€ ê¸°ëŠ¥ë“¤ì´ ìˆìŠµë‹ˆë‹¤), í•˜ì§€ë§Œ ì¸ë¼ì¸ ë° ë³„ë„ì˜ íƒœê·¸ ë‚´ì—ì„œ ìŠ¤íƒ€ì¼ì„ ì •ì˜í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤ (ì¼ë°˜ì ìœ¼ë¡œ HTML head íƒœê·¸ì˜ ì¼ë¶€ë¡œ).\n\n## SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸°\n\nê·¸ëŸ° ë‹¤ìŒ, ìš°ë¦¬ëŠ” AttributedText UIViewRepresentableì„ ì‚¬ìš©í•˜ì—¬ NSAttributedString í¸ë¦¬í•œ ì´ˆê¸°í™”ìë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ SwiftUI ì•±ì—ì„œ HTMLì„ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ - ì‹¬ì§€ì–´ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ë§ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤!\n\n```js\nimport SwiftUI\n\nstruct ContentView: View {\n    var body: some View {\n        NavigationStack {\n            ScrollView {\n                AttributedText(.html(withBody: \"\"\"\n                \u003ch3\u003eThis is a H3 header\u003c/h3\u003e\n                \u003cp\u003eThis is a paragraph\u003c/p\u003e\n                \u003cul\u003e\n                    \u003cli\u003eList item one\u003c/li\u003e\n                    \u003cli\u003eList item two\u003c/li\u003e\n                \u003c/ul\u003e\n                \u003cp\u003eThis is a paragraph with a \u003ca href=\"https://developer.apple.com/\"\u003elink\u003c/a\u003e\u003c/p\u003e\n                \u003cp style=\"color: blue; text-align: center;\"\u003e\n                    This is a paragraph with inline styling\n                \u003c/p\u003e\n                \"\"\"))\n                .padding()\n            }\n            .navigationTitle(\"Render HTML in SwiftUI\")\n        }\n    }\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## ë³´ë„ˆìŠ¤: í…Œë§ˆë³„ HTML ë Œë”ë§\n\në§Œì•½ ì•±ì´ (ìƒ‰ìƒ) í…Œë§ˆ ê°œë…ì„ ì‚¬ìš©í•˜ì—¬ ì•± ì „ë°˜ì— ëŒ€í•œ ìƒ‰ìƒ ì •ë³´ ë“±ì„ ì „íŒŒí•œë‹¤ë©´, í˜„ì¬ í…Œë§ˆ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ HTMLì„ ìŠ¤íƒ€ì¼ë§í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\nì‚¬ìš©ì ì •ì˜ í…Œë§ˆ í™˜ê²½ ê°’ê³¼ ë‹¤ë¥¸ NSAttributedString í¸ì˜ ì´ë‹ˆì…œë¼ì´ì €ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\nì‚¬ìš©ì ì •ì˜ í…Œë§ˆ í™˜ê²½ ê°’\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‹¤ìŒì€ Markdown í˜•ì‹ìœ¼ë¡œ í…Œì´ë¸” íƒœê·¸ë¥¼ ë³€ê²½í•œ ì½”ë“œì…ë‹ˆë‹¤.\n\n\nimport SwiftUI\n\n// Example of a simple Theme struct.\nstruct Theme {\n    let textPrimary: UIColor\n    let textSecondary: UIColor\n    let textInteractive: UIColor\n}\n\nextension Theme {\n    static let `default` = Theme(\n        textPrimary: .label,\n        textSecondary: .secondaryLabel,\n        textInteractive: .systemGreen\n    )\n}\n\nprivate struct ThemeEnvironmentKey: EnvironmentKey {\n    static var defaultValue: Theme = .default\n}\n\nextension EnvironmentValues {\n    var theme: Theme {\n        get { self[ThemeEnvironmentKey.self] }\n        set { self[ThemeEnvironmentKey.self] = newValue }\n    }\n}\n\n\nNSAttributedStringì„ ìœ„í•œ í¸ë¦¬í•œ ì´ë‹ˆì…œë¼ì´ì €\n\n\nimport UIKit\n\nextension NSAttributedString {\n    static func themedHtml(withBody body: String, theme: Theme = .default) -\u003e NSAttributedString {\n        // Match the HTML `lang` attribute to current localisation used by the app (aka Bundle.main).\n        let bundle = Bundle.main\n        let lang = bundle.preferredLocalizations.first\n            ?? bundle.developmentLocalization\n            ?? \"en\"\n\n        return (try? NSAttributedString(\n            data: \"\"\"\n            \u003c!doctype html\u003e\n            \u003chtml lang=\"\\(lang)\"\u003e\n            \u003chead\u003e\n                \u003cmeta charset=\"utf-8\"\u003e\n                \u003cstyle type=\"text/css\"\u003e\n                    /*\n                      Custom CSS styling of HTML formatted text.\n                      Note, only a limited number of CSS features are supported by NSAttributedString/UITextView.\n                    */\n\n                    body {\n                        font: -apple-system-body;\n                        color: \\(theme.textSecondary.hex);\n                    }\n\n                    h1, h2, h3, h4, h5, h6 {\n                        color: \\(theme.textPrimary.hex);\n                    }\n\n                    a {\n                        color: \\(theme.textInteractive.hex);\n                    }\n\n                    li:last-child {\n                        margin-bottom: 1em;\n                    }\n                \u003c/style\u003e\n            \u003c/head\u003e\n            \u003cbody\u003e\n                \\(body)\n            \u003c/body\u003e\n            \u003c/html\u003e\n            \"\"\".data(using: .utf8)!,\n            options: [\n                .documentType: NSAttributedString.DocumentType.html,\n                .characterEncoding: String.Encoding.utf8.rawValue,\n            ],\n            documentAttributes: nil\n        )) ?? NSAttributedString(string: body)\n    }\n}\n\n// MARK: Converting UIColors into CSS friendly color hex string\n\nprivate extension UIColor {\n    var hex: String {\n        var red: CGFloat = 0\n        var green: CGFloat = 0\n        var blue: CGFloat = 0\n        var alpha: CGFloat = 0\n\n        getRed(\u0026red, green: \u0026green, blue: \u0026blue, alpha: \u0026alpha)\n\n        return String(\n            format: \"#%02lX%02lX%02lX%02lX\",\n            lroundf(Float(red * 255)),\n            lroundf(Float(green * 255)),\n            lroundf(Float(blue * 255)),\n            lroundf(Float(alpha * 255))\n        )\n    }\n}\n\n\nSwiftUIì—ì„œ í…Œë§ˆê°€ ì ìš©ëœ HTML ë Œë”ë§í•˜ê¸°\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```swift\nimport SwiftUI\n\nstruct ContentView: View {\n    @Environment(\\.theme) private var theme: Theme\n\n    var body: some View {\n        NavigationStack {\n            ScrollView {\n                AttributedText(.themedHtml(withBody: \"\"\"\n                \u003ch3\u003eThis is a H3 header\u003c/h3\u003e\n                \u003cp\u003eThis is a paragraph\u003c/p\u003e\n                \u003cul\u003e\n                    \u003cli\u003eList item one\u003c/li\u003e\n                    \u003cli\u003eList item two\u003c/li\u003e\n                \u003c/ul\u003e\n                \u003cp\u003eThis is a paragraph with a \u003ca href=\"https://developer.apple.com/\"\u003elink\u003c/a\u003e\u003c/p\u003e\n                \u003cp style=\"color: blue; text-align: center;\"\u003e\n                    This is a paragraph with inline styling\n                \u003c/p\u003e\n                \"\"\", theme: theme))\n                .padding()\n            }\n            .navigationTitle(\"Render Themed HTML in SwiftUI\")\n        }\n    }\n}\n```\n\n## ì´ê²Œ ë‹¤ì•¼!\n\nì‰½ì£ ! SwiftUIê°€ ì •ë§ ë©‹ì§€ì§€ë§Œ, ë•Œë¡œëŠ” ëª‡ ë…„ ë™ì•ˆ ì‚¬ë‘í•´ ì˜¨ UIKit ë·°ì™€ ê¸°ëŠ¥ì„ ì„ë² ë“œí•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì°¸ ì¢‹ìŠµë‹ˆë‹¤.\n\nì½”ë”©í•˜ì„¸ìš”! ğŸ™Œ\n","ogImage":{"url":"/assets/img/2024-06-20-RenderHTMLinSwiftUI_0.png"},"coverImage":"/assets/img/2024-06-20-RenderHTMLinSwiftUI_0.png","tag":["Tech"],"readingTime":12},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch2\u003eNSAttributedString, UITextView ë° UIViewRepresentableë¥¼ ì‚¬ìš©í•˜ì—¬ SwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸°.\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-RenderHTMLinSwiftUI_0.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eSwiftUIëŠ” ë©‹ì§€ì§€ë§Œ ì—¬ì „íˆ ê¸°ëŠ¥ì´ ë¶€ì¡±í•œ ê²ƒì´ ë§ìŠµë‹ˆë‹¤. ëª‡ ë…„ê°„ UIKitì„ ì‚¬ìš©í•œ í›„ ìµìˆ™í•´ì§„ ê¸°ëŠ¥ì´ì£ . ê·¸ ì¤‘ í•˜ë‚˜ëŠ” NSAttributedString ë° UITextViewë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ HTML í…ìŠ¤íŠ¸ë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ ê¸€ì—ì„œëŠ” SwiftUIë¥¼ UIViewRepresentableì„ ì‚¬ìš©í•˜ì—¬ UIKitê³¼ ì—°ê²°í•˜ê³ , HTMLì„ ë Œë”ë§í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ SwiftUI Viewë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì—…ë°ì´íŠ¸: ì›ë³¸ ê¸°ì‚¬ ê°œì„  ì‚¬í•­\u003c/p\u003e\n\u003cp\u003eì´ ê¸°ì‚¬ì˜ ì›ë³¸ ë²„ì „ì—ì„œëŠ” NSAttributedStringì„ ì‚¬ìš©í•˜ì—¬ HTMLì„ ìŠ¤íƒ€ì¼ë§í•˜ê³  ë Œë”ë§í•˜ëŠ” ë° íŠ¹í™”ëœ ê°„ë‹¨í•œ ì‚¬ìš©ì ì •ì˜ SwiftUI ë·°ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œëŠ” AttributedText ë·°ë„ ì–¸ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ë¡œ ì¸í•´ ì´ìƒí•œ ë™ì‘ì´ ë°œìƒí–ˆëŠ”ë°, ì•„ì§ ì ì ˆí•œ í•´ê²°ì±…ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ ê¸°ì‚¬ì˜ ì—…ë°ì´íŠ¸ëœ ë²„ì „ì—ì„œëŠ” HTML ë·°ë¥¼ ì œê±°í•˜ê³  NSAttributedStringì— ëŒ€í•œ í¸ë¦¬í•œ í™•ì¥ ê¸°ëŠ¥ì´ ëª‡ ê°€ì§€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ë‚˜ëŠ” ì´ìƒí•œ ë™ì‘ì— ëŒ€í•œ ë” ë‚˜ì€ ì´í•´ë¥¼ ì–»ê¸° ìœ„í•´ Apple ê°œë°œì í¬ëŸ¼ê³¼ ìŠ¤íƒ ì˜¤ë²„í”Œë¡œì— ê²Œì‹œí–ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eì£¼ìš” í¬ì¸íŠ¸\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eUIViewRepresentable í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ UIKit ë·°ë¥¼ SwiftUI ë·° ê³„ì¸µêµ¬ì¡°ì— í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eNSAttributedString (UITextViewë¥¼ í†µí•´)ì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ë…¸ì¶œí•  ìˆ˜ ìˆìœ¼ë©°, í˜„ì¬ SwiftUI ì„¸ê³„ì—ëŠ” ë™ë“±í•œ ê²ƒì´ ì—†ìŠµë‹ˆë‹¤ (í•˜ì§€ë§Œ AttributedStringëŠ” ì¢‹ì€ í›„ë³´ì¼ ìˆ˜ ìˆìŒ).\u003c/li\u003e\n\u003cli\u003eìŠ¤íƒ€ì¼ì´ ì§€ì •ëœ HTML í˜•ì‹ì˜ NSAttributedStringsëŠ” UIViewRepresentableì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” UITextViewì— ì˜í•´ ë Œë”ë§ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ì—ì„œ ì¼ë¶€ CSS ìŠ¤íƒ€ì¼ ì†ì„±ì„ ì¸ë¼ì¸ìœ¼ë¡œ ì •ì˜í•˜ê±°ë‚˜ HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ì˜ ì „ìš© ìŠ¤íƒ€ì¼ íƒœê·¸ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì´ ê¸°ì‚¬ì—ì„œ ì‚¬ìš©ëœ ì™„ì„±ëœ ì˜ˆì œ ì½”ë“œëŠ” GitHubì—ì„œ ì°¾ì„ ìˆ˜ ìˆì–´ìš”: \u003ca href=\"https://github.com/thomsmed/ios-examples/tree/main/SwiftUIHTML\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://github.com/thomsmed/ios-examples/tree/main/SwiftUIHTML\u003c/a\u003e.\u003c/p\u003e\n\u003ch1\u003eì»¤ìŠ¤í…€ UIViewRepresentable\u003c/h1\u003e\n\u003cp\u003eSwiftUIê°€ ì²˜ìŒ ë°œí‘œëì„ ë•ŒëŠ” ê¸°ì¡´ UIKit ë·°ë¥¼ SwiftUI ë·° ê³„ì¸µêµ¬ì¡°ì— ì„ë² ë“œí•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” APIë„ í•¨ê»˜ ì œê³µë˜ì—ˆìŠµë‹ˆë‹¤. ê°œë°œìë“¤ì—ê²Œ UIKitì—ì„œ SwiftUIë¡œì˜ ì „í™˜ì´ ì‰¬ì›Œì¡Œì–´ìš”.\u003c/p\u003e\n\u003cp\u003eì´ëŸ¬í•œ API ì¤‘ í•˜ë‚˜ëŠ” UIViewRepresentable í”„ë¡œí† ì½œì¸ë°ìš”, SwiftUIì˜ ì»¨í…ìŠ¤íŠ¸ì—ì„œ UIKit ë·°ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë¼ìš”. Appleì€ ì´ í”„ë¡œí† ì½œê³¼ ë‹¤ë¥¸ SwiftUIì™€ UIKitì„ ì—°ê²°í•˜ëŠ” í”„ë¡œí† ì½œì„ í†µí•´ ì´ë¥¼ í†µí•œ ê°€ëŠ¥ì„±ì„ ë³´ì—¬ì£¼ëŠ” ë©‹ì§„ WWDC ë¹„ë””ì˜¤ë¥¼ ì œê³µí–ˆì–´ìš”. ì ì–´ë„ 'Integrating SwiftUI'ë¥¼ í™•ì¸í•´ë³´ì‹œê¸°ë¥¼ ê¶Œí•´ìš”.\u003c/p\u003e\n\u003ch2\u003eAttributedText\u003c/h2\u003e\n\u003cp\u003eNSAttributedStringì€ í…ìŠ¤íŠ¸ ë¬¸ìì—´ì„ ê°•ë ¥í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ë„êµ¬ë¡œ, í…ìŠ¤íŠ¸ ë¬¸ìì—´ì˜ ë¬¸ì ë²”ìœ„ë¥¼ ìŠ¤íƒ€ì¼ë§í•˜ëŠ” ê°•ë ¥í•œ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. ì‹¬ì§€ì–´ ê°„ë‹¨í•œ HTMLì— ë”°ë¼ í…ìŠ¤íŠ¸ë¥¼ ìŠ¤íƒ€ì¼ë§í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eNSAttributedStringì„ ìŠ¤íƒ€ì¼ë§ëœ ìƒíƒœë¡œ ì´ˆê¸°í™”í•˜ë ¤ë©´ NSAttributedString.init(data:options:documentAttributes:) ì´ë‹ˆì…œë¼ì´ì €ì— .documentType ì˜µì…˜ì„ .htmlë¡œ ì„¤ì •í•œ HTML ë¬¸ìì—´(ë°ì´í„° í˜•ì‹ìœ¼ë¡œ)ì„ ì „ë‹¬í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  UITextViewì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ì•±ì—ì„œ HTMLì„ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!\u003c/p\u003e\n\u003cp\u003eUIViewRepresentable í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ NSAttributedString ë° UITextViewì˜ ê¸°ëŠ¥ì„ SwiftUIì— ì‚¬ìš©ë˜ëŠ” ì‚¬ìš©ì ì§€ì • AttributedText Viewë¡œ ë…¸ì¶œì‹œí‚¬ ê²ƒì…ë‹ˆë‹¤!\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-swift\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e SwiftUI\n\n\u003cspan class=\"hljs-keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eAttributedText\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eUIViewRepresentable\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e attributedString: \u003cspan class=\"hljs-type\"\u003eNSAttributedString\u003c/span\u003e\n\n    \u003cspan class=\"hljs-keyword\"\u003einit\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003e_\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003eattributedString\u003c/span\u003e: \u003cspan class=\"hljs-type\"\u003eNSAttributedString\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e.attributedString \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e attributedString\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003emakeUIView\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003econtext\u003c/span\u003e: \u003cspan class=\"hljs-type\"\u003eContext\u003c/span\u003e) -\u003e \u003cspan class=\"hljs-type\"\u003eUITextView\u003c/span\u003e {\n        \u003cspan class=\"hljs-comment\"\u003e// SwiftUIì´ ì´ \"View\"ë¥¼ ë Œë”ë§í•˜ëŠ” ì²« ë²ˆì§¸ ì‹œê°„ì— í˜¸ì¶œë©ë‹ˆë‹¤.\u003c/span\u003e\n\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e uiTextView \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eUITextView\u003c/span\u003e()\n\n        \u003cspan class=\"hljs-comment\"\u003e// ë°°ê²½ ë·°ê°€ ë°˜ì§ì¼ ìˆ˜ ìˆë„ë¡ íˆ¬ëª…í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.\u003c/span\u003e\n        uiTextView.backgroundColor \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e .clear\n\n        \u003cspan class=\"hljs-comment\"\u003e// í…ìŠ¤íŠ¸ ì‹œê°í™”ë§Œì„ ìœ„í•œ ê²ƒì´ë¯€ë¡œ í¸ì§‘ë˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.\u003c/span\u003e\n        uiTextView.isEditable \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n\n        \u003cspan class=\"hljs-comment\"\u003e// UITextViewë¥¼ ê°€ëŠ¥í•œ ë„ˆë¹„ì— ë§ê²Œ ìœ ì—°í•˜ê²Œ ë§Œë“¤ì§€ë§Œ, ì½˜í…ì¸ ì— ë§ëŠ” ë†’ì´ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤.\u003c/span\u003e\n        \u003cspan class=\"hljs-comment\"\u003e// ë˜í•œ UITextViewê°€ ìŠ¤í¬ë¡¤ë˜ì§€ ì•Šê²Œ í•˜ì—¬ UITextViewê°€ í…ìŠ¤íŠ¸ ì½˜í…ì¸ ì™€ ì¼ì¹˜í•˜ë„ë¡ `intrinsicContentSize`ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.\u003c/span\u003e\n        uiTextView.isScrollEnabled \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n        uiTextView.setContentHuggingPriority(.defaultLow, for: .vertical)\n        uiTextView.setContentHuggingPriority(.defaultLow, for: .horizontal)\n        uiTextView.setContentCompressionResistancePriority(.required, for: .vertical)\n        uiTextView.setContentCompressionResistancePriority(.defaultLow, for: .horizontal)\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e uiTextView\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eupdateUIView\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003e_\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003euiTextView\u003c/span\u003e: \u003cspan class=\"hljs-type\"\u003eUITextView\u003c/span\u003e, \u003cspan class=\"hljs-params\"\u003econtext\u003c/span\u003e: \u003cspan class=\"hljs-type\"\u003eContext\u003c/span\u003e) {\n        \u003cspan class=\"hljs-comment\"\u003e// SwiftUIì´ ì´ UIViewRepresentableì„ ì²˜ìŒ ë Œë”ë§í•˜ëŠ” ì‹œê°„ê³¼ ìƒíƒœ ë³€ê²½ì— ëŒ€í•´ ì•Œë¦¼ì„ ë°›ì„ ë•Œë§ˆë‹¤ í˜¸ì¶œë©ë‹ˆë‹¤. (ì˜ˆ: @State ë³€ìˆ˜ë¥¼ í†µí•´)\u003c/span\u003e\n        uiTextView.attributedText \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e attributedString\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUIViewRepresentableë¡œ ìœ„ì—ì„œ ì •ì˜í•œ AttributedTextë¥¼ ì‚¬ìš©í•˜ì—¬ SwiftUI ì•±ì—ì„œ NSAttributedStringsë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ë¡œ ì´ˆê¸°í™”ëœ NSAttributedStringsë¥¼ ë Œë”ë§í•˜ëŠ” ê²ƒì´ ì£¼ëœ ëª©í‘œì´ë¯€ë¡œ NSAttributedStringì— ëŒ€í•œ í¸ì˜ ìƒì„±ìë¥¼ ë§Œë“­ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-swift\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e UIKit\n\n\u003cspan class=\"hljs-keyword\"\u003eextension\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eNSAttributedString\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehtml\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ewithBody\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003ebody\u003c/span\u003e: \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e) -\u003e \u003cspan class=\"hljs-type\"\u003eNSAttributedString\u003c/span\u003e {\n        \u003cspan class=\"hljs-comment\"\u003e// ì•±ì—ì„œ ì‚¬ìš©ë˜ëŠ” í˜„ì¬ ë¡œì¼€ì´ì…˜ê³¼ ì¼ì¹˜í•˜ëŠ” HTML `lang` ì†ì„±ì„ ë§¤ì¹˜í•©ë‹ˆë‹¤. (ì¦‰, Bundle.main)\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e bundle \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eBundle\u003c/span\u003e.main\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e lang \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e bundle.preferredLocalizations.first\n            \u003cspan class=\"hljs-operator\"\u003e??\u003c/span\u003e bundle.developmentLocalization\n            \u003cspan class=\"hljs-operator\"\u003e??\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"en\"\u003c/span\u003e\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003etry?\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eNSAttributedString\u003c/span\u003e(\n            data: \u003cspan class=\"hljs-string\"\u003e\"\"\"\n            \u0026#x3C;!doctype html\u003e\n            \u0026#x3C;html lang=\"\u003cspan class=\"hljs-subst\"\u003e\\(lang)\u003c/span\u003e\"\u003e\n            \u0026#x3C;head\u003e\n                \u0026#x3C;meta charset=\"utf-8\"\u003e\n                \u0026#x3C;style type=\"text/css\"\u003e\n                    /*\n                      HTML í˜•ì‹ì˜ í…ìŠ¤íŠ¸ì— ëŒ€í•œ ì‚¬ìš©ì ì •ì˜ CSS ìŠ¤íƒ€ì¼ ì§€ì •\n                      ì£¼ì˜: NSAttributedString/UITextViewì—ì„œ ì§€ì›í•˜ëŠ” CSS ê¸°ëŠ¥ì€ ì œí•œì ì…ë‹ˆë‹¤.\n                    */\n\n                    body {\n                        font: -apple-system-body;\n                        color: \u003cspan class=\"hljs-subst\"\u003e\\(UIColor.secondaryLabel.hex)\u003c/span\u003e;\n                    }\n\n                    h1, h2, h3, h4, h5, h6 {\n                        color: \u003cspan class=\"hljs-subst\"\u003e\\(UIColor.label.hex)\u003c/span\u003e;\n                    }\n\n                    a {\n                        color: \u003cspan class=\"hljs-subst\"\u003e\\(UIColor.systemGreen.hex)\u003c/span\u003e;\n                    }\n\n                    li:last-child {\n                        margin-bottom: 1em;\n                    }\n                \u0026#x3C;/style\u003e\n            \u0026#x3C;/head\u003e\n            \u0026#x3C;body\u003e\n                \u003cspan class=\"hljs-subst\"\u003e\\(body)\u003c/span\u003e\n            \u0026#x3C;/body\u003e\n            \u0026#x3C;/html\u003e\n            \"\"\"\u003c/span\u003e.data(using: .utf8)\u003cspan class=\"hljs-operator\"\u003e!\u003c/span\u003e,\n            options: [\n                .documentType: \u003cspan class=\"hljs-type\"\u003eNSAttributedString\u003c/span\u003e.\u003cspan class=\"hljs-type\"\u003eDocumentType\u003c/span\u003e.html,\n                .characterEncoding: \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e.\u003cspan class=\"hljs-type\"\u003eEncoding\u003c/span\u003e.utf8.rawValue,\n            ],\n            documentAttributes: \u003cspan class=\"hljs-literal\"\u003enil\u003c/span\u003e\n        )) \u003cspan class=\"hljs-operator\"\u003e??\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eNSAttributedString\u003c/span\u003e(string: body)\n    }\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// UIColorë¥¼ CSS ì¹œí™”ì ì¸ ìƒ‰ìƒ í—¥ìŠ¤ ë¬¸ìì—´ë¡œ ë³€í™˜\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextension\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUIColor\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e hex: \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e red: \u003cspan class=\"hljs-type\"\u003eCGFloat\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e green: \u003cspan class=\"hljs-type\"\u003eCGFloat\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e blue: \u003cspan class=\"hljs-type\"\u003eCGFloat\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e alpha: \u003cspan class=\"hljs-type\"\u003eCGFloat\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\n        getRed(\u003cspan class=\"hljs-operator\"\u003e\u0026#x26;\u003c/span\u003ered, green: \u003cspan class=\"hljs-operator\"\u003e\u0026#x26;\u003c/span\u003egreen, blue: \u003cspan class=\"hljs-operator\"\u003e\u0026#x26;\u003c/span\u003eblue, alpha: \u003cspan class=\"hljs-operator\"\u003e\u0026#x26;\u003c/span\u003ealpha)\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e(\n            format: \u003cspan class=\"hljs-string\"\u003e\"#%02lX%02lX%02lX%02lX\"\u003c/span\u003e,\n            lroundf(\u003cspan class=\"hljs-type\"\u003eFloat\u003c/span\u003e(red \u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e255\u003c/span\u003e)),\n            lroundf(\u003cspan class=\"hljs-type\"\u003eFloat\u003c/span\u003e(green \u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e255\u003c/span\u003e)),\n            lroundf(\u003cspan class=\"hljs-type\"\u003eFloat\u003c/span\u003e(blue \u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e255\u003c/span\u003e)),\n            lroundf(\u003cspan class=\"hljs-type\"\u003eFloat\u003c/span\u003e(alpha \u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e255\u003c/span\u003e))\n        )\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNSAttributedStringì€ ì¼ë¶€ CSS ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤ (ì•ˆíƒ€ê¹ê²Œë„ ì–´ë”˜ê°€ ì œëŒ€ë¡œ ë¬¸ì„œí™”ë˜ì§€ ì•Šì€ ê¸°ëŠ¥ë“¤ì´ ìˆìŠµë‹ˆë‹¤), í•˜ì§€ë§Œ ì¸ë¼ì¸ ë° ë³„ë„ì˜ íƒœê·¸ ë‚´ì—ì„œ ìŠ¤íƒ€ì¼ì„ ì •ì˜í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤ (ì¼ë°˜ì ìœ¼ë¡œ HTML head íƒœê·¸ì˜ ì¼ë¶€ë¡œ).\u003c/p\u003e\n\u003ch2\u003eSwiftUIì—ì„œ HTML ë Œë”ë§í•˜ê¸°\u003c/h2\u003e\n\u003cp\u003eê·¸ëŸ° ë‹¤ìŒ, ìš°ë¦¬ëŠ” AttributedText UIViewRepresentableì„ ì‚¬ìš©í•˜ì—¬ NSAttributedString í¸ë¦¬í•œ ì´ˆê¸°í™”ìë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ SwiftUI ì•±ì—ì„œ HTMLì„ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ - ì‹¬ì§€ì–´ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ë§ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤!\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSwiftUI\u003c/span\u003e\n\nstruct \u003cspan class=\"hljs-title class_\"\u003eContentView\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eView\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ebody\u003c/span\u003e: some \u003cspan class=\"hljs-title class_\"\u003eView\u003c/span\u003e {\n        \u003cspan class=\"hljs-title class_\"\u003eNavigationStack\u003c/span\u003e {\n            \u003cspan class=\"hljs-title class_\"\u003eScrollView\u003c/span\u003e {\n                \u003cspan class=\"hljs-title class_\"\u003eAttributedText\u003c/span\u003e(.\u003cspan class=\"hljs-title function_\"\u003ehtml\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003ewithBody\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"\n                \u0026#x3C;h3\u003eThis is a H3 header\u0026#x3C;/h3\u003e\n                \u0026#x3C;p\u003eThis is a paragraph\u0026#x3C;/p\u003e\n                \u0026#x3C;ul\u003e\n                    \u0026#x3C;li\u003eList item one\u0026#x3C;/li\u003e\n                    \u0026#x3C;li\u003eList item two\u0026#x3C;/li\u003e\n                \u0026#x3C;/ul\u003e\n                \u0026#x3C;p\u003eThis is a paragraph with a \u0026#x3C;a href=\"\u003c/span\u003e\u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//developer.apple.com/\"\u003elink\u0026#x3C;/a\u003e\u0026#x3C;/p\u003e\u003c/span\u003e\n                \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"color: blue; text-align: center;\"\u003c/span\u003e\u003e\u003c/span\u003e\n                    This is a paragraph with inline styling\n                \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n                \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"))\n                .padding()\n            }\n            .navigationTitle(\"\u003c/span\u003e\u003cspan class=\"hljs-title class_\"\u003eRender\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eHTML\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSwiftUI\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\")\n        }\n    }\n}\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eë³´ë„ˆìŠ¤: í…Œë§ˆë³„ HTML ë Œë”ë§\u003c/h2\u003e\n\u003cp\u003eë§Œì•½ ì•±ì´ (ìƒ‰ìƒ) í…Œë§ˆ ê°œë…ì„ ì‚¬ìš©í•˜ì—¬ ì•± ì „ë°˜ì— ëŒ€í•œ ìƒ‰ìƒ ì •ë³´ ë“±ì„ ì „íŒŒí•œë‹¤ë©´, í˜„ì¬ í…Œë§ˆ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ HTMLì„ ìŠ¤íƒ€ì¼ë§í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì‚¬ìš©ì ì •ì˜ í…Œë§ˆ í™˜ê²½ ê°’ê³¼ ë‹¤ë¥¸ NSAttributedString í¸ì˜ ì´ë‹ˆì…œë¼ì´ì €ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003eì‚¬ìš©ì ì •ì˜ í…Œë§ˆ í™˜ê²½ ê°’\u003c/p\u003e\n\u003cp\u003eë‹¤ìŒì€ Markdown í˜•ì‹ìœ¼ë¡œ í…Œì´ë¸” íƒœê·¸ë¥¼ ë³€ê²½í•œ ì½”ë“œì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eimport SwiftUI\u003c/p\u003e\n\u003cp\u003e// Example of a simple Theme struct.\nstruct Theme {\nlet textPrimary: UIColor\nlet textSecondary: UIColor\nlet textInteractive: UIColor\n}\u003c/p\u003e\n\u003cp\u003eextension Theme {\nstatic let \u003ccode\u003edefault\u003c/code\u003e = Theme(\ntextPrimary: .label,\ntextSecondary: .secondaryLabel,\ntextInteractive: .systemGreen\n)\n}\u003c/p\u003e\n\u003cp\u003eprivate struct ThemeEnvironmentKey: EnvironmentKey {\nstatic var defaultValue: Theme = .default\n}\u003c/p\u003e\n\u003cp\u003eextension EnvironmentValues {\nvar theme: Theme {\nget { self[ThemeEnvironmentKey.self] }\nset { self[ThemeEnvironmentKey.self] = newValue }\n}\n}\u003c/p\u003e\n\u003cp\u003eNSAttributedStringì„ ìœ„í•œ í¸ë¦¬í•œ ì´ë‹ˆì…œë¼ì´ì €\u003c/p\u003e\n\u003cp\u003eimport UIKit\u003c/p\u003e\n\u003cp\u003eextension NSAttributedString {\nstatic func themedHtml(withBody body: String, theme: Theme = .default) -\u003e NSAttributedString {\n// Match the HTML \u003ccode\u003elang\u003c/code\u003e attribute to current localisation used by the app (aka Bundle.main).\nlet bundle = Bundle.main\nlet lang = bundle.preferredLocalizations.first\n?? bundle.developmentLocalization\n?? \"en\"\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    return (try? NSAttributedString(\n        data: \"\"\"\n        \u0026#x3C;!doctype html\u003e\n        \u0026#x3C;html lang=\"\\(lang)\"\u003e\n        \u0026#x3C;head\u003e\n            \u0026#x3C;meta charset=\"utf-8\"\u003e\n            \u0026#x3C;style type=\"text/css\"\u003e\n                /*\n                  Custom CSS styling of HTML formatted text.\n                  Note, only a limited number of CSS features are supported by NSAttributedString/UITextView.\n                */\n\n                body {\n                    font: -apple-system-body;\n                    color: \\(theme.textSecondary.hex);\n                }\n\n                h1, h2, h3, h4, h5, h6 {\n                    color: \\(theme.textPrimary.hex);\n                }\n\n                a {\n                    color: \\(theme.textInteractive.hex);\n                }\n\n                li:last-child {\n                    margin-bottom: 1em;\n                }\n            \u0026#x3C;/style\u003e\n        \u0026#x3C;/head\u003e\n        \u0026#x3C;body\u003e\n            \\(body)\n        \u0026#x3C;/body\u003e\n        \u0026#x3C;/html\u003e\n        \"\"\".data(using: .utf8)!,\n        options: [\n            .documentType: NSAttributedString.DocumentType.html,\n            .characterEncoding: String.Encoding.utf8.rawValue,\n        ],\n        documentAttributes: nil\n    )) ?? NSAttributedString(string: body)\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e// MARK: Converting UIColors into CSS friendly color hex string\u003c/p\u003e\n\u003cp\u003eprivate extension UIColor {\nvar hex: String {\nvar red: CGFloat = 0\nvar green: CGFloat = 0\nvar blue: CGFloat = 0\nvar alpha: CGFloat = 0\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    getRed(\u0026#x26;red, green: \u0026#x26;green, blue: \u0026#x26;blue, alpha: \u0026#x26;alpha)\n\n    return String(\n        format: \"#%02lX%02lX%02lX%02lX\",\n        lroundf(Float(red * 255)),\n        lroundf(Float(green * 255)),\n        lroundf(Float(blue * 255)),\n        lroundf(Float(alpha * 255))\n    )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003eSwiftUIì—ì„œ í…Œë§ˆê°€ ì ìš©ëœ HTML ë Œë”ë§í•˜ê¸°\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-swift\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e SwiftUI\n\n\u003cspan class=\"hljs-keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eContentView\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eView\u003c/span\u003e {\n    \u003cspan class=\"hljs-meta\"\u003e@Environment\u003c/span\u003e(\\.theme) \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e theme: \u003cspan class=\"hljs-type\"\u003eTheme\u003c/span\u003e\n\n    \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e body: \u003cspan class=\"hljs-keyword\"\u003esome\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eView\u003c/span\u003e {\n        \u003cspan class=\"hljs-type\"\u003eNavigationStack\u003c/span\u003e {\n            \u003cspan class=\"hljs-type\"\u003eScrollView\u003c/span\u003e {\n                \u003cspan class=\"hljs-type\"\u003eAttributedText\u003c/span\u003e(.themedHtml(withBody: \u003cspan class=\"hljs-string\"\u003e\"\"\"\n                \u0026#x3C;h3\u003eThis is a H3 header\u0026#x3C;/h3\u003e\n                \u0026#x3C;p\u003eThis is a paragraph\u0026#x3C;/p\u003e\n                \u0026#x3C;ul\u003e\n                    \u0026#x3C;li\u003eList item one\u0026#x3C;/li\u003e\n                    \u0026#x3C;li\u003eList item two\u0026#x3C;/li\u003e\n                \u0026#x3C;/ul\u003e\n                \u0026#x3C;p\u003eThis is a paragraph with a \u0026#x3C;a href=\"https://developer.apple.com/\"\u003elink\u0026#x3C;/a\u003e\u0026#x3C;/p\u003e\n                \u0026#x3C;p style=\"color: blue; text-align: center;\"\u003e\n                    This is a paragraph with inline styling\n                \u0026#x3C;/p\u003e\n                \"\"\"\u003c/span\u003e, theme: theme))\n                .padding()\n            }\n            .navigationTitle(\u003cspan class=\"hljs-string\"\u003e\"Render Themed HTML in SwiftUI\"\u003c/span\u003e)\n        }\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eì´ê²Œ ë‹¤ì•¼!\u003c/h2\u003e\n\u003cp\u003eì‰½ì£ ! SwiftUIê°€ ì •ë§ ë©‹ì§€ì§€ë§Œ, ë•Œë¡œëŠ” ëª‡ ë…„ ë™ì•ˆ ì‚¬ë‘í•´ ì˜¨ UIKit ë·°ì™€ ê¸°ëŠ¥ì„ ì„ë² ë“œí•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì°¸ ì¢‹ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì½”ë”©í•˜ì„¸ìš”! ğŸ™Œ\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-RenderHTMLinSwiftUI"},"buildId":"t9N7vwmpvBMQnO2PSctoH","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>