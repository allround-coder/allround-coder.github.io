<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>실무에 적용하면 퇴근시간 단축하는 웹 스크래퍼 만들기 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-01-BuildingaWebScraperforThreeCommonUseCases" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="실무에 적용하면 퇴근시간 단축하는 웹 스크래퍼 만들기 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="실무에 적용하면 퇴근시간 단축하는 웹 스크래퍼 만들기 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-01-BuildingaWebScraperforThreeCommonUseCases" data-gatsby-head="true"/><meta name="twitter:title" content="실무에 적용하면 퇴근시간 단축하는 웹 스크래퍼 만들기 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-01 23:48" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cd012fc8787133d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cd012fc8787133d0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/551-3069cf29fe274aab.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-a8eda6c93e0b14fe.js" defer=""></script><script src="/_next/static/R94iUTCf1NWeBC_VXjTJG/_buildManifest.js" defer=""></script><script src="/_next/static/R94iUTCf1NWeBC_VXjTJG/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">실무에 적용하면 퇴근시간 단축하는 웹 스크래퍼 만들기</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="실무에 적용하면 퇴근시간 단축하는 웹 스크래퍼 만들기" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/assets/profile.jpg"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 1, 2024</span><span class="posts_reading_time__f7YPP">11<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-01-BuildingaWebScraperforThreeCommonUseCases&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><p><img src="/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_0.png" alt="이미지"/></p>
<h1>동기부여</h1>
<p>최근 지역 소매업체 웹사이트에서 새 노트북을 찾고 있었는데, 여러 페이지의 검색 결과를 통해 여러 노트북의 브랜드, 사양 및 가격을 수동으로 메모해야 했습니다(비교 목적). 이 매뉴얼한 방식에 대한 frustration을 파트너에게 털어놓자, e-커머스 웹사이트에서도 유사한 불만을 표현했습니다.</p>
<p>그 후, 웹 스크래퍼를 사용하여 웹사이트의 내용을 구조화된(예: 테이블 형식) 데이터로 자동 변환하는 과정을 자동화하는 것에 대한 사례를 탐구했습니다. 본 문서는 다음 세 가지 일반적인 사용 사례에 대한 웹 스크래퍼의 실제 단계별 가이드를 제공합니다:</p>
<div class="content-ad"></div>
<ul>
<li>여러 페이지에 걸쳐 검색 결과를 반환하는 웹사이트를 찾을 때 (&quot;페이지별 검색&quot;)</li>
<li>수동으로 아래로 스크롤하여 더 많은 검색 결과를 반환하는 웹사이트를 찾을 때 (&quot;무한 스크롤&quot;)</li>
<li>웹사이트에 호스팅된 이미지를 다운로드할 때 (&quot;이미지 스크랩&quot;)</li>
</ul>
<h1>웹 스크레이핑에 대한 비 기술적 소개</h1>
<p>사용자가 웹사이트에서 만나는 대부분의 콘텐츠는 사실 HTML 코드의 출력물입니다. 이러한 코드는 일반적으로 모든 웹사이트가 따르는 일반 규칙과 함께 컴파일됩니다. 즉, 웹사이트의 &#x27;프론트엔드&#x27;에 사용자에게 표시되는 콘텐츠는 웹사이트의 HTML 코드의 관련 레이어를 쿼리하여 저장 및 다운로드할 수 있습니다.</p>
<p>이 기사의 목적을 위해 사용된 웹 스크레이퍼는 주로 BeautifulSoup 및 Selenium 라이브러리를 사용하여 Python으로 개발되었습니다. 특히, BeautifulSoup 라이브러리는 웹사이트 뒤의 HTML 코드에서 데이터를 검색하고 쿼리하며 반환하는 기능을 제공하며, Selenium 라이브러리는 브라우저 자동화를 지원합니다(예: Google Chrome 또는 Firefox 브라우저에서 특정 작업 수행).</p>
<div class="content-ad"></div>
<h1>사용 사례 1: 페이지별 검색을 위한 웹 스크래퍼</h1>
<p>이 사용 사례를 보여주기 위해 세포라 웹 사이트에서 &quot;파운데이션&quot;과 관련된 데이터를 스크래핑 할 것입니다 (비난하지 마세요). 다음과 같이 Python 라이브러리를 가져오는 것으로 시작할 것입니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> <span class="hljs-title class_">BeautifulSoup</span>
<span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd # 데이터를 데이터프레임에 저장하기 위해
</code></pre>
<p>그런 다음 Google Chrome을 사용하여 검색 &#x27;페이지 1&#x27;에서 관심 있는 데이터를 스크래핑하려고 시도한 다음, For-Loop를 사용하여 다른 모든 페이지에 대해이 스크래핑을 구축할 것입니다. 각각 화장품 제품의 브랜드, 설명 및 가격을 스크래핑하기 위해 웹 사이트의 HTML 코드를 파이썬 객체인 soup_sephora로 구문 분석하기 시작할 것입니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">## <span class="hljs-title class_">Sephora</span> 웹 사이트에서 <span class="hljs-string">&quot;파운데이션&quot;</span>을 검색한 결과 페이지 <span class="hljs-number">1</span>의 <span class="hljs-variable constant_">URL</span>
url = <span class="hljs-string">&quot;https://www.sephora.com.au/search?q=foundation&amp;page=1&quot;</span>
## 아래 옵션은 <span class="hljs-title class_">Chrome</span>이 실제로 열리는 것을 방지합니다
options = webdriver.<span class="hljs-title class_">ChromeOptions</span>()
options.<span class="hljs-title function_">add_argument</span>(<span class="hljs-string">&#x27;--headless&#x27;</span>)
## chromedriver 다운로드 및 위치 지정
driver = webdriver.<span class="hljs-title class_">Chrome</span>(
                          executable_path = r<span class="hljs-string">&#x27;C:\Users\Jin\Documents\Webscraping\Drivers\chromedriver.exe&#x27;</span>,
                          chrome_options = options
                           )
driver.<span class="hljs-title function_">get</span>(url)
## <span class="hljs-variable constant_">HTML</span> 코드 반환
soup_sephora = <span class="hljs-title class_">BeautifulSoup</span>(driver.<span class="hljs-property">page_source</span>, <span class="hljs-string">&#x27;lxml&#x27;</span>)
</code></pre>
<p>저장된 HTML 코드 (soup_sephora 객체에 저장된)를 Microsoft Word나 메모장과 같이 검색 가능한 문서 유형에 붙여 넣는 것이 좋습니다. 이렇게 하면 관심 있는 데이터를 반환하기 위해 쿼리해야 할 속성을 식별하는 데 도움이 됩니다. 예를 들어, 페이지 1의 각 제품의 가격 속성은 HTML 구조에서 &quot;product-price&quot; 클래스에 저장되어 있으며, 특정 제품의 가격을 확인하기 위해 가격에 대한 &quot;CTRL+F&quot;를 수행하여 식별할 수 있습니다. 첫 번째 이미지에서 보이는 가격 $95의 YSL 파운데이션이 경우, 이는 두 번째 이미지에서 &quot;product-price&quot; 클래스 아래의 텍스트 문자열로 soup_sephora 객체에 포함되어 있으며, Microsoft Word 문서에서 &quot;$95&quot;를 검색하여 확인할 수 있습니다.</p>
<img src="/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_1.png"/>
<p><img src="/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_2.png"/>```</p>
<div class="content-ad"></div>
<p>아래 코드는 파이썬 리스트에 페이지 1의 모든 제품의 가격을 반환합니다.</p>
<pre><code class="hljs language-js">soup_sephora.<span class="hljs-title function_">findAll</span>(class_ = <span class="hljs-string">&quot;product-price&quot;</span>)
</code></pre>
<p>위 내용을 고려하면, 검색 결과 페이지 1에 있는 모든 제품의 브랜드, 설명, 가격을 다음과 같이 판다스 데이터프레임에 저장할 수 있습니다.</p>
<pre><code class="hljs language-js">brand = []
description = []
price = []
url = <span class="hljs-string">&quot;https://www.sephora.com.au/search?q=foundation&amp;page=1&quot;</span>
options = webdriver.<span class="hljs-title class_">ChromeOptions</span>()
options.<span class="hljs-title function_">add_argument</span>(<span class="hljs-string">&#x27;--headless&#x27;</span>)
driver = webdriver.<span class="hljs-title class_">Chrome</span>(
                                 executable_path = r<span class="hljs-string">&#x27;C:\Users\Jin\Documents\Webscraping\Drivers\chromedriver.exe&#x27;</span>,
                                 chrome_options = options
                                )
driver.<span class="hljs-title function_">get</span>(url)
soup_sephora = <span class="hljs-title class_">BeautifulSoup</span>(driver.<span class="hljs-property">page_source</span>, <span class="hljs-string">&#x27;lxml&#x27;</span>)
i = <span class="hljs-number">0</span>
<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup_sephora.<span class="hljs-title function_">findAll</span>(class_ = <span class="hljs-string">&quot;product-card-brand&quot;</span>):
    i = i + <span class="hljs-number">1</span>
    brand.<span class="hljs-title function_">append</span>(item.<span class="hljs-title function_">get_text</span>(strip = <span class="hljs-title class_">True</span>))
<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup_sephora.<span class="hljs-title function_">findAll</span>(class_ = <span class="hljs-string">&quot;product-card-product&quot;</span>):
    i = i + <span class="hljs-number">1</span>
    description.<span class="hljs-title function_">append</span>(item.<span class="hljs-title function_">get_text</span>(strip = <span class="hljs-title class_">True</span>))
            
<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup_sephora.<span class="hljs-title function_">findAll</span>(class_ = <span class="hljs-string">&quot;product-price&quot;</span>):
    i = i + <span class="hljs-number">1</span>
    price.<span class="hljs-title function_">append</span>(item.<span class="hljs-title function_">get_text</span>(strip = <span class="hljs-title class_">True</span>))
driver.<span class="hljs-title function_">close</span>()
## 판다스 데이터프레임으로 변환
df_sephora = pd.<span class="hljs-title class_">DataFrame</span>(
                        {<span class="hljs-string">&#x27;브랜드&#x27;</span>: brand,
                         <span class="hljs-string">&#x27;설명&#x27;</span>: description,
                         <span class="hljs-string">&#x27;가격&#x27;</span>: price
                        })
df_sephora.<span class="hljs-title function_">head</span>(<span class="hljs-number">10</span>)
</code></pre>
<div class="content-ad"></div>
<p>위의 판다 데이터프레임의 출력은 아래 이미지에서 확인할 수 있습니다.</p>
<p><img src="/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_3.png" alt="이미지"/></p>
<p>&#x27;Price&#x27; 열은 할인이 적용된 제품과 관련하여 추가 정제가 필요할 수 있음을 유의해주세요.</p>
<p>이후 페이지를 스크랩하기 위해서는 단순히 위의 코드를 For-Loop로 감싸고 아래와 같이 url 객체를 소프트 코딩하면 됩니다 (데이터프레임으로 열을 결합하기 전에).</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">## <span class="hljs-title class_">For</span>-<span class="hljs-title class_">Loop</span>에 페이지 수를 지정하기
<span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-title function_">range</span>(<span class="hljs-number">1</span>, 페이지 수):
    url = <span class="hljs-string">&quot;https://www.sephora.com.au/search?q=foundation&amp;page=&quot;</span> + <span class="hljs-title function_">str</span>(j)
    **페이지별 크롤링 관련 코드 삽입**
             .
             .
             .
</code></pre>
<h1>사용 사례 2: 무한 스크롤용 웹 스크레이퍼</h1>
<p>무한 스크롤은 사용자가 페이지를 스크롤할 때 더 많은 콘텐츠를 로드하는 웹사이트 디자인으로, 페이지 이동을 클릭하지 않고 자동으로 더 많은 콘텐츠를 로드합니다. 이로 인해 Use Case 1용으로 작성된 For-Loop가 다소 유용하지 않을 수 있습니다.</p>
<p>그러나 무한 스크롤은 더 스크롤하는 모션을 흉내 내는 웹 스크레이퍼로 자동화할 수도 있습니다. 이를 위해 스크레이퍼에게 먼저 전체 웹페이지 길이만큼 스크롤하도록 지시하고, 컨텐츠가 로드되기를 기다린 후 몇 초 동안 기다린 후 다시 전체 페이지 길이만큼 스크롤하여 무한 스크롤의 끝에 도달한 후 HTML 코드를 Python 객체로 파싱할 수 있습니다.```</p>
<div class="content-ad"></div>
<p>이 사용 사례를 보여주기 위해, &quot;가방&quot; 검색과 관련된 Acne Studio 웹사이트에서 데이터를 스크래핑할 것입니다.</p>
<p>필요한 Python 라이브러리는 대부분 Use Case 1과 일치하며 다음 추가 사항이 있습니다:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> time ## 대기 시간 설정에 사용
<span class="hljs-keyword">from</span> urllib.<span class="hljs-property">parse</span> <span class="hljs-keyword">import</span> urljoin ## url을 위한 문자열 결합에 사용
</code></pre>
<p>먼저 Google Chrome을 시작하고 Use Case 1에 기반해 URL을 설정하고 &quot;스크롤, 몇 초 대기한 후 다시 스크롤&quot; 이동 순서를 다음과 같이 지정합니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-python">options = webdriver.ChromeOptions()
options.add_argument(<span class="hljs-string">&#x27;--headless&#x27;</span>)
driver = webdriver.Chrome(executable_path=<span class="hljs-string">r&#x27;C:\Users\Jin\Documents\Webscraping\Drivers\chromedriver.exe&#x27;</span>, chrome_options=options)
url_acne = <span class="hljs-string">&quot;https://www.acnestudios.com/au/en/search?q=bags&quot;</span>
<span class="hljs-built_in">print</span>(url_acne)
driver.get(url_acne)
time.sleep(<span class="hljs-number">2</span>)  <span class="hljs-comment"># 웹 페이지가 열리기까지 2초 기다립니다</span>
scroll_pause_time = <span class="hljs-number">2</span>  <span class="hljs-comment"># 웹 페이지 로딩을 위해 2초 기다립니다</span>

screen_height = driver.execute_script(<span class="hljs-string">&quot;return window.screen.height;&quot;</span>)  <span class="hljs-comment"># 웹의 화면 높이 가져오기</span>
i = <span class="hljs-number">1</span>
<span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
   <span class="hljs-comment"># 한 화면 높이씩 스크롤</span>
   driver.execute_script(<span class="hljs-string">&quot;window.scrollTo(0, {screen_height}*{i});&quot;</span>.<span class="hljs-built_in">format</span>(screen_height=screen_height, i=i))
   i += <span class="hljs-number">1</span>
   time.sleep(scroll_pause_time)
   <span class="hljs-comment"># 각 스크롤 후 스크롤 높이 업데이트</span>
   scroll_height = driver.execute_script(<span class="hljs-string">&quot;return document.body.scrollHeight;&quot;</span>)
   <span class="hljs-comment"># 웹 페이지의 끝에 도달하면 루프 종료</span>
   <span class="hljs-keyword">if</span> (screen_height) * i &gt; scroll_height:
       <span class="hljs-keyword">break</span>
</code></pre>
<p>Infinite Scroll의 최하단에 도달했을 때, HTML 코드를 저장하고 Use Case 1과 동일한 방법으로 데이터를 다운로드할 수 있습니다. 이번 유스케이스에서는 각 핸드백의 설명, 가격 및 이미지 URL을 다운로드할 것입니다.</p>
<pre><code class="hljs language-python">description = []
price = []
url = []
soup = BeautifulSoup(driver.page_source, <span class="hljs-string">&quot;html.parser&quot;</span>)
<span class="hljs-keyword">for</span> desc <span class="hljs-keyword">in</span> soup.find_all(class_=<span class="hljs-string">&quot;product-tile__name&quot;</span>):
    
    description.append(desc.get_text(strip=<span class="hljs-literal">True</span>))
    
<span class="hljs-keyword">for</span> desc <span class="hljs-keyword">in</span> soup.find_all(class_=<span class="hljs-string">&quot;product-tile__price font--monospace&quot;</span>):
    
    price.append(desc.get_text(strip=<span class="hljs-literal">True</span>))
    
<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> soup.find_all(class_=<span class="hljs-string">&quot;tile__link&quot;</span>):
    
    base = <span class="hljs-string">&quot;https://www.acnestudios.com/&quot;</span>
    link = item.attrs[<span class="hljs-string">&quot;href&quot;</span>]
    url_join = urljoin(base, link)
    
    url.append(url_join)
<span class="hljs-comment">## pandas 데이터프레임으로 변환</span>
df_acne = pd.DataFrame(
                        {
                         <span class="hljs-string">&#x27;Description&#x27;</span>: description,
                         <span class="hljs-string">&#x27;Price&#x27;</span>: price,
                         <span class="hljs-string">&#x27;URL&#x27;</span>: url
                        })
df_acne
</code></pre>
<p>데이터프레임 결과 샘플은 아래와 같습니다. Infinite Scroll이 없었다면 데이터프레임에는 아마 10개 정도의 기록만 포함되었을 것입니다.```</p>
<div class="content-ad"></div>
<img src="/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_4.png"/>
<h1>사용 사례 3: 이미지 스크래핑</h1>
<p>이미지 스크래핑은 웹사이트에 호스팅된 이미지를 다운로드하고 로컬 컴퓨터에 체계적으로 저장하는 자동화를 의미합니다. 이는 다음과 같은 이유로 유용할 수 있습니다:</p>
<ul>
<li>웹사이트에서 게시된 이미지가 나중에 제거될 수 있음</li>
<li>다운로드한 이미지는 오프라인에서 다시 확인할 수 있음 (즉, 인터넷 없이)</li>
<li>다운로드한 이미지는 더 포괄적인 방식으로 확인할 수 있음 (예: 특정 순서로 또는 명명 규칙에 따라)</li>
</ul>
<div class="content-ad"></div>
<p>이 사용 사례를 보여 주기 위해, MangaPark 웹 사이트에서 Manga 시리즈 아래의 모든 이미지를 스크랩하겠습니다. 개인 컴퓨터에 전체 Manga가 저장되어 있으면, 온라인에서 각 장에 대한 &quot;다음&quot; 버튼을 클릭하고 여러 개의 온라인 광고를 만나는 대신 Manga 페이지를 편리하게 넘길 수 있습니다.</p>
<p>사용 사례 1과 2와 동일한 Python 라이브러리를 사용하여, 우리는 한 장의 이미지를 스크랩하기 위해 시작하고 For-Loop를 사용하여 다른 장의 이미지까지 스크랩해가는 작업을 확장합니다. 일본 Manga 시리즈 &quot;H2&quot;의 첫 번째 장에서:</p>
<pre><code class="hljs language-js">url = <span class="hljs-string">&quot;https://v2.mangapark.net/manga/h2/i294558/c1&quot;</span>
<span class="hljs-title function_">print</span>(url)
options = webdriver.<span class="hljs-title class_">ChromeOptions</span>()
options.<span class="hljs-title function_">add_argument</span>(<span class="hljs-string">&#x27;--headless&#x27;</span>)
driver = webdriver.<span class="hljs-title class_">Chrome</span>( 
                          executable_path = r<span class="hljs-string">&#x27;C:\Users\Jin\Documents\Webscraping\Drivers\chromedriver.exe&#x27;</span>,
                          chrome_options = options
                         )
driver.<span class="hljs-title function_">get</span>(url)
soup = <span class="hljs-title class_">BeautifulSoup</span>(driver.<span class="hljs-property">page_source</span>, <span class="hljs-string">&#x27;html&#x27;</span>)
## 장의 이미지 수는 다양하며, 오류 처리 덕분에
## 인덱스 오류 없이 최대 <span class="hljs-number">50</span>개까지 다운로드 가능함
## 이미지는 시간순으로 <span class="hljs-variable constant_">H2</span> 폴더에 저장됨
## <span class="hljs-title class_">Python</span> 스크립트가 저장된 경로에 저장됨
<span class="hljs-attr">try</span>:
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-title function_">range</span>(<span class="hljs-number">50</span>):    
        urllib.<span class="hljs-property">request</span>.<span class="hljs-title function_">urlretrieve</span>(<span class="hljs-title function_">str</span>(soup.<span class="hljs-title function_">find_all</span>(class_ = <span class="hljs-string">&quot;img&quot;</span>)[i].<span class="hljs-property">attrs</span>[<span class="hljs-string">&quot;src&quot;</span>]),
                               <span class="hljs-string">&quot;H2/&quot;</span> + <span class="hljs-title function_">str</span>(i) + <span class="hljs-string">&quot;.jpg&quot;</span>.<span class="hljs-title function_">format</span>(i))
<span class="hljs-attr">except</span>:
    pass
</code></pre>
<p>위의 작업을 완료하면, &quot;다음&quot; 페이지의 URL을 찾고 위의 스크래핑을 반복하는 문제로 전환됩니다. 이 작업은 다음과 같이 수행할 수 있습니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">url = <span class="hljs-string">&quot;https://v2.mangapark.net/manga/h2/i294558/c1&quot;</span>
chapter_number = <span class="hljs-number">338</span>
<span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-title function_">range</span>(<span class="hljs-number">1</span>, upper_limit + <span class="hljs-number">1</span>):
      
    <span class="hljs-title function_">print</span>(url)
    options = webdriver.<span class="hljs-title class_">ChromeOptions</span>()
    options.<span class="hljs-title function_">add_argument</span>(<span class="hljs-string">&#x27;--headless&#x27;</span>)
    driver = webdriver.<span class="hljs-title class_">Chrome</span>(
                              executable_path = r<span class="hljs-string">&#x27;C:\Users\Jin\Documents\Webscraping\Drivers\chromedriver.exe&#x27;</span>,
                              chrome_options = options
                             )
    driver.<span class="hljs-title function_">get</span>(url)
    soup = <span class="hljs-title class_">BeautifulSoup</span>(driver.<span class="hljs-property">page_source</span>, <span class="hljs-string">&#x27;html&#x27;</span>)
<span class="hljs-attr">try</span>:
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-title function_">range</span>(<span class="hljs-number">50</span>):    
            urllib.<span class="hljs-property">request</span>.<span class="hljs-title function_">urlretrieve</span>(<span class="hljs-title function_">str</span>(soup.<span class="hljs-title function_">find_all</span>(class_ = <span class="hljs-string">&quot;img&quot;</span>)[i].<span class="hljs-property">attrs</span>[<span class="hljs-string">&quot;src&quot;</span>]),
                                   <span class="hljs-string">&quot;H2/&quot;</span> + <span class="hljs-title function_">str</span>(j) + <span class="hljs-string">&quot;_&quot;</span> + <span class="hljs-title function_">str</span>(i) + <span class="hljs-string">&quot;.jpg&quot;</span>.<span class="hljs-title function_">format</span>(i))
<span class="hljs-attr">except</span>: ## number <span class="hljs-keyword">of</span> pictures may vary on a webpage
        pass
## 아래는 <span class="hljs-string">&quot;다음&quot;</span> 페이지를 위한 <span class="hljs-variable constant_">URL</span>을 찾습니다.
base_url = <span class="hljs-string">&quot;https://v2.mangapark.net/&quot;</span>
    next_page = soup.<span class="hljs-title function_">find_all</span>(<span class="hljs-string">&quot;a&quot;</span>, href = <span class="hljs-title class_">True</span>)[<span class="hljs-number">12</span>].<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;href&quot;</span>)
url = <span class="hljs-title function_">urljoin</span>(base_url, next_page)
</code></pre>
<p>지금은 차 한 잔과 함께 H2 만화를 즐겨보세요! 정말 재미있어요.</p>
<h1>결론</h1>
<p>이 기사에서는 실행 가능한 코드로 웹 스크래핑의 세 가지 사용 사례를 소개했습니다. 이러한 사용 사례들은 쉽게 확장하여 웹사이트의 HTML 코드가 가지고 있는 추가 속성을 포함시킬 수 있습니다. 독자들이 자세히 살펴보면 됩니다!</p>
<div class="content-ad"></div>
<p>다음으로, 행위 보험사/데이터 과학자 모자를 쓰고, 경쟁 업체 웹사이트의 변경 사항을 모니터링하거나 리뷰 웹사이트에서 고객의 긍정적/부정적 댓글을 스크래핑하는 등의 상업 기회를 탐색할 예정입니다. 계속 주목해주세요!</p></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"실무에 적용하면 퇴근시간 단축하는 웹 스크래퍼 만들기","description":"","date":"2024-05-01 23:48","slug":"2024-05-01-BuildingaWebScraperforThreeCommonUseCases","content":"\n\n![이미지](/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_0.png)\n\n# 동기부여\n\n최근 지역 소매업체 웹사이트에서 새 노트북을 찾고 있었는데, 여러 페이지의 검색 결과를 통해 여러 노트북의 브랜드, 사양 및 가격을 수동으로 메모해야 했습니다(비교 목적). 이 매뉴얼한 방식에 대한 frustration을 파트너에게 털어놓자, e-커머스 웹사이트에서도 유사한 불만을 표현했습니다.\n\n그 후, 웹 스크래퍼를 사용하여 웹사이트의 내용을 구조화된(예: 테이블 형식) 데이터로 자동 변환하는 과정을 자동화하는 것에 대한 사례를 탐구했습니다. 본 문서는 다음 세 가지 일반적인 사용 사례에 대한 웹 스크래퍼의 실제 단계별 가이드를 제공합니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 여러 페이지에 걸쳐 검색 결과를 반환하는 웹사이트를 찾을 때 (\"페이지별 검색\")\n- 수동으로 아래로 스크롤하여 더 많은 검색 결과를 반환하는 웹사이트를 찾을 때 (\"무한 스크롤\")\n- 웹사이트에 호스팅된 이미지를 다운로드할 때 (\"이미지 스크랩\")\n\n# 웹 스크레이핑에 대한 비 기술적 소개\n\n사용자가 웹사이트에서 만나는 대부분의 콘텐츠는 사실 HTML 코드의 출력물입니다. 이러한 코드는 일반적으로 모든 웹사이트가 따르는 일반 규칙과 함께 컴파일됩니다. 즉, 웹사이트의 '프론트엔드'에 사용자에게 표시되는 콘텐츠는 웹사이트의 HTML 코드의 관련 레이어를 쿼리하여 저장 및 다운로드할 수 있습니다.\n\n이 기사의 목적을 위해 사용된 웹 스크레이퍼는 주로 BeautifulSoup 및 Selenium 라이브러리를 사용하여 Python으로 개발되었습니다. 특히, BeautifulSoup 라이브러리는 웹사이트 뒤의 HTML 코드에서 데이터를 검색하고 쿼리하며 반환하는 기능을 제공하며, Selenium 라이브러리는 브라우저 자동화를 지원합니다(예: Google Chrome 또는 Firefox 브라우저에서 특정 작업 수행).\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 사용 사례 1: 페이지별 검색을 위한 웹 스크래퍼\n\n이 사용 사례를 보여주기 위해 세포라 웹 사이트에서 \"파운데이션\"과 관련된 데이터를 스크래핑 할 것입니다 (비난하지 마세요). 다음과 같이 Python 라이브러리를 가져오는 것으로 시작할 것입니다.\n\n```js\nfrom bs4 import BeautifulSoup\nfrom selenium import webdriver\nimport pandas as pd # 데이터를 데이터프레임에 저장하기 위해\n```\n\n그런 다음 Google Chrome을 사용하여 검색 '페이지 1'에서 관심 있는 데이터를 스크래핑하려고 시도한 다음, For-Loop를 사용하여 다른 모든 페이지에 대해이 스크래핑을 구축할 것입니다. 각각 화장품 제품의 브랜드, 설명 및 가격을 스크래핑하기 위해 웹 사이트의 HTML 코드를 파이썬 객체인 soup_sephora로 구문 분석하기 시작할 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n## Sephora 웹 사이트에서 \"파운데이션\"을 검색한 결과 페이지 1의 URL\nurl = \"https://www.sephora.com.au/search?q=foundation\u0026page=1\"\n## 아래 옵션은 Chrome이 실제로 열리는 것을 방지합니다\noptions = webdriver.ChromeOptions()\noptions.add_argument('--headless')\n## chromedriver 다운로드 및 위치 지정\ndriver = webdriver.Chrome(\n                          executable_path = r'C:\\Users\\Jin\\Documents\\Webscraping\\Drivers\\chromedriver.exe',\n                          chrome_options = options\n                           )\ndriver.get(url)\n## HTML 코드 반환\nsoup_sephora = BeautifulSoup(driver.page_source, 'lxml')\n```\n\n저장된 HTML 코드 (soup_sephora 객체에 저장된)를 Microsoft Word나 메모장과 같이 검색 가능한 문서 유형에 붙여 넣는 것이 좋습니다. 이렇게 하면 관심 있는 데이터를 반환하기 위해 쿼리해야 할 속성을 식별하는 데 도움이 됩니다. 예를 들어, 페이지 1의 각 제품의 가격 속성은 HTML 구조에서 \"product-price\" 클래스에 저장되어 있으며, 특정 제품의 가격을 확인하기 위해 가격에 대한 \"CTRL+F\"를 수행하여 식별할 수 있습니다. 첫 번째 이미지에서 보이는 가격 $95의 YSL 파운데이션이 경우, 이는 두 번째 이미지에서 \"product-price\" 클래스 아래의 텍스트 문자열로 soup_sephora 객체에 포함되어 있으며, Microsoft Word 문서에서 \"$95\"를 검색하여 확인할 수 있습니다.\n\n\u003cimg src=\"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_1.png\" /\u003e\n\n\u003cimg src=\"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_2.png\" /\u003e```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래 코드는 파이썬 리스트에 페이지 1의 모든 제품의 가격을 반환합니다.\n\n```js\nsoup_sephora.findAll(class_ = \"product-price\")\n```\n\n위 내용을 고려하면, 검색 결과 페이지 1에 있는 모든 제품의 브랜드, 설명, 가격을 다음과 같이 판다스 데이터프레임에 저장할 수 있습니다.\n\n```js\nbrand = []\ndescription = []\nprice = []\nurl = \"https://www.sephora.com.au/search?q=foundation\u0026page=1\"\noptions = webdriver.ChromeOptions()\noptions.add_argument('--headless')\ndriver = webdriver.Chrome(\n                                 executable_path = r'C:\\Users\\Jin\\Documents\\Webscraping\\Drivers\\chromedriver.exe',\n                                 chrome_options = options\n                                )\ndriver.get(url)\nsoup_sephora = BeautifulSoup(driver.page_source, 'lxml')\ni = 0\nfor item in soup_sephora.findAll(class_ = \"product-card-brand\"):\n    i = i + 1\n    brand.append(item.get_text(strip = True))\nfor item in soup_sephora.findAll(class_ = \"product-card-product\"):\n    i = i + 1\n    description.append(item.get_text(strip = True))\n            \nfor item in soup_sephora.findAll(class_ = \"product-price\"):\n    i = i + 1\n    price.append(item.get_text(strip = True))\ndriver.close()\n## 판다스 데이터프레임으로 변환\ndf_sephora = pd.DataFrame(\n                        {'브랜드': brand,\n                         '설명': description,\n                         '가격': price\n                        })\ndf_sephora.head(10)\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위의 판다 데이터프레임의 출력은 아래 이미지에서 확인할 수 있습니다.\n\n![이미지](/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_3.png)\n\n'Price' 열은 할인이 적용된 제품과 관련하여 추가 정제가 필요할 수 있음을 유의해주세요.\n\n이후 페이지를 스크랩하기 위해서는 단순히 위의 코드를 For-Loop로 감싸고 아래와 같이 url 객체를 소프트 코딩하면 됩니다 (데이터프레임으로 열을 결합하기 전에).\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n## For-Loop에 페이지 수를 지정하기\nfor j in range(1, 페이지 수):\n    url = \"https://www.sephora.com.au/search?q=foundation\u0026page=\" + str(j)\n    **페이지별 크롤링 관련 코드 삽입**\n             .\n             .\n             .\n```\n\n# 사용 사례 2: 무한 스크롤용 웹 스크레이퍼\n\n무한 스크롤은 사용자가 페이지를 스크롤할 때 더 많은 콘텐츠를 로드하는 웹사이트 디자인으로, 페이지 이동을 클릭하지 않고 자동으로 더 많은 콘텐츠를 로드합니다. 이로 인해 Use Case 1용으로 작성된 For-Loop가 다소 유용하지 않을 수 있습니다.\n\n그러나 무한 스크롤은 더 스크롤하는 모션을 흉내 내는 웹 스크레이퍼로 자동화할 수도 있습니다. 이를 위해 스크레이퍼에게 먼저 전체 웹페이지 길이만큼 스크롤하도록 지시하고, 컨텐츠가 로드되기를 기다린 후 몇 초 동안 기다린 후 다시 전체 페이지 길이만큼 스크롤하여 무한 스크롤의 끝에 도달한 후 HTML 코드를 Python 객체로 파싱할 수 있습니다.```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 사용 사례를 보여주기 위해, \"가방\" 검색과 관련된 Acne Studio 웹사이트에서 데이터를 스크래핑할 것입니다.\n\n필요한 Python 라이브러리는 대부분 Use Case 1과 일치하며 다음 추가 사항이 있습니다:\n\n```js\nimport time ## 대기 시간 설정에 사용\nfrom urllib.parse import urljoin ## url을 위한 문자열 결합에 사용\n```\n\n먼저 Google Chrome을 시작하고 Use Case 1에 기반해 URL을 설정하고 \"스크롤, 몇 초 대기한 후 다시 스크롤\" 이동 순서를 다음과 같이 지정합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```python\noptions = webdriver.ChromeOptions()\noptions.add_argument('--headless')\ndriver = webdriver.Chrome(executable_path=r'C:\\Users\\Jin\\Documents\\Webscraping\\Drivers\\chromedriver.exe', chrome_options=options)\nurl_acne = \"https://www.acnestudios.com/au/en/search?q=bags\"\nprint(url_acne)\ndriver.get(url_acne)\ntime.sleep(2)  # 웹 페이지가 열리기까지 2초 기다립니다\nscroll_pause_time = 2  # 웹 페이지 로딩을 위해 2초 기다립니다\n\nscreen_height = driver.execute_script(\"return window.screen.height;\")  # 웹의 화면 높이 가져오기\ni = 1\nwhile True:\n   # 한 화면 높이씩 스크롤\n   driver.execute_script(\"window.scrollTo(0, {screen_height}*{i});\".format(screen_height=screen_height, i=i))\n   i += 1\n   time.sleep(scroll_pause_time)\n   # 각 스크롤 후 스크롤 높이 업데이트\n   scroll_height = driver.execute_script(\"return document.body.scrollHeight;\")\n   # 웹 페이지의 끝에 도달하면 루프 종료\n   if (screen_height) * i \u003e scroll_height:\n       break\n```\n\nInfinite Scroll의 최하단에 도달했을 때, HTML 코드를 저장하고 Use Case 1과 동일한 방법으로 데이터를 다운로드할 수 있습니다. 이번 유스케이스에서는 각 핸드백의 설명, 가격 및 이미지 URL을 다운로드할 것입니다.\n\n```python\ndescription = []\nprice = []\nurl = []\nsoup = BeautifulSoup(driver.page_source, \"html.parser\")\nfor desc in soup.find_all(class_=\"product-tile__name\"):\n    \n    description.append(desc.get_text(strip=True))\n    \nfor desc in soup.find_all(class_=\"product-tile__price font--monospace\"):\n    \n    price.append(desc.get_text(strip=True))\n    \nfor item in soup.find_all(class_=\"tile__link\"):\n    \n    base = \"https://www.acnestudios.com/\"\n    link = item.attrs[\"href\"]\n    url_join = urljoin(base, link)\n    \n    url.append(url_join)\n## pandas 데이터프레임으로 변환\ndf_acne = pd.DataFrame(\n                        {\n                         'Description': description,\n                         'Price': price,\n                         'URL': url\n                        })\ndf_acne\n```\n\n데이터프레임 결과 샘플은 아래와 같습니다. Infinite Scroll이 없었다면 데이터프레임에는 아마 10개 정도의 기록만 포함되었을 것입니다.```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_4.png\" /\u003e\n\n# 사용 사례 3: 이미지 스크래핑\n\n이미지 스크래핑은 웹사이트에 호스팅된 이미지를 다운로드하고 로컬 컴퓨터에 체계적으로 저장하는 자동화를 의미합니다. 이는 다음과 같은 이유로 유용할 수 있습니다:\n\n- 웹사이트에서 게시된 이미지가 나중에 제거될 수 있음\n- 다운로드한 이미지는 오프라인에서 다시 확인할 수 있음 (즉, 인터넷 없이)\n- 다운로드한 이미지는 더 포괄적인 방식으로 확인할 수 있음 (예: 특정 순서로 또는 명명 규칙에 따라)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 사용 사례를 보여 주기 위해, MangaPark 웹 사이트에서 Manga 시리즈 아래의 모든 이미지를 스크랩하겠습니다. 개인 컴퓨터에 전체 Manga가 저장되어 있으면, 온라인에서 각 장에 대한 \"다음\" 버튼을 클릭하고 여러 개의 온라인 광고를 만나는 대신 Manga 페이지를 편리하게 넘길 수 있습니다.\n\n사용 사례 1과 2와 동일한 Python 라이브러리를 사용하여, 우리는 한 장의 이미지를 스크랩하기 위해 시작하고 For-Loop를 사용하여 다른 장의 이미지까지 스크랩해가는 작업을 확장합니다. 일본 Manga 시리즈 \"H2\"의 첫 번째 장에서:\n\n```js\nurl = \"https://v2.mangapark.net/manga/h2/i294558/c1\"\nprint(url)\noptions = webdriver.ChromeOptions()\noptions.add_argument('--headless')\ndriver = webdriver.Chrome( \n                          executable_path = r'C:\\Users\\Jin\\Documents\\Webscraping\\Drivers\\chromedriver.exe',\n                          chrome_options = options\n                         )\ndriver.get(url)\nsoup = BeautifulSoup(driver.page_source, 'html')\n## 장의 이미지 수는 다양하며, 오류 처리 덕분에\n## 인덱스 오류 없이 최대 50개까지 다운로드 가능함\n## 이미지는 시간순으로 H2 폴더에 저장됨\n## Python 스크립트가 저장된 경로에 저장됨\ntry:\nfor i in range(50):    \n        urllib.request.urlretrieve(str(soup.find_all(class_ = \"img\")[i].attrs[\"src\"]),\n                               \"H2/\" + str(i) + \".jpg\".format(i))\nexcept:\n    pass\n```\n\n위의 작업을 완료하면, \"다음\" 페이지의 URL을 찾고 위의 스크래핑을 반복하는 문제로 전환됩니다. 이 작업은 다음과 같이 수행할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nurl = \"https://v2.mangapark.net/manga/h2/i294558/c1\"\nchapter_number = 338\nfor j in range(1, upper_limit + 1):\n      \n    print(url)\n    options = webdriver.ChromeOptions()\n    options.add_argument('--headless')\n    driver = webdriver.Chrome(\n                              executable_path = r'C:\\Users\\Jin\\Documents\\Webscraping\\Drivers\\chromedriver.exe',\n                              chrome_options = options\n                             )\n    driver.get(url)\n    soup = BeautifulSoup(driver.page_source, 'html')\ntry:\nfor i in range(50):    \n            urllib.request.urlretrieve(str(soup.find_all(class_ = \"img\")[i].attrs[\"src\"]),\n                                   \"H2/\" + str(j) + \"_\" + str(i) + \".jpg\".format(i))\nexcept: ## number of pictures may vary on a webpage\n        pass\n## 아래는 \"다음\" 페이지를 위한 URL을 찾습니다.\nbase_url = \"https://v2.mangapark.net/\"\n    next_page = soup.find_all(\"a\", href = True)[12].get(\"href\")\nurl = urljoin(base_url, next_page)\n```\n\n지금은 차 한 잔과 함께 H2 만화를 즐겨보세요! 정말 재미있어요.\n\n# 결론\n\n이 기사에서는 실행 가능한 코드로 웹 스크래핑의 세 가지 사용 사례를 소개했습니다. 이러한 사용 사례들은 쉽게 확장하여 웹사이트의 HTML 코드가 가지고 있는 추가 속성을 포함시킬 수 있습니다. 독자들이 자세히 살펴보면 됩니다!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음으로, 행위 보험사/데이터 과학자 모자를 쓰고, 경쟁 업체 웹사이트의 변경 사항을 모니터링하거나 리뷰 웹사이트에서 고객의 긍정적/부정적 댓글을 스크래핑하는 등의 상업 기회를 탐색할 예정입니다. 계속 주목해주세요!","ogImage":{"url":"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_0.png"},"coverImage":"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_0.png","tag":["Tech"],"readingTime":11},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    h1: \"h1\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_0.png\",\n        alt: \"이미지\"\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"동기부여\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"최근 지역 소매업체 웹사이트에서 새 노트북을 찾고 있었는데, 여러 페이지의 검색 결과를 통해 여러 노트북의 브랜드, 사양 및 가격을 수동으로 메모해야 했습니다(비교 목적). 이 매뉴얼한 방식에 대한 frustration을 파트너에게 털어놓자, e-커머스 웹사이트에서도 유사한 불만을 표현했습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그 후, 웹 스크래퍼를 사용하여 웹사이트의 내용을 구조화된(예: 테이블 형식) 데이터로 자동 변환하는 과정을 자동화하는 것에 대한 사례를 탐구했습니다. 본 문서는 다음 세 가지 일반적인 사용 사례에 대한 웹 스크래퍼의 실제 단계별 가이드를 제공합니다:\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"여러 페이지에 걸쳐 검색 결과를 반환하는 웹사이트를 찾을 때 (\\\"페이지별 검색\\\")\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"수동으로 아래로 스크롤하여 더 많은 검색 결과를 반환하는 웹사이트를 찾을 때 (\\\"무한 스크롤\\\")\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"웹사이트에 호스팅된 이미지를 다운로드할 때 (\\\"이미지 스크랩\\\")\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"웹 스크레이핑에 대한 비 기술적 소개\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"사용자가 웹사이트에서 만나는 대부분의 콘텐츠는 사실 HTML 코드의 출력물입니다. 이러한 코드는 일반적으로 모든 웹사이트가 따르는 일반 규칙과 함께 컴파일됩니다. 즉, 웹사이트의 '프론트엔드'에 사용자에게 표시되는 콘텐츠는 웹사이트의 HTML 코드의 관련 레이어를 쿼리하여 저장 및 다운로드할 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 기사의 목적을 위해 사용된 웹 스크레이퍼는 주로 BeautifulSoup 및 Selenium 라이브러리를 사용하여 Python으로 개발되었습니다. 특히, BeautifulSoup 라이브러리는 웹사이트 뒤의 HTML 코드에서 데이터를 검색하고 쿼리하며 반환하는 기능을 제공하며, Selenium 라이브러리는 브라우저 자동화를 지원합니다(예: Google Chrome 또는 Firefox 브라우저에서 특정 작업 수행).\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"사용 사례 1: 페이지별 검색을 위한 웹 스크래퍼\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 사용 사례를 보여주기 위해 세포라 웹 사이트에서 \\\"파운데이션\\\"과 관련된 데이터를 스크래핑 할 것입니다 (비난하지 마세요). 다음과 같이 Python 라이브러리를 가져오는 것으로 시작할 것입니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" bs4 \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"BeautifulSoup\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" selenium \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" webdriver\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" pandas \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" pd # 데이터를 데이터프레임에 저장하기 위해\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그런 다음 Google Chrome을 사용하여 검색 '페이지 1'에서 관심 있는 데이터를 스크래핑하려고 시도한 다음, For-Loop를 사용하여 다른 모든 페이지에 대해이 스크래핑을 구축할 것입니다. 각각 화장품 제품의 브랜드, 설명 및 가격을 스크래핑하기 위해 웹 사이트의 HTML 코드를 파이썬 객체인 soup_sephora로 구문 분석하기 시작할 것입니다.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"## \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Sephora\"\n        }), \" 웹 사이트에서 \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"파운데이션\\\"\"\n        }), \"을 검색한 결과 페이지 \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"의 \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"URL\"\n        }), \"\\nurl = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"https://www.sephora.com.au/search?q=foundation\u0026page=1\\\"\"\n        }), \"\\n## 아래 옵션은 \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Chrome\"\n        }), \"이 실제로 열리는 것을 방지합니다\\noptions = webdriver.\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ChromeOptions\"\n        }), \"()\\noptions.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"add_argument\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'--headless'\"\n        }), \")\\n## chromedriver 다운로드 및 위치 지정\\ndriver = webdriver.\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Chrome\"\n        }), \"(\\n                          executable_path = r\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'C:\\\\Users\\\\Jin\\\\Documents\\\\Webscraping\\\\Drivers\\\\chromedriver.exe'\"\n        }), \",\\n                          chrome_options = options\\n                           )\\ndriver.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(url)\\n## \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"HTML\"\n        }), \" 코드 반환\\nsoup_sephora = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"BeautifulSoup\"\n        }), \"(driver.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"page_source\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'lxml'\"\n        }), \")\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"저장된 HTML 코드 (soup_sephora 객체에 저장된)를 Microsoft Word나 메모장과 같이 검색 가능한 문서 유형에 붙여 넣는 것이 좋습니다. 이렇게 하면 관심 있는 데이터를 반환하기 위해 쿼리해야 할 속성을 식별하는 데 도움이 됩니다. 예를 들어, 페이지 1의 각 제품의 가격 속성은 HTML 구조에서 \\\"product-price\\\" 클래스에 저장되어 있으며, 특정 제품의 가격을 확인하기 위해 가격에 대한 \\\"CTRL+F\\\"를 수행하여 식별할 수 있습니다. 첫 번째 이미지에서 보이는 가격 $95의 YSL 파운데이션이 경우, 이는 두 번째 이미지에서 \\\"product-price\\\" 클래스 아래의 텍스트 문자열로 soup_sephora 객체에 포함되어 있으며, Microsoft Word 문서에서 \\\"$95\\\"를 검색하여 확인할 수 있습니다.\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_1.png\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(\"img\", {\n        src: \"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_2.png\"\n      }), \"```\"]\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"아래 코드는 파이썬 리스트에 페이지 1의 모든 제품의 가격을 반환합니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"soup_sephora.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"findAll\"\n        }), \"(class_ = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"product-price\\\"\"\n        }), \")\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"위 내용을 고려하면, 검색 결과 페이지 1에 있는 모든 제품의 브랜드, 설명, 가격을 다음과 같이 판다스 데이터프레임에 저장할 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"brand = []\\ndescription = []\\nprice = []\\nurl = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"https://www.sephora.com.au/search?q=foundation\u0026page=1\\\"\"\n        }), \"\\noptions = webdriver.\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ChromeOptions\"\n        }), \"()\\noptions.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"add_argument\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'--headless'\"\n        }), \")\\ndriver = webdriver.\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Chrome\"\n        }), \"(\\n                                 executable_path = r\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'C:\\\\Users\\\\Jin\\\\Documents\\\\Webscraping\\\\Drivers\\\\chromedriver.exe'\"\n        }), \",\\n                                 chrome_options = options\\n                                )\\ndriver.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(url)\\nsoup_sephora = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"BeautifulSoup\"\n        }), \"(driver.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"page_source\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'lxml'\"\n        }), \")\\ni = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" item \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" soup_sephora.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"findAll\"\n        }), \"(class_ = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"product-card-brand\\\"\"\n        }), \"):\\n    i = i + \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"\\n    brand.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"append\"\n        }), \"(item.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get_text\"\n        }), \"(strip = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"True\"\n        }), \"))\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" item \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" soup_sephora.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"findAll\"\n        }), \"(class_ = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"product-card-product\\\"\"\n        }), \"):\\n    i = i + \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"\\n    description.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"append\"\n        }), \"(item.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get_text\"\n        }), \"(strip = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"True\"\n        }), \"))\\n            \\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" item \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" soup_sephora.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"findAll\"\n        }), \"(class_ = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"product-price\\\"\"\n        }), \"):\\n    i = i + \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"\\n    price.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"append\"\n        }), \"(item.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get_text\"\n        }), \"(strip = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"True\"\n        }), \"))\\ndriver.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"close\"\n        }), \"()\\n## 판다스 데이터프레임으로 변환\\ndf_sephora = pd.\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"DataFrame\"\n        }), \"(\\n                        {\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'브랜드'\"\n        }), \": brand,\\n                         \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'설명'\"\n        }), \": description,\\n                         \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'가격'\"\n        }), \": price\\n                        })\\ndf_sephora.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"head\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"10\"\n        }), \")\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"위의 판다 데이터프레임의 출력은 아래 이미지에서 확인할 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_3.png\",\n        alt: \"이미지\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"'Price' 열은 할인이 적용된 제품과 관련하여 추가 정제가 필요할 수 있음을 유의해주세요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이후 페이지를 스크랩하기 위해서는 단순히 위의 코드를 For-Loop로 감싸고 아래와 같이 url 객체를 소프트 코딩하면 됩니다 (데이터프레임으로 열을 결합하기 전에).\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"## \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"For\"\n        }), \"-\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Loop\"\n        }), \"에 페이지 수를 지정하기\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" j \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"range\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \", 페이지 수):\\n    url = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"https://www.sephora.com.au/search?q=foundation\u0026page=\\\"\"\n        }), \" + \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"str\"\n        }), \"(j)\\n    **페이지별 크롤링 관련 코드 삽입**\\n             .\\n             .\\n             .\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"사용 사례 2: 무한 스크롤용 웹 스크레이퍼\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"무한 스크롤은 사용자가 페이지를 스크롤할 때 더 많은 콘텐츠를 로드하는 웹사이트 디자인으로, 페이지 이동을 클릭하지 않고 자동으로 더 많은 콘텐츠를 로드합니다. 이로 인해 Use Case 1용으로 작성된 For-Loop가 다소 유용하지 않을 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그러나 무한 스크롤은 더 스크롤하는 모션을 흉내 내는 웹 스크레이퍼로 자동화할 수도 있습니다. 이를 위해 스크레이퍼에게 먼저 전체 웹페이지 길이만큼 스크롤하도록 지시하고, 컨텐츠가 로드되기를 기다린 후 몇 초 동안 기다린 후 다시 전체 페이지 길이만큼 스크롤하여 무한 스크롤의 끝에 도달한 후 HTML 코드를 Python 객체로 파싱할 수 있습니다.```\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 사용 사례를 보여주기 위해, \\\"가방\\\" 검색과 관련된 Acne Studio 웹사이트에서 데이터를 스크래핑할 것입니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"필요한 Python 라이브러리는 대부분 Use Case 1과 일치하며 다음 추가 사항이 있습니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" time ## 대기 시간 설정에 사용\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" urllib.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"parse\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" urljoin ## url을 위한 문자열 결합에 사용\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"먼저 Google Chrome을 시작하고 Use Case 1에 기반해 URL을 설정하고 \\\"스크롤, 몇 초 대기한 후 다시 스크롤\\\" 이동 순서를 다음과 같이 지정합니다.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [\"options = webdriver.ChromeOptions()\\noptions.add_argument(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'--headless'\"\n        }), \")\\ndriver = webdriver.Chrome(executable_path=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"r'C:\\\\Users\\\\Jin\\\\Documents\\\\Webscraping\\\\Drivers\\\\chromedriver.exe'\"\n        }), \", chrome_options=options)\\nurl_acne = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"https://www.acnestudios.com/au/en/search?q=bags\\\"\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"print\"\n        }), \"(url_acne)\\ndriver.get(url_acne)\\ntime.sleep(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"2\"\n        }), \")  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# 웹 페이지가 열리기까지 2초 기다립니다\"\n        }), \"\\nscroll_pause_time = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"2\"\n        }), \"  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# 웹 페이지 로딩을 위해 2초 기다립니다\"\n        }), \"\\n\\nscreen_height = driver.execute_script(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"return window.screen.height;\\\"\"\n        }), \")  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# 웹의 화면 높이 가져오기\"\n        }), \"\\ni = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"while\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"True\"\n        }), \":\\n   \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# 한 화면 높이씩 스크롤\"\n        }), \"\\n   driver.execute_script(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"window.scrollTo(0, {screen_height}*{i});\\\"\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"format\"\n        }), \"(screen_height=screen_height, i=i))\\n   i += \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"\\n   time.sleep(scroll_pause_time)\\n   \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# 각 스크롤 후 스크롤 높이 업데이트\"\n        }), \"\\n   scroll_height = driver.execute_script(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"return document.body.scrollHeight;\\\"\"\n        }), \")\\n   \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# 웹 페이지의 끝에 도달하면 루프 종료\"\n        }), \"\\n   \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (screen_height) * i \u003e scroll_height:\\n       \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"break\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Infinite Scroll의 최하단에 도달했을 때, HTML 코드를 저장하고 Use Case 1과 동일한 방법으로 데이터를 다운로드할 수 있습니다. 이번 유스케이스에서는 각 핸드백의 설명, 가격 및 이미지 URL을 다운로드할 것입니다.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [\"description = []\\nprice = []\\nurl = []\\nsoup = BeautifulSoup(driver.page_source, \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"html.parser\\\"\"\n        }), \")\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" desc \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" soup.find_all(class_=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"product-tile__name\\\"\"\n        }), \"):\\n    \\n    description.append(desc.get_text(strip=\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"True\"\n        }), \"))\\n    \\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" desc \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" soup.find_all(class_=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"product-tile__price font--monospace\\\"\"\n        }), \"):\\n    \\n    price.append(desc.get_text(strip=\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"True\"\n        }), \"))\\n    \\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" item \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" soup.find_all(class_=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"tile__link\\\"\"\n        }), \"):\\n    \\n    base = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"https://www.acnestudios.com/\\\"\"\n        }), \"\\n    link = item.attrs[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"href\\\"\"\n        }), \"]\\n    url_join = urljoin(base, link)\\n    \\n    url.append(url_join)\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"## pandas 데이터프레임으로 변환\"\n        }), \"\\ndf_acne = pd.DataFrame(\\n                        {\\n                         \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Description'\"\n        }), \": description,\\n                         \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Price'\"\n        }), \": price,\\n                         \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'URL'\"\n        }), \": url\\n                        })\\ndf_acne\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"데이터프레임 결과 샘플은 아래와 같습니다. Infinite Scroll이 없었다면 데이터프레임에는 아마 10개 정도의 기록만 포함되었을 것입니다.```\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(\"img\", {\n      src: \"/assets/img/2024-05-01-BuildingaWebScraperforThreeCommonUseCases_4.png\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"사용 사례 3: 이미지 스크래핑\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이미지 스크래핑은 웹사이트에 호스팅된 이미지를 다운로드하고 로컬 컴퓨터에 체계적으로 저장하는 자동화를 의미합니다. 이는 다음과 같은 이유로 유용할 수 있습니다:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"웹사이트에서 게시된 이미지가 나중에 제거될 수 있음\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"다운로드한 이미지는 오프라인에서 다시 확인할 수 있음 (즉, 인터넷 없이)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"다운로드한 이미지는 더 포괄적인 방식으로 확인할 수 있음 (예: 특정 순서로 또는 명명 규칙에 따라)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 사용 사례를 보여 주기 위해, MangaPark 웹 사이트에서 Manga 시리즈 아래의 모든 이미지를 스크랩하겠습니다. 개인 컴퓨터에 전체 Manga가 저장되어 있으면, 온라인에서 각 장에 대한 \\\"다음\\\" 버튼을 클릭하고 여러 개의 온라인 광고를 만나는 대신 Manga 페이지를 편리하게 넘길 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"사용 사례 1과 2와 동일한 Python 라이브러리를 사용하여, 우리는 한 장의 이미지를 스크랩하기 위해 시작하고 For-Loop를 사용하여 다른 장의 이미지까지 스크랩해가는 작업을 확장합니다. 일본 Manga 시리즈 \\\"H2\\\"의 첫 번째 장에서:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"url = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"https://v2.mangapark.net/manga/h2/i294558/c1\\\"\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print\"\n        }), \"(url)\\noptions = webdriver.\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ChromeOptions\"\n        }), \"()\\noptions.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"add_argument\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'--headless'\"\n        }), \")\\ndriver = webdriver.\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Chrome\"\n        }), \"( \\n                          executable_path = r\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'C:\\\\Users\\\\Jin\\\\Documents\\\\Webscraping\\\\Drivers\\\\chromedriver.exe'\"\n        }), \",\\n                          chrome_options = options\\n                         )\\ndriver.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(url)\\nsoup = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"BeautifulSoup\"\n        }), \"(driver.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"page_source\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'html'\"\n        }), \")\\n## 장의 이미지 수는 다양하며, 오류 처리 덕분에\\n## 인덱스 오류 없이 최대 \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"50\"\n        }), \"개까지 다운로드 가능함\\n## 이미지는 시간순으로 \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"H2\"\n        }), \" 폴더에 저장됨\\n## \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Python\"\n        }), \" 스크립트가 저장된 경로에 저장됨\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"try\"\n        }), \":\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" i \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"range\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"50\"\n        }), \"):    \\n        urllib.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"request\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"urlretrieve\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"str\"\n        }), \"(soup.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"find_all\"\n        }), \"(class_ = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"img\\\"\"\n        }), \")[i].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"attrs\"\n        }), \"[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"src\\\"\"\n        }), \"]),\\n                               \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"H2/\\\"\"\n        }), \" + \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"str\"\n        }), \"(i) + \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\".jpg\\\"\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"format\"\n        }), \"(i))\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"except\"\n        }), \":\\n    pass\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"위의 작업을 완료하면, \\\"다음\\\" 페이지의 URL을 찾고 위의 스크래핑을 반복하는 문제로 전환됩니다. 이 작업은 다음과 같이 수행할 수 있습니다.\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"url = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"https://v2.mangapark.net/manga/h2/i294558/c1\\\"\"\n        }), \"\\nchapter_number = \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"338\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" j \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"range\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \", upper_limit + \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"):\\n      \\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"print\"\n        }), \"(url)\\n    options = webdriver.\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ChromeOptions\"\n        }), \"()\\n    options.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"add_argument\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'--headless'\"\n        }), \")\\n    driver = webdriver.\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Chrome\"\n        }), \"(\\n                              executable_path = r\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'C:\\\\Users\\\\Jin\\\\Documents\\\\Webscraping\\\\Drivers\\\\chromedriver.exe'\"\n        }), \",\\n                              chrome_options = options\\n                             )\\n    driver.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(url)\\n    soup = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"BeautifulSoup\"\n        }), \"(driver.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"page_source\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'html'\"\n        }), \")\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"try\"\n        }), \":\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" i \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"range\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"50\"\n        }), \"):    \\n            urllib.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"request\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"urlretrieve\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"str\"\n        }), \"(soup.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"find_all\"\n        }), \"(class_ = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"img\\\"\"\n        }), \")[i].\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"attrs\"\n        }), \"[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"src\\\"\"\n        }), \"]),\\n                                   \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"H2/\\\"\"\n        }), \" + \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"str\"\n        }), \"(j) + \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"_\\\"\"\n        }), \" + \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"str\"\n        }), \"(i) + \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\".jpg\\\"\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"format\"\n        }), \"(i))\\n\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"except\"\n        }), \": ## number \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"of\"\n        }), \" pictures may vary on a webpage\\n        pass\\n## 아래는 \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"다음\\\"\"\n        }), \" 페이지를 위한 \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"URL\"\n        }), \"을 찾습니다.\\nbase_url = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"https://v2.mangapark.net/\\\"\"\n        }), \"\\n    next_page = soup.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"find_all\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"a\\\"\"\n        }), \", href = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"True\"\n        }), \")[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"12\"\n        }), \"].\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"href\\\"\"\n        }), \")\\nurl = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"urljoin\"\n        }), \"(base_url, next_page)\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"지금은 차 한 잔과 함께 H2 만화를 즐겨보세요! 정말 재미있어요.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"결론\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 기사에서는 실행 가능한 코드로 웹 스크래핑의 세 가지 사용 사례를 소개했습니다. 이러한 사용 사례들은 쉽게 확장하여 웹사이트의 HTML 코드가 가지고 있는 추가 속성을 포함시킬 수 있습니다. 독자들이 자세히 살펴보면 됩니다!\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"다음으로, 행위 보험사/데이터 과학자 모자를 쓰고, 경쟁 업체 웹사이트의 변경 사항을 모니터링하거나 리뷰 웹사이트에서 고객의 긍정적/부정적 댓글을 스크래핑하는 등의 상업 기회를 탐색할 예정입니다. 계속 주목해주세요!\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-01-BuildingaWebScraperforThreeCommonUseCases"},"buildId":"R94iUTCf1NWeBC_VXjTJG","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>