<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>CDK ì¤‘ì²© ìŠ¤íƒ - ì™œì™€ ì–´ë–»ê²Œ | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-20-CDKNestedStacksTheWhyandHow" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="CDK ì¤‘ì²© ìŠ¤íƒ - ì™œì™€ ì–´ë–»ê²Œ | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="CDK ì¤‘ì²© ìŠ¤íƒ - ì™œì™€ ì–´ë–»ê²Œ | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-20-CDKNestedStacksTheWhyandHow" data-gatsby-head="true"/><meta name="twitter:title" content="CDK ì¤‘ì²© ìŠ¤íƒ - ì™œì™€ ì–´ë–»ê²Œ | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 02:39" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/OFpTzInQeZKWBaqJEukNX/_buildManifest.js" defer=""></script><script src="/_next/static/OFpTzInQeZKWBaqJEukNX/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">CDK ì¤‘ì²© ìŠ¤íƒ - ì™œì™€ ì–´ë–»ê²Œ</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="CDK ì¤‘ì²© ìŠ¤íƒ - ì™œì™€ ì–´ë–»ê²Œ" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">13<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-CDKNestedStacksTheWhyandHow&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_0.png" alt="CDK Nested Stacks"></p>
<h2>ì‹œì‘ë§</h2>
<p>âœ”ï¸ ìš°ë¦¬ëŠ” ì¤‘ì²© ìŠ¤íƒì˜ í•„ìš”ì„±ì— ëŒ€í•´ ì´ì•¼ê¸°í•©ë‹ˆë‹¤.
âœ”ï¸ AWS CDKë¡œ ì–´ë–»ê²Œ ì´ê²ƒì´ ì‹¤í˜„ë  ìˆ˜ ìˆëŠ”ì§€ ë…¼ì˜í•©ë‹ˆë‹¤.</p>
<h1>ì†Œê°œ ğŸ‘‹ğŸ½</h1>
<div class="content-ad"></div>
<p>ì´ ë¹ ë¥¸ ê¸°ì‚¬ì—ì„œëŠ” AWS CDK ì¤‘ì²© ìŠ¤íƒì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ê³ , ì–¸ì œ ìš°ë¦¬ ì„œë¹„ìŠ¤ì— ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  ì´ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤. ì˜ˆì œ ì½”ë“œ ë² ì´ìŠ¤ë¥¼ í†µí•´ ê±¸ì–´ ë³´ê¸° ìœ„í•´ 'Gilmore Cuisine'ë¼ëŠ” ê°€ìƒ íšŒì‚¬ë¥¼ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤:</p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_1.png" alt="image"></p>
<p>ê¸°ì‚¬ì˜ ì½”ë“œëŠ” GitHubì—ì„œ ì—¬ê¸°ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<p>ë” ìì„¸í•œ ê¸°ì‚¬ì™€ ì˜ˆì œëŠ” Serverless Advocate íŒ¨í„´ ë° ì†”ë£¨ì…˜ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ììœ ë¡­ê²Œ ì´ìš©í•´ ì£¼ì„¸ìš”:</p>
<div class="content-ad"></div>
<img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_2.png">
<h1>ì–´ë–»ê²Œ ì‘ë™í• ê¹Œìš”? ğŸ’¡</h1>
<p>ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•  ë•Œ í´ë¼ìš°ë“œí¬ë©”ì´ì…˜ì—ì„œ ìŠ¤íƒ ë‹¹ 500ê°œì˜ ë¦¬ì†ŒìŠ¤ ì œí•œì— ë„ë‹¬í•˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ê²ƒì€ ìš°ë¦¬ê°€ ì•„ë§ˆë„ ë‚´ë¶€ì ìœ¼ë¡œ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ í¬í•¨í•˜ëŠ” ìš°ë¦¬ë§Œì˜ L3 êµ¬ì„±ì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì•ŒëŒ, ì ì§„ì  ë°°í¬, ëŒ€ì‹œë³´ë“œ ë“±ì„ í¬í•¨í•˜ëŠ” ëŒë‹¤ êµ¬ì„±ì´ ìˆëŠ” ê²½ìš°ì´ë©°, ìš°ë¦¬ëŠ” ì´ êµ¬ì„±ì„ ìŠ¤íƒì—ì„œ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•˜ì—¬ ì œí•œì„ ì´ˆê³¼í•˜ê²Œ ë©ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p>AWS CDKì˜ NestedStack êµ¬ì¡°ëŠ” ë¶€ëª¨ ìŠ¤íƒ ë‚´ì—ì„œ í•˜ë‚˜ì˜ ìì›ìœ¼ë¡œ ê³„ì‚°í•˜ì—¬ ìŠ¤íƒ ë‹¹ AWS CloudFormation 500ê°œ ìì› ì œí•œì„ ìš°íšŒí•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì´ëŠ” ì¤‘ì²© ìŠ¤íƒì´ ë‹¤ë¥¸ ì¤‘ì²© ìŠ¤íƒì„ í¬í•¨í•˜ì—¬ ìµœëŒ€ 500ê°œì˜ ìì›ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¤‘ì²© ìŠ¤íƒì€ êµ¬ì¡°í™”ëœ ìŠ¤íƒì˜ ê³„ì¸µì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_3.png" alt="CDK Nested Stacks hierarchy"></p>
<p>ì¤‘ì²© ìŠ¤íƒì˜ ë²”ìœ„(ë³¸ì§ˆì ìœ¼ë¡œ ë¶€ëª¨)ëŠ” AWS CDKì˜ Stack ë˜ëŠ” NestedStack êµ¬ì¡°ì—¬ì•¼ í•©ë‹ˆë‹¤. ê¸°ì¡´ì˜ ìŠ¤íƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì¤‘ì²© ìŠ¤íƒì—ì„œì˜ êµ¬ì¡° ì •ì˜ëŠ” ë™ì¼í•©ë‹ˆë‹¤.</p>
<p>í•©ì„± ê³¼ì •ì—ì„œ ì¤‘ì²© ìŠ¤íƒì€ ìì²´ AWS CloudFormation í…œí”Œë¦¿ìœ¼ë¡œ ë³€í™˜ë˜ì–´ AWS CDK ìŠ¤í…Œì´ì§• ë²„í‚·ì— ì—…ë¡œë“œë©ë‹ˆë‹¤. ì¤‘ì²© ìŠ¤íƒì€ ë¶€ëª¨ ìŠ¤íƒì— ë°”ì¸ë”©ë˜ì–´ ë…ë¦½ì ì¸ ë°°í¬ ìì‚°ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p>ë¶€ëª¨ ìŠ¤íƒê³¼ ì¤‘ì²© ìŠ¤íƒ ê°„ì˜ ë¦¬ì†ŒìŠ¤ ì†ì„±ì˜ ìƒí˜¸ ì°¸ì¡°ëŠ” AWS CDKë¥¼ ì‚¬ìš©í•  ë•Œ ìë™ìœ¼ë¡œ ìŠ¤íƒ ë§¤ê°œë³€ìˆ˜ì™€ ì¶œë ¥ìœ¼ë¡œ ë³€í™˜ë©ë‹ˆë‹¤.</p>
<p>ë‹¤ìŒ ì„¹ì…˜ì˜ ì½”ë“œë¥¼ ì‚´í´ë´…ì‹œë‹¤.</p>
<p>ğŸ‘‡ ë” ë‚˜ì•„ê°€ê¸° ì „ì— â€” ì•ìœ¼ë¡œì˜ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ê³¼ ì„œë²„ë¦¬ìŠ¤ ë‰´ìŠ¤ë¥¼ ë°›ìœ¼ì‹œë ¤ë©´ LinkedInì—ì„œ ì €ì™€ ì—°ê²°í•´ì£¼ì„¸ìš” <a href="https://www.linkedin.com/in/lee-james-gilmore/" rel="nofollow" target="_blank">https://www.linkedin.com/in/lee-james-gilmore/</a></p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_4.png" alt="CDK Nested Stacks"></p>
<div class="content-ad"></div>
<h1>ì½”ë“œë¥¼ í†µí•´ ì´ì•¼ê¸°í•˜ê¸°ğŸ‘¨â€ğŸ’»</h1>
<p>ë‚´ ì‘ì—…ì„ ë”°ë¥´ëŠ” ì‚¬ëŒë“¤ì€ ì¼ë°˜ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ 'ìƒíƒœ ì—†ìŒ'ê³¼ 'ìƒíƒœ ìˆëŠ”' ë¦¬ì†ŒìŠ¤ë¡œ ë¶„í• í•˜ëŠ” ê²ƒì„ ì•Œê³  ìˆì„ ê²ƒì…ë‹ˆë‹¤. ë˜í•œ ê¹”ë”í•œ ì½”ë“œ ë° ì•„í‚¤í…ì²˜ì— ëŒ€í•œ ë‚´ ì˜ê²¬ì´ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ ê²½ë¡œë¥¼ ê³„ì† ë”°ë¼ê°€ì„œ ì¤‘ì²© ìŠ¤íƒì„ ì‚¬ìš©í•˜ë ¤ë©´ í´ë” êµ¬ì¡° ê´€ì ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤:</p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_5.png" alt="Folder Structure"></p>
<div class="content-ad"></div>
<p>ì´ì œ ì´ì œëŠ” 'stateful' ë° 'stateless'ì˜ ìƒìœ„ ìŠ¤íƒ ì•„ë˜ í•˜ë‚˜ ì´ìƒì˜ ì¤‘ì²©ëœ ìŠ¤íƒì„ ê°€ì§€ê³  ìˆìŒì„ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ ìŠ¤íƒì´ ê°œë…ì  ìˆ˜ì¤€ì—ì„œ ë¬´ì—‡ì„ í¬í•¨í•˜ëŠ”ì§€ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤(API ë¦¬ì†ŒìŠ¤, ë°ì´í„°ë² ì´ìŠ¤ ë¦¬ì†ŒìŠ¤, ì´ë²¤íŠ¸ ë²„ìŠ¤ ë¦¬ì†ŒìŠ¤ ë° ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤).</p>
<p>ì´ì œ í´ë” êµ¬ì¡°ë¥¼ í™•ì¥í•´ ë³´ë©´:</p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_6.png" alt="image"></p>
<p>ì¤‘ì²©ëœ ìŠ¤íƒì—ëŠ” íŒŒì¼ì— 'nested'ê°€ ì¶”ê°€ëœ ë‹¨ì–´ë„ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìƒì„±ëœ íŒŒì¼ê³¼ ì½˜ì†”ì— í‘œì‹œë˜ì–´ ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p>ìš°ë¦¬ì˜ ìƒíƒœ ìœ ì§€ ìŠ¤íƒ ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> cdk <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Construct</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'constructs'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DatabaseResources</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./nested/database/database-nested'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">EventBusResources</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./nested/event-bus/event-bus-nested'</span>;

<span class="hljs-keyword">export</span> interface <span class="hljs-title class_">GilmoreCuisineStatefulStackProps</span> <span class="hljs-keyword">extends</span> cdk.<span class="hljs-property">StackProps</span> {
  <span class="hljs-attr">stage</span>: string;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GilmoreCuisineStatefulStack</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">cdk.Stack</span> {
  public <span class="hljs-attr">databaseResources</span>: <span class="hljs-title class_">DatabaseResources</span>;
  public <span class="hljs-attr">eventBusResources</span>: <span class="hljs-title class_">EventBusResources</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">
    scope: Construct,
    id: string,
    props: GilmoreCuisineStatefulStackProps
  </span>) {
    <span class="hljs-variable language_">super</span>(scope, id, props);

    <span class="hljs-comment">// ë‘ ìƒíƒœ ìœ ì§€ ì¤‘ì²© ìŠ¤íƒì„ ê°€ì ¸ì™€ì„œ ì¸ìŠ¤í„´ìŠ¤í™”í•©ë‹ˆë‹¤.</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">databaseResources</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatabaseResources</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'DatabaseResources'</span>, {
      <span class="hljs-attr">stage</span>: props.<span class="hljs-property">stage</span>,
    });

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventBusResources</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventBusResources</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'EventBusResources'</span>, {
      <span class="hljs-attr">stage</span>: props.<span class="hljs-property">stage</span>,
    });
  }
}
</code></pre>
<p>ìœ„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ìš°ë¦¬ì˜ ìƒìœ„ ìŠ¤íƒì€ ë‘ ì¤‘ì²©ëœ ìŠ¤íƒì„ ê°€ì ¸ì™€ì„œ ê·¸ê²ƒë“¤ì„ ì¸ìŠ¤í„´ìŠ¤í™”í•©ë‹ˆë‹¤.</p>
<p>ê·¸ëŸ° ë‹¤ìŒ DatabaseResources ì¤‘ì²© ìŠ¤íƒì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> cdk <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> dynamodb <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib/aws-dynamodb'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Construct</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'constructs'</span>;

interface <span class="hljs-title class_">DatabaseResourcesProps</span> <span class="hljs-keyword">extends</span> cdk.<span class="hljs-property">NestedStackProps</span> {
  <span class="hljs-attr">stage</span>: string;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseResources</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">cdk.NestedStack</span> {
  public <span class="hljs-attr">table</span>: dynamodb.<span class="hljs-property">Table</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">scope: Construct, id: string, props: DatabaseResourcesProps</span>) {
    <span class="hljs-variable language_">super</span>(scope, id, props);

    <span class="hljs-comment">// our database is a static resource</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span> = <span class="hljs-keyword">new</span> dynamodb.<span class="hljs-title class_">Table</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'Table'</span>, {
      <span class="hljs-attr">tableName</span>: <span class="hljs-string">`gilmore-cuisine-table-<span class="hljs-subst">${props.stage}</span>`</span>,
      <span class="hljs-attr">billingMode</span>: dynamodb.<span class="hljs-property">BillingMode</span>.<span class="hljs-property">PAY_PER_REQUEST</span>,
      <span class="hljs-attr">partitionKey</span>: {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'id'</span>,
        <span class="hljs-attr">type</span>: dynamodb.<span class="hljs-property">AttributeType</span>.<span class="hljs-property">STRING</span>,
      },
      <span class="hljs-attr">removalPolicy</span>: cdk.<span class="hljs-property">RemovalPolicy</span>.<span class="hljs-property">DESTROY</span>,
    });
  }
}
</code></pre>
<p>íŠ¹íˆ ì´ ìŠ¤íƒì´ cdk.Stackì´ ì•„ë‹Œ ë¶€ëª¨ì™€ ê°™ì´ cdk.NestedStackì„ í™•ì¥í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ì œ ìƒíƒœ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ComputeResources ì¤‘ì²© ìŠ¤íƒìœ¼ë¡œ ì´ë™í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œê°€ ë‚˜ì˜µë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> apigw <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib/aws-apigateway'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> cdk <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> dynamodb <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib/aws-dynamodb'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> events <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib/aws-events'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> lambda <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib/aws-lambda'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> nodeLambda <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib/aws-lambda-nodejs'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Construct</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'constructs'</span>;

interface <span class="hljs-title class_">ComputeResourcesProps</span> <span class="hljs-keyword">extends</span> cdk.<span class="hljs-property">NestedStackProps</span> {
  <span class="hljs-attr">stage</span>: string;
  <span class="hljs-attr">api</span>: apigw.<span class="hljs-property">RestApi</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ComputeResources</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">cdk.NestedStack</span> {
  private <span class="hljs-attr">api</span>: apigw.<span class="hljs-property">RestApi</span>;
  private <span class="hljs-attr">table</span>: dynamodb.<span class="hljs-property">Table</span>;
  private <span class="hljs-attr">bus</span>: events.<span class="hljs-property">EventBus</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">scope: Construct, id: string, props: ComputeResourcesProps</span>) {
    <span class="hljs-variable language_">super</span>(scope, id, props);

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">api</span> = props.<span class="hljs-property">api</span>;

    <span class="hljs-comment">// ìƒíƒœ ë¦¬ì†ŒìŠ¤ì—ì„œ í…Œì´ë¸”ì˜ ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span> = dynamodb.<span class="hljs-property">Table</span>.<span class="hljs-title function_">fromTableName</span>(
      <span class="hljs-variable language_">this</span>,
      <span class="hljs-string">'Table'</span>,
      <span class="hljs-string">`gilmore-cuisine-table-<span class="hljs-subst">${props.stage}</span>`</span>
    ) <span class="hljs-keyword">as</span> dynamodb.<span class="hljs-property">Table</span>;

    <span class="hljs-comment">// ìƒíƒœ ë¦¬ì†ŒìŠ¤ì—ì„œ busì˜ ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bus</span> = events.<span class="hljs-property">EventBus</span>.<span class="hljs-title function_">fromEventBusName</span>(
      <span class="hljs-variable language_">this</span>,
      <span class="hljs-string">'EventBus'</span>,
      <span class="hljs-string">`gilmore-cuisine-event-bus-<span class="hljs-subst">${props.stage}</span>`</span>
    ) <span class="hljs-keyword">as</span> events.<span class="hljs-property">EventBus</span>;

    <span class="hljs-comment">// ëŒë‹¤ íŒŒìš°ì–´íˆ´ì¦ˆ ì„¤ì • ìƒì„±</span>
    <span class="hljs-keyword">const</span> lambdaPowerToolsConfig = {
      <span class="hljs-attr">LOG_LEVEL</span>: <span class="hljs-string">'DEBUG'</span>,
      <span class="hljs-attr">POWERTOOLS_LOGGER_LOG_EVENT</span>: <span class="hljs-string">'true'</span>,
      <span class="hljs-attr">POWERTOOLS_LOGGER_SAMPLE_RATE</span>: <span class="hljs-string">'1'</span>,
      <span class="hljs-attr">POWERTOOLS_TRACE_ENABLED</span>: <span class="hljs-string">'enabled'</span>,
      <span class="hljs-attr">POWERTOOLS_TRACER_CAPTURE_HTTPS_REQUESTS</span>: <span class="hljs-string">'captureHTTPsRequests'</span>,
      <span class="hljs-attr">POWERTOOLS_SERVICE_NAME</span>: <span class="hljs-string">'gilmore-cuisine-service'</span>,
      <span class="hljs-attr">POWERTOOLS_TRACER_CAPTURE_RESPONSE</span>: <span class="hljs-string">'captureResult'</span>,
      <span class="hljs-attr">POWERTOOLS_METRICS_NAMESPACE</span>: <span class="hljs-string">'gilmore-cuisine'</span>,
    };

    <span class="hljs-comment">// ëŒë‹¤ í•¨ìˆ˜ ìƒì„±</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">listBookingsLambda</span>: nodeLambda.<span class="hljs-property">NodejsFunction</span> =
      <span class="hljs-keyword">new</span> nodeLambda.<span class="hljs-title class_">NodejsFunction</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'ListBookingsLambda'</span>, {
        <span class="hljs-attr">functionName</span>: <span class="hljs-string">`<span class="hljs-subst">${props.stage}</span>-gilmore-cuisine-list-bookings`</span>,
        <span class="hljs-attr">runtime</span>: lambda.<span class="hljs-property">Runtime</span>.<span class="hljs-property">NODEJS_20_X</span>,
        <span class="hljs-attr">entry</span>: path.<span class="hljs-title function_">join</span>(
          __dirname,
          <span class="hljs-string">'../../src/adapters/primary/list-bookings/list-bookings.adapter.ts'</span>
        ),
        <span class="hljs-attr">memorySize</span>: <span class="hljs-number">1024</span>,
        <span class="hljs-attr">handler</span>: <span class="hljs-string">'handler'</span>,
        <span class="hljs-attr">tracing</span>: lambda.<span class="hljs-property">Tracing</span>.<span class="hljs-property">ACTIVE</span>,
        <span class="hljs-attr">bundling</span>: {
          <span class="hljs-attr">minify</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">sourceMap</span>: <span class="hljs-literal">true</span>,
        },
        <span class="hljs-attr">environment</span>: {
          <span class="hljs-attr">NODE_OPTIONS</span>: <span class="hljs-string">'--enable-source-maps'</span>,
          ...lambdaPowerToolsConfig,
          <span class="hljs-attr">TABLE_NAME</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>.<span class="hljs-property">tableName</span>,
          <span class="hljs-attr">BUS</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">bus</span>.<span class="hljs-property">eventBusName</span>,
        },
      });

    <span class="hljs-keyword">const</span> <span class="hljs-attr">createBookingLambda</span>: nodeLambda.<span class="hljs-property">NodejsFunction</span> =
      <span class="hljs-keyword">new</span> nodeLambda.<span class="hljs-title class_">NodejsFunction</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">'CreateBookingLambda'</span>, {
        <span class="hljs-attr">functionName</span>: <span class="hljs-string">`<span class="hljs-subst">${props.stage}</span>-gilmore-cuisine-create-booking`</span>,
        <span class="hljs-attr">runtime</span>: lambda.<span class="hljs-property">Runtime</span>.<span class="hljs-property">NODEJS_20_X</span>,
        <span class="hljs-attr">entry</span>: path.<span class="hljs-title function_">join</span>(
          __dirname,
          <span class="hljs-string">'../../src/adapters/primary/create-booking/create-booking.adapter.ts'</span>
        ),
        <span class="hljs-attr">memorySize</span>: <span class="hljs-number">1024</span>,
        <span class="hljs-attr">handler</span>: <span class="hljs-string">'handler'</span>,
        <span class="hljs-attr">tracing</span>: lambda.<span class="hljs-property">Tracing</span>.<span class="hljs-property">ACTIVE</span>,
        <span class="hljs-attr">bundling</span>: {
          <span class="hljs-attr">minify</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">sourceMap</span>: <span class="hljs-literal">true</span>,
        },
        <span class="hljs-attr">environment</span>: {
          <span class="hljs-attr">NODE_OPTIONS</span>: <span class="hljs-string">'--enable-source-maps'</span>,
          ...lambdaPowerToolsConfig,
          <span class="hljs-attr">TABLE_NAME</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>.<span class="hljs-property">tableName</span>,
          <span class="hljs-attr">BUS</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">bus</span>.<span class="hljs-property">eventBusName</span>,
        },
      });

    <span class="hljs-comment">// í•¨ìˆ˜ì— ëŒ€í•œ í…Œì´ë¸” ê¶Œí•œ ë¶€ì—¬</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>.<span class="hljs-title function_">grantReadData</span>(listBookingsLambda);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>.<span class="hljs-title function_">grantWriteData</span>(createBookingLambda);

    <span class="hljs-comment">// í•¨ìˆ˜ê°€ ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ë„ë¡ í—ˆìš©</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bus</span>.<span class="hljs-title function_">grantPutEventsTo</span>(createBookingLambda);

    <span class="hljs-comment">// ì˜¬ë°”ë¥¸ API ë¦¬ì†ŒìŠ¤ì— ëŒë‹¤ í•¨ìˆ˜ ì¶”ê°€</span>
    <span class="hljs-keyword">const</span> orders = <span class="hljs-variable language_">this</span>.<span class="hljs-property">api</span>.<span class="hljs-property">root</span>
      .<span class="hljs-title function_">getResource</span>(<span class="hljs-string">'v1'</span>)
      ?.<span class="hljs-title function_">getResource</span>(<span class="hljs-string">'bookings'</span>) <span class="hljs-keyword">as</span> apigw.<span class="hljs-property">Resource</span>;

    orders.<span class="hljs-title function_">addMethod</span>(
      <span class="hljs-string">'GET'</span>,
      <span class="hljs-keyword">new</span> apigw.<span class="hljs-title class_">LambdaIntegration</span>(listBookingsLambda, {
        <span class="hljs-attr">proxy</span>: <span class="hljs-literal">true</span>,
      })
    );

    orders.<span class="hljs-title function_">addMethod</span>(
      <span class="hljs-string">'POST'</span>,
      <span class="hljs-keyword">new</span> apigw.<span class="hljs-title class_">LambdaIntegration</span>(createBookingLambda, {
        <span class="hljs-attr">proxy</span>: <span class="hljs-literal">true</span>,
      })
    );
  }
}
</code></pre>
<div class="content-ad"></div>
<p>ìœ„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ DynamoDB í…Œì´ë¸” ë° EventBridge ì´ë²¤íŠ¸ ë²„ìŠ¤ì˜ ìƒíƒœë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‹¤ìŒ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë“¤ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì–»ê³  ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">...
<span class="hljs-comment">// ìƒíƒœë¥¼ ê°€ì§„ ìŠ¤íƒì—ì„œ í…Œì´ë¸”ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì˜´</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span> = dynamodb.<span class="hljs-property">Table</span>.<span class="hljs-title function_">fromTableName</span>(
  <span class="hljs-variable language_">this</span>,
  <span class="hljs-string">'Table'</span>,
  <span class="hljs-string">`gilmore-cuisine-table-<span class="hljs-subst">${props.stage}</span>`</span>
) <span class="hljs-keyword">as</span> dynamodb.<span class="hljs-property">Table</span>;

<span class="hljs-comment">// ìƒíƒœë¥¼ ê°€ì§„ ìŠ¤íƒì—ì„œ ì´ë²¤íŠ¸ ë²„ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì˜´</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">bus</span> = events.<span class="hljs-property">EventBus</span>.<span class="hljs-title function_">fromEventBusName</span>(
  <span class="hljs-variable language_">this</span>,
  <span class="hljs-string">'EventBus'</span>,
  <span class="hljs-string">`gilmore-cuisine-event-bus-<span class="hljs-subst">${props.stage}</span>`</span>
) <span class="hljs-keyword">as</span> events.<span class="hljs-property">EventBus</span>;
...
</code></pre>
<p>ê·¸ëŸ¬ë‚˜ ì´ëŠ” ìƒíƒœë¥¼ ê°€ì§„ ìŠ¤íƒì´ ìƒíƒœê°€ ì—†ëŠ” ìŠ¤íƒë³´ë‹¤ ë¨¼ì € ë°°í¬ë˜ì–´ì•¼ í•¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ëŠ” ì˜ì¡´ì„±ì— ê´€í•œ ë‹¤ìŒê³¼ ê°™ì´ ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ì—ì„œ í™•ì‹¤í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-meta">#!/usr/bin/env node</span>

<span class="hljs-keyword">import</span> <span class="hljs-string">'source-map-support/register'</span>;

<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> cdk <span class="hljs-keyword">from</span> <span class="hljs-string">'aws-cdk-lib'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">GilmoreCuisineStatefulStack</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../stateful/stateful'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">GilmoreCuisineStatelessStack</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../stateless/stateless'</span>;

<span class="hljs-keyword">const</span> stage = <span class="hljs-string">'prod'</span>;

<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> cdk.<span class="hljs-title class_">App</span>();

<span class="hljs-keyword">const</span> stateful = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GilmoreCuisineStatefulStack</span>(
  app,
  <span class="hljs-string">'GilmoreCuisineStatefulStack'</span>,
  {
    stage,
  }
);

<span class="hljs-keyword">const</span> stateless = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GilmoreCuisineStatelessStack</span>(
  app,
  <span class="hljs-string">'GilmoreCuisineStatelessStack'</span>,
  {
    stage,
  }
);

<span class="hljs-comment">// statelessê°€ statefulë³´ë‹¤ ë¨¼ì € ë°°í¬ë˜ë„ë¡ í•¨</span>
stateless.<span class="hljs-title function_">addDependency</span>(stateful);
</code></pre>
<div class="content-ad"></div>
<p>ë‹¤ìŒ ì„¹ì…˜ì—ì„œ í•´ê²°ì±…ì„ ë°°í¬í•˜ê³  í…ŒìŠ¤íŠ¸í•´ ë´…ì‹œë‹¤.</p>
<h2>ë°°í¬ ë° í…ŒìŠ¤íŠ¸ ğŸ§‘ğŸ¾â€ğŸ’»</h2>
<p>ê·¸ëŸ¼ ì´ì œ 'gilmore-cuisine' í´ë”ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ìŠ¤íƒì„ ë°°í¬í•´ ë³´ê² ìŠµë‹ˆë‹¤:</p>
<p>npm run deploy</p>
<div class="content-ad"></div>
<p>ë™ì¼í•œ í´ë”ì—ì„œ cdk ëª©ë¡ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì•ì„œ ì„¤ëª…í•œëŒ€ë¡œ ë‘ ê°œì˜ ìƒìœ„ ìŠ¤íƒë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_7.png" alt="CDK Nested Stacks"></p>
<p>í•©ì„±ëœ CloudFormation í…œí”Œë¦¿ ë° ì—ì…‹ì´ í¬í•¨ëœ cdk.out í´ë”ë¥¼ ë¡œì»¬ë¡œ í™•ì¸í•˜ë©´ ë‹¤ìŒ íŒŒì¼ë“¤ì´ í‘œì‹œë©ë‹ˆë‹¤:</p>
<p>ë‘ ê°œì˜ ìƒìœ„ í…œí”Œë¦¿, GilmoreCuisineStatefulStack.template.json ë° GilmoreCuisineStatelessStack.template.json,ì´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë“¤ì€ ì•„ë˜ì™€ ìœ ì‚¬í•œ ë‚´ìš©ì„ ê°€ì§€ê³  ìˆìœ¼ë©° ì¤‘ì²© ìŠ¤íƒì„ ê°€ë¦¬í‚µë‹ˆë‹¤:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">...
<span class="hljs-string">"UpdateReplacePolicy"</span>: <span class="hljs-string">"Delete"</span>,
<span class="hljs-string">"DeletionPolicy"</span>: <span class="hljs-string">"Delete"</span>,
<span class="hljs-string">"Metadata"</span>: {
  <span class="hljs-string">"aws:cdk:path"</span>: <span class="hljs-string">"GilmoreCuisineStatefulStack/EventBusResources.NestedStack/EventBusResources.NestedStackResource"</span>,
  <span class="hljs-string">"aws:asset:path"</span>: <span class="hljs-string">"GilmoreCuisineStatefulStackEventBusResourcesAC59B19D.nested.template.json"</span>,
  <span class="hljs-string">"aws:asset:property"</span>: <span class="hljs-string">"TemplateURL"</span>
}
...
</code></pre>
<p>ë°°í¬ê°€ ì™„ë£Œë˜ë©´ ì½˜ì†”ë¡œ ì „í™˜í•˜ì—¬ ì½˜ì†”ì— ì¤‘ì²© ìŠ¤íƒì´ í‘œì‹œë˜ì§€ ì•Šë„ë¡ ì„¤ì •í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:</p>
<p>ì´ì œ ì½˜ì†”ì—ì„œ ë‘ ìŠ¤íƒì˜ í•˜ìœ„ ì¤‘ì²© ìŠ¤íƒì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:</p>
<p>ì´ì œ ê° ìŠ¤íƒì˜ ë‚´ìš©ì„ ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:</p>
<div class="content-ad"></div>
<h2>âœ”ï¸ Stateful Stack</h2>
<p>ìƒíƒœ ìœ ì§€ ìŠ¤íƒ ì•ˆì—ëŠ” DatabaseResourcesì™€ EventBusResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<p>ë³´ë‹¤ ìì„¸í•œ ë‚´ìš©ì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
<p>DatabaseResources
ìš°ë¦¬ì˜ DynamoDB í…Œì´ë¸”ì´ í¬í•¨ëœ DatabaseResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p>EventBusResources
ì´ë²¤íŠ¸ ë²„ìŠ¤, CloudWatch ë¡œê·¸ ê·¸ë£¹ ë° ì´ë²¤íŠ¸ ê·œì¹™ ëŒ€ìƒì„ í¬í•¨í•˜ëŠ” EventBusResourcesì˜ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<p>ì´ì œ ë¬´ìƒíƒœ ìŠ¤íƒê³¼ ê´€ë ¨ëœ ë‚´ìš©ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<h2>âœ”ï¸ ë¬´ìƒíƒœ ìŠ¤íƒ</h2>
<p>ë¬´ìƒíƒœ ìŠ¤íƒì—ëŠ” ApiResources ë° ComputeResourcesì˜ ë‘ ê°œì˜ ì¤‘ì²© ìŠ¤íƒì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
<div class="content-ad"></div>
<p>ApiResources
ì•„ë˜ì—ì„œ ApiResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, API Gateway REST API, ìŠ¤í…Œì´ì§€, ë°°í¬ ë“±ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
<p>ComputeResources
ì•„ë˜ì—ì„œ ComputeResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ë‘ ê°œì˜ ëŒë‹¤ í•¨ìˆ˜ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:</p>
<h2>í…ŒìŠ¤íŒ… ğŸ§ª</h2>
<img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_8.png">
<div class="content-ad"></div>
<p>ë§Œì•½ Postman íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ /bookings/ì˜ POST ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_9.png" alt="ì´ë¯¸ì§€"></p>
<p>ê·¸ë¦¬ê³  CloudWatch ë¡œê·¸ì˜ ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•˜ëŠ” ëŒ€ìƒì„ ì‚´í´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì´ë²¤íŠ¸ê°€ í‘œì‹œë©ë‹ˆë‹¤:</p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_10.png" alt="ì´ë¯¸ì§€"></p>
<div class="content-ad"></div>
<p>ì•„ë˜ëŠ” ëª©ë¡ ì˜ˆì•½ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ë„ ìˆì–´ìš”.</p>
<p>ì´ê²ƒì„ ë³´ì—¬ ì£¼ê² ì£ :</p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_12.png" alt="List Bookings EndPoint"></p>
<h1>ê²°ë¡ </h1>
<div class="content-ad"></div>
<p>ì´ ê¸€ì„ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ë‹¤ë£¬ ë‚´ìš©ì„ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
<ul>
<li>ì¤‘ì²© ìŠ¤íƒì´ í•„ìš”í•œ ì´ìœ ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤.</li>
<li>AWS CDKë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤.</li>
</ul>
<h1>ë§ˆë¬´ë¦¬ ì¸ì‚¬ ğŸ‘‹ğŸ½</h1>
<p>ì´ ì§§ì€ ê¸€ì„ ì¦ê²ê²Œ ì½ì–´ì£¼ì…¨ê¸°ë¥¼ ë°”ë¼ë©°, ë§ˆìŒì— ë“œì…¨ë‹¤ë©´ ê³µìœ í•´ ì£¼ì‹œê³  í”¼ë“œë°±ì„ ì£¼ì„¸ìš”!</p>
<div class="content-ad"></div>
<p>ë¹„ìŠ·í•œ ì½˜í…ì¸ ë¥¼ ë” ë³´ê³  ì‹¶ë‹¤ë©´ ì œ YouTube ì±„ë„ì„ ë°©ë¬¸í•´ì£¼ì„¸ìš”!</p>
<p><img src="/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_13.png" alt="YouTube"></p>
<p>ê·¸ë¦¬ê³  ë‹¤ìŒ ë§í¬ë¥¼ í†µí•´ ì—°ë½í•  ìˆ˜ë„ ìˆì–´ìš”:</p>
<p><a href="https://www.linkedin.com/in/lee-james-gilmore/" rel="nofollow" target="_blank">LinkedIn í”„ë¡œí•„</a>
<a href="https://twitter.com/LeeJamesGilmore" rel="nofollow" target="_blank">Twitter í”„ë¡œí•„</a></p>
<div class="content-ad"></div>
<p>ë§Œì•½ ì´ ê²Œì‹œë¬¼ì„ ì¦ê²¼ë‹¤ë©´, ì¶”ê°€ í¬ìŠ¤íŠ¸/ì‹œë¦¬ì¦ˆë¥¼ í™•ì¸í•˜ë ¤ë©´ ì œ í”„ë¡œí•„ Lee James Gilmoreë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš”. ë˜í•œ 'clap' ê¸°ëŠ¥ì„ ì´ìš©í•´ ì£¼ì„¸ìš”. ê²Œì‹œë¬¼ í•˜ë‹¨ì— ìœ„ì¹˜í•´ ìˆìŠµë‹ˆë‹¤. í•œ ë²ˆ ì´ìƒìœ¼ë¡œë„ í´ë©ì„ í•  ìˆ˜ ìˆì–´ìš”!</p>
<h1>ë‚˜ì— ëŒ€í•´</h1>
<p>"ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” ì˜êµ­ì— ê±°ì£¼í•˜ê³  ìˆëŠ” AWS ì»¤ë®¤ë‹ˆí‹° ë¹Œë”, ë¸”ë¡œê±°, AWS ì¸ì¦ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸ì´ì ê¸°ìˆ  ë° ì•„í‚¤í…ì²˜ ê¸€ë¡œë²Œ ì´ê´„ì¸ Leeì…ë‹ˆë‹¤. í˜„ì¬ City Electrical Factors (UK) ë° City Electric Supply (US)ì—ì„œ ê·¼ë¬´ ì¤‘ì´ë©°, ì§€ë‚œ 6ë…„ê°„ ì£¼ë¡œ AWSì—ì„œ í’€ìŠ¤íƒ JavaScriptë¥¼ ì‚¬ìš©í•´ ì™”ìŠµë‹ˆë‹¤."</p>
<div class="content-ad"></div>
<p>ì €ëŠ” ëª¨ë“  ê²ƒì„ AWS, í˜ì‹ , ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜, ê·¸ë¦¬ê³  ê¸°ìˆ ì— ëŒ€í•œ ì‚¬ë‘ìœ¼ë¡œ ì„œë²„ë¦¬ìŠ¤ë¥¼ ì˜¹í˜¸í•˜ëŠ” ì‚¬ëŒì´ë¼ê³  ìƒê°í•´ìš”.</p>
<p>*** ì œê³µëœ ì •ë³´ëŠ” ì œ ê°œì¸ì ì¸ ê²¬í•´ì´ë©°, ê·¸ì— ë”°ë¥¸ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ***</p>
<p>ì•„ë˜ ë‚´ìš©ë„ ê´€ì‹¬ì´ ìˆì„ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤:</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"CDK ì¤‘ì²© ìŠ¤íƒ - ì™œì™€ ì–´ë–»ê²Œ","description":"","date":"2024-06-20 02:39","slug":"2024-06-20-CDKNestedStacksTheWhyandHow","content":"\n\n\n![CDK Nested Stacks](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_0.png)\n\n## ì‹œì‘ë§\n\nâœ”ï¸ ìš°ë¦¬ëŠ” ì¤‘ì²© ìŠ¤íƒì˜ í•„ìš”ì„±ì— ëŒ€í•´ ì´ì•¼ê¸°í•©ë‹ˆë‹¤.\nâœ”ï¸ AWS CDKë¡œ ì–´ë–»ê²Œ ì´ê²ƒì´ ì‹¤í˜„ë  ìˆ˜ ìˆëŠ”ì§€ ë…¼ì˜í•©ë‹ˆë‹¤.\n\n# ì†Œê°œ ğŸ‘‹ğŸ½\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ë¹ ë¥¸ ê¸°ì‚¬ì—ì„œëŠ” AWS CDK ì¤‘ì²© ìŠ¤íƒì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ê³ , ì–¸ì œ ìš°ë¦¬ ì„œë¹„ìŠ¤ì— ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  ì´ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤. ì˜ˆì œ ì½”ë“œ ë² ì´ìŠ¤ë¥¼ í†µí•´ ê±¸ì–´ ë³´ê¸° ìœ„í•´ 'Gilmore Cuisine'ë¼ëŠ” ê°€ìƒ íšŒì‚¬ë¥¼ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤:\n\n![image](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_1.png)\n\nê¸°ì‚¬ì˜ ì½”ë“œëŠ” GitHubì—ì„œ ì—¬ê¸°ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\në” ìì„¸í•œ ê¸°ì‚¬ì™€ ì˜ˆì œëŠ” Serverless Advocate íŒ¨í„´ ë° ì†”ë£¨ì…˜ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ììœ ë¡­ê²Œ ì´ìš©í•´ ì£¼ì„¸ìš”:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_2.png\" /\u003e\n\n# ì–´ë–»ê²Œ ì‘ë™í• ê¹Œìš”? ğŸ’¡\n\nì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•  ë•Œ í´ë¼ìš°ë“œí¬ë©”ì´ì…˜ì—ì„œ ìŠ¤íƒ ë‹¹ 500ê°œì˜ ë¦¬ì†ŒìŠ¤ ì œí•œì— ë„ë‹¬í•˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆìŠµë‹ˆë‹¤.\n\nì´ê²ƒì€ ìš°ë¦¬ê°€ ì•„ë§ˆë„ ë‚´ë¶€ì ìœ¼ë¡œ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ í¬í•¨í•˜ëŠ” ìš°ë¦¬ë§Œì˜ L3 êµ¬ì„±ì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì•ŒëŒ, ì ì§„ì  ë°°í¬, ëŒ€ì‹œë³´ë“œ ë“±ì„ í¬í•¨í•˜ëŠ” ëŒë‹¤ êµ¬ì„±ì´ ìˆëŠ” ê²½ìš°ì´ë©°, ìš°ë¦¬ëŠ” ì´ êµ¬ì„±ì„ ìŠ¤íƒì—ì„œ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•˜ì—¬ ì œí•œì„ ì´ˆê³¼í•˜ê²Œ ë©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nAWS CDKì˜ NestedStack êµ¬ì¡°ëŠ” ë¶€ëª¨ ìŠ¤íƒ ë‚´ì—ì„œ í•˜ë‚˜ì˜ ìì›ìœ¼ë¡œ ê³„ì‚°í•˜ì—¬ ìŠ¤íƒ ë‹¹ AWS CloudFormation 500ê°œ ìì› ì œí•œì„ ìš°íšŒí•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì´ëŠ” ì¤‘ì²© ìŠ¤íƒì´ ë‹¤ë¥¸ ì¤‘ì²© ìŠ¤íƒì„ í¬í•¨í•˜ì—¬ ìµœëŒ€ 500ê°œì˜ ìì›ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¤‘ì²© ìŠ¤íƒì€ êµ¬ì¡°í™”ëœ ìŠ¤íƒì˜ ê³„ì¸µì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n![CDK Nested Stacks hierarchy](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_3.png)\n\nì¤‘ì²© ìŠ¤íƒì˜ ë²”ìœ„(ë³¸ì§ˆì ìœ¼ë¡œ ë¶€ëª¨)ëŠ” AWS CDKì˜ Stack ë˜ëŠ” NestedStack êµ¬ì¡°ì—¬ì•¼ í•©ë‹ˆë‹¤. ê¸°ì¡´ì˜ ìŠ¤íƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì¤‘ì²© ìŠ¤íƒì—ì„œì˜ êµ¬ì¡° ì •ì˜ëŠ” ë™ì¼í•©ë‹ˆë‹¤.\n\ní•©ì„± ê³¼ì •ì—ì„œ ì¤‘ì²© ìŠ¤íƒì€ ìì²´ AWS CloudFormation í…œí”Œë¦¿ìœ¼ë¡œ ë³€í™˜ë˜ì–´ AWS CDK ìŠ¤í…Œì´ì§• ë²„í‚·ì— ì—…ë¡œë“œë©ë‹ˆë‹¤. ì¤‘ì²© ìŠ¤íƒì€ ë¶€ëª¨ ìŠ¤íƒì— ë°”ì¸ë”©ë˜ì–´ ë…ë¦½ì ì¸ ë°°í¬ ìì‚°ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në¶€ëª¨ ìŠ¤íƒê³¼ ì¤‘ì²© ìŠ¤íƒ ê°„ì˜ ë¦¬ì†ŒìŠ¤ ì†ì„±ì˜ ìƒí˜¸ ì°¸ì¡°ëŠ” AWS CDKë¥¼ ì‚¬ìš©í•  ë•Œ ìë™ìœ¼ë¡œ ìŠ¤íƒ ë§¤ê°œë³€ìˆ˜ì™€ ì¶œë ¥ìœ¼ë¡œ ë³€í™˜ë©ë‹ˆë‹¤.\n\në‹¤ìŒ ì„¹ì…˜ì˜ ì½”ë“œë¥¼ ì‚´í´ë´…ì‹œë‹¤.\n\nğŸ‘‡ ë” ë‚˜ì•„ê°€ê¸° ì „ì— â€” ì•ìœ¼ë¡œì˜ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ê³¼ ì„œë²„ë¦¬ìŠ¤ ë‰´ìŠ¤ë¥¼ ë°›ìœ¼ì‹œë ¤ë©´ LinkedInì—ì„œ ì €ì™€ ì—°ê²°í•´ì£¼ì„¸ìš” https://www.linkedin.com/in/lee-james-gilmore/\n\n![CDK Nested Stacks](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_4.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ì½”ë“œë¥¼ í†µí•´ ì´ì•¼ê¸°í•˜ê¸°ğŸ‘¨â€ğŸ’»\n\në‚´ ì‘ì—…ì„ ë”°ë¥´ëŠ” ì‚¬ëŒë“¤ì€ ì¼ë°˜ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ 'ìƒíƒœ ì—†ìŒ'ê³¼ 'ìƒíƒœ ìˆëŠ”' ë¦¬ì†ŒìŠ¤ë¡œ ë¶„í• í•˜ëŠ” ê²ƒì„ ì•Œê³  ìˆì„ ê²ƒì…ë‹ˆë‹¤. ë˜í•œ ê¹”ë”í•œ ì½”ë“œ ë° ì•„í‚¤í…ì²˜ì— ëŒ€í•œ ë‚´ ì˜ê²¬ì´ ìˆìŠµë‹ˆë‹¤.\n\nì´ ê²½ë¡œë¥¼ ê³„ì† ë”°ë¼ê°€ì„œ ì¤‘ì²© ìŠ¤íƒì„ ì‚¬ìš©í•˜ë ¤ë©´ í´ë” êµ¬ì¡° ê´€ì ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤:\n\n![Folder Structure](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_5.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ì œ ì´ì œëŠ” 'stateful' ë° 'stateless'ì˜ ìƒìœ„ ìŠ¤íƒ ì•„ë˜ í•˜ë‚˜ ì´ìƒì˜ ì¤‘ì²©ëœ ìŠ¤íƒì„ ê°€ì§€ê³  ìˆìŒì„ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ ìŠ¤íƒì´ ê°œë…ì  ìˆ˜ì¤€ì—ì„œ ë¬´ì—‡ì„ í¬í•¨í•˜ëŠ”ì§€ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤(API ë¦¬ì†ŒìŠ¤, ë°ì´í„°ë² ì´ìŠ¤ ë¦¬ì†ŒìŠ¤, ì´ë²¤íŠ¸ ë²„ìŠ¤ ë¦¬ì†ŒìŠ¤ ë° ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤).\n\nì´ì œ í´ë” êµ¬ì¡°ë¥¼ í™•ì¥í•´ ë³´ë©´:\n\n![image](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_6.png)\n\nì¤‘ì²©ëœ ìŠ¤íƒì—ëŠ” íŒŒì¼ì— 'nested'ê°€ ì¶”ê°€ëœ ë‹¨ì–´ë„ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìƒì„±ëœ íŒŒì¼ê³¼ ì½˜ì†”ì— í‘œì‹œë˜ì–´ ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìš°ë¦¬ì˜ ìƒíƒœ ìœ ì§€ ìŠ¤íƒ ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nimport * as cdk from 'aws-cdk-lib';\n\nimport { Construct } from 'constructs';\nimport { DatabaseResources } from './nested/database/database-nested';\nimport { EventBusResources } from './nested/event-bus/event-bus-nested';\n\nexport interface GilmoreCuisineStatefulStackProps extends cdk.StackProps {\n  stage: string;\n}\n\nexport class GilmoreCuisineStatefulStack extends cdk.Stack {\n  public databaseResources: DatabaseResources;\n  public eventBusResources: EventBusResources;\n\n  constructor(\n    scope: Construct,\n    id: string,\n    props: GilmoreCuisineStatefulStackProps\n  ) {\n    super(scope, id, props);\n\n    // ë‘ ìƒíƒœ ìœ ì§€ ì¤‘ì²© ìŠ¤íƒì„ ê°€ì ¸ì™€ì„œ ì¸ìŠ¤í„´ìŠ¤í™”í•©ë‹ˆë‹¤.\n    this.databaseResources = new DatabaseResources(this, 'DatabaseResources', {\n      stage: props.stage,\n    });\n\n    this.eventBusResources = new EventBusResources(this, 'EventBusResources', {\n      stage: props.stage,\n    });\n  }\n}\n```\n\nìœ„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ìš°ë¦¬ì˜ ìƒìœ„ ìŠ¤íƒì€ ë‘ ì¤‘ì²©ëœ ìŠ¤íƒì„ ê°€ì ¸ì™€ì„œ ê·¸ê²ƒë“¤ì„ ì¸ìŠ¤í„´ìŠ¤í™”í•©ë‹ˆë‹¤.\n\nê·¸ëŸ° ë‹¤ìŒ DatabaseResources ì¤‘ì²© ìŠ¤íƒì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport * as cdk from 'aws-cdk-lib';\nimport * as dynamodb from 'aws-cdk-lib/aws-dynamodb';\n\nimport { Construct } from 'constructs';\n\ninterface DatabaseResourcesProps extends cdk.NestedStackProps {\n  stage: string;\n}\n\nexport class DatabaseResources extends cdk.NestedStack {\n  public table: dynamodb.Table;\n\n  constructor(scope: Construct, id: string, props: DatabaseResourcesProps) {\n    super(scope, id, props);\n\n    // our database is a static resource\n    this.table = new dynamodb.Table(this, 'Table', {\n      tableName: `gilmore-cuisine-table-${props.stage}`,\n      billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,\n      partitionKey: {\n        name: 'id',\n        type: dynamodb.AttributeType.STRING,\n      },\n      removalPolicy: cdk.RemovalPolicy.DESTROY,\n    });\n  }\n}\n```\n\níŠ¹íˆ ì´ ìŠ¤íƒì´ cdk.Stackì´ ì•„ë‹Œ ë¶€ëª¨ì™€ ê°™ì´ cdk.NestedStackì„ í™•ì¥í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ì œ ìƒíƒœ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ComputeResources ì¤‘ì²© ìŠ¤íƒìœ¼ë¡œ ì´ë™í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œê°€ ë‚˜ì˜µë‹ˆë‹¤:\n\n```js\nimport * as apigw from 'aws-cdk-lib/aws-apigateway';\nimport * as cdk from 'aws-cdk-lib';\nimport * as dynamodb from 'aws-cdk-lib/aws-dynamodb';\nimport * as events from 'aws-cdk-lib/aws-events';\nimport * as lambda from 'aws-cdk-lib/aws-lambda';\nimport * as nodeLambda from 'aws-cdk-lib/aws-lambda-nodejs';\nimport * as path from 'path';\n\nimport { Construct } from 'constructs';\n\ninterface ComputeResourcesProps extends cdk.NestedStackProps {\n  stage: string;\n  api: apigw.RestApi;\n}\n\nexport class ComputeResources extends cdk.NestedStack {\n  private api: apigw.RestApi;\n  private table: dynamodb.Table;\n  private bus: events.EventBus;\n\n  constructor(scope: Construct, id: string, props: ComputeResourcesProps) {\n    super(scope, id, props);\n\n    this.api = props.api;\n\n    // ìƒíƒœ ë¦¬ì†ŒìŠ¤ì—ì„œ í…Œì´ë¸”ì˜ ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°\n    this.table = dynamodb.Table.fromTableName(\n      this,\n      'Table',\n      `gilmore-cuisine-table-${props.stage}`\n    ) as dynamodb.Table;\n\n    // ìƒíƒœ ë¦¬ì†ŒìŠ¤ì—ì„œ busì˜ ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°\n    this.bus = events.EventBus.fromEventBusName(\n      this,\n      'EventBus',\n      `gilmore-cuisine-event-bus-${props.stage}`\n    ) as events.EventBus;\n\n    // ëŒë‹¤ íŒŒìš°ì–´íˆ´ì¦ˆ ì„¤ì • ìƒì„±\n    const lambdaPowerToolsConfig = {\n      LOG_LEVEL: 'DEBUG',\n      POWERTOOLS_LOGGER_LOG_EVENT: 'true',\n      POWERTOOLS_LOGGER_SAMPLE_RATE: '1',\n      POWERTOOLS_TRACE_ENABLED: 'enabled',\n      POWERTOOLS_TRACER_CAPTURE_HTTPS_REQUESTS: 'captureHTTPsRequests',\n      POWERTOOLS_SERVICE_NAME: 'gilmore-cuisine-service',\n      POWERTOOLS_TRACER_CAPTURE_RESPONSE: 'captureResult',\n      POWERTOOLS_METRICS_NAMESPACE: 'gilmore-cuisine',\n    };\n\n    // ëŒë‹¤ í•¨ìˆ˜ ìƒì„±\n    const listBookingsLambda: nodeLambda.NodejsFunction =\n      new nodeLambda.NodejsFunction(this, 'ListBookingsLambda', {\n        functionName: `${props.stage}-gilmore-cuisine-list-bookings`,\n        runtime: lambda.Runtime.NODEJS_20_X,\n        entry: path.join(\n          __dirname,\n          '../../src/adapters/primary/list-bookings/list-bookings.adapter.ts'\n        ),\n        memorySize: 1024,\n        handler: 'handler',\n        tracing: lambda.Tracing.ACTIVE,\n        bundling: {\n          minify: true,\n          sourceMap: true,\n        },\n        environment: {\n          NODE_OPTIONS: '--enable-source-maps',\n          ...lambdaPowerToolsConfig,\n          TABLE_NAME: this.table.tableName,\n          BUS: this.bus.eventBusName,\n        },\n      });\n\n    const createBookingLambda: nodeLambda.NodejsFunction =\n      new nodeLambda.NodejsFunction(this, 'CreateBookingLambda', {\n        functionName: `${props.stage}-gilmore-cuisine-create-booking`,\n        runtime: lambda.Runtime.NODEJS_20_X,\n        entry: path.join(\n          __dirname,\n          '../../src/adapters/primary/create-booking/create-booking.adapter.ts'\n        ),\n        memorySize: 1024,\n        handler: 'handler',\n        tracing: lambda.Tracing.ACTIVE,\n        bundling: {\n          minify: true,\n          sourceMap: true,\n        },\n        environment: {\n          NODE_OPTIONS: '--enable-source-maps',\n          ...lambdaPowerToolsConfig,\n          TABLE_NAME: this.table.tableName,\n          BUS: this.bus.eventBusName,\n        },\n      });\n\n    // í•¨ìˆ˜ì— ëŒ€í•œ í…Œì´ë¸” ê¶Œí•œ ë¶€ì—¬\n    this.table.grantReadData(listBookingsLambda);\n    this.table.grantWriteData(createBookingLambda);\n\n    // í•¨ìˆ˜ê°€ ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ë„ë¡ í—ˆìš©\n    this.bus.grantPutEventsTo(createBookingLambda);\n\n    // ì˜¬ë°”ë¥¸ API ë¦¬ì†ŒìŠ¤ì— ëŒë‹¤ í•¨ìˆ˜ ì¶”ê°€\n    const orders = this.api.root\n      .getResource('v1')\n      ?.getResource('bookings') as apigw.Resource;\n\n    orders.addMethod(\n      'GET',\n      new apigw.LambdaIntegration(listBookingsLambda, {\n        proxy: true,\n      })\n    );\n\n    orders.addMethod(\n      'POST',\n      new apigw.LambdaIntegration(createBookingLambda, {\n        proxy: true,\n      })\n    );\n  }\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ DynamoDB í…Œì´ë¸” ë° EventBridge ì´ë²¤íŠ¸ ë²„ìŠ¤ì˜ ìƒíƒœë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‹¤ìŒ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë“¤ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì–»ê³  ìˆìŠµë‹ˆë‹¤.\n\n```js\n...\n// ìƒíƒœë¥¼ ê°€ì§„ ìŠ¤íƒì—ì„œ í…Œì´ë¸”ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì˜´\nthis.table = dynamodb.Table.fromTableName(\n  this,\n  'Table',\n  `gilmore-cuisine-table-${props.stage}`\n) as dynamodb.Table;\n\n// ìƒíƒœë¥¼ ê°€ì§„ ìŠ¤íƒì—ì„œ ì´ë²¤íŠ¸ ë²„ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì˜´\nthis.bus = events.EventBus.fromEventBusName(\n  this,\n  'EventBus',\n  `gilmore-cuisine-event-bus-${props.stage}`\n) as events.EventBus;\n...\n```\n\nê·¸ëŸ¬ë‚˜ ì´ëŠ” ìƒíƒœë¥¼ ê°€ì§„ ìŠ¤íƒì´ ìƒíƒœê°€ ì—†ëŠ” ìŠ¤íƒë³´ë‹¤ ë¨¼ì € ë°°í¬ë˜ì–´ì•¼ í•¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ëŠ” ì˜ì¡´ì„±ì— ê´€í•œ ë‹¤ìŒê³¼ ê°™ì´ ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ì—ì„œ í™•ì‹¤í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n#!/usr/bin/env node\n\nimport 'source-map-support/register';\n\nimport * as cdk from 'aws-cdk-lib';\n\nimport { GilmoreCuisineStatefulStack } from '../stateful/stateful';\nimport { GilmoreCuisineStatelessStack } from '../stateless/stateless';\n\nconst stage = 'prod';\n\nconst app = new cdk.App();\n\nconst stateful = new GilmoreCuisineStatefulStack(\n  app,\n  'GilmoreCuisineStatefulStack',\n  {\n    stage,\n  }\n);\n\nconst stateless = new GilmoreCuisineStatelessStack(\n  app,\n  'GilmoreCuisineStatelessStack',\n  {\n    stage,\n  }\n);\n\n// statelessê°€ statefulë³´ë‹¤ ë¨¼ì € ë°°í¬ë˜ë„ë¡ í•¨\nstateless.addDependency(stateful);\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‹¤ìŒ ì„¹ì…˜ì—ì„œ í•´ê²°ì±…ì„ ë°°í¬í•˜ê³  í…ŒìŠ¤íŠ¸í•´ ë´…ì‹œë‹¤.\n\n## ë°°í¬ ë° í…ŒìŠ¤íŠ¸ ğŸ§‘ğŸ¾â€ğŸ’»\n\nê·¸ëŸ¼ ì´ì œ 'gilmore-cuisine' í´ë”ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ìŠ¤íƒì„ ë°°í¬í•´ ë³´ê² ìŠµë‹ˆë‹¤:\n\n\nnpm run deploy\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në™ì¼í•œ í´ë”ì—ì„œ cdk ëª©ë¡ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì•ì„œ ì„¤ëª…í•œëŒ€ë¡œ ë‘ ê°œì˜ ìƒìœ„ ìŠ¤íƒë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n![CDK Nested Stacks](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_7.png)\n\ní•©ì„±ëœ CloudFormation í…œí”Œë¦¿ ë° ì—ì…‹ì´ í¬í•¨ëœ cdk.out í´ë”ë¥¼ ë¡œì»¬ë¡œ í™•ì¸í•˜ë©´ ë‹¤ìŒ íŒŒì¼ë“¤ì´ í‘œì‹œë©ë‹ˆë‹¤:\n\në‘ ê°œì˜ ìƒìœ„ í…œí”Œë¦¿, GilmoreCuisineStatefulStack.template.json ë° GilmoreCuisineStatelessStack.template.json,ì´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë“¤ì€ ì•„ë˜ì™€ ìœ ì‚¬í•œ ë‚´ìš©ì„ ê°€ì§€ê³  ìˆìœ¼ë©° ì¤‘ì²© ìŠ¤íƒì„ ê°€ë¦¬í‚µë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n...\n\"UpdateReplacePolicy\": \"Delete\",\n\"DeletionPolicy\": \"Delete\",\n\"Metadata\": {\n  \"aws:cdk:path\": \"GilmoreCuisineStatefulStack/EventBusResources.NestedStack/EventBusResources.NestedStackResource\",\n  \"aws:asset:path\": \"GilmoreCuisineStatefulStackEventBusResourcesAC59B19D.nested.template.json\",\n  \"aws:asset:property\": \"TemplateURL\"\n}\n...\n```\n\në°°í¬ê°€ ì™„ë£Œë˜ë©´ ì½˜ì†”ë¡œ ì „í™˜í•˜ì—¬ ì½˜ì†”ì— ì¤‘ì²© ìŠ¤íƒì´ í‘œì‹œë˜ì§€ ì•Šë„ë¡ ì„¤ì •í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:\n\nì´ì œ ì½˜ì†”ì—ì„œ ë‘ ìŠ¤íƒì˜ í•˜ìœ„ ì¤‘ì²© ìŠ¤íƒì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\nì´ì œ ê° ìŠ¤íƒì˜ ë‚´ìš©ì„ ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## âœ”ï¸ Stateful Stack\n\nìƒíƒœ ìœ ì§€ ìŠ¤íƒ ì•ˆì—ëŠ” DatabaseResourcesì™€ EventBusResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\në³´ë‹¤ ìì„¸í•œ ë‚´ìš©ì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\nDatabaseResources\nìš°ë¦¬ì˜ DynamoDB í…Œì´ë¸”ì´ í¬í•¨ëœ DatabaseResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nEventBusResources\nì´ë²¤íŠ¸ ë²„ìŠ¤, CloudWatch ë¡œê·¸ ê·¸ë£¹ ë° ì´ë²¤íŠ¸ ê·œì¹™ ëŒ€ìƒì„ í¬í•¨í•˜ëŠ” EventBusResourcesì˜ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\nì´ì œ ë¬´ìƒíƒœ ìŠ¤íƒê³¼ ê´€ë ¨ëœ ë‚´ìš©ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n## âœ”ï¸ ë¬´ìƒíƒœ ìŠ¤íƒ\n\në¬´ìƒíƒœ ìŠ¤íƒì—ëŠ” ApiResources ë° ComputeResourcesì˜ ë‘ ê°œì˜ ì¤‘ì²© ìŠ¤íƒì´ í‘œì‹œë©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nApiResources\nì•„ë˜ì—ì„œ ApiResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, API Gateway REST API, ìŠ¤í…Œì´ì§€, ë°°í¬ ë“±ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\nComputeResources\nì•„ë˜ì—ì„œ ComputeResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ë‘ ê°œì˜ ëŒë‹¤ í•¨ìˆ˜ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n## í…ŒìŠ¤íŒ… ğŸ§ª\n\n\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_8.png\" /\u003e\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në§Œì•½ Postman íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ /bookings/ì˜ POST ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_9.png)\n\nê·¸ë¦¬ê³  CloudWatch ë¡œê·¸ì˜ ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•˜ëŠ” ëŒ€ìƒì„ ì‚´í´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì´ë²¤íŠ¸ê°€ í‘œì‹œë©ë‹ˆë‹¤:\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_10.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì•„ë˜ëŠ” ëª©ë¡ ì˜ˆì•½ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ë„ ìˆì–´ìš”. \n\nì´ê²ƒì„ ë³´ì—¬ ì£¼ê² ì£ : \n\n![List Bookings EndPoint](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_12.png)\n\n# ê²°ë¡   \n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ê¸€ì„ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ë‹¤ë£¬ ë‚´ìš©ì„ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- ì¤‘ì²© ìŠ¤íƒì´ í•„ìš”í•œ ì´ìœ ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤.\n- AWS CDKë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤.\n\n# ë§ˆë¬´ë¦¬ ì¸ì‚¬ ğŸ‘‹ğŸ½\n\nì´ ì§§ì€ ê¸€ì„ ì¦ê²ê²Œ ì½ì–´ì£¼ì…¨ê¸°ë¥¼ ë°”ë¼ë©°, ë§ˆìŒì— ë“œì…¨ë‹¤ë©´ ê³µìœ í•´ ì£¼ì‹œê³  í”¼ë“œë°±ì„ ì£¼ì„¸ìš”!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në¹„ìŠ·í•œ ì½˜í…ì¸ ë¥¼ ë” ë³´ê³  ì‹¶ë‹¤ë©´ ì œ YouTube ì±„ë„ì„ ë°©ë¬¸í•´ì£¼ì„¸ìš”!\n\n![YouTube](/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_13.png)\n\nê·¸ë¦¬ê³  ë‹¤ìŒ ë§í¬ë¥¼ í†µí•´ ì—°ë½í•  ìˆ˜ë„ ìˆì–´ìš”:\n\n[LinkedIn í”„ë¡œí•„](https://www.linkedin.com/in/lee-james-gilmore/)\n[Twitter í”„ë¡œí•„](https://twitter.com/LeeJamesGilmore)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në§Œì•½ ì´ ê²Œì‹œë¬¼ì„ ì¦ê²¼ë‹¤ë©´, ì¶”ê°€ í¬ìŠ¤íŠ¸/ì‹œë¦¬ì¦ˆë¥¼ í™•ì¸í•˜ë ¤ë©´ ì œ í”„ë¡œí•„ Lee James Gilmoreë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš”. ë˜í•œ 'clap' ê¸°ëŠ¥ì„ ì´ìš©í•´ ì£¼ì„¸ìš”. ê²Œì‹œë¬¼ í•˜ë‹¨ì— ìœ„ì¹˜í•´ ìˆìŠµë‹ˆë‹¤. í•œ ë²ˆ ì´ìƒìœ¼ë¡œë„ í´ë©ì„ í•  ìˆ˜ ìˆì–´ìš”! \n\n# ë‚˜ì— ëŒ€í•´\n\n\"ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” ì˜êµ­ì— ê±°ì£¼í•˜ê³  ìˆëŠ” AWS ì»¤ë®¤ë‹ˆí‹° ë¹Œë”, ë¸”ë¡œê±°, AWS ì¸ì¦ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸ì´ì ê¸°ìˆ  ë° ì•„í‚¤í…ì²˜ ê¸€ë¡œë²Œ ì´ê´„ì¸ Leeì…ë‹ˆë‹¤. í˜„ì¬ City Electrical Factors (UK) ë° City Electric Supply (US)ì—ì„œ ê·¼ë¬´ ì¤‘ì´ë©°, ì§€ë‚œ 6ë…„ê°„ ì£¼ë¡œ AWSì—ì„œ í’€ìŠ¤íƒ JavaScriptë¥¼ ì‚¬ìš©í•´ ì™”ìŠµë‹ˆë‹¤.\"\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì €ëŠ” ëª¨ë“  ê²ƒì„ AWS, í˜ì‹ , ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜, ê·¸ë¦¬ê³  ê¸°ìˆ ì— ëŒ€í•œ ì‚¬ë‘ìœ¼ë¡œ ì„œë²„ë¦¬ìŠ¤ë¥¼ ì˜¹í˜¸í•˜ëŠ” ì‚¬ëŒì´ë¼ê³  ìƒê°í•´ìš”.\n\n*** ì œê³µëœ ì •ë³´ëŠ” ì œ ê°œì¸ì ì¸ ê²¬í•´ì´ë©°, ê·¸ì— ë”°ë¥¸ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ***\n\nì•„ë˜ ë‚´ìš©ë„ ê´€ì‹¬ì´ ìˆì„ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤:","ogImage":{"url":"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_0.png"},"coverImage":"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_0.png","tag":["Tech"],"readingTime":13},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_0.png\" alt=\"CDK Nested Stacks\"\u003e\u003c/p\u003e\n\u003ch2\u003eì‹œì‘ë§\u003c/h2\u003e\n\u003cp\u003eâœ”ï¸ ìš°ë¦¬ëŠ” ì¤‘ì²© ìŠ¤íƒì˜ í•„ìš”ì„±ì— ëŒ€í•´ ì´ì•¼ê¸°í•©ë‹ˆë‹¤.\nâœ”ï¸ AWS CDKë¡œ ì–´ë–»ê²Œ ì´ê²ƒì´ ì‹¤í˜„ë  ìˆ˜ ìˆëŠ”ì§€ ë…¼ì˜í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eì†Œê°œ ğŸ‘‹ğŸ½\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eì´ ë¹ ë¥¸ ê¸°ì‚¬ì—ì„œëŠ” AWS CDK ì¤‘ì²© ìŠ¤íƒì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ê³ , ì–¸ì œ ìš°ë¦¬ ì„œë¹„ìŠ¤ì— ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  ì´ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤. ì˜ˆì œ ì½”ë“œ ë² ì´ìŠ¤ë¥¼ í†µí•´ ê±¸ì–´ ë³´ê¸° ìœ„í•´ 'Gilmore Cuisine'ë¼ëŠ” ê°€ìƒ íšŒì‚¬ë¥¼ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_1.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003eê¸°ì‚¬ì˜ ì½”ë“œëŠ” GitHubì—ì„œ ì—¬ê¸°ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003eë” ìì„¸í•œ ê¸°ì‚¬ì™€ ì˜ˆì œëŠ” Serverless Advocate íŒ¨í„´ ë° ì†”ë£¨ì…˜ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ììœ ë¡­ê²Œ ì´ìš©í•´ ì£¼ì„¸ìš”:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_2.png\"\u003e\n\u003ch1\u003eì–´ë–»ê²Œ ì‘ë™í• ê¹Œìš”? ğŸ’¡\u003c/h1\u003e\n\u003cp\u003eì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•  ë•Œ í´ë¼ìš°ë“œí¬ë©”ì´ì…˜ì—ì„œ ìŠ¤íƒ ë‹¹ 500ê°œì˜ ë¦¬ì†ŒìŠ¤ ì œí•œì— ë„ë‹¬í•˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ê²ƒì€ ìš°ë¦¬ê°€ ì•„ë§ˆë„ ë‚´ë¶€ì ìœ¼ë¡œ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ í¬í•¨í•˜ëŠ” ìš°ë¦¬ë§Œì˜ L3 êµ¬ì„±ì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì•ŒëŒ, ì ì§„ì  ë°°í¬, ëŒ€ì‹œë³´ë“œ ë“±ì„ í¬í•¨í•˜ëŠ” ëŒë‹¤ êµ¬ì„±ì´ ìˆëŠ” ê²½ìš°ì´ë©°, ìš°ë¦¬ëŠ” ì´ êµ¬ì„±ì„ ìŠ¤íƒì—ì„œ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•˜ì—¬ ì œí•œì„ ì´ˆê³¼í•˜ê²Œ ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eAWS CDKì˜ NestedStack êµ¬ì¡°ëŠ” ë¶€ëª¨ ìŠ¤íƒ ë‚´ì—ì„œ í•˜ë‚˜ì˜ ìì›ìœ¼ë¡œ ê³„ì‚°í•˜ì—¬ ìŠ¤íƒ ë‹¹ AWS CloudFormation 500ê°œ ìì› ì œí•œì„ ìš°íšŒí•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì´ëŠ” ì¤‘ì²© ìŠ¤íƒì´ ë‹¤ë¥¸ ì¤‘ì²© ìŠ¤íƒì„ í¬í•¨í•˜ì—¬ ìµœëŒ€ 500ê°œì˜ ìì›ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¤‘ì²© ìŠ¤íƒì€ êµ¬ì¡°í™”ëœ ìŠ¤íƒì˜ ê³„ì¸µì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_3.png\" alt=\"CDK Nested Stacks hierarchy\"\u003e\u003c/p\u003e\n\u003cp\u003eì¤‘ì²© ìŠ¤íƒì˜ ë²”ìœ„(ë³¸ì§ˆì ìœ¼ë¡œ ë¶€ëª¨)ëŠ” AWS CDKì˜ Stack ë˜ëŠ” NestedStack êµ¬ì¡°ì—¬ì•¼ í•©ë‹ˆë‹¤. ê¸°ì¡´ì˜ ìŠ¤íƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì¤‘ì²© ìŠ¤íƒì—ì„œì˜ êµ¬ì¡° ì •ì˜ëŠ” ë™ì¼í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eí•©ì„± ê³¼ì •ì—ì„œ ì¤‘ì²© ìŠ¤íƒì€ ìì²´ AWS CloudFormation í…œí”Œë¦¿ìœ¼ë¡œ ë³€í™˜ë˜ì–´ AWS CDK ìŠ¤í…Œì´ì§• ë²„í‚·ì— ì—…ë¡œë“œë©ë‹ˆë‹¤. ì¤‘ì²© ìŠ¤íƒì€ ë¶€ëª¨ ìŠ¤íƒì— ë°”ì¸ë”©ë˜ì–´ ë…ë¦½ì ì¸ ë°°í¬ ìì‚°ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eë¶€ëª¨ ìŠ¤íƒê³¼ ì¤‘ì²© ìŠ¤íƒ ê°„ì˜ ë¦¬ì†ŒìŠ¤ ì†ì„±ì˜ ìƒí˜¸ ì°¸ì¡°ëŠ” AWS CDKë¥¼ ì‚¬ìš©í•  ë•Œ ìë™ìœ¼ë¡œ ìŠ¤íƒ ë§¤ê°œë³€ìˆ˜ì™€ ì¶œë ¥ìœ¼ë¡œ ë³€í™˜ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë‹¤ìŒ ì„¹ì…˜ì˜ ì½”ë“œë¥¼ ì‚´í´ë´…ì‹œë‹¤.\u003c/p\u003e\n\u003cp\u003eğŸ‘‡ ë” ë‚˜ì•„ê°€ê¸° ì „ì— â€” ì•ìœ¼ë¡œì˜ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ê³¼ ì„œë²„ë¦¬ìŠ¤ ë‰´ìŠ¤ë¥¼ ë°›ìœ¼ì‹œë ¤ë©´ LinkedInì—ì„œ ì €ì™€ ì—°ê²°í•´ì£¼ì„¸ìš” \u003ca href=\"https://www.linkedin.com/in/lee-james-gilmore/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://www.linkedin.com/in/lee-james-gilmore/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_4.png\" alt=\"CDK Nested Stacks\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003eì½”ë“œë¥¼ í†µí•´ ì´ì•¼ê¸°í•˜ê¸°ğŸ‘¨â€ğŸ’»\u003c/h1\u003e\n\u003cp\u003eë‚´ ì‘ì—…ì„ ë”°ë¥´ëŠ” ì‚¬ëŒë“¤ì€ ì¼ë°˜ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ 'ìƒíƒœ ì—†ìŒ'ê³¼ 'ìƒíƒœ ìˆëŠ”' ë¦¬ì†ŒìŠ¤ë¡œ ë¶„í• í•˜ëŠ” ê²ƒì„ ì•Œê³  ìˆì„ ê²ƒì…ë‹ˆë‹¤. ë˜í•œ ê¹”ë”í•œ ì½”ë“œ ë° ì•„í‚¤í…ì²˜ì— ëŒ€í•œ ë‚´ ì˜ê²¬ì´ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ ê²½ë¡œë¥¼ ê³„ì† ë”°ë¼ê°€ì„œ ì¤‘ì²© ìŠ¤íƒì„ ì‚¬ìš©í•˜ë ¤ë©´ í´ë” êµ¬ì¡° ê´€ì ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_5.png\" alt=\"Folder Structure\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eì´ì œ ì´ì œëŠ” 'stateful' ë° 'stateless'ì˜ ìƒìœ„ ìŠ¤íƒ ì•„ë˜ í•˜ë‚˜ ì´ìƒì˜ ì¤‘ì²©ëœ ìŠ¤íƒì„ ê°€ì§€ê³  ìˆìŒì„ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ ìŠ¤íƒì´ ê°œë…ì  ìˆ˜ì¤€ì—ì„œ ë¬´ì—‡ì„ í¬í•¨í•˜ëŠ”ì§€ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤(API ë¦¬ì†ŒìŠ¤, ë°ì´í„°ë² ì´ìŠ¤ ë¦¬ì†ŒìŠ¤, ì´ë²¤íŠ¸ ë²„ìŠ¤ ë¦¬ì†ŒìŠ¤ ë° ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤).\u003c/p\u003e\n\u003cp\u003eì´ì œ í´ë” êµ¬ì¡°ë¥¼ í™•ì¥í•´ ë³´ë©´:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_6.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003eì¤‘ì²©ëœ ìŠ¤íƒì—ëŠ” íŒŒì¼ì— 'nested'ê°€ ì¶”ê°€ëœ ë‹¨ì–´ë„ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìƒì„±ëœ íŒŒì¼ê³¼ ì½˜ì†”ì— í‘œì‹œë˜ì–´ ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eìš°ë¦¬ì˜ ìƒíƒœ ìœ ì§€ ìŠ¤íƒ ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e cdk \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eConstruct\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'constructs'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eDatabaseResources\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./nested/database/database-nested'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eEventBusResources\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./nested/event-bus/event-bus-nested'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e interface \u003cspan class=\"hljs-title class_\"\u003eGilmoreCuisineStatefulStackProps\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e cdk.\u003cspan class=\"hljs-property\"\u003eStackProps\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003estage\u003c/span\u003e: string;\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eGilmoreCuisineStatefulStack\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003ecdk.Stack\u003c/span\u003e {\n  public \u003cspan class=\"hljs-attr\"\u003edatabaseResources\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eDatabaseResources\u003c/span\u003e;\n  public \u003cspan class=\"hljs-attr\"\u003eeventBusResources\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eEventBusResources\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\n    scope: Construct,\n    id: string,\n    props: GilmoreCuisineStatefulStackProps\n  \u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e(scope, id, props);\n\n    \u003cspan class=\"hljs-comment\"\u003e// ë‘ ìƒíƒœ ìœ ì§€ ì¤‘ì²© ìŠ¤íƒì„ ê°€ì ¸ì™€ì„œ ì¸ìŠ¤í„´ìŠ¤í™”í•©ë‹ˆë‹¤.\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edatabaseResources\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDatabaseResources\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'DatabaseResources'\u003c/span\u003e, {\n      \u003cspan class=\"hljs-attr\"\u003estage\u003c/span\u003e: props.\u003cspan class=\"hljs-property\"\u003estage\u003c/span\u003e,\n    });\n\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eeventBusResources\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eEventBusResources\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'EventBusResources'\u003c/span\u003e, {\n      \u003cspan class=\"hljs-attr\"\u003estage\u003c/span\u003e: props.\u003cspan class=\"hljs-property\"\u003estage\u003c/span\u003e,\n    });\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ìš°ë¦¬ì˜ ìƒìœ„ ìŠ¤íƒì€ ë‘ ì¤‘ì²©ëœ ìŠ¤íƒì„ ê°€ì ¸ì™€ì„œ ê·¸ê²ƒë“¤ì„ ì¸ìŠ¤í„´ìŠ¤í™”í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eê·¸ëŸ° ë‹¤ìŒ DatabaseResources ì¤‘ì²© ìŠ¤íƒì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e cdk \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e dynamodb \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib/aws-dynamodb'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eConstruct\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'constructs'\u003c/span\u003e;\n\ninterface \u003cspan class=\"hljs-title class_\"\u003eDatabaseResourcesProps\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e cdk.\u003cspan class=\"hljs-property\"\u003eNestedStackProps\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003estage\u003c/span\u003e: string;\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDatabaseResources\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003ecdk.NestedStack\u003c/span\u003e {\n  public \u003cspan class=\"hljs-attr\"\u003etable\u003c/span\u003e: dynamodb.\u003cspan class=\"hljs-property\"\u003eTable\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003escope: Construct, id: string, props: DatabaseResourcesProps\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e(scope, id, props);\n\n    \u003cspan class=\"hljs-comment\"\u003e// our database is a static resource\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etable\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e dynamodb.\u003cspan class=\"hljs-title class_\"\u003eTable\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Table'\u003c/span\u003e, {\n      \u003cspan class=\"hljs-attr\"\u003etableName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`gilmore-cuisine-table-\u003cspan class=\"hljs-subst\"\u003e${props.stage}\u003c/span\u003e`\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ebillingMode\u003c/span\u003e: dynamodb.\u003cspan class=\"hljs-property\"\u003eBillingMode\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ePAY_PER_REQUEST\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003epartitionKey\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'id'\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e: dynamodb.\u003cspan class=\"hljs-property\"\u003eAttributeType\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eSTRING\u003c/span\u003e,\n      },\n      \u003cspan class=\"hljs-attr\"\u003eremovalPolicy\u003c/span\u003e: cdk.\u003cspan class=\"hljs-property\"\u003eRemovalPolicy\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eDESTROY\u003c/span\u003e,\n    });\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eíŠ¹íˆ ì´ ìŠ¤íƒì´ cdk.Stackì´ ì•„ë‹Œ ë¶€ëª¨ì™€ ê°™ì´ cdk.NestedStackì„ í™•ì¥í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ì œ ìƒíƒœ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ComputeResources ì¤‘ì²© ìŠ¤íƒìœ¼ë¡œ ì´ë™í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œê°€ ë‚˜ì˜µë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e apigw \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib/aws-apigateway'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e cdk \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e dynamodb \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib/aws-dynamodb'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e events \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib/aws-events'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e lambda \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib/aws-lambda'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e nodeLambda \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib/aws-lambda-nodejs'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e path \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'path'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eConstruct\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'constructs'\u003c/span\u003e;\n\ninterface \u003cspan class=\"hljs-title class_\"\u003eComputeResourcesProps\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e cdk.\u003cspan class=\"hljs-property\"\u003eNestedStackProps\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003estage\u003c/span\u003e: string;\n  \u003cspan class=\"hljs-attr\"\u003eapi\u003c/span\u003e: apigw.\u003cspan class=\"hljs-property\"\u003eRestApi\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eComputeResources\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003ecdk.NestedStack\u003c/span\u003e {\n  private \u003cspan class=\"hljs-attr\"\u003eapi\u003c/span\u003e: apigw.\u003cspan class=\"hljs-property\"\u003eRestApi\u003c/span\u003e;\n  private \u003cspan class=\"hljs-attr\"\u003etable\u003c/span\u003e: dynamodb.\u003cspan class=\"hljs-property\"\u003eTable\u003c/span\u003e;\n  private \u003cspan class=\"hljs-attr\"\u003ebus\u003c/span\u003e: events.\u003cspan class=\"hljs-property\"\u003eEventBus\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003escope: Construct, id: string, props: ComputeResourcesProps\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e(scope, id, props);\n\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eapi\u003c/span\u003e = props.\u003cspan class=\"hljs-property\"\u003eapi\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-comment\"\u003e// ìƒíƒœ ë¦¬ì†ŒìŠ¤ì—ì„œ í…Œì´ë¸”ì˜ ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etable\u003c/span\u003e = dynamodb.\u003cspan class=\"hljs-property\"\u003eTable\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efromTableName\u003c/span\u003e(\n      \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e'Table'\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e`gilmore-cuisine-table-\u003cspan class=\"hljs-subst\"\u003e${props.stage}\u003c/span\u003e`\u003c/span\u003e\n    ) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e dynamodb.\u003cspan class=\"hljs-property\"\u003eTable\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-comment\"\u003e// ìƒíƒœ ë¦¬ì†ŒìŠ¤ì—ì„œ busì˜ ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebus\u003c/span\u003e = events.\u003cspan class=\"hljs-property\"\u003eEventBus\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efromEventBusName\u003c/span\u003e(\n      \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e'EventBus'\u003c/span\u003e,\n      \u003cspan class=\"hljs-string\"\u003e`gilmore-cuisine-event-bus-\u003cspan class=\"hljs-subst\"\u003e${props.stage}\u003c/span\u003e`\u003c/span\u003e\n    ) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e events.\u003cspan class=\"hljs-property\"\u003eEventBus\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-comment\"\u003e// ëŒë‹¤ íŒŒìš°ì–´íˆ´ì¦ˆ ì„¤ì • ìƒì„±\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e lambdaPowerToolsConfig = {\n      \u003cspan class=\"hljs-attr\"\u003eLOG_LEVEL\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'DEBUG'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ePOWERTOOLS_LOGGER_LOG_EVENT\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'true'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ePOWERTOOLS_LOGGER_SAMPLE_RATE\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'1'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ePOWERTOOLS_TRACE_ENABLED\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'enabled'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ePOWERTOOLS_TRACER_CAPTURE_HTTPS_REQUESTS\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'captureHTTPsRequests'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ePOWERTOOLS_SERVICE_NAME\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'gilmore-cuisine-service'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ePOWERTOOLS_TRACER_CAPTURE_RESPONSE\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'captureResult'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ePOWERTOOLS_METRICS_NAMESPACE\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'gilmore-cuisine'\u003c/span\u003e,\n    };\n\n    \u003cspan class=\"hljs-comment\"\u003e// ëŒë‹¤ í•¨ìˆ˜ ìƒì„±\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elistBookingsLambda\u003c/span\u003e: nodeLambda.\u003cspan class=\"hljs-property\"\u003eNodejsFunction\u003c/span\u003e =\n      \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e nodeLambda.\u003cspan class=\"hljs-title class_\"\u003eNodejsFunction\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'ListBookingsLambda'\u003c/span\u003e, {\n        \u003cspan class=\"hljs-attr\"\u003efunctionName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${props.stage}\u003c/span\u003e-gilmore-cuisine-list-bookings`\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003eruntime\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eRuntime\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eNODEJS_20_X\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003eentry\u003c/span\u003e: path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(\n          __dirname,\n          \u003cspan class=\"hljs-string\"\u003e'../../src/adapters/primary/list-bookings/list-bookings.adapter.ts'\u003c/span\u003e\n        ),\n        \u003cspan class=\"hljs-attr\"\u003ememorySize\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1024\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003ehandler\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'handler'\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003etracing\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eTracing\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eACTIVE\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003ebundling\u003c/span\u003e: {\n          \u003cspan class=\"hljs-attr\"\u003eminify\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003esourceMap\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n        },\n        \u003cspan class=\"hljs-attr\"\u003eenvironment\u003c/span\u003e: {\n          \u003cspan class=\"hljs-attr\"\u003eNODE_OPTIONS\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'--enable-source-maps'\u003c/span\u003e,\n          ...lambdaPowerToolsConfig,\n          \u003cspan class=\"hljs-attr\"\u003eTABLE_NAME\u003c/span\u003e: \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etable\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etableName\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003eBUS\u003c/span\u003e: \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebus\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eeventBusName\u003c/span\u003e,\n        },\n      });\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ecreateBookingLambda\u003c/span\u003e: nodeLambda.\u003cspan class=\"hljs-property\"\u003eNodejsFunction\u003c/span\u003e =\n      \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e nodeLambda.\u003cspan class=\"hljs-title class_\"\u003eNodejsFunction\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'CreateBookingLambda'\u003c/span\u003e, {\n        \u003cspan class=\"hljs-attr\"\u003efunctionName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${props.stage}\u003c/span\u003e-gilmore-cuisine-create-booking`\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003eruntime\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eRuntime\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eNODEJS_20_X\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003eentry\u003c/span\u003e: path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(\n          __dirname,\n          \u003cspan class=\"hljs-string\"\u003e'../../src/adapters/primary/create-booking/create-booking.adapter.ts'\u003c/span\u003e\n        ),\n        \u003cspan class=\"hljs-attr\"\u003ememorySize\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1024\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003ehandler\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'handler'\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003etracing\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eTracing\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eACTIVE\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003ebundling\u003c/span\u003e: {\n          \u003cspan class=\"hljs-attr\"\u003eminify\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003esourceMap\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n        },\n        \u003cspan class=\"hljs-attr\"\u003eenvironment\u003c/span\u003e: {\n          \u003cspan class=\"hljs-attr\"\u003eNODE_OPTIONS\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'--enable-source-maps'\u003c/span\u003e,\n          ...lambdaPowerToolsConfig,\n          \u003cspan class=\"hljs-attr\"\u003eTABLE_NAME\u003c/span\u003e: \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etable\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etableName\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003eBUS\u003c/span\u003e: \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebus\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eeventBusName\u003c/span\u003e,\n        },\n      });\n\n    \u003cspan class=\"hljs-comment\"\u003e// í•¨ìˆ˜ì— ëŒ€í•œ í…Œì´ë¸” ê¶Œí•œ ë¶€ì—¬\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etable\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egrantReadData\u003c/span\u003e(listBookingsLambda);\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etable\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egrantWriteData\u003c/span\u003e(createBookingLambda);\n\n    \u003cspan class=\"hljs-comment\"\u003e// í•¨ìˆ˜ê°€ ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ë„ë¡ í—ˆìš©\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebus\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egrantPutEventsTo\u003c/span\u003e(createBookingLambda);\n\n    \u003cspan class=\"hljs-comment\"\u003e// ì˜¬ë°”ë¥¸ API ë¦¬ì†ŒìŠ¤ì— ëŒë‹¤ í•¨ìˆ˜ ì¶”ê°€\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e orders = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eapi\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eroot\u003c/span\u003e\n      .\u003cspan class=\"hljs-title function_\"\u003egetResource\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'v1'\u003c/span\u003e)\n      ?.\u003cspan class=\"hljs-title function_\"\u003egetResource\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'bookings'\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e apigw.\u003cspan class=\"hljs-property\"\u003eResource\u003c/span\u003e;\n\n    orders.\u003cspan class=\"hljs-title function_\"\u003eaddMethod\u003c/span\u003e(\n      \u003cspan class=\"hljs-string\"\u003e'GET'\u003c/span\u003e,\n      \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e apigw.\u003cspan class=\"hljs-title class_\"\u003eLambdaIntegration\u003c/span\u003e(listBookingsLambda, {\n        \u003cspan class=\"hljs-attr\"\u003eproxy\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n      })\n    );\n\n    orders.\u003cspan class=\"hljs-title function_\"\u003eaddMethod\u003c/span\u003e(\n      \u003cspan class=\"hljs-string\"\u003e'POST'\u003c/span\u003e,\n      \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e apigw.\u003cspan class=\"hljs-title class_\"\u003eLambdaIntegration\u003c/span\u003e(createBookingLambda, {\n        \u003cspan class=\"hljs-attr\"\u003eproxy\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n      })\n    );\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eìœ„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ DynamoDB í…Œì´ë¸” ë° EventBridge ì´ë²¤íŠ¸ ë²„ìŠ¤ì˜ ìƒíƒœë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‹¤ìŒ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë“¤ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì–»ê³  ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e...\n\u003cspan class=\"hljs-comment\"\u003e// ìƒíƒœë¥¼ ê°€ì§„ ìŠ¤íƒì—ì„œ í…Œì´ë¸”ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì˜´\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etable\u003c/span\u003e = dynamodb.\u003cspan class=\"hljs-property\"\u003eTable\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efromTableName\u003c/span\u003e(\n  \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e'Table'\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e`gilmore-cuisine-table-\u003cspan class=\"hljs-subst\"\u003e${props.stage}\u003c/span\u003e`\u003c/span\u003e\n) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e dynamodb.\u003cspan class=\"hljs-property\"\u003eTable\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// ìƒíƒœë¥¼ ê°€ì§„ ìŠ¤íƒì—ì„œ ì´ë²¤íŠ¸ ë²„ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì˜´\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebus\u003c/span\u003e = events.\u003cspan class=\"hljs-property\"\u003eEventBus\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efromEventBusName\u003c/span\u003e(\n  \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e'EventBus'\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e`gilmore-cuisine-event-bus-\u003cspan class=\"hljs-subst\"\u003e${props.stage}\u003c/span\u003e`\u003c/span\u003e\n) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e events.\u003cspan class=\"hljs-property\"\u003eEventBus\u003c/span\u003e;\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ëŸ¬ë‚˜ ì´ëŠ” ìƒíƒœë¥¼ ê°€ì§„ ìŠ¤íƒì´ ìƒíƒœê°€ ì—†ëŠ” ìŠ¤íƒë³´ë‹¤ ë¨¼ì € ë°°í¬ë˜ì–´ì•¼ í•¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ëŠ” ì˜ì¡´ì„±ì— ê´€í•œ ë‹¤ìŒê³¼ ê°™ì´ ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ì—ì„œ í™•ì‹¤í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-meta\"\u003e#!/usr/bin/env node\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'source-map-support/register'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e * \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e cdk \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'aws-cdk-lib'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eGilmoreCuisineStatefulStack\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../stateful/stateful'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eGilmoreCuisineStatelessStack\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../stateless/stateless'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e stage = \u003cspan class=\"hljs-string\"\u003e'prod'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e cdk.\u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e();\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e stateful = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eGilmoreCuisineStatefulStack\u003c/span\u003e(\n  app,\n  \u003cspan class=\"hljs-string\"\u003e'GilmoreCuisineStatefulStack'\u003c/span\u003e,\n  {\n    stage,\n  }\n);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e stateless = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eGilmoreCuisineStatelessStack\u003c/span\u003e(\n  app,\n  \u003cspan class=\"hljs-string\"\u003e'GilmoreCuisineStatelessStack'\u003c/span\u003e,\n  {\n    stage,\n  }\n);\n\n\u003cspan class=\"hljs-comment\"\u003e// statelessê°€ statefulë³´ë‹¤ ë¨¼ì € ë°°í¬ë˜ë„ë¡ í•¨\u003c/span\u003e\nstateless.\u003cspan class=\"hljs-title function_\"\u003eaddDependency\u003c/span\u003e(stateful);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eë‹¤ìŒ ì„¹ì…˜ì—ì„œ í•´ê²°ì±…ì„ ë°°í¬í•˜ê³  í…ŒìŠ¤íŠ¸í•´ ë´…ì‹œë‹¤.\u003c/p\u003e\n\u003ch2\u003eë°°í¬ ë° í…ŒìŠ¤íŠ¸ ğŸ§‘ğŸ¾â€ğŸ’»\u003c/h2\u003e\n\u003cp\u003eê·¸ëŸ¼ ì´ì œ 'gilmore-cuisine' í´ë”ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ìŠ¤íƒì„ ë°°í¬í•´ ë³´ê² ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003enpm run deploy\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eë™ì¼í•œ í´ë”ì—ì„œ cdk ëª©ë¡ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì•ì„œ ì„¤ëª…í•œëŒ€ë¡œ ë‘ ê°œì˜ ìƒìœ„ ìŠ¤íƒë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_7.png\" alt=\"CDK Nested Stacks\"\u003e\u003c/p\u003e\n\u003cp\u003eí•©ì„±ëœ CloudFormation í…œí”Œë¦¿ ë° ì—ì…‹ì´ í¬í•¨ëœ cdk.out í´ë”ë¥¼ ë¡œì»¬ë¡œ í™•ì¸í•˜ë©´ ë‹¤ìŒ íŒŒì¼ë“¤ì´ í‘œì‹œë©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003eë‘ ê°œì˜ ìƒìœ„ í…œí”Œë¦¿, GilmoreCuisineStatefulStack.template.json ë° GilmoreCuisineStatelessStack.template.json,ì´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë“¤ì€ ì•„ë˜ì™€ ìœ ì‚¬í•œ ë‚´ìš©ì„ ê°€ì§€ê³  ìˆìœ¼ë©° ì¤‘ì²© ìŠ¤íƒì„ ê°€ë¦¬í‚µë‹ˆë‹¤:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e...\n\u003cspan class=\"hljs-string\"\u003e\"UpdateReplacePolicy\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Delete\"\u003c/span\u003e,\n\u003cspan class=\"hljs-string\"\u003e\"DeletionPolicy\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Delete\"\u003c/span\u003e,\n\u003cspan class=\"hljs-string\"\u003e\"Metadata\"\u003c/span\u003e: {\n  \u003cspan class=\"hljs-string\"\u003e\"aws:cdk:path\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"GilmoreCuisineStatefulStack/EventBusResources.NestedStack/EventBusResources.NestedStackResource\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"aws:asset:path\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"GilmoreCuisineStatefulStackEventBusResourcesAC59B19D.nested.template.json\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"aws:asset:property\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"TemplateURL\"\u003c/span\u003e\n}\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë°°í¬ê°€ ì™„ë£Œë˜ë©´ ì½˜ì†”ë¡œ ì „í™˜í•˜ì—¬ ì½˜ì†”ì— ì¤‘ì²© ìŠ¤íƒì´ í‘œì‹œë˜ì§€ ì•Šë„ë¡ ì„¤ì •í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003eì´ì œ ì½˜ì†”ì—ì„œ ë‘ ìŠ¤íƒì˜ í•˜ìœ„ ì¤‘ì²© ìŠ¤íƒì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003eì´ì œ ê° ìŠ¤íƒì˜ ë‚´ìš©ì„ ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003eâœ”ï¸ Stateful Stack\u003c/h2\u003e\n\u003cp\u003eìƒíƒœ ìœ ì§€ ìŠ¤íƒ ì•ˆì—ëŠ” DatabaseResourcesì™€ EventBusResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003eë³´ë‹¤ ìì„¸í•œ ë‚´ìš©ì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003eDatabaseResources\nìš°ë¦¬ì˜ DynamoDB í…Œì´ë¸”ì´ í¬í•¨ëœ DatabaseResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eEventBusResources\nì´ë²¤íŠ¸ ë²„ìŠ¤, CloudWatch ë¡œê·¸ ê·¸ë£¹ ë° ì´ë²¤íŠ¸ ê·œì¹™ ëŒ€ìƒì„ í¬í•¨í•˜ëŠ” EventBusResourcesì˜ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003eì´ì œ ë¬´ìƒíƒœ ìŠ¤íƒê³¼ ê´€ë ¨ëœ ë‚´ìš©ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eâœ”ï¸ ë¬´ìƒíƒœ ìŠ¤íƒ\u003c/h2\u003e\n\u003cp\u003eë¬´ìƒíƒœ ìŠ¤íƒì—ëŠ” ApiResources ë° ComputeResourcesì˜ ë‘ ê°œì˜ ì¤‘ì²© ìŠ¤íƒì´ í‘œì‹œë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eApiResources\nì•„ë˜ì—ì„œ ApiResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, API Gateway REST API, ìŠ¤í…Œì´ì§€, ë°°í¬ ë“±ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eComputeResources\nì•„ë˜ì—ì„œ ComputeResourcesì— ëŒ€í•œ ì¤‘ì²© ìŠ¤íƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ë‘ ê°œì˜ ëŒë‹¤ í•¨ìˆ˜ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003ch2\u003eí…ŒìŠ¤íŒ… ğŸ§ª\u003c/h2\u003e\n\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_8.png\"\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eë§Œì•½ Postman íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ /bookings/ì˜ POST ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_9.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eê·¸ë¦¬ê³  CloudWatch ë¡œê·¸ì˜ ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•˜ëŠ” ëŒ€ìƒì„ ì‚´í´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì´ë²¤íŠ¸ê°€ í‘œì‹œë©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_10.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eì•„ë˜ëŠ” ëª©ë¡ ì˜ˆì•½ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ë„ ìˆì–´ìš”.\u003c/p\u003e\n\u003cp\u003eì´ê²ƒì„ ë³´ì—¬ ì£¼ê² ì£ :\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_12.png\" alt=\"List Bookings EndPoint\"\u003e\u003c/p\u003e\n\u003ch1\u003eê²°ë¡ \u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eì´ ê¸€ì„ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ë‹¤ë£¬ ë‚´ìš©ì„ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì¤‘ì²© ìŠ¤íƒì´ í•„ìš”í•œ ì´ìœ ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eAWS CDKë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eë§ˆë¬´ë¦¬ ì¸ì‚¬ ğŸ‘‹ğŸ½\u003c/h1\u003e\n\u003cp\u003eì´ ì§§ì€ ê¸€ì„ ì¦ê²ê²Œ ì½ì–´ì£¼ì…¨ê¸°ë¥¼ ë°”ë¼ë©°, ë§ˆìŒì— ë“œì…¨ë‹¤ë©´ ê³µìœ í•´ ì£¼ì‹œê³  í”¼ë“œë°±ì„ ì£¼ì„¸ìš”!\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eë¹„ìŠ·í•œ ì½˜í…ì¸ ë¥¼ ë” ë³´ê³  ì‹¶ë‹¤ë©´ ì œ YouTube ì±„ë„ì„ ë°©ë¬¸í•´ì£¼ì„¸ìš”!\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-CDKNestedStacksTheWhyandHow_13.png\" alt=\"YouTube\"\u003e\u003c/p\u003e\n\u003cp\u003eê·¸ë¦¬ê³  ë‹¤ìŒ ë§í¬ë¥¼ í†µí•´ ì—°ë½í•  ìˆ˜ë„ ìˆì–´ìš”:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.linkedin.com/in/lee-james-gilmore/\" rel=\"nofollow\" target=\"_blank\"\u003eLinkedIn í”„ë¡œí•„\u003c/a\u003e\n\u003ca href=\"https://twitter.com/LeeJamesGilmore\" rel=\"nofollow\" target=\"_blank\"\u003eTwitter í”„ë¡œí•„\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eë§Œì•½ ì´ ê²Œì‹œë¬¼ì„ ì¦ê²¼ë‹¤ë©´, ì¶”ê°€ í¬ìŠ¤íŠ¸/ì‹œë¦¬ì¦ˆë¥¼ í™•ì¸í•˜ë ¤ë©´ ì œ í”„ë¡œí•„ Lee James Gilmoreë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš”. ë˜í•œ 'clap' ê¸°ëŠ¥ì„ ì´ìš©í•´ ì£¼ì„¸ìš”. ê²Œì‹œë¬¼ í•˜ë‹¨ì— ìœ„ì¹˜í•´ ìˆìŠµë‹ˆë‹¤. í•œ ë²ˆ ì´ìƒìœ¼ë¡œë„ í´ë©ì„ í•  ìˆ˜ ìˆì–´ìš”!\u003c/p\u003e\n\u003ch1\u003eë‚˜ì— ëŒ€í•´\u003c/h1\u003e\n\u003cp\u003e\"ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” ì˜êµ­ì— ê±°ì£¼í•˜ê³  ìˆëŠ” AWS ì»¤ë®¤ë‹ˆí‹° ë¹Œë”, ë¸”ë¡œê±°, AWS ì¸ì¦ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸ì´ì ê¸°ìˆ  ë° ì•„í‚¤í…ì²˜ ê¸€ë¡œë²Œ ì´ê´„ì¸ Leeì…ë‹ˆë‹¤. í˜„ì¬ City Electrical Factors (UK) ë° City Electric Supply (US)ì—ì„œ ê·¼ë¬´ ì¤‘ì´ë©°, ì§€ë‚œ 6ë…„ê°„ ì£¼ë¡œ AWSì—ì„œ í’€ìŠ¤íƒ JavaScriptë¥¼ ì‚¬ìš©í•´ ì™”ìŠµë‹ˆë‹¤.\"\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eì €ëŠ” ëª¨ë“  ê²ƒì„ AWS, í˜ì‹ , ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜, ê·¸ë¦¬ê³  ê¸°ìˆ ì— ëŒ€í•œ ì‚¬ë‘ìœ¼ë¡œ ì„œë²„ë¦¬ìŠ¤ë¥¼ ì˜¹í˜¸í•˜ëŠ” ì‚¬ëŒì´ë¼ê³  ìƒê°í•´ìš”.\u003c/p\u003e\n\u003cp\u003e*** ì œê³µëœ ì •ë³´ëŠ” ì œ ê°œì¸ì ì¸ ê²¬í•´ì´ë©°, ê·¸ì— ë”°ë¥¸ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ***\u003c/p\u003e\n\u003cp\u003eì•„ë˜ ë‚´ìš©ë„ ê´€ì‹¬ì´ ìˆì„ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤:\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-CDKNestedStacksTheWhyandHow"},"buildId":"OFpTzInQeZKWBaqJEukNX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>