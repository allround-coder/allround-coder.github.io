<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>2024년 Nodejs와 TypeScript로 API 구축하는 방법 Expressjs 실전 가이드 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="2024년 Nodejs와 TypeScript로 API 구축하는 방법 Expressjs 실전 가이드 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="2024년 Nodejs와 TypeScript로 API 구축하는 방법 Expressjs 실전 가이드 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024" data-gatsby-head="true"/><meta name="twitter:title" content="2024년 Nodejs와 TypeScript로 API 구축하는 방법 Expressjs 실전 가이드 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-23 13:57" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/aCCUs-qPrLLLWRnkN0AOd/_buildManifest.js" defer=""></script><script src="/_next/static/aCCUs-qPrLLLWRnkN0AOd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">2024년 Nodejs와 TypeScript로 API 구축하는 방법 Expressjs 실전 가이드</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="2024년 Nodejs와 TypeScript로 API 구축하는 방법 Expressjs 실전 가이드" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 23, 2024</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p><img src="/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_0.png" alt="Express.js in Action: How to Build an API with Node.js and TypeScript in 2024"></p>
<p>안녕하세요! 이 프로젝트는 여러 포스트로 이어지게 될 거에요. 새로운 파트를 올릴 때 알림을 받으려면 저를 팔로우해 주세요. Node.js와 TypeScript를 사용해 백엔드 개발을 배우고 싶으시다면, 이 시리즈를 확인해보세요. 유용하고 즐거운 정보가 될 거에요.</p>
<p>이 프로젝트에서는 Node.js와 TypeScript를 사용하여 빠르게 API를 구축하겠습니다. Node.js와 TypeScript를 사용하여 API를 처음부터 만드는 방법에 대해 단계별 가이드를 제공할 거에요. 프로젝트에서 다음 기능들을 구현할 예정입니다:</p>
<ul>
<li>프로젝트 구조 설정 및 TypeScript 구성</li>
<li>미들웨어 사용하여 요청 분석 및 응답 전송과 같은 공통 작업 처리</li>
<li>환경 변수를 사용하여 설정 및 비밀 정보 저장</li>
<li>동적 환경</li>
<li>유용한 정보 기록 및 표시하기 위해 로거 사용</li>
<li>CORS 활성화 및 기본 인증을 통해 API 보호</li>
<li>유효성 검사 및 예외 처리</li>
</ul>
<div class="content-ad"></div>
<h1>프로젝트 구조</h1>
<p>우리의 프로젝트 구조는 간단하면서도 확장 가능한 구조로, 잘 조직된 코드를 쉽게 확장하고 유지보수할 수 있게 해줍니다. 불필요한 복잡성을 피하며 모든 것을 간단하게 유지합니다.</p>
<pre><code class="hljs language-js">-- src
   -- controllers
   -- models
   -- utils
      -- helpers
      -- middlewares
      -- validations
      -- exceptions
   -- app.<span class="hljs-property">ts</span>
</code></pre>
<h1>프로젝트 초기화 및 TypeScript 설정하기</h1>
<div class="content-ad"></div>
<p>시작하려면 node 및 npm이 이미 설치되어 있어야합니다. 이 튜토리얼에서는 node v20.11.0 (npm v10.2.4)를 사용할 것입니다. 또한 IDE로 Visual Studio Code를 사용할 것입니다.</p>
<ul>
<li>여기서 node를 설치하세요.</li>
<li>여기서 vscode를 설치하세요.</li>
<li>(선택 사항 - bash 터미널을 얻기 위해) 여기서 windows용 git을 설치하세요.</li>
</ul>
<p>프로젝트를 위한 새 폴더를 만들어 시작하겠습니다. 이것을 node-api-ts로 이름 지을 것입니다. vscode에서 프로젝트 폴더를 열어보세요. 파일을 '열기...'를 통해 열거나 터미널을 사용해서 프로젝트 폴더로 이동하여 다음 명령어를 사용하세요:</p>
<pre><code class="hljs language-js">code .
</code></pre>
<div class="content-ad"></div>
<p>이제 Ctrl + `를 사용하여 vscode 통합 터미널을 엽니다. 이렇게 하면 기본 터미널이 열릴 것입니다.</p>
<p><img src="/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_1.png" alt="이미지"></p>
<p>이 튜토리얼에서는 리눅스 및 맥 시스템에서 일반적인 베이시 터미널 명령어를 사용할 것입니다. Windows 사용자는 git bash를 설치하여 유사한 환경을 얻을 수 있습니다. git bash는 베이시 터미널을 에뮬레이트하는 무료 소프트웨어입니다.</p>
<h1>프로젝트 초기화하기</h1>
<div class="content-ad"></div>
<p>이제 프로젝트 폴더에서 다음 명령어를 사용하여 빈 Node.js 프로젝트를 초기화해보겠습니다. 진행하시기 전에 프로젝트 디렉토리에 있는지 확인해주세요:</p>
<pre><code class="hljs language-js">npm init
</code></pre>
<p>앞서 언급한 명령어는 package.json 파일을 생성하기 위해 몇 가지 질문을 통해 새로운 Node.js 패키지/프로젝트를 초기화합니다. 기본적으로 index.js를 덮어씌우기 위해 entry point를 build/app.js로 변경해야 합니다. TypeScript를 사용하기 때문에 나중에 해당 내용을 알아보겠습니다.</p>
<pre><code class="hljs language-js">package <span class="hljs-attr">name</span>: (api-ts) node-api-ts
<span class="hljs-attr">version</span>: (<span class="hljs-number">1.0</span><span class="hljs-number">.0</span>) 
<span class="hljs-attr">description</span>: <span class="hljs-variable constant_">API</span> <span class="hljs-keyword">with</span> <span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> and <span class="hljs-title class_">TypeScript</span>
entry <span class="hljs-attr">point</span>: (index.<span class="hljs-property">js</span>) build/app.<span class="hljs-property">js</span>
test <span class="hljs-attr">command</span>: 
git <span class="hljs-attr">repository</span>: 
<span class="hljs-attr">keywords</span>: node.<span class="hljs-property">js</span>,express,api,typescript
<span class="hljs-attr">author</span>: <span class="hljs-title class_">Mahmoud</span> <span class="hljs-title class_">Kassem</span>
<span class="hljs-attr">license</span>: (<span class="hljs-variable constant_">ISC</span>) 
</code></pre>
<div class="content-ad"></div>
<p>프로젝트 폴더를 확인해보세요. 아마 이와 유사한 내용을 찾을 수 있을 거에요:</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"node-api-ts"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-string">"description"</span>: <span class="hljs-string">"API with Node.js and TypeScript"</span>,
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"build/app.js"</span>,
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"echo \"Error: no test specified\" &#x26;&#x26; exit 1"</span>
  },
  <span class="hljs-string">"keywords"</span>: [
    <span class="hljs-string">"node.js"</span>,
    <span class="hljs-string">"express"</span>,
    <span class="hljs-string">"api"</span>,
    <span class="hljs-string">"typescript"</span>
  ],
  <span class="hljs-string">"author"</span>: <span class="hljs-string">"Mahmoud Kassem"</span>,
  <span class="hljs-string">"license"</span>: <span class="hljs-string">"ISC"</span>
}
</code></pre>
<h1>의존성 설치</h1>
<p>무언가를 시작하기 전에 먼저 사용할 종속성(dependancies) 및 개발 종속성(devDependancies)을 나열하고 각각의 사용 목적을 설명해봅시다.</p>
<div class="content-ad"></div>
<p>의존성(dependencies):</p>
<ul>
<li>express: 우리의 API를 구축하는 노드.제이에스 API 프레임워크</li>
<li>cors: 프로젝트에서 교차 출처를 활성화함</li>
<li>dotenv: .env 파일에서 환경 변수를 읽어 동적 환경을 생성함</li>
<li>helmet: 응답 헤더에서 민감한 데이터를 제거하여 API를 보호함</li>
<li>morgan: 디버깅 및 모니터링 앱 활동을 위한 로깅 미들웨어</li>
</ul>
<p>개발 의존성(devDependencies):</p>
<ul>
<li>typescript: 코드를 빌드하여 JavaScript로 변환하는 데 사용</li>
<li>types (@types/express, @types/helmet, @types/morgan, @types/dotenv): 자바스크립트 생태계의 일부 패키지는 자체 유형 정의를 제공하지 않아 TypeScript 개발자가 사용하기 어렵게 만들 수 있습니다. 다행히 이러한 패키지를 위한 유형 정의를 제공하는 @types 선언 패키지가 있습니다. 예를 들어, @types/express, @types/helmet, @types/morgan 및 @types/dotenv는 각각 express, helmet, morgan 및 dotenv에 대한 유형 정의를 제공하는 선언 패키지입니다. 이러한 선언 패키지를 devDependencies로 설치하고 TypeScript 코드에서 가져와서 해당 패키지에 대한 유형 검사와 코드 완성을 활성화할 수 있습니다.</li>
</ul>
<div class="content-ad"></div>
<p>다음 명령어를 사용하여 종속성을 먼저 설치하세요 — 여러 개의 패키지를 설치할 때는 각 패키지 이름 사이에 공백을 사용하면 됩니다:</p>
<pre><code class="hljs language-js">npm install express cors dotenv helmet morgan
</code></pre>
<p>그런 다음 다음 명령어를 사용하여 개발용 종속성을 설치하세요:</p>
<pre><code class="hljs language-js">npm install --save-dev typescript @types/express @types/cors @types/dotenv @types/helmet @types/morgan
</code></pre>
<div class="content-ad"></div>
<p>패키지.json 파일을 확인했다면, 설치된 패키지와 그 버전이 업데이트되었음을 알 수 있습니다. 또한 프로젝트에 node_modules와 package-lock.json이 추가된 것을 발견하게 될 거에요.</p>
<p>node_modules 폴더 안에는 설치된 의존성이 포함되어 있습니다. 그리고 그 의존성의 종속 항목을 찾아볼 수 있습니다. 이 파일들은 우리가 만들고 있는 것과 유사한 노드 패키지입니다.</p>
<p>package-lock.json은 노드 패키지 매니저(npm)에 의해 자동으로 생성됩니다. 이 파일은 모든 의존성 및 이에 대한 트리의 정확한 버전을 저장합니다. 프로젝트에서 어떤 종속성을 설치하거나 업데이트할 경우 업데이트될 거에요.</p>
<h2>TypeScript 구성하기</h2>
<div class="content-ad"></div>
<p>Node.js는 JavaScript의 런타임으로, 개발자들이 확장 가능하고 효율적인 웹 애플리케이션을 만들 수 있게 합니다. TypeScript는 JavaScript의 슈퍼셋으로, 정적 유형 지정, 객체 지향 프로그래밍, 데코레이터 등의 기능을 추가합니다. 그러나 TypeScript 코드는 Node.js에서 직접 실행되지 않고 먼저 JavaScript로 컴파일해야 합니다.</p>
<p>우리 프로젝트에서 TypeScript를 지원하려면, 먼저 그것을 구성해야 합니다. 아래 명령을 사용하여 구성 파일을 초기화하십시오. 나중에 이 파일을 수정하여 일부 기본값을 변경할 것입니다:</p>
<pre><code class="hljs language-js">npx tsc --init
</code></pre>
<p>이전 명령은 다음 내용을 출력할 것입니다:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">다음은 <span class="hljs-title class_">TypeScript</span>의 기본 구성이지만 변경할 수 있습니다. tsconfig.<span class="hljs-property">json</span>이라는 새 파일이 생성된 것을 알 수 있을 거에요.

이전에 설정한 프로젝트 폴더 구조에 맞추기 위해 일부 기본값을 수정할 거에요.

rootDir 주석 처리를 해제하고 값을 ./src로 변경해주세요.
</code></pre>
<div class="content-ad"></div>
<pre><code class="hljs language-js">{
...
<span class="hljs-string">"rootDir"</span>: <span class="hljs-string">"./src"</span>,
...
}
</code></pre>
<p>이 명령은 프로젝트의 루트 디렉토리를 설정합니다. 이는 TypeScript가 이 폴더 내에만 .ts 파일을 찾도록 하는 것을 의미합니다.</p>
<p>outDir를 주석 처리해제하고 값으로 ./build를 변경하세요.</p>
<pre><code class="hljs language-js">{
...
<span class="hljs-string">"outDir"</span>: <span class="hljs-string">"./build"</span>,
...
}
</code></pre>
<div class="content-ad"></div>
<p>이 코드는 transpiled TypeScript의 기본 출력 디렉터리를 변경합니다.</p>
<p>— 이전 파트는 프로젝트 폴더 이름에 따라 변경할 수 있습니다. src를 app, source 또는 다른 이름으로 변경할 수 있지만, 그러면 rootDir을 선택한 폴더 이름과 일치하도록 변경해야 하며 outDir도 동일합니다.</p>
<h1>Express 서버</h1>
<p>이제 코드를 작성해 보겠습니다. 전체 프로젝트의 첫 번째 파일 및 주 파일을 만들어 보겠습니다. npm을 사용하여 노드 프로젝트를 초기화하고 일치하는 엔트리 포인트를 build/app.js로 선택했던 것을 기억하십니까?</p>
<div class="content-ad"></div>
<p>.ts 파일을 생성하여 이 파일로 컴파일될 것입니다. 그래서 먼저 해야 할 일은 소스 폴더를 생성하는 것입니다. src 폴더를 루트 디렉토리로 설정한 다음, ./src/app.ts 라는 새 파일을 만들어야 합니다. 그 안에 다음과 같은 코드를 작성해 봅시다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">'express'</span>;
<span class="hljs-keyword">import</span> cors <span class="hljs-keyword">from</span> <span class="hljs-string">'cors'</span>;
<span class="hljs-keyword">import</span> helmet <span class="hljs-keyword">from</span> <span class="hljs-string">'helmet'</span>;
<span class="hljs-keyword">import</span> morgan <span class="hljs-keyword">from</span> <span class="hljs-string">'morgan'</span>;

<span class="hljs-comment">// Express 서버 생성</span>
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>(); <span class="hljs-comment">// 새 express 인스턴스</span>
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>; <span class="hljs-comment">// 포트 번호</span>

<span class="hljs-comment">// Express 설정</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">cors</span>()); <span class="hljs-comment">// CORS 활성화</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">helmet</span>()); <span class="hljs-comment">// Helmet 활성화</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">morgan</span>(<span class="hljs-string">'dev'</span>)); <span class="hljs-comment">// Morgan 활성화</span>

<span class="hljs-comment">// Express 서버 시작</span>
app.<span class="hljs-title function_">listen</span>(port, <span class="hljs-function">() =></span> {
  <span class="hljs-comment">// 서버가 성공적으로 시작되면 콜백 함수 실행</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`서버가 http://localhost:<span class="hljs-subst">${port}</span> 에서 시작되었습니다.`</span>);
});

<span class="hljs-comment">// Express 앱 내보내기</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> app;
</code></pre>
<p>이전 코드에서는 express 서버 인스턴스를 생성하고 몇 가지 (선택적) 미들웨어로 구성했습니다. 이를 통해 보안, 모니터링 및 디버깅을 개선할 수 있습니다.</p>
<p>이제 다음 명령어를 실행하여 응용 프로그램을 시작할 수 있습니다:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">npx tsc &#x26;&#x26; node .
</code></pre>
<p>이제 터미널에서 다음 줄로 끝나는 출력을 확인해야합니다:</p>
<pre><code class="hljs language-js">서버가 <span class="hljs-attr">http</span>:<span class="hljs-comment">//localhost:3000에서 시작되었습니다</span>
</code></pre>
<p>이것은 서버가 성공적으로 시작되었음을 보여주는 콜백 함수의 텍스트입니다.</p>
<div class="content-ad"></div>
<h1>첫 번째 라우트 생성하기</h1>
<p>이제 우리는 애플리케이션을 구성하고 시작했지만 아직 기능이 없습니다. API를 구축해야 하므로 몇 가지 라우트를 생성해야 합니다.</p>
<p>아래 코드는 express의 get() 메서드를 사용하여 경로 / 에 대한 리스너를 만들고 간단한 Hello World! 문자열을 반환합니다.</p>
<p>Start Express Server 코드 블록 앞에 다음 코드를 추가하세요.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-comment">// Express 라우트 정의</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">'Hello World!'</span>);
});
</code></pre>
<p>이제 터미널로 이동해서 현재 프로세스를 Ctrl + C로 중지한 후 npx tsc &#x26;&#x26; node . 명령어를 입력하여 다시 빌드하고 서버를 시작합니다.</p>
<p>이제 새로 만든 라우트를 테스트해보겠습니다. GET 요청을 테스트하기 때문에 <a href="http://localhost:3000%EC%9D%84" rel="nofollow" target="_blank">http://localhost:3000을</a> 열어보면 다음 출력이 표시됩니다:</p>
<p><img src="/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_2.png" alt="이미지"></p>
<div class="content-ad"></div>
<p>잘 하셨습니다! 첫 번째 라우트를 만드셨네요.</p>
<p>이 튜토리얼에서 사용된 소스 코드가 포함된 레포지토리입니다. 새 커밋이 있는 경우마다 업데이트될 예정이에요. mahkassem/node-api-ts</p>
<p>2부를 보려면 (여기를 클릭해주세요)</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"2024년 Nodejs와 TypeScript로 API 구축하는 방법 Expressjs 실전 가이드","description":"","date":"2024-06-23 13:57","slug":"2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024","content":"\n\n![Express.js in Action: How to Build an API with Node.js and TypeScript in 2024](/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_0.png)\n\n안녕하세요! 이 프로젝트는 여러 포스트로 이어지게 될 거에요. 새로운 파트를 올릴 때 알림을 받으려면 저를 팔로우해 주세요. Node.js와 TypeScript를 사용해 백엔드 개발을 배우고 싶으시다면, 이 시리즈를 확인해보세요. 유용하고 즐거운 정보가 될 거에요.\n\n이 프로젝트에서는 Node.js와 TypeScript를 사용하여 빠르게 API를 구축하겠습니다. Node.js와 TypeScript를 사용하여 API를 처음부터 만드는 방법에 대해 단계별 가이드를 제공할 거에요. 프로젝트에서 다음 기능들을 구현할 예정입니다:\n\n- 프로젝트 구조 설정 및 TypeScript 구성\n- 미들웨어 사용하여 요청 분석 및 응답 전송과 같은 공통 작업 처리\n- 환경 변수를 사용하여 설정 및 비밀 정보 저장\n- 동적 환경\n- 유용한 정보 기록 및 표시하기 위해 로거 사용\n- CORS 활성화 및 기본 인증을 통해 API 보호\n- 유효성 검사 및 예외 처리\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 프로젝트 구조\n\n우리의 프로젝트 구조는 간단하면서도 확장 가능한 구조로, 잘 조직된 코드를 쉽게 확장하고 유지보수할 수 있게 해줍니다. 불필요한 복잡성을 피하며 모든 것을 간단하게 유지합니다.\n\n```js\n-- src\n   -- controllers\n   -- models\n   -- utils\n      -- helpers\n      -- middlewares\n      -- validations\n      -- exceptions\n   -- app.ts\n```\n\n# 프로젝트 초기화 및 TypeScript 설정하기\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n시작하려면 node 및 npm이 이미 설치되어 있어야합니다. 이 튜토리얼에서는 node v20.11.0 (npm v10.2.4)를 사용할 것입니다. 또한 IDE로 Visual Studio Code를 사용할 것입니다.\n\n- 여기서 node를 설치하세요.\n- 여기서 vscode를 설치하세요.\n- (선택 사항 - bash 터미널을 얻기 위해) 여기서 windows용 git을 설치하세요.\n\n프로젝트를 위한 새 폴더를 만들어 시작하겠습니다. 이것을 node-api-ts로 이름 지을 것입니다. vscode에서 프로젝트 폴더를 열어보세요. 파일을 '열기...'를 통해 열거나 터미널을 사용해서 프로젝트 폴더로 이동하여 다음 명령어를 사용하세요:\n\n```js\ncode .\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이제 Ctrl + `를 사용하여 vscode 통합 터미널을 엽니다. 이렇게 하면 기본 터미널이 열릴 것입니다.\n\n![이미지](/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_1.png)\n\n이 튜토리얼에서는 리눅스 및 맥 시스템에서 일반적인 베이시 터미널 명령어를 사용할 것입니다. Windows 사용자는 git bash를 설치하여 유사한 환경을 얻을 수 있습니다. git bash는 베이시 터미널을 에뮬레이트하는 무료 소프트웨어입니다.\n\n# 프로젝트 초기화하기\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이제 프로젝트 폴더에서 다음 명령어를 사용하여 빈 Node.js 프로젝트를 초기화해보겠습니다. 진행하시기 전에 프로젝트 디렉토리에 있는지 확인해주세요:\n\n```js\nnpm init\n```\n\n앞서 언급한 명령어는 package.json 파일을 생성하기 위해 몇 가지 질문을 통해 새로운 Node.js 패키지/프로젝트를 초기화합니다. 기본적으로 index.js를 덮어씌우기 위해 entry point를 build/app.js로 변경해야 합니다. TypeScript를 사용하기 때문에 나중에 해당 내용을 알아보겠습니다.\n\n```js\npackage name: (api-ts) node-api-ts\nversion: (1.0.0) \ndescription: API with Node.js and TypeScript\nentry point: (index.js) build/app.js\ntest command: \ngit repository: \nkeywords: node.js,express,api,typescript\nauthor: Mahmoud Kassem\nlicense: (ISC) \n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n프로젝트 폴더를 확인해보세요. 아마 이와 유사한 내용을 찾을 수 있을 거에요:\n\n```js\n{\n  \"name\": \"node-api-ts\",\n  \"version\": \"1.0.0\",\n  \"description\": \"API with Node.js and TypeScript\",\n  \"main\": \"build/app.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" \u0026\u0026 exit 1\"\n  },\n  \"keywords\": [\n    \"node.js\",\n    \"express\",\n    \"api\",\n    \"typescript\"\n  ],\n  \"author\": \"Mahmoud Kassem\",\n  \"license\": \"ISC\"\n}\n```\n\n# 의존성 설치\n\n무언가를 시작하기 전에 먼저 사용할 종속성(dependancies) 및 개발 종속성(devDependancies)을 나열하고 각각의 사용 목적을 설명해봅시다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n의존성(dependencies):\n\n- express: 우리의 API를 구축하는 노드.제이에스 API 프레임워크\n- cors: 프로젝트에서 교차 출처를 활성화함\n- dotenv: .env 파일에서 환경 변수를 읽어 동적 환경을 생성함\n- helmet: 응답 헤더에서 민감한 데이터를 제거하여 API를 보호함\n- morgan: 디버깅 및 모니터링 앱 활동을 위한 로깅 미들웨어\n\n개발 의존성(devDependencies):\n\n- typescript: 코드를 빌드하여 JavaScript로 변환하는 데 사용\n- types (@types/express, @types/helmet, @types/morgan, @types/dotenv): 자바스크립트 생태계의 일부 패키지는 자체 유형 정의를 제공하지 않아 TypeScript 개발자가 사용하기 어렵게 만들 수 있습니다. 다행히 이러한 패키지를 위한 유형 정의를 제공하는 @types 선언 패키지가 있습니다. 예를 들어, @types/express, @types/helmet, @types/morgan 및 @types/dotenv는 각각 express, helmet, morgan 및 dotenv에 대한 유형 정의를 제공하는 선언 패키지입니다. 이러한 선언 패키지를 devDependencies로 설치하고 TypeScript 코드에서 가져와서 해당 패키지에 대한 유형 검사와 코드 완성을 활성화할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음 명령어를 사용하여 종속성을 먼저 설치하세요 — 여러 개의 패키지를 설치할 때는 각 패키지 이름 사이에 공백을 사용하면 됩니다:\n\n```js\nnpm install express cors dotenv helmet morgan\n```\n\n그런 다음 다음 명령어를 사용하여 개발용 종속성을 설치하세요:\n\n```js\nnpm install --save-dev typescript @types/express @types/cors @types/dotenv @types/helmet @types/morgan\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n패키지.json 파일을 확인했다면, 설치된 패키지와 그 버전이 업데이트되었음을 알 수 있습니다. 또한 프로젝트에 node_modules와 package-lock.json이 추가된 것을 발견하게 될 거에요.\n\nnode_modules 폴더 안에는 설치된 의존성이 포함되어 있습니다. 그리고 그 의존성의 종속 항목을 찾아볼 수 있습니다. 이 파일들은 우리가 만들고 있는 것과 유사한 노드 패키지입니다.\n\npackage-lock.json은 노드 패키지 매니저(npm)에 의해 자동으로 생성됩니다. 이 파일은 모든 의존성 및 이에 대한 트리의 정확한 버전을 저장합니다. 프로젝트에서 어떤 종속성을 설치하거나 업데이트할 경우 업데이트될 거에요.\n\n## TypeScript 구성하기\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nNode.js는 JavaScript의 런타임으로, 개발자들이 확장 가능하고 효율적인 웹 애플리케이션을 만들 수 있게 합니다. TypeScript는 JavaScript의 슈퍼셋으로, 정적 유형 지정, 객체 지향 프로그래밍, 데코레이터 등의 기능을 추가합니다. 그러나 TypeScript 코드는 Node.js에서 직접 실행되지 않고 먼저 JavaScript로 컴파일해야 합니다.\n\n우리 프로젝트에서 TypeScript를 지원하려면, 먼저 그것을 구성해야 합니다. 아래 명령을 사용하여 구성 파일을 초기화하십시오. 나중에 이 파일을 수정하여 일부 기본값을 변경할 것입니다:\n\n```js\nnpx tsc --init\n```\n\n이전 명령은 다음 내용을 출력할 것입니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n다음은 TypeScript의 기본 구성이지만 변경할 수 있습니다. tsconfig.json이라는 새 파일이 생성된 것을 알 수 있을 거에요.\n\n이전에 설정한 프로젝트 폴더 구조에 맞추기 위해 일부 기본값을 수정할 거에요.\n\nrootDir 주석 처리를 해제하고 값을 ./src로 변경해주세요.\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n{\n...\n\"rootDir\": \"./src\",\n...\n}\n```\n\n이 명령은 프로젝트의 루트 디렉토리를 설정합니다. 이는 TypeScript가 이 폴더 내에만 .ts 파일을 찾도록 하는 것을 의미합니다.\n\noutDir를 주석 처리해제하고 값으로 ./build를 변경하세요.\n\n```js\n{\n...\n\"outDir\": \"./build\",\n...\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 코드는 transpiled TypeScript의 기본 출력 디렉터리를 변경합니다.\n\n— 이전 파트는 프로젝트 폴더 이름에 따라 변경할 수 있습니다. src를 app, source 또는 다른 이름으로 변경할 수 있지만, 그러면 rootDir을 선택한 폴더 이름과 일치하도록 변경해야 하며 outDir도 동일합니다.\n\n# Express 서버\n\n이제 코드를 작성해 보겠습니다. 전체 프로젝트의 첫 번째 파일 및 주 파일을 만들어 보겠습니다. npm을 사용하여 노드 프로젝트를 초기화하고 일치하는 엔트리 포인트를 build/app.js로 선택했던 것을 기억하십니까?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n.ts 파일을 생성하여 이 파일로 컴파일될 것입니다. 그래서 먼저 해야 할 일은 소스 폴더를 생성하는 것입니다. src 폴더를 루트 디렉토리로 설정한 다음, ./src/app.ts 라는 새 파일을 만들어야 합니다. 그 안에 다음과 같은 코드를 작성해 봅시다.\n\n```js\nimport express from 'express';\nimport cors from 'cors';\nimport helmet from 'helmet';\nimport morgan from 'morgan';\n\n// Express 서버 생성\nconst app = express(); // 새 express 인스턴스\nconst port = 3000; // 포트 번호\n\n// Express 설정\napp.use(cors()); // CORS 활성화\napp.use(helmet()); // Helmet 활성화\napp.use(morgan('dev')); // Morgan 활성화\n\n// Express 서버 시작\napp.listen(port, () =\u003e {\n  // 서버가 성공적으로 시작되면 콜백 함수 실행\n  console.log(`서버가 http://localhost:${port} 에서 시작되었습니다.`);\n});\n\n// Express 앱 내보내기\nexport default app;\n```\n\n이전 코드에서는 express 서버 인스턴스를 생성하고 몇 가지 (선택적) 미들웨어로 구성했습니다. 이를 통해 보안, 모니터링 및 디버깅을 개선할 수 있습니다.\n\n이제 다음 명령어를 실행하여 응용 프로그램을 시작할 수 있습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nnpx tsc \u0026\u0026 node .\n```\n\n이제 터미널에서 다음 줄로 끝나는 출력을 확인해야합니다:\n\n```js\n서버가 http://localhost:3000에서 시작되었습니다\n```\n\n이것은 서버가 성공적으로 시작되었음을 보여주는 콜백 함수의 텍스트입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 첫 번째 라우트 생성하기\n\n이제 우리는 애플리케이션을 구성하고 시작했지만 아직 기능이 없습니다. API를 구축해야 하므로 몇 가지 라우트를 생성해야 합니다.\n\n아래 코드는 express의 get() 메서드를 사용하여 경로 / 에 대한 리스너를 만들고 간단한 Hello World! 문자열을 반환합니다.\n\nStart Express Server 코드 블록 앞에 다음 코드를 추가하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n// Express 라우트 정의\napp.get('/', (req, res) =\u003e {\n  res.send('Hello World!');\n});\n```\n\n이제 터미널로 이동해서 현재 프로세스를 Ctrl + C로 중지한 후 npx tsc \u0026\u0026 node . 명령어를 입력하여 다시 빌드하고 서버를 시작합니다.\n\n이제 새로 만든 라우트를 테스트해보겠습니다. GET 요청을 테스트하기 때문에 http://localhost:3000을 열어보면 다음 출력이 표시됩니다:\n\n![이미지](/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_2.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n잘 하셨습니다! 첫 번째 라우트를 만드셨네요.\n\n이 튜토리얼에서 사용된 소스 코드가 포함된 레포지토리입니다. 새 커밋이 있는 경우마다 업데이트될 예정이에요. mahkassem/node-api-ts\n\n2부를 보려면 (여기를 클릭해주세요)","ogImage":{"url":"/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_0.png"},"coverImage":"/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_0.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_0.png\" alt=\"Express.js in Action: How to Build an API with Node.js and TypeScript in 2024\"\u003e\u003c/p\u003e\n\u003cp\u003e안녕하세요! 이 프로젝트는 여러 포스트로 이어지게 될 거에요. 새로운 파트를 올릴 때 알림을 받으려면 저를 팔로우해 주세요. Node.js와 TypeScript를 사용해 백엔드 개발을 배우고 싶으시다면, 이 시리즈를 확인해보세요. 유용하고 즐거운 정보가 될 거에요.\u003c/p\u003e\n\u003cp\u003e이 프로젝트에서는 Node.js와 TypeScript를 사용하여 빠르게 API를 구축하겠습니다. Node.js와 TypeScript를 사용하여 API를 처음부터 만드는 방법에 대해 단계별 가이드를 제공할 거에요. 프로젝트에서 다음 기능들을 구현할 예정입니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e프로젝트 구조 설정 및 TypeScript 구성\u003c/li\u003e\n\u003cli\u003e미들웨어 사용하여 요청 분석 및 응답 전송과 같은 공통 작업 처리\u003c/li\u003e\n\u003cli\u003e환경 변수를 사용하여 설정 및 비밀 정보 저장\u003c/li\u003e\n\u003cli\u003e동적 환경\u003c/li\u003e\n\u003cli\u003e유용한 정보 기록 및 표시하기 위해 로거 사용\u003c/li\u003e\n\u003cli\u003eCORS 활성화 및 기본 인증을 통해 API 보호\u003c/li\u003e\n\u003cli\u003e유효성 검사 및 예외 처리\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e프로젝트 구조\u003c/h1\u003e\n\u003cp\u003e우리의 프로젝트 구조는 간단하면서도 확장 가능한 구조로, 잘 조직된 코드를 쉽게 확장하고 유지보수할 수 있게 해줍니다. 불필요한 복잡성을 피하며 모든 것을 간단하게 유지합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e-- src\n   -- controllers\n   -- models\n   -- utils\n      -- helpers\n      -- middlewares\n      -- validations\n      -- exceptions\n   -- app.\u003cspan class=\"hljs-property\"\u003ets\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e프로젝트 초기화 및 TypeScript 설정하기\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e시작하려면 node 및 npm이 이미 설치되어 있어야합니다. 이 튜토리얼에서는 node v20.11.0 (npm v10.2.4)를 사용할 것입니다. 또한 IDE로 Visual Studio Code를 사용할 것입니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e여기서 node를 설치하세요.\u003c/li\u003e\n\u003cli\u003e여기서 vscode를 설치하세요.\u003c/li\u003e\n\u003cli\u003e(선택 사항 - bash 터미널을 얻기 위해) 여기서 windows용 git을 설치하세요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e프로젝트를 위한 새 폴더를 만들어 시작하겠습니다. 이것을 node-api-ts로 이름 지을 것입니다. vscode에서 프로젝트 폴더를 열어보세요. 파일을 '열기...'를 통해 열거나 터미널을 사용해서 프로젝트 폴더로 이동하여 다음 명령어를 사용하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003ecode .\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이제 Ctrl + `를 사용하여 vscode 통합 터미널을 엽니다. 이렇게 하면 기본 터미널이 열릴 것입니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_1.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e이 튜토리얼에서는 리눅스 및 맥 시스템에서 일반적인 베이시 터미널 명령어를 사용할 것입니다. Windows 사용자는 git bash를 설치하여 유사한 환경을 얻을 수 있습니다. git bash는 베이시 터미널을 에뮬레이트하는 무료 소프트웨어입니다.\u003c/p\u003e\n\u003ch1\u003e프로젝트 초기화하기\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이제 프로젝트 폴더에서 다음 명령어를 사용하여 빈 Node.js 프로젝트를 초기화해보겠습니다. 진행하시기 전에 프로젝트 디렉토리에 있는지 확인해주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm init\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e앞서 언급한 명령어는 package.json 파일을 생성하기 위해 몇 가지 질문을 통해 새로운 Node.js 패키지/프로젝트를 초기화합니다. 기본적으로 index.js를 덮어씌우기 위해 entry point를 build/app.js로 변경해야 합니다. TypeScript를 사용하기 때문에 나중에 해당 내용을 알아보겠습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003epackage \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: (api-ts) node-api-ts\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e: (\u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.0\u003c/span\u003e) \n\u003cspan class=\"hljs-attr\"\u003edescription\u003c/span\u003e: \u003cspan class=\"hljs-variable constant_\"\u003eAPI\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eNode\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ejs\u003c/span\u003e and \u003cspan class=\"hljs-title class_\"\u003eTypeScript\u003c/span\u003e\nentry \u003cspan class=\"hljs-attr\"\u003epoint\u003c/span\u003e: (index.\u003cspan class=\"hljs-property\"\u003ejs\u003c/span\u003e) build/app.\u003cspan class=\"hljs-property\"\u003ejs\u003c/span\u003e\ntest \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: \ngit \u003cspan class=\"hljs-attr\"\u003erepository\u003c/span\u003e: \n\u003cspan class=\"hljs-attr\"\u003ekeywords\u003c/span\u003e: node.\u003cspan class=\"hljs-property\"\u003ejs\u003c/span\u003e,express,api,typescript\n\u003cspan class=\"hljs-attr\"\u003eauthor\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eMahmoud\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eKassem\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003elicense\u003c/span\u003e: (\u003cspan class=\"hljs-variable constant_\"\u003eISC\u003c/span\u003e) \n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e프로젝트 폴더를 확인해보세요. 아마 이와 유사한 내용을 찾을 수 있을 거에요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"node-api-ts\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"version\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"1.0.0\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"API with Node.js and TypeScript\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"main\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"build/app.js\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"scripts\"\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\"test\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"echo \\\"Error: no test specified\\\" \u0026#x26;\u0026#x26; exit 1\"\u003c/span\u003e\n  },\n  \u003cspan class=\"hljs-string\"\u003e\"keywords\"\u003c/span\u003e: [\n    \u003cspan class=\"hljs-string\"\u003e\"node.js\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"express\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"api\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"typescript\"\u003c/span\u003e\n  ],\n  \u003cspan class=\"hljs-string\"\u003e\"author\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Mahmoud Kassem\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"license\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ISC\"\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e의존성 설치\u003c/h1\u003e\n\u003cp\u003e무언가를 시작하기 전에 먼저 사용할 종속성(dependancies) 및 개발 종속성(devDependancies)을 나열하고 각각의 사용 목적을 설명해봅시다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e의존성(dependencies):\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eexpress: 우리의 API를 구축하는 노드.제이에스 API 프레임워크\u003c/li\u003e\n\u003cli\u003ecors: 프로젝트에서 교차 출처를 활성화함\u003c/li\u003e\n\u003cli\u003edotenv: .env 파일에서 환경 변수를 읽어 동적 환경을 생성함\u003c/li\u003e\n\u003cli\u003ehelmet: 응답 헤더에서 민감한 데이터를 제거하여 API를 보호함\u003c/li\u003e\n\u003cli\u003emorgan: 디버깅 및 모니터링 앱 활동을 위한 로깅 미들웨어\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e개발 의존성(devDependencies):\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etypescript: 코드를 빌드하여 JavaScript로 변환하는 데 사용\u003c/li\u003e\n\u003cli\u003etypes (@types/express, @types/helmet, @types/morgan, @types/dotenv): 자바스크립트 생태계의 일부 패키지는 자체 유형 정의를 제공하지 않아 TypeScript 개발자가 사용하기 어렵게 만들 수 있습니다. 다행히 이러한 패키지를 위한 유형 정의를 제공하는 @types 선언 패키지가 있습니다. 예를 들어, @types/express, @types/helmet, @types/morgan 및 @types/dotenv는 각각 express, helmet, morgan 및 dotenv에 대한 유형 정의를 제공하는 선언 패키지입니다. 이러한 선언 패키지를 devDependencies로 설치하고 TypeScript 코드에서 가져와서 해당 패키지에 대한 유형 검사와 코드 완성을 활성화할 수 있습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다음 명령어를 사용하여 종속성을 먼저 설치하세요 — 여러 개의 패키지를 설치할 때는 각 패키지 이름 사이에 공백을 사용하면 됩니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install express cors dotenv helmet morgan\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그런 다음 다음 명령어를 사용하여 개발용 종속성을 설치하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install --save-dev typescript @types/express @types/cors @types/dotenv @types/helmet @types/morgan\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e패키지.json 파일을 확인했다면, 설치된 패키지와 그 버전이 업데이트되었음을 알 수 있습니다. 또한 프로젝트에 node_modules와 package-lock.json이 추가된 것을 발견하게 될 거에요.\u003c/p\u003e\n\u003cp\u003enode_modules 폴더 안에는 설치된 의존성이 포함되어 있습니다. 그리고 그 의존성의 종속 항목을 찾아볼 수 있습니다. 이 파일들은 우리가 만들고 있는 것과 유사한 노드 패키지입니다.\u003c/p\u003e\n\u003cp\u003epackage-lock.json은 노드 패키지 매니저(npm)에 의해 자동으로 생성됩니다. 이 파일은 모든 의존성 및 이에 대한 트리의 정확한 버전을 저장합니다. 프로젝트에서 어떤 종속성을 설치하거나 업데이트할 경우 업데이트될 거에요.\u003c/p\u003e\n\u003ch2\u003eTypeScript 구성하기\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eNode.js는 JavaScript의 런타임으로, 개발자들이 확장 가능하고 효율적인 웹 애플리케이션을 만들 수 있게 합니다. TypeScript는 JavaScript의 슈퍼셋으로, 정적 유형 지정, 객체 지향 프로그래밍, 데코레이터 등의 기능을 추가합니다. 그러나 TypeScript 코드는 Node.js에서 직접 실행되지 않고 먼저 JavaScript로 컴파일해야 합니다.\u003c/p\u003e\n\u003cp\u003e우리 프로젝트에서 TypeScript를 지원하려면, 먼저 그것을 구성해야 합니다. 아래 명령을 사용하여 구성 파일을 초기화하십시오. 나중에 이 파일을 수정하여 일부 기본값을 변경할 것입니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpx tsc --init\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이전 명령은 다음 내용을 출력할 것입니다:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e다음은 \u003cspan class=\"hljs-title class_\"\u003eTypeScript\u003c/span\u003e의 기본 구성이지만 변경할 수 있습니다. tsconfig.\u003cspan class=\"hljs-property\"\u003ejson\u003c/span\u003e이라는 새 파일이 생성된 것을 알 수 있을 거에요.\n\n이전에 설정한 프로젝트 폴더 구조에 맞추기 위해 일부 기본값을 수정할 거에요.\n\nrootDir 주석 처리를 해제하고 값을 ./src로 변경해주세요.\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n...\n\u003cspan class=\"hljs-string\"\u003e\"rootDir\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"./src\"\u003c/span\u003e,\n...\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 명령은 프로젝트의 루트 디렉토리를 설정합니다. 이는 TypeScript가 이 폴더 내에만 .ts 파일을 찾도록 하는 것을 의미합니다.\u003c/p\u003e\n\u003cp\u003eoutDir를 주석 처리해제하고 값으로 ./build를 변경하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n...\n\u003cspan class=\"hljs-string\"\u003e\"outDir\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"./build\"\u003c/span\u003e,\n...\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이 코드는 transpiled TypeScript의 기본 출력 디렉터리를 변경합니다.\u003c/p\u003e\n\u003cp\u003e— 이전 파트는 프로젝트 폴더 이름에 따라 변경할 수 있습니다. src를 app, source 또는 다른 이름으로 변경할 수 있지만, 그러면 rootDir을 선택한 폴더 이름과 일치하도록 변경해야 하며 outDir도 동일합니다.\u003c/p\u003e\n\u003ch1\u003eExpress 서버\u003c/h1\u003e\n\u003cp\u003e이제 코드를 작성해 보겠습니다. 전체 프로젝트의 첫 번째 파일 및 주 파일을 만들어 보겠습니다. npm을 사용하여 노드 프로젝트를 초기화하고 일치하는 엔트리 포인트를 build/app.js로 선택했던 것을 기억하십니까?\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e.ts 파일을 생성하여 이 파일로 컴파일될 것입니다. 그래서 먼저 해야 할 일은 소스 폴더를 생성하는 것입니다. src 폴더를 루트 디렉토리로 설정한 다음, ./src/app.ts 라는 새 파일을 만들어야 합니다. 그 안에 다음과 같은 코드를 작성해 봅시다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e express \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'express'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e cors \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'cors'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e helmet \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'helmet'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e morgan \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'morgan'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// Express 서버 생성\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003eexpress\u003c/span\u003e(); \u003cspan class=\"hljs-comment\"\u003e// 새 express 인스턴스\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e port = \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 포트 번호\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Express 설정\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ecors\u003c/span\u003e()); \u003cspan class=\"hljs-comment\"\u003e// CORS 활성화\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ehelmet\u003c/span\u003e()); \u003cspan class=\"hljs-comment\"\u003e// Helmet 활성화\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003emorgan\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'dev'\u003c/span\u003e)); \u003cspan class=\"hljs-comment\"\u003e// Morgan 활성화\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Express 서버 시작\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(port, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-comment\"\u003e// 서버가 성공적으로 시작되면 콜백 함수 실행\u003c/span\u003e\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`서버가 http://localhost:\u003cspan class=\"hljs-subst\"\u003e${port}\u003c/span\u003e 에서 시작되었습니다.`\u003c/span\u003e);\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// Express 앱 내보내기\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e app;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이전 코드에서는 express 서버 인스턴스를 생성하고 몇 가지 (선택적) 미들웨어로 구성했습니다. 이를 통해 보안, 모니터링 및 디버깅을 개선할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e이제 다음 명령어를 실행하여 응용 프로그램을 시작할 수 있습니다:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpx tsc \u0026#x26;\u0026#x26; node .\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 터미널에서 다음 줄로 끝나는 출력을 확인해야합니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e서버가 \u003cspan class=\"hljs-attr\"\u003ehttp\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//localhost:3000에서 시작되었습니다\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이것은 서버가 성공적으로 시작되었음을 보여주는 콜백 함수의 텍스트입니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e첫 번째 라우트 생성하기\u003c/h1\u003e\n\u003cp\u003e이제 우리는 애플리케이션을 구성하고 시작했지만 아직 기능이 없습니다. API를 구축해야 하므로 몇 가지 라우트를 생성해야 합니다.\u003c/p\u003e\n\u003cp\u003e아래 코드는 express의 get() 메서드를 사용하여 경로 / 에 대한 리스너를 만들고 간단한 Hello World! 문자열을 반환합니다.\u003c/p\u003e\n\u003cp\u003eStart Express Server 코드 블록 앞에 다음 코드를 추가하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Express 라우트 정의\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n  res.\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Hello World!'\u003c/span\u003e);\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 터미널로 이동해서 현재 프로세스를 Ctrl + C로 중지한 후 npx tsc \u0026#x26;\u0026#x26; node . 명령어를 입력하여 다시 빌드하고 서버를 시작합니다.\u003c/p\u003e\n\u003cp\u003e이제 새로 만든 라우트를 테스트해보겠습니다. GET 요청을 테스트하기 때문에 \u003ca href=\"http://localhost:3000%EC%9D%84\" rel=\"nofollow\" target=\"_blank\"\u003ehttp://localhost:3000을\u003c/a\u003e 열어보면 다음 출력이 표시됩니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024_2.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e잘 하셨습니다! 첫 번째 라우트를 만드셨네요.\u003c/p\u003e\n\u003cp\u003e이 튜토리얼에서 사용된 소스 코드가 포함된 레포지토리입니다. 새 커밋이 있는 경우마다 업데이트될 예정이에요. mahkassem/node-api-ts\u003c/p\u003e\n\u003cp\u003e2부를 보려면 (여기를 클릭해주세요)\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-23-ExpressjsinActionHowtoBuildanAPIwithNodejsandTypeScriptin2024"},"buildId":"aCCUs-qPrLLLWRnkN0AOd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>