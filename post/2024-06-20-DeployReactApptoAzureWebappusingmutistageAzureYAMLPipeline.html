<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>React 앱을 Azure Webapp에 배포하는 방법 다단계 Azure YAML 파이프라인 사용하기 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="React 앱을 Azure Webapp에 배포하는 방법 다단계 Azure YAML 파이프라인 사용하기 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="React 앱을 Azure Webapp에 배포하는 방법 다단계 Azure YAML 파이프라인 사용하기 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline" data-gatsby-head="true"/><meta name="twitter:title" content="React 앱을 Azure Webapp에 배포하는 방법 다단계 Azure YAML 파이프라인 사용하기 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 02:22" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/aCCUs-qPrLLLWRnkN0AOd/_buildManifest.js" defer=""></script><script src="/_next/static/aCCUs-qPrLLLWRnkN0AOd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">React 앱을 Azure Webapp에 배포하는 방법 다단계 Azure YAML 파이프라인 사용하기</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="React 앱을 Azure Webapp에 배포하는 방법 다단계 Azure YAML 파이프라인 사용하기" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">9<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>이 글에서는 Azure YAML Pipeline을 사용하여 React 앱을 Azure Webapp에 배포하는 배포 프로세스를 안내하겠습니다.</p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_0.png" alt="이미지"></p>
<h1>웹 앱 생성하기</h1>
<ul>
<li>Azure 포털에 로그인하고 자격 증명으로 이동하세요: <a href="https://portal.azure.com/#home" rel="nofollow" target="_blank">https://portal.azure.com/#home</a></li>
<li>검색 창에서 App Services를 찾아 서비스 아래에서 해당 옵션을 선택합니다.</li>
</ul>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_1.png" alt="image"></p>
<ol start="3">
<li>클릭하여 Web App 옵션을 선택하고 새 웹 앱을 만듭니다. 아래와 같이 요구 사항에 맞게 웹 앱을 구성하세요.</li>
</ol>
<p>이름: 웹 앱의 이름 (참고:이 이름은 Azure 전체에서 고유해야합니다.)
런타임 스택: 노드
운영 체제: 리눅스
가격 책정: 요구 사항에 가장 적합한 계획을 선택하세요.</p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_2.png" alt="image"></p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_3.png" alt="Image 3"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_4.png" alt="Image 4"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_5.png" alt="Image 5"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_6.png" alt="Image 6"></p>
<div class="content-ad"></div>
<ol start="4">
<li>'만들기' 버튼을 클릭한 후에는 새 웹 앱 생성 프로세스가 시작됩니다.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_7.png" alt="이미지"></p>
<ol start="5">
<li>웹 앱이 성공적으로 생성된 후에 '리소스로 이동' 버튼을 클릭하세요.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_8.png" alt="이미지"></p>
<div class="content-ad"></div>
<ol start="6">
<li>빈 템플릿 페이지가 표시됩니다.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_9.png" alt="템플릿 페이지"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_10.png" alt="템플릿 페이지"></p>
<h1>서비스 연결 생성</h1>
<div class="content-ad"></div>
<ol start="7">
<li>
<p>웹 앱이 생성되었으니, Azure YAML 파이프라인을 사용하여 React 앱을 웹 앱에 배포하는 데 집중해 봅시다.</p>
</li>
<li>
<p><a href="https://dev.azure.com/" rel="nofollow" target="_blank">https://dev.azure.com/</a> 로 이동하여 자격 증명으로 로그인하세요.</p>
</li>
<li>
<p>아래 이미지에서와 같이 조직 및 프로젝트를 선택하세요.</p>
</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_11.png" alt="이미지"></p>
<div class="content-ad"></div>
<ol start="10">
<li>Azure의 리소스와 통신하기 위해 파이프라인에 서비스 연결을 생성하려면 프로젝트 설정을 클릭해주세요.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_12.png" alt="이미지"></p>
<ol start="11">
<li>서비스 연결을 만들기 위해 서비스 연결 - <code>새 서비스 연결</code>을 클릭해주세요.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_13.png" alt="이미지"></p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_14.png" alt="이미지"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_15.png" alt="이미지"></p>
<ol start="12">
<li>원하는 서비스 연결을 만들 Subskription을 드롭다운에서 선택하고 이름을 지정하세요.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_16.png" alt="이미지"></p>
<div class="content-ad"></div>
<img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmultistageAzureYAMLPipeline_17.png">
<h1>YAML 파이프라인 생성</h1>
<ol start="14">
<li>프로젝트 폴더 루트에 React 소스 코드를 포함하는 azure-pipelines.yml이라는 새 YAML 파일을 만듭니다.</li>
</ol>
<p>아래 변수의 값을 해당 값으로 대체합니다.
azureSubscription: your_service_connection_name (이미지 #12에 표시된 서비스 연결 이름)
webAppName: your_webapp_name (이미지 #3에 표시된 Web App 이름)</p>
<div class="content-ad"></div>
<p>아래 파이프라인에서 deploy 단계 환경인 dev는 dev 환경으로 코드를 배포하기 위한 승인을 받기 위해 사용됩니다. 비슷하게, 추가 단계를 추가하여 test 및 prod 환경으로 배포할 수 있습니다.</p>
<pre><code class="hljs language-js"><span class="hljs-attr">trigger</span>:
  - dev

<span class="hljs-attr">pool</span>:
  <span class="hljs-attr">vmImage</span>: ubuntu-latest

<span class="hljs-attr">variables</span>:
  <span class="hljs-attr">azureSubscription</span>: <span class="hljs-string">"azure-pipelines-azure-sc"</span>
  <span class="hljs-attr">webAppName</span>: demo-react-linux-webapp

<span class="hljs-attr">stages</span>:
  - <span class="hljs-attr">stage</span>: build
    <span class="hljs-attr">displayName</span>: build
    <span class="hljs-attr">jobs</span>:
      - <span class="hljs-attr">job</span>: <span class="hljs-string">"build"</span>
        <span class="hljs-attr">displayName</span>: build job
        <span class="hljs-attr">steps</span>:
          - <span class="hljs-attr">task</span>: <span class="hljs-title class_">NodeTool</span>@<span class="hljs-number">0</span>
            <span class="hljs-attr">inputs</span>:
               <span class="hljs-attr">versionSource</span>: <span class="hljs-string">"spec"</span>
               <span class="hljs-attr">versionSpec</span>: <span class="hljs-string">"20.x"</span>

          - <span class="hljs-attr">script</span>: |
               npm install
               npm run build --<span class="hljs-keyword">if</span>-present
            <span class="hljs-attr">displayName</span>: <span class="hljs-string">"npm install, build"</span>

          - <span class="hljs-attr">task</span>: <span class="hljs-title class_">ArchiveFiles</span>@<span class="hljs-number">2</span>
            <span class="hljs-attr">inputs</span>:
               <span class="hljs-attr">rootFolderOrFile</span>: <span class="hljs-string">"$(System.DefaultWorkingDirectory)/build"</span>
               <span class="hljs-attr">includeRootFolder</span>: <span class="hljs-literal">false</span>
               <span class="hljs-attr">archiveType</span>: <span class="hljs-string">"zip"</span>
               <span class="hljs-attr">archiveFile</span>: <span class="hljs-string">"$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip"</span>
               <span class="hljs-attr">replaceExistingArchive</span>: <span class="hljs-literal">true</span>
            
          - <span class="hljs-attr">task</span>: <span class="hljs-title class_">PublishBuildArtifacts</span>@<span class="hljs-number">1</span>
            <span class="hljs-attr">inputs</span>:
               <span class="hljs-title class_">PathtoPublish</span>: <span class="hljs-string">"$(Build.ArtifactStagingDirectory)"</span>
               <span class="hljs-title class_">ArtifactName</span>: <span class="hljs-string">"drop"</span>
               <span class="hljs-attr">publishLocation</span>: <span class="hljs-string">"Container"</span>

  - <span class="hljs-attr">stage</span>: deploy
    <span class="hljs-attr">displayName</span>: <span class="hljs-string">"Deploy to the dev environment"</span>
    <span class="hljs-attr">dependsOn</span>: <span class="hljs-title class_">Build</span>
    <span class="hljs-attr">condition</span>: <span class="hljs-title function_">succeeded</span>()
    <span class="hljs-attr">jobs</span>:
      - <span class="hljs-attr">deployment</span>: <span class="hljs-title class_">Deploy</span>
        <span class="hljs-attr">environment</span>: dev
        <span class="hljs-attr">strategy</span>:
           <span class="hljs-attr">runOnce</span>:
             <span class="hljs-attr">deploy</span>:
               <span class="hljs-attr">steps</span>:
                 - <span class="hljs-attr">task</span>: <span class="hljs-title class_">AzureRmWebAppDeployment</span>@<span class="hljs-number">4</span>
                   <span class="hljs-attr">inputs</span>:
                      <span class="hljs-title class_">ConnectionType</span>: <span class="hljs-string">"AzureRM"</span>
                      <span class="hljs-attr">azureSubscription</span>: <span class="hljs-string">"$(azureSubscription)"</span>
                      <span class="hljs-attr">appType</span>: <span class="hljs-string">"webAppLinux"</span>
                      <span class="hljs-title class_">WebAppName</span>: <span class="hljs-string">"$(webAppName)"</span>
                      <span class="hljs-attr">packageForLinux</span>: <span class="hljs-string">"$(Pipeline.Workspace)/drop/$(Build.BuildId).zip"</span>
                      #아래 <span class="hljs-title class_">StartupCommand</span>는 리눅스 환경에서 <span class="hljs-title class_">React</span> 앱을 실행하는 데 필요합니다.
                      <span class="hljs-title class_">StartupCommand</span>: <span class="hljs-string">"pm2 serve /home/site/wwwroot/ --no-daemon --spa"</span>
</code></pre>
<img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_18.png">
<ol start="15">
<li>Azure DevOps의 Repo에 코드를 게시하세요.</li>
</ol>
<div class="content-ad"></div>
<img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_19.png">
<ol start="16">
<li>DevOps 포털로 이동하여 파이프라인을 클릭하고, "파이프라인 - 새 파이프라인"을 선택하여 새 파이프라인을 생성하세요.</li>
</ol>
<img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_20.png">
<ol start="17">
<li>코드가 포함된 Azure YAML 파이프라인이 있는 리포지토리를 찾아보세요.</li>
</ol>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_21.png" alt="Table 1"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_22.png" alt="Table 2"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_23.png" alt="Table 3"></p>
<h1>환경 변수 구성</h1>
<div class="content-ad"></div>
<ol start="18">
<li>우리는 App.js 파일의 React 코드에서 REACT_APP_ENVIRONMENT라는 환경 변수를 사용하고 있습니다. 따라서 파이프라인에도 환경 변수를 생성해 봅시다.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_24.png" alt="이미지"></p>
<ol start="19">
<li>Variables - 새 변수를 클릭해주세요.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_25.png" alt="이미지"></p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_26.png" alt="image 1"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_27.png" alt="image 2"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_28.png" alt="image 3"></p>
<ol start="20">
<li>If you have multiple environment variables to configure, repeat Step #19.</li>
</ol>
<div class="content-ad"></div>
<ol start="21">
<li>파이프라인을 실행하려면 실행 옵션을 클릭하세요.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_29.png" alt="이미지"></p>
<ol start="22">
<li>빌드 단계가 진행 중입니다.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_30.png" alt="이미지"></p>
<div class="content-ad"></div>
<ol start="23">
<li>빌드 프로세스가 완료되면 배포 단계로 이동합니다. "View" 버튼을 클릭하여 배포를 승인하세요.</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_31.png" alt="이미지1"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_32.png" alt="이미지2"></p>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_33.png" alt="이미지3"></p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_34.png" alt="Deployment successful"></p>
<ol start="24">
<li>Deployment completed successfully!!!</li>
</ol>
<p><img src="/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_35.png" alt="React App deployed"></p>
<ol start="24">
<li>Browse the Web App and you can see React App is deployed successfully. The environment variable value that we configured in Step #19 is displayed here.</li>
</ol>
<div class="content-ad"></div>
<p>안녕하세요! 위 문서를 읽어주셔서 감사합니다. 만약 이 레포지토리가 도움이 되었다면, 별풍선을 주시고 저를 팔로우해주세요. 앞으로도 많은 유익한 글을 공유할 예정이에요. 감사합니다!</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"React 앱을 Azure Webapp에 배포하는 방법 다단계 Azure YAML 파이프라인 사용하기","description":"","date":"2024-06-20 02:22","slug":"2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline","content":"\n\n이 글에서는 Azure YAML Pipeline을 사용하여 React 앱을 Azure Webapp에 배포하는 배포 프로세스를 안내하겠습니다.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_0.png)\n\n# 웹 앱 생성하기\n\n- Azure 포털에 로그인하고 자격 증명으로 이동하세요: https://portal.azure.com/#home\n- 검색 창에서 App Services를 찾아 서비스 아래에서 해당 옵션을 선택합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_1.png)\n\n3. 클릭하여 Web App 옵션을 선택하고 새 웹 앱을 만듭니다. 아래와 같이 요구 사항에 맞게 웹 앱을 구성하세요.\n\n이름: 웹 앱의 이름 (참고:이 이름은 Azure 전체에서 고유해야합니다.)\n런타임 스택: 노드\n운영 체제: 리눅스\n가격 책정: 요구 사항에 가장 적합한 계획을 선택하세요.\n\n![image](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_2.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image 3](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_3.png)\n\n![Image 4](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_4.png)\n\n![Image 5](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_5.png)\n\n![Image 6](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_6.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n4. '만들기' 버튼을 클릭한 후에는 새 웹 앱 생성 프로세스가 시작됩니다.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_7.png)\n\n5. 웹 앱이 성공적으로 생성된 후에 '리소스로 이동' 버튼을 클릭하세요.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_8.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n6. 빈 템플릿 페이지가 표시됩니다.\n\n![템플릿 페이지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_9.png)\n\n![템플릿 페이지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_10.png)\n\n# 서비스 연결 생성\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n7. 웹 앱이 생성되었으니, Azure YAML 파이프라인을 사용하여 React 앱을 웹 앱에 배포하는 데 집중해 봅시다.\n\n8. https://dev.azure.com/ 로 이동하여 자격 증명으로 로그인하세요.\n\n9. 아래 이미지에서와 같이 조직 및 프로젝트를 선택하세요.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_11.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n10. Azure의 리소스와 통신하기 위해 파이프라인에 서비스 연결을 생성하려면 프로젝트 설정을 클릭해주세요.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_12.png)\n\n11. 서비스 연결을 만들기 위해 서비스 연결 - `새 서비스 연결`을 클릭해주세요.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_13.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_14.png)\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_15.png)\n\n12. 원하는 서비스 연결을 만들 Subskription을 드롭다운에서 선택하고 이름을 지정하세요.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_16.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmultistageAzureYAMLPipeline_17.png\" /\u003e\n\n# YAML 파이프라인 생성\n\n14. 프로젝트 폴더 루트에 React 소스 코드를 포함하는 azure-pipelines.yml이라는 새 YAML 파일을 만듭니다.\n\n아래 변수의 값을 해당 값으로 대체합니다.\nazureSubscription: your_service_connection_name (이미지 #12에 표시된 서비스 연결 이름)\nwebAppName: your_webapp_name (이미지 #3에 표시된 Web App 이름)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래 파이프라인에서 deploy 단계 환경인 dev는 dev 환경으로 코드를 배포하기 위한 승인을 받기 위해 사용됩니다. 비슷하게, 추가 단계를 추가하여 test 및 prod 환경으로 배포할 수 있습니다.\n\n```js\ntrigger:\n  - dev\n\npool:\n  vmImage: ubuntu-latest\n\nvariables:\n  azureSubscription: \"azure-pipelines-azure-sc\"\n  webAppName: demo-react-linux-webapp\n\nstages:\n  - stage: build\n    displayName: build\n    jobs:\n      - job: \"build\"\n        displayName: build job\n        steps:\n          - task: NodeTool@0\n            inputs:\n               versionSource: \"spec\"\n               versionSpec: \"20.x\"\n\n          - script: |\n               npm install\n               npm run build --if-present\n            displayName: \"npm install, build\"\n\n          - task: ArchiveFiles@2\n            inputs:\n               rootFolderOrFile: \"$(System.DefaultWorkingDirectory)/build\"\n               includeRootFolder: false\n               archiveType: \"zip\"\n               archiveFile: \"$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip\"\n               replaceExistingArchive: true\n            \n          - task: PublishBuildArtifacts@1\n            inputs:\n               PathtoPublish: \"$(Build.ArtifactStagingDirectory)\"\n               ArtifactName: \"drop\"\n               publishLocation: \"Container\"\n\n  - stage: deploy\n    displayName: \"Deploy to the dev environment\"\n    dependsOn: Build\n    condition: succeeded()\n    jobs:\n      - deployment: Deploy\n        environment: dev\n        strategy:\n           runOnce:\n             deploy:\n               steps:\n                 - task: AzureRmWebAppDeployment@4\n                   inputs:\n                      ConnectionType: \"AzureRM\"\n                      azureSubscription: \"$(azureSubscription)\"\n                      appType: \"webAppLinux\"\n                      WebAppName: \"$(webAppName)\"\n                      packageForLinux: \"$(Pipeline.Workspace)/drop/$(Build.BuildId).zip\"\n                      #아래 StartupCommand는 리눅스 환경에서 React 앱을 실행하는 데 필요합니다.\n                      StartupCommand: \"pm2 serve /home/site/wwwroot/ --no-daemon --spa\"\n```\n\n\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_18.png\" /\u003e\n\n15. Azure DevOps의 Repo에 코드를 게시하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_19.png\" /\u003e\n\n16. DevOps 포털로 이동하여 파이프라인을 클릭하고, \"파이프라인 - 새 파이프라인\"을 선택하여 새 파이프라인을 생성하세요.\n\n\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_20.png\" /\u003e\n\n17. 코드가 포함된 Azure YAML 파이프라인이 있는 리포지토리를 찾아보세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Table 1](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_21.png)\n\n![Table 2](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_22.png)\n\n![Table 3](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_23.png)\n\n# 환경 변수 구성\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n18. 우리는 App.js 파일의 React 코드에서 REACT_APP_ENVIRONMENT라는 환경 변수를 사용하고 있습니다. 따라서 파이프라인에도 환경 변수를 생성해 봅시다.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_24.png)\n\n19. Variables - 새 변수를 클릭해주세요.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_25.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image 1](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_26.png)\n\n![image 2](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_27.png)\n\n![image 3](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_28.png)\n\n20. If you have multiple environment variables to configure, repeat Step #19.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n21. 파이프라인을 실행하려면 실행 옵션을 클릭하세요.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_29.png)\n\n22. 빌드 단계가 진행 중입니다.\n\n![이미지](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_30.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n23. 빌드 프로세스가 완료되면 배포 단계로 이동합니다. \"View\" 버튼을 클릭하여 배포를 승인하세요.\n\n![이미지1](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_31.png)\n\n![이미지2](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_32.png)\n\n![이미지3](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_33.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Deployment successful](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_34.png)\n\n24. Deployment completed successfully!!!\n\n![React App deployed](/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_35.png)\n\n24. Browse the Web App and you can see React App is deployed successfully. The environment variable value that we configured in Step #19 is displayed here.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n안녕하세요! 위 문서를 읽어주셔서 감사합니다. 만약 이 레포지토리가 도움이 되었다면, 별풍선을 주시고 저를 팔로우해주세요. 앞으로도 많은 유익한 글을 공유할 예정이에요. 감사합니다!","ogImage":{"url":"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_0.png"},"coverImage":"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_0.png","tag":["Tech"],"readingTime":9},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e이 글에서는 Azure YAML Pipeline을 사용하여 React 앱을 Azure Webapp에 배포하는 배포 프로세스를 안내하겠습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e웹 앱 생성하기\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eAzure 포털에 로그인하고 자격 증명으로 이동하세요: \u003ca href=\"https://portal.azure.com/#home\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://portal.azure.com/#home\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e검색 창에서 App Services를 찾아 서비스 아래에서 해당 옵션을 선택합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_1.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e클릭하여 Web App 옵션을 선택하고 새 웹 앱을 만듭니다. 아래와 같이 요구 사항에 맞게 웹 앱을 구성하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e이름: 웹 앱의 이름 (참고:이 이름은 Azure 전체에서 고유해야합니다.)\n런타임 스택: 노드\n운영 체제: 리눅스\n가격 책정: 요구 사항에 가장 적합한 계획을 선택하세요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_2.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_3.png\" alt=\"Image 3\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_4.png\" alt=\"Image 4\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_5.png\" alt=\"Image 5\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_6.png\" alt=\"Image 6\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003e'만들기' 버튼을 클릭한 후에는 새 웹 앱 생성 프로세스가 시작됩니다.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_7.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003e웹 앱이 성공적으로 생성된 후에 '리소스로 이동' 버튼을 클릭하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_8.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003e빈 템플릿 페이지가 표시됩니다.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_9.png\" alt=\"템플릿 페이지\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_10.png\" alt=\"템플릿 페이지\"\u003e\u003c/p\u003e\n\u003ch1\u003e서비스 연결 생성\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003col start=\"7\"\u003e\n\u003cli\u003e\n\u003cp\u003e웹 앱이 생성되었으니, Azure YAML 파이프라인을 사용하여 React 앱을 웹 앱에 배포하는 데 집중해 봅시다.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://dev.azure.com/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://dev.azure.com/\u003c/a\u003e 로 이동하여 자격 증명으로 로그인하세요.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e아래 이미지에서와 같이 조직 및 프로젝트를 선택하세요.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_11.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003col start=\"10\"\u003e\n\u003cli\u003eAzure의 리소스와 통신하기 위해 파이프라인에 서비스 연결을 생성하려면 프로젝트 설정을 클릭해주세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_12.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003col start=\"11\"\u003e\n\u003cli\u003e서비스 연결을 만들기 위해 서비스 연결 - \u003ccode\u003e새 서비스 연결\u003c/code\u003e을 클릭해주세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_13.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_14.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_15.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003col start=\"12\"\u003e\n\u003cli\u003e원하는 서비스 연결을 만들 Subskription을 드롭다운에서 선택하고 이름을 지정하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_16.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmultistageAzureYAMLPipeline_17.png\"\u003e\n\u003ch1\u003eYAML 파이프라인 생성\u003c/h1\u003e\n\u003col start=\"14\"\u003e\n\u003cli\u003e프로젝트 폴더 루트에 React 소스 코드를 포함하는 azure-pipelines.yml이라는 새 YAML 파일을 만듭니다.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e아래 변수의 값을 해당 값으로 대체합니다.\nazureSubscription: your_service_connection_name (이미지 #12에 표시된 서비스 연결 이름)\nwebAppName: your_webapp_name (이미지 #3에 표시된 Web App 이름)\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e아래 파이프라인에서 deploy 단계 환경인 dev는 dev 환경으로 코드를 배포하기 위한 승인을 받기 위해 사용됩니다. 비슷하게, 추가 단계를 추가하여 test 및 prod 환경으로 배포할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-attr\"\u003etrigger\u003c/span\u003e:\n  - dev\n\n\u003cspan class=\"hljs-attr\"\u003epool\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003evmImage\u003c/span\u003e: ubuntu-latest\n\n\u003cspan class=\"hljs-attr\"\u003evariables\u003c/span\u003e:\n  \u003cspan class=\"hljs-attr\"\u003eazureSubscription\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"azure-pipelines-azure-sc\"\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003ewebAppName\u003c/span\u003e: demo-react-linux-webapp\n\n\u003cspan class=\"hljs-attr\"\u003estages\u003c/span\u003e:\n  - \u003cspan class=\"hljs-attr\"\u003estage\u003c/span\u003e: build\n    \u003cspan class=\"hljs-attr\"\u003edisplayName\u003c/span\u003e: build\n    \u003cspan class=\"hljs-attr\"\u003ejobs\u003c/span\u003e:\n      - \u003cspan class=\"hljs-attr\"\u003ejob\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"build\"\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003edisplayName\u003c/span\u003e: build job\n        \u003cspan class=\"hljs-attr\"\u003esteps\u003c/span\u003e:\n          - \u003cspan class=\"hljs-attr\"\u003etask\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eNodeTool\u003c/span\u003e@\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003einputs\u003c/span\u003e:\n               \u003cspan class=\"hljs-attr\"\u003eversionSource\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"spec\"\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003eversionSpec\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"20.x\"\u003c/span\u003e\n\n          - \u003cspan class=\"hljs-attr\"\u003escript\u003c/span\u003e: |\n               npm install\n               npm run build --\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e-present\n            \u003cspan class=\"hljs-attr\"\u003edisplayName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"npm install, build\"\u003c/span\u003e\n\n          - \u003cspan class=\"hljs-attr\"\u003etask\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eArchiveFiles\u003c/span\u003e@\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003einputs\u003c/span\u003e:\n               \u003cspan class=\"hljs-attr\"\u003erootFolderOrFile\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$(System.DefaultWorkingDirectory)/build\"\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003eincludeRootFolder\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003earchiveType\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"zip\"\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003earchiveFile\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip\"\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003ereplaceExistingArchive\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n            \n          - \u003cspan class=\"hljs-attr\"\u003etask\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003ePublishBuildArtifacts\u003c/span\u003e@\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003einputs\u003c/span\u003e:\n               \u003cspan class=\"hljs-title class_\"\u003ePathtoPublish\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$(Build.ArtifactStagingDirectory)\"\u003c/span\u003e\n               \u003cspan class=\"hljs-title class_\"\u003eArtifactName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"drop\"\u003c/span\u003e\n               \u003cspan class=\"hljs-attr\"\u003epublishLocation\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Container\"\u003c/span\u003e\n\n  - \u003cspan class=\"hljs-attr\"\u003estage\u003c/span\u003e: deploy\n    \u003cspan class=\"hljs-attr\"\u003edisplayName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Deploy to the dev environment\"\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003edependsOn\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eBuild\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003econdition\u003c/span\u003e: \u003cspan class=\"hljs-title function_\"\u003esucceeded\u003c/span\u003e()\n    \u003cspan class=\"hljs-attr\"\u003ejobs\u003c/span\u003e:\n      - \u003cspan class=\"hljs-attr\"\u003edeployment\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eDeploy\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003eenvironment\u003c/span\u003e: dev\n        \u003cspan class=\"hljs-attr\"\u003estrategy\u003c/span\u003e:\n           \u003cspan class=\"hljs-attr\"\u003erunOnce\u003c/span\u003e:\n             \u003cspan class=\"hljs-attr\"\u003edeploy\u003c/span\u003e:\n               \u003cspan class=\"hljs-attr\"\u003esteps\u003c/span\u003e:\n                 - \u003cspan class=\"hljs-attr\"\u003etask\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eAzureRmWebAppDeployment\u003c/span\u003e@\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\n                   \u003cspan class=\"hljs-attr\"\u003einputs\u003c/span\u003e:\n                      \u003cspan class=\"hljs-title class_\"\u003eConnectionType\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"AzureRM\"\u003c/span\u003e\n                      \u003cspan class=\"hljs-attr\"\u003eazureSubscription\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$(azureSubscription)\"\u003c/span\u003e\n                      \u003cspan class=\"hljs-attr\"\u003eappType\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"webAppLinux\"\u003c/span\u003e\n                      \u003cspan class=\"hljs-title class_\"\u003eWebAppName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$(webAppName)\"\u003c/span\u003e\n                      \u003cspan class=\"hljs-attr\"\u003epackageForLinux\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"$(Pipeline.Workspace)/drop/$(Build.BuildId).zip\"\u003c/span\u003e\n                      #아래 \u003cspan class=\"hljs-title class_\"\u003eStartupCommand\u003c/span\u003e는 리눅스 환경에서 \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e 앱을 실행하는 데 필요합니다.\n                      \u003cspan class=\"hljs-title class_\"\u003eStartupCommand\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"pm2 serve /home/site/wwwroot/ --no-daemon --spa\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_18.png\"\u003e\n\u003col start=\"15\"\u003e\n\u003cli\u003eAzure DevOps의 Repo에 코드를 게시하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_19.png\"\u003e\n\u003col start=\"16\"\u003e\n\u003cli\u003eDevOps 포털로 이동하여 파이프라인을 클릭하고, \"파이프라인 - 새 파이프라인\"을 선택하여 새 파이프라인을 생성하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_20.png\"\u003e\n\u003col start=\"17\"\u003e\n\u003cli\u003e코드가 포함된 Azure YAML 파이프라인이 있는 리포지토리를 찾아보세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_21.png\" alt=\"Table 1\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_22.png\" alt=\"Table 2\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_23.png\" alt=\"Table 3\"\u003e\u003c/p\u003e\n\u003ch1\u003e환경 변수 구성\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003col start=\"18\"\u003e\n\u003cli\u003e우리는 App.js 파일의 React 코드에서 REACT_APP_ENVIRONMENT라는 환경 변수를 사용하고 있습니다. 따라서 파이프라인에도 환경 변수를 생성해 봅시다.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_24.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003col start=\"19\"\u003e\n\u003cli\u003eVariables - 새 변수를 클릭해주세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_25.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_26.png\" alt=\"image 1\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_27.png\" alt=\"image 2\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_28.png\" alt=\"image 3\"\u003e\u003c/p\u003e\n\u003col start=\"20\"\u003e\n\u003cli\u003eIf you have multiple environment variables to configure, repeat Step #19.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003col start=\"21\"\u003e\n\u003cli\u003e파이프라인을 실행하려면 실행 옵션을 클릭하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_29.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003col start=\"22\"\u003e\n\u003cli\u003e빌드 단계가 진행 중입니다.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_30.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003col start=\"23\"\u003e\n\u003cli\u003e빌드 프로세스가 완료되면 배포 단계로 이동합니다. \"View\" 버튼을 클릭하여 배포를 승인하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_31.png\" alt=\"이미지1\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_32.png\" alt=\"이미지2\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_33.png\" alt=\"이미지3\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_34.png\" alt=\"Deployment successful\"\u003e\u003c/p\u003e\n\u003col start=\"24\"\u003e\n\u003cli\u003eDeployment completed successfully!!!\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline_35.png\" alt=\"React App deployed\"\u003e\u003c/p\u003e\n\u003col start=\"24\"\u003e\n\u003cli\u003eBrowse the Web App and you can see React App is deployed successfully. The environment variable value that we configured in Step #19 is displayed here.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e안녕하세요! 위 문서를 읽어주셔서 감사합니다. 만약 이 레포지토리가 도움이 되었다면, 별풍선을 주시고 저를 팔로우해주세요. 앞으로도 많은 유익한 글을 공유할 예정이에요. 감사합니다!\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-DeployReactApptoAzureWebappusingmutistageAzureYAMLPipeline"},"buildId":"aCCUs-qPrLLLWRnkN0AOd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>