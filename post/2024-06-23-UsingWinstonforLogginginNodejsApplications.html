<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Nodejs 애플리케이션에서 Winston으로 로깅하는 방법 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-23-UsingWinstonforLogginginNodejsApplications" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Nodejs 애플리케이션에서 Winston으로 로깅하는 방법 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="Nodejs 애플리케이션에서 Winston으로 로깅하는 방법 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-23-UsingWinstonforLogginginNodejsApplications_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-23-UsingWinstonforLogginginNodejsApplications" data-gatsby-head="true"/><meta name="twitter:title" content="Nodejs 애플리케이션에서 Winston으로 로깅하는 방법 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-23-UsingWinstonforLogginginNodejsApplications_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-23 13:23" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_buildManifest.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Nodejs 애플리케이션에서 Winston으로 로깅하는 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Nodejs 애플리케이션에서 Winston으로 로깅하는 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 23, 2024</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-23-UsingWinstonforLogginginNodejsApplications&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>로그 기록은 모든 애플리케이션에서 중요한 부분입니다. 디버깅, 모니터링 및 코드 유지 관리에 도움이 됩니다. 유연성과 기능이 풍부한 기능으로 Node.js에서 가장 인기 있는 로깅 라이브러리 중 하나인 Winston에 대해 알아보겠습니다. 이 기사에서는 Node.js 애플리케이션에 Winston을 통합하는 방법과 그 기능을 최대한 활용하는 방법을 살펴보겠습니다.</p>
<p><img src="/assets/img/2024-06-23-UsingWinstonforLogginginNodejsApplications_0.png" alt="이미지"></p>
<h1>개요:</h1>
<p>이 튜토리얼에서 다룰 내용은:</p>
<ul>
<li>Node.js 프로젝트에서 Winston 설정하기.</li>
<li>다른 로깅 레벨 구성하기.</li>
<li>사용자 정의 로그 형식 만들기.</li>
<li>여러 전송 방법 (콘솔, 파일 등)으로 로깅하기.</li>
<li>사용자 정의 로그 레벨 만들기.</li>
<li>매일 로그 파일에 로깅하기.</li>
<li>Express 애플리케이션에서 Winston 사용하기.</li>
</ul>
<h1>준비물:</h1>
<ul>
<li>JavaScript 및 Node.js의 기본 지식.</li>
<li>npm 및 Express에 익숙해야 합니다 (마지막 단계에서 선택 사항이지만 권장됨).</li>
</ul>
<h1>설정:</h1>
<p>Node.js 프로젝트를 초기화해봅시다:</p>
<pre><code class="hljs language-js">mkdir winston-logger-example
cd winston-logger-example
npm init -y
</code></pre>
<p>Winston을 설치해보세요:</p>
<pre><code class="hljs language-js">npm install express winston winston-daily-rotate-file
</code></pre>
<h1>기본 설정:</h1>
<p>Winston을 설정하기 위한 logger.js 파일을 만듭니다:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// logger.js</span>

<span class="hljs-keyword">const</span> { createLogger, format, transports } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'winston'</span>);

<span class="hljs-keyword">const</span> logger = <span class="hljs-title function_">createLogger</span>({
  <span class="hljs-attr">level</span>: <span class="hljs-string">'info'</span>,
  <span class="hljs-attr">format</span>: format.<span class="hljs-title function_">combine</span>(
    format.<span class="hljs-title function_">colorize</span>(),
    format.<span class="hljs-title function_">timestamp</span>(),
    format.<span class="hljs-title function_">printf</span>(<span class="hljs-function">(<span class="hljs-params">{ timestamp, level, message }</span>) =></span> <span class="hljs-string">`<span class="hljs-subst">${timestamp}</span> <span class="hljs-subst">${level}</span>: <span class="hljs-subst">${message}</span>`</span>)
  ),
  <span class="hljs-attr">transports</span>: [
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">Console</span>(),
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">File</span>({ <span class="hljs-attr">filename</span>: <span class="hljs-string">'app.log'</span> })
  ]
});

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = logger;
</code></pre>
<p>설명:</p>
<ul>
<li>createLogger: 새 로거 인스턴스를 초기화합니다.</li>
<li>format.combine: 여러 형식을 결합하는데, 여기에서는 colorize, timestamp, printf를 사용합니다.</li>
<li>transports: 로그를 전송할 위치를 지정합니다. 이 예에서는 콘솔과 파일 (app.log)에 로그를 남깁니다.</li>
</ul>
<h1>로깅 레벨 구성:</h1>
<p>Winston은 error, warn, info, http, verbose, debug, silly와 같은 여러 가지 로깅 레벨을 지원합니다. 캡쳐할 로그의 최소 레벨을 구성할 수 있습니다.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// logger.js</span>

<span class="hljs-keyword">const</span> { createLogger, format, transports } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'winston'</span>);

<span class="hljs-keyword">const</span> logger = <span class="hljs-title function_">createLogger</span>({
  <span class="hljs-attr">levels</span>: {
    <span class="hljs-attr">error</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">warn</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">info</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">http</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">verbose</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">debug</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">silly</span>: <span class="hljs-number">6</span>
  },
  <span class="hljs-attr">level</span>: <span class="hljs-string">'info'</span>, <span class="hljs-comment">// 기본 로그 레벨 설정</span>
  <span class="hljs-attr">format</span>: format.<span class="hljs-title function_">combine</span>(
    format.<span class="hljs-title function_">colorize</span>(),
    format.<span class="hljs-title function_">timestamp</span>(),
    format.<span class="hljs-title function_">printf</span>(<span class="hljs-function">(<span class="hljs-params">{ timestamp, level, message }</span>) =></span> <span class="hljs-string">`<span class="hljs-subst">${timestamp}</span> <span class="hljs-subst">${level}</span>: <span class="hljs-subst">${message}</span>`</span>)
  ),
  <span class="hljs-attr">transports</span>: [
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">Console</span>(),
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">File</span>({ <span class="hljs-attr">filename</span>: <span class="hljs-string">'app.log'</span> })
  ]
});

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = logger;
</code></pre>
<p>설명:</p>
<ul>
<li>levels: 사용자 정의 로깅 레벨을 정의합니다.</li>
<li>level: 캡처할 로그의 최소 레벨을 설정합니다 (여기서는 info로 설정되어 있음).</li>
</ul>
<h1>로그 레벨 이해:</h1>
<p>로그 레벨은 기록되는 메시지의 심각성을 결정합니다. Winston은 npm 스타일 로깅 레벨을 사용하며, 가장 심각한 것부터 가장 적게 심각한 것까지 우선 순위가 정해져 있습니다.</p>
<ul>
<li>error: (0) 즉각적인 주의가 필요한 오류를 기록하는 데 사용합니다.</li>
<li>warn: (1) 잠재적인 문제를 나타내는 경고 메시지를 기록하는 데 사용합니다.</li>
<li>info: (2) 애플리케이션 진행 상황을 강조하는 정보 메시지를 기록하는 데 사용합니다.</li>
<li>http: (3) HTTP 요청을 기록하는 데 사용합니다.</li>
<li>verbose: (4) 디버깅 중 유용한 자세한 정보를 기록하는 데 사용합니다.</li>
<li>debug: (5) 디버깅 정보를 기록하는 데 사용합니다.</li>
<li>silly: (6) 필요 이상으로 자세한 정보를 기록하는 데 사용합니다.</li>
</ul>
<p>덜 심각한 메시지를 필터링하기 위해 최소 로그 레벨을 설정할 수 있습니다. 예를 들어, 로그 레벨을 info로 설정하면 info, warn, error 메시지만 기록됩니다.</p>
<h1>사용자 정의 로그 포맷 생성:</h1>
<p>필요에 맞게 사용자 정의 로그 포맷을 만들 수 있습니다. 예를 들어, 메타데이터를 추가하거나 로그 메시지 구조를 변경할 수 있습니다.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// logger.js</span>

<span class="hljs-keyword">const</span> { createLogger, format, transports } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'winston'</span>);

<span class="hljs-keyword">const</span> customFormat = format.<span class="hljs-title function_">combine</span>(
  format.<span class="hljs-title function_">colorize</span>(),
  format.<span class="hljs-title function_">timestamp</span>(),
  format.<span class="hljs-title function_">printf</span>(<span class="hljs-function">(<span class="hljs-params">{ timestamp, level, message, ...meta }</span>) =></span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${timestamp}</span> <span class="hljs-subst">${level}</span>: <span class="hljs-subst">${message}</span> <span class="hljs-subst">${<span class="hljs-built_in">Object</span>.keys(meta).length ? <span class="hljs-built_in">JSON</span>.stringify(meta, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>) : <span class="hljs-string">''</span>}</span>`</span>;
  })
);

<span class="hljs-keyword">const</span> logger = <span class="hljs-title function_">createLogger</span>({
  <span class="hljs-attr">level</span>: <span class="hljs-string">'info'</span>,
  <span class="hljs-attr">format</span>: customFormat,
  <span class="hljs-attr">transports</span>: [
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">Console</span>(),
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">File</span>({ <span class="hljs-attr">filename</span>: <span class="hljs-string">'app.log'</span> })
  ]
});

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = logger;
</code></pre>
<p>해설:</p>
<ul>
<li>customFormat: 타임스탬프, 로그 레벨, 메시지 및 선택적인 메타데이터를 구조화된 로그 형식으로 결합합니다.</li>
</ul>
<h1>다중 전송으로 로깅하기:</h1>
<p>윈스턴은 서로 다른 파일, 외부 로깅 서비스 또는 콘솔과 같은 여러 대상에 로그를 기록할 수 있어요.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// logger.js</span>

<span class="hljs-keyword">const</span> { createLogger, format, transports } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'winston'</span>);

<span class="hljs-keyword">const</span> logger = <span class="hljs-title function_">createLogger</span>({
  <span class="hljs-attr">level</span>: <span class="hljs-string">'info'</span>,
  <span class="hljs-attr">format</span>: format.<span class="hljs-title function_">combine</span>(
    format.<span class="hljs-title function_">timestamp</span>(),
    format.<span class="hljs-title function_">printf</span>(<span class="hljs-function">(<span class="hljs-params">{ timestamp, level, message }</span>) =></span> <span class="hljs-string">`<span class="hljs-subst">${timestamp}</span> <span class="hljs-subst">${level}</span>: <span class="hljs-subst">${message}</span>`</span>)
  ),
  <span class="hljs-attr">transports</span>: [
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">Console</span>(),
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">File</span>({ <span class="hljs-attr">filename</span>: <span class="hljs-string">'app.log'</span> }),
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">File</span>({ <span class="hljs-attr">filename</span>: <span class="hljs-string">'error.log'</span>, <span class="hljs-attr">level</span>: <span class="hljs-string">'error'</span> })
  ]
});

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = logger;
</code></pre>
<p>설명:</p>
<ul>
<li>transports.File('filename: ‘error.log’, level: ‘error’'): 에러 메시지를 별도의 파일에 기록합니다.</li>
</ul>
<h1>커스텀 로그 레벨 만들기:</h1>
<p>윈스턴(Winston)에서 자체적인 로그 레벨을 정의할 수 있습니다. 기본 레벨로는 충분하지 않은 특정 요구 사항이 있을 때 유용합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// logger.js</span>

<span class="hljs-keyword">const</span> { createLogger, format, transports, config } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'winston'</span>);

<span class="hljs-keyword">const</span> customLevels = {
  <span class="hljs-attr">levels</span>: {
    <span class="hljs-attr">critical</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">error</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">warn</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">info</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">debug</span>: <span class="hljs-number">4</span>
  },
  <span class="hljs-attr">colors</span>: {
    <span class="hljs-attr">critical</span>: <span class="hljs-string">'red'</span>,
    <span class="hljs-attr">error</span>: <span class="hljs-string">'red'</span>,
    <span class="hljs-attr">warn</span>: <span class="hljs-string">'yellow'</span>,
    <span class="hljs-attr">info</span>: <span class="hljs-string">'green'</span>,
    <span class="hljs-attr">debug</span>: <span class="hljs-string">'blue'</span>
  }
};

<span class="hljs-keyword">const</span> logger = <span class="hljs-title function_">createLogger</span>({
  <span class="hljs-attr">levels</span>: customLevels.<span class="hljs-property">levels</span>,
  <span class="hljs-attr">level</span>: <span class="hljs-string">'info'</span>, <span class="hljs-comment">// 기본 로그 레벨 설정</span>
  <span class="hljs-attr">format</span>: format.<span class="hljs-title function_">combine</span>(
    format.<span class="hljs-title function_">colorize</span>({ <span class="hljs-attr">all</span>: <span class="hljs-literal">true</span> }),
    format.<span class="hljs-title function_">timestamp</span>(),
    format.<span class="hljs-title function_">printf</span>(<span class="hljs-function">(<span class="hljs-params">{ timestamp, level, message }</span>) =></span> <span class="hljs-string">`<span class="hljs-subst">${timestamp}</span> <span class="hljs-subst">${level}</span>: <span class="hljs-subst">${message}</span>`</span>)
  ),
  <span class="hljs-attr">transports</span>: [
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">Console</span>(),
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">File</span>({ <span class="hljs-attr">filename</span>: <span class="hljs-string">'app.log'</span> })
  ]
});

winston.<span class="hljs-title function_">addColors</span>(customLevels.<span class="hljs-property">colors</span>);

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = logger;
</code></pre>
<p>설명:</p>
<ul>
<li>customLevels: 사용자 정의 로깅 수준 및 해당하는 색상을 정의합니다.</li>
<li>winston.addColors: 로깅 수준에 사용자 정의 색상을 적용합니다.</li>
</ul>
<h1>매일 로그 파일에 로깅하기:</h1>
<p>winston-daily-rotate-file 전송을 사용하여 매일 새로운 로그 파일을 생성할 수 있습니다.</p>
<p>winston-daily-rotate-file를 설치하세요:</p>
<pre><code class="hljs language-jsx">npm install winston-daily-rotate-file

매일 로테이트 파일 전송을 구성하세요:

<span class="hljs-comment">// logger.js</span>

<span class="hljs-keyword">const</span> { createLogger, format, transports } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'winston'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">DailyRotateFile</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'winston-daily-rotate-file'</span>);

<span class="hljs-keyword">const</span> logger = <span class="hljs-title function_">createLogger</span>({
  <span class="hljs-attr">level</span>: <span class="hljs-string">'info'</span>,
  <span class="hljs-attr">format</span>: format.<span class="hljs-title function_">combine</span>(
    format.<span class="hljs-title function_">timestamp</span>(),
    format.<span class="hljs-title function_">printf</span>(<span class="hljs-function">(<span class="hljs-params">{ timestamp, level, message }</span>) =></span> <span class="hljs-string">`<span class="hljs-subst">${timestamp}</span> <span class="hljs-subst">${level}</span>: <span class="hljs-subst">${message}</span>`</span>)
  ),
  <span class="hljs-attr">transports</span>: [
    <span class="hljs-keyword">new</span> transports.<span class="hljs-title class_">Console</span>(),
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DailyRotateFile</span>({
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'application-%DATE%.log'</span>,
      <span class="hljs-attr">datePattern</span>: <span class="hljs-string">'YYYY-MM-DD'</span>,
      <span class="hljs-attr">zippedArchive</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">maxSize</span>: <span class="hljs-string">'20m'</span>,
      <span class="hljs-attr">maxFiles</span>: <span class="hljs-string">'14d'</span>
    })
  ]
});

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = logger;

설명:
</code></pre>
<ul>
<li>DailyRotateFile: 지정된 날짜 패턴으로 매일 새 로그 파일을 생성합니다.</li>
<li>zippedArchive: 이전 로그 파일을 압축합니다.</li>
<li>maxSize: 로테이션하기 전 로그 파일의 최대 크기입니다.</li>
<li>maxFiles: 로그 파일을 유지하는 최대 일수입니다.</li>
</ul>
<h1>Express 애플리케이션에서 Winston 사용하기:</h1>
<p>Winston을 Express 애플리케이션에 통합하여 HTTP 요청과 오류에 대한 로깅을 처리하세요.</p>
<p>Express 설치하기:</p>
<pre><code class="hljs language-js">npm install express
</code></pre>
<p>Winston을 이용한 Express 서버 설정:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server.js</span>

<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> logger = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./logger'</span>);

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PORT</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">PORT</span> || <span class="hljs-number">3000</span>;

<span class="hljs-comment">// HTTP 요청을 로깅하는 미들웨어</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =></span> {
  logger.<span class="hljs-title function_">http</span>(<span class="hljs-string">`<span class="hljs-subst">${req.method}</span> <span class="hljs-subst">${req.url}</span>`</span>);
  <span class="hljs-title function_">next</span>();
});

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">'Hello, World!'</span>);
});

<span class="hljs-comment">// 에러 처리 미들웨어</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">err, req, res, next</span>) =></span> {
  logger.<span class="hljs-title function_">error</span>(err.<span class="hljs-property">message</span>);
  res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">send</span>(<span class="hljs-string">'Internal Server Error'</span>);
});

app.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>, <span class="hljs-function">() =></span> {
  logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">`서버가 http://localhost:<span class="hljs-subst">${PORT}</span> 에서 실행 중입니다.`</span>);
});
</code></pre>
<p>설명:</p>
<ul>
<li>HTTP 요청 로깅: 미들웨어는 logger.http를 사용하여 수신된 모든 HTTP 요청을 로깅합니다.</li>
<li>오류 처리 미들웨어: logger.error를 사용하여 오류를 로깅합니다.</li>
</ul>
<h1>결론:</h1>
<p>Winston을 Node.js 애플리케이션에 통합함으로써 더욱 강력하고 유연한 로깅 시스템을 구축할 수 있습니다. 이를 통해 코드를 보다 효율적으로 디버깅, 모니터링 및 유지보수할 수 있습니다. 콘솔, 파일 또는 외부 서비스로 로그를 기록해야 하는 경우, Winston의 다양한 기능이 Node.js 로깅에 우수한 선택이 될 것입니다.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Nodejs 애플리케이션에서 Winston으로 로깅하는 방법","description":"","date":"2024-06-23 13:23","slug":"2024-06-23-UsingWinstonforLogginginNodejsApplications","content":"\n\n로그 기록은 모든 애플리케이션에서 중요한 부분입니다. 디버깅, 모니터링 및 코드 유지 관리에 도움이 됩니다. 유연성과 기능이 풍부한 기능으로 Node.js에서 가장 인기 있는 로깅 라이브러리 중 하나인 Winston에 대해 알아보겠습니다. 이 기사에서는 Node.js 애플리케이션에 Winston을 통합하는 방법과 그 기능을 최대한 활용하는 방법을 살펴보겠습니다.\n\n![이미지](/assets/img/2024-06-23-UsingWinstonforLogginginNodejsApplications_0.png)\n\n# 개요:\n\n이 튜토리얼에서 다룰 내용은:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- Node.js 프로젝트에서 Winston 설정하기.\n- 다른 로깅 레벨 구성하기.\n- 사용자 정의 로그 형식 만들기.\n- 여러 전송 방법 (콘솔, 파일 등)으로 로깅하기.\n- 사용자 정의 로그 레벨 만들기.\n- 매일 로그 파일에 로깅하기.\n- Express 애플리케이션에서 Winston 사용하기.\n\n# 준비물:\n\n- JavaScript 및 Node.js의 기본 지식.\n- npm 및 Express에 익숙해야 합니다 (마지막 단계에서 선택 사항이지만 권장됨).\n\n# 설정:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nNode.js 프로젝트를 초기화해봅시다:\n\n```js\nmkdir winston-logger-example\ncd winston-logger-example\nnpm init -y\n```\n\nWinston을 설치해보세요:\n\n```js\nnpm install express winston winston-daily-rotate-file\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 기본 설정:\n\nWinston을 설정하기 위한 logger.js 파일을 만듭니다:\n\n```js\n// logger.js\n\nconst { createLogger, format, transports } = require('winston');\n\nconst logger = createLogger({\n  level: 'info',\n  format: format.combine(\n    format.colorize(),\n    format.timestamp(),\n    format.printf(({ timestamp, level, message }) =\u003e `${timestamp} ${level}: ${message}`)\n  ),\n  transports: [\n    new transports.Console(),\n    new transports.File({ filename: 'app.log' })\n  ]\n});\n\nmodule.exports = logger;\n```\n\n설명:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- createLogger: 새 로거 인스턴스를 초기화합니다.\n- format.combine: 여러 형식을 결합하는데, 여기에서는 colorize, timestamp, printf를 사용합니다.\n- transports: 로그를 전송할 위치를 지정합니다. 이 예에서는 콘솔과 파일 (app.log)에 로그를 남깁니다.\n\n# 로깅 레벨 구성:\n\nWinston은 error, warn, info, http, verbose, debug, silly와 같은 여러 가지 로깅 레벨을 지원합니다. 캡쳐할 로그의 최소 레벨을 구성할 수 있습니다.\n\n```js\n// logger.js\n\nconst { createLogger, format, transports } = require('winston');\n\nconst logger = createLogger({\n  levels: {\n    error: 0,\n    warn: 1,\n    info: 2,\n    http: 3,\n    verbose: 4,\n    debug: 5,\n    silly: 6\n  },\n  level: 'info', // 기본 로그 레벨 설정\n  format: format.combine(\n    format.colorize(),\n    format.timestamp(),\n    format.printf(({ timestamp, level, message }) =\u003e `${timestamp} ${level}: ${message}`)\n  ),\n  transports: [\n    new transports.Console(),\n    new transports.File({ filename: 'app.log' })\n  ]\n});\n\nmodule.exports = logger;\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n설명:\n\n- levels: 사용자 정의 로깅 레벨을 정의합니다.\n- level: 캡처할 로그의 최소 레벨을 설정합니다 (여기서는 info로 설정되어 있음).\n\n# 로그 레벨 이해:\n\n로그 레벨은 기록되는 메시지의 심각성을 결정합니다. Winston은 npm 스타일 로깅 레벨을 사용하며, 가장 심각한 것부터 가장 적게 심각한 것까지 우선 순위가 정해져 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- error: (0) 즉각적인 주의가 필요한 오류를 기록하는 데 사용합니다.\n- warn: (1) 잠재적인 문제를 나타내는 경고 메시지를 기록하는 데 사용합니다.\n- info: (2) 애플리케이션 진행 상황을 강조하는 정보 메시지를 기록하는 데 사용합니다.\n- http: (3) HTTP 요청을 기록하는 데 사용합니다.\n- verbose: (4) 디버깅 중 유용한 자세한 정보를 기록하는 데 사용합니다.\n- debug: (5) 디버깅 정보를 기록하는 데 사용합니다.\n- silly: (6) 필요 이상으로 자세한 정보를 기록하는 데 사용합니다.\n\n덜 심각한 메시지를 필터링하기 위해 최소 로그 레벨을 설정할 수 있습니다. 예를 들어, 로그 레벨을 info로 설정하면 info, warn, error 메시지만 기록됩니다.\n\n# 사용자 정의 로그 포맷 생성:\n\n필요에 맞게 사용자 정의 로그 포맷을 만들 수 있습니다. 예를 들어, 메타데이터를 추가하거나 로그 메시지 구조를 변경할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n// logger.js\n\nconst { createLogger, format, transports } = require('winston');\n\nconst customFormat = format.combine(\n  format.colorize(),\n  format.timestamp(),\n  format.printf(({ timestamp, level, message, ...meta }) =\u003e {\n    return `${timestamp} ${level}: ${message} ${Object.keys(meta).length ? JSON.stringify(meta, null, 2) : ''}`;\n  })\n);\n\nconst logger = createLogger({\n  level: 'info',\n  format: customFormat,\n  transports: [\n    new transports.Console(),\n    new transports.File({ filename: 'app.log' })\n  ]\n});\n\nmodule.exports = logger;\n```\n\n해설:\n\n- customFormat: 타임스탬프, 로그 레벨, 메시지 및 선택적인 메타데이터를 구조화된 로그 형식으로 결합합니다.\n\n# 다중 전송으로 로깅하기:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n윈스턴은 서로 다른 파일, 외부 로깅 서비스 또는 콘솔과 같은 여러 대상에 로그를 기록할 수 있어요.\n\n```js\n// logger.js\n\nconst { createLogger, format, transports } = require('winston');\n\nconst logger = createLogger({\n  level: 'info',\n  format: format.combine(\n    format.timestamp(),\n    format.printf(({ timestamp, level, message }) =\u003e `${timestamp} ${level}: ${message}`)\n  ),\n  transports: [\n    new transports.Console(),\n    new transports.File({ filename: 'app.log' }),\n    new transports.File({ filename: 'error.log', level: 'error' })\n  ]\n});\n\nmodule.exports = logger;\n```\n\n설명:\n\n- transports.File('filename: ‘error.log’, level: ‘error’'): 에러 메시지를 별도의 파일에 기록합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 커스텀 로그 레벨 만들기:\n\n윈스턴(Winston)에서 자체적인 로그 레벨을 정의할 수 있습니다. 기본 레벨로는 충분하지 않은 특정 요구 사항이 있을 때 유용합니다.\n\n```js\n// logger.js\n\nconst { createLogger, format, transports, config } = require('winston');\n\nconst customLevels = {\n  levels: {\n    critical: 0,\n    error: 1,\n    warn: 2,\n    info: 3,\n    debug: 4\n  },\n  colors: {\n    critical: 'red',\n    error: 'red',\n    warn: 'yellow',\n    info: 'green',\n    debug: 'blue'\n  }\n};\n\nconst logger = createLogger({\n  levels: customLevels.levels,\n  level: 'info', // 기본 로그 레벨 설정\n  format: format.combine(\n    format.colorize({ all: true }),\n    format.timestamp(),\n    format.printf(({ timestamp, level, message }) =\u003e `${timestamp} ${level}: ${message}`)\n  ),\n  transports: [\n    new transports.Console(),\n    new transports.File({ filename: 'app.log' })\n  ]\n});\n\nwinston.addColors(customLevels.colors);\n\nmodule.exports = logger;\n```\n\n설명:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- customLevels: 사용자 정의 로깅 수준 및 해당하는 색상을 정의합니다.\n- winston.addColors: 로깅 수준에 사용자 정의 색상을 적용합니다.\n\n# 매일 로그 파일에 로깅하기:\n\nwinston-daily-rotate-file 전송을 사용하여 매일 새로운 로그 파일을 생성할 수 있습니다.\n\nwinston-daily-rotate-file를 설치하세요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```jsx\nnpm install winston-daily-rotate-file\n\n매일 로테이트 파일 전송을 구성하세요:\n\n// logger.js\n\nconst { createLogger, format, transports } = require('winston');\nconst DailyRotateFile = require('winston-daily-rotate-file');\n\nconst logger = createLogger({\n  level: 'info',\n  format: format.combine(\n    format.timestamp(),\n    format.printf(({ timestamp, level, message }) =\u003e `${timestamp} ${level}: ${message}`)\n  ),\n  transports: [\n    new transports.Console(),\n    new DailyRotateFile({\n      filename: 'application-%DATE%.log',\n      datePattern: 'YYYY-MM-DD',\n      zippedArchive: true,\n      maxSize: '20m',\n      maxFiles: '14d'\n    })\n  ]\n});\n\nmodule.exports = logger;\n\n설명:\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- DailyRotateFile: 지정된 날짜 패턴으로 매일 새 로그 파일을 생성합니다.\n- zippedArchive: 이전 로그 파일을 압축합니다.\n- maxSize: 로테이션하기 전 로그 파일의 최대 크기입니다.\n- maxFiles: 로그 파일을 유지하는 최대 일수입니다.\n\n# Express 애플리케이션에서 Winston 사용하기:\n\nWinston을 Express 애플리케이션에 통합하여 HTTP 요청과 오류에 대한 로깅을 처리하세요.\n\nExpress 설치하기:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nnpm install express\n```\n\nWinston을 이용한 Express 서버 설정:\n\n```js\n// server.js\n\nconst express = require('express');\nconst logger = require('./logger');\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// HTTP 요청을 로깅하는 미들웨어\napp.use((req, res, next) =\u003e {\n  logger.http(`${req.method} ${req.url}`);\n  next();\n});\n\napp.get('/', (req, res) =\u003e {\n  res.send('Hello, World!');\n});\n\n// 에러 처리 미들웨어\napp.use((err, req, res, next) =\u003e {\n  logger.error(err.message);\n  res.status(500).send('Internal Server Error');\n});\n\napp.listen(PORT, () =\u003e {\n  logger.info(`서버가 http://localhost:${PORT} 에서 실행 중입니다.`);\n});\n```\n\n설명:\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- HTTP 요청 로깅: 미들웨어는 logger.http를 사용하여 수신된 모든 HTTP 요청을 로깅합니다.\n- 오류 처리 미들웨어: logger.error를 사용하여 오류를 로깅합니다.\n\n# 결론:\n\nWinston을 Node.js 애플리케이션에 통합함으로써 더욱 강력하고 유연한 로깅 시스템을 구축할 수 있습니다. 이를 통해 코드를 보다 효율적으로 디버깅, 모니터링 및 유지보수할 수 있습니다. 콘솔, 파일 또는 외부 서비스로 로그를 기록해야 하는 경우, Winston의 다양한 기능이 Node.js 로깅에 우수한 선택이 될 것입니다.","ogImage":{"url":"/assets/img/2024-06-23-UsingWinstonforLogginginNodejsApplications_0.png"},"coverImage":"/assets/img/2024-06-23-UsingWinstonforLogginginNodejsApplications_0.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e로그 기록은 모든 애플리케이션에서 중요한 부분입니다. 디버깅, 모니터링 및 코드 유지 관리에 도움이 됩니다. 유연성과 기능이 풍부한 기능으로 Node.js에서 가장 인기 있는 로깅 라이브러리 중 하나인 Winston에 대해 알아보겠습니다. 이 기사에서는 Node.js 애플리케이션에 Winston을 통합하는 방법과 그 기능을 최대한 활용하는 방법을 살펴보겠습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-UsingWinstonforLogginginNodejsApplications_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e개요:\u003c/h1\u003e\n\u003cp\u003e이 튜토리얼에서 다룰 내용은:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eNode.js 프로젝트에서 Winston 설정하기.\u003c/li\u003e\n\u003cli\u003e다른 로깅 레벨 구성하기.\u003c/li\u003e\n\u003cli\u003e사용자 정의 로그 형식 만들기.\u003c/li\u003e\n\u003cli\u003e여러 전송 방법 (콘솔, 파일 등)으로 로깅하기.\u003c/li\u003e\n\u003cli\u003e사용자 정의 로그 레벨 만들기.\u003c/li\u003e\n\u003cli\u003e매일 로그 파일에 로깅하기.\u003c/li\u003e\n\u003cli\u003eExpress 애플리케이션에서 Winston 사용하기.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e준비물:\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eJavaScript 및 Node.js의 기본 지식.\u003c/li\u003e\n\u003cli\u003enpm 및 Express에 익숙해야 합니다 (마지막 단계에서 선택 사항이지만 권장됨).\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e설정:\u003c/h1\u003e\n\u003cp\u003eNode.js 프로젝트를 초기화해봅시다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003emkdir winston-logger-example\ncd winston-logger-example\nnpm init -y\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWinston을 설치해보세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install express winston winston-daily-rotate-file\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e기본 설정:\u003c/h1\u003e\n\u003cp\u003eWinston을 설정하기 위한 logger.js 파일을 만듭니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// logger.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { createLogger, format, transports } = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'winston'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e logger = \u003cspan class=\"hljs-title function_\"\u003ecreateLogger\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003elevel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'info'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eformat\u003c/span\u003e: format.\u003cspan class=\"hljs-title function_\"\u003ecombine\u003c/span\u003e(\n    format.\u003cspan class=\"hljs-title function_\"\u003ecolorize\u003c/span\u003e(),\n    format.\u003cspan class=\"hljs-title function_\"\u003etimestamp\u003c/span\u003e(),\n    format.\u003cspan class=\"hljs-title function_\"\u003eprintf\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e{ timestamp, level, message }\u003c/span\u003e) =\u003e\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${timestamp}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${level}\u003c/span\u003e: \u003cspan class=\"hljs-subst\"\u003e${message}\u003c/span\u003e`\u003c/span\u003e)\n  ),\n  \u003cspan class=\"hljs-attr\"\u003etransports\u003c/span\u003e: [\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eConsole\u003c/span\u003e(),\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eFile\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app.log'\u003c/span\u003e })\n  ]\n});\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = logger;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e설명:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecreateLogger: 새 로거 인스턴스를 초기화합니다.\u003c/li\u003e\n\u003cli\u003eformat.combine: 여러 형식을 결합하는데, 여기에서는 colorize, timestamp, printf를 사용합니다.\u003c/li\u003e\n\u003cli\u003etransports: 로그를 전송할 위치를 지정합니다. 이 예에서는 콘솔과 파일 (app.log)에 로그를 남깁니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e로깅 레벨 구성:\u003c/h1\u003e\n\u003cp\u003eWinston은 error, warn, info, http, verbose, debug, silly와 같은 여러 가지 로깅 레벨을 지원합니다. 캡쳐할 로그의 최소 레벨을 구성할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// logger.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { createLogger, format, transports } = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'winston'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e logger = \u003cspan class=\"hljs-title function_\"\u003ecreateLogger\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003elevels\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eerror\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ewarn\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003einfo\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ehttp\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003everbose\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edebug\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003esilly\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e\n  },\n  \u003cspan class=\"hljs-attr\"\u003elevel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'info'\u003c/span\u003e, \u003cspan class=\"hljs-comment\"\u003e// 기본 로그 레벨 설정\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eformat\u003c/span\u003e: format.\u003cspan class=\"hljs-title function_\"\u003ecombine\u003c/span\u003e(\n    format.\u003cspan class=\"hljs-title function_\"\u003ecolorize\u003c/span\u003e(),\n    format.\u003cspan class=\"hljs-title function_\"\u003etimestamp\u003c/span\u003e(),\n    format.\u003cspan class=\"hljs-title function_\"\u003eprintf\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e{ timestamp, level, message }\u003c/span\u003e) =\u003e\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${timestamp}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${level}\u003c/span\u003e: \u003cspan class=\"hljs-subst\"\u003e${message}\u003c/span\u003e`\u003c/span\u003e)\n  ),\n  \u003cspan class=\"hljs-attr\"\u003etransports\u003c/span\u003e: [\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eConsole\u003c/span\u003e(),\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eFile\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app.log'\u003c/span\u003e })\n  ]\n});\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = logger;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e설명:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003elevels: 사용자 정의 로깅 레벨을 정의합니다.\u003c/li\u003e\n\u003cli\u003elevel: 캡처할 로그의 최소 레벨을 설정합니다 (여기서는 info로 설정되어 있음).\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e로그 레벨 이해:\u003c/h1\u003e\n\u003cp\u003e로그 레벨은 기록되는 메시지의 심각성을 결정합니다. Winston은 npm 스타일 로깅 레벨을 사용하며, 가장 심각한 것부터 가장 적게 심각한 것까지 우선 순위가 정해져 있습니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eerror: (0) 즉각적인 주의가 필요한 오류를 기록하는 데 사용합니다.\u003c/li\u003e\n\u003cli\u003ewarn: (1) 잠재적인 문제를 나타내는 경고 메시지를 기록하는 데 사용합니다.\u003c/li\u003e\n\u003cli\u003einfo: (2) 애플리케이션 진행 상황을 강조하는 정보 메시지를 기록하는 데 사용합니다.\u003c/li\u003e\n\u003cli\u003ehttp: (3) HTTP 요청을 기록하는 데 사용합니다.\u003c/li\u003e\n\u003cli\u003everbose: (4) 디버깅 중 유용한 자세한 정보를 기록하는 데 사용합니다.\u003c/li\u003e\n\u003cli\u003edebug: (5) 디버깅 정보를 기록하는 데 사용합니다.\u003c/li\u003e\n\u003cli\u003esilly: (6) 필요 이상으로 자세한 정보를 기록하는 데 사용합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e덜 심각한 메시지를 필터링하기 위해 최소 로그 레벨을 설정할 수 있습니다. 예를 들어, 로그 레벨을 info로 설정하면 info, warn, error 메시지만 기록됩니다.\u003c/p\u003e\n\u003ch1\u003e사용자 정의 로그 포맷 생성:\u003c/h1\u003e\n\u003cp\u003e필요에 맞게 사용자 정의 로그 포맷을 만들 수 있습니다. 예를 들어, 메타데이터를 추가하거나 로그 메시지 구조를 변경할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// logger.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { createLogger, format, transports } = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'winston'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e customFormat = format.\u003cspan class=\"hljs-title function_\"\u003ecombine\u003c/span\u003e(\n  format.\u003cspan class=\"hljs-title function_\"\u003ecolorize\u003c/span\u003e(),\n  format.\u003cspan class=\"hljs-title function_\"\u003etimestamp\u003c/span\u003e(),\n  format.\u003cspan class=\"hljs-title function_\"\u003eprintf\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e{ timestamp, level, message, ...meta }\u003c/span\u003e) =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${timestamp}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${level}\u003c/span\u003e: \u003cspan class=\"hljs-subst\"\u003e${message}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${\u003cspan class=\"hljs-built_in\"\u003eObject\u003c/span\u003e.keys(meta).length ? \u003cspan class=\"hljs-built_in\"\u003eJSON\u003c/span\u003e.stringify(meta, \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e) : \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e}\u003c/span\u003e`\u003c/span\u003e;\n  })\n);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e logger = \u003cspan class=\"hljs-title function_\"\u003ecreateLogger\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003elevel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'info'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eformat\u003c/span\u003e: customFormat,\n  \u003cspan class=\"hljs-attr\"\u003etransports\u003c/span\u003e: [\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eConsole\u003c/span\u003e(),\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eFile\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app.log'\u003c/span\u003e })\n  ]\n});\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = logger;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e해설:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecustomFormat: 타임스탬프, 로그 레벨, 메시지 및 선택적인 메타데이터를 구조화된 로그 형식으로 결합합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e다중 전송으로 로깅하기:\u003c/h1\u003e\n\u003cp\u003e윈스턴은 서로 다른 파일, 외부 로깅 서비스 또는 콘솔과 같은 여러 대상에 로그를 기록할 수 있어요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// logger.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { createLogger, format, transports } = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'winston'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e logger = \u003cspan class=\"hljs-title function_\"\u003ecreateLogger\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003elevel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'info'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eformat\u003c/span\u003e: format.\u003cspan class=\"hljs-title function_\"\u003ecombine\u003c/span\u003e(\n    format.\u003cspan class=\"hljs-title function_\"\u003etimestamp\u003c/span\u003e(),\n    format.\u003cspan class=\"hljs-title function_\"\u003eprintf\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e{ timestamp, level, message }\u003c/span\u003e) =\u003e\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${timestamp}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${level}\u003c/span\u003e: \u003cspan class=\"hljs-subst\"\u003e${message}\u003c/span\u003e`\u003c/span\u003e)\n  ),\n  \u003cspan class=\"hljs-attr\"\u003etransports\u003c/span\u003e: [\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eConsole\u003c/span\u003e(),\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eFile\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app.log'\u003c/span\u003e }),\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eFile\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'error.log'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003elevel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'error'\u003c/span\u003e })\n  ]\n});\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = logger;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e설명:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etransports.File('filename: ‘error.log’, level: ‘error’'): 에러 메시지를 별도의 파일에 기록합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e커스텀 로그 레벨 만들기:\u003c/h1\u003e\n\u003cp\u003e윈스턴(Winston)에서 자체적인 로그 레벨을 정의할 수 있습니다. 기본 레벨로는 충분하지 않은 특정 요구 사항이 있을 때 유용합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// logger.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { createLogger, format, transports, config } = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'winston'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e customLevels = {\n  \u003cspan class=\"hljs-attr\"\u003elevels\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003ecritical\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eerror\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ewarn\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003einfo\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edebug\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\n  },\n  \u003cspan class=\"hljs-attr\"\u003ecolors\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003ecritical\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'red'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eerror\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'red'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ewarn\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'yellow'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003einfo\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'green'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edebug\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'blue'\u003c/span\u003e\n  }\n};\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e logger = \u003cspan class=\"hljs-title function_\"\u003ecreateLogger\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003elevels\u003c/span\u003e: customLevels.\u003cspan class=\"hljs-property\"\u003elevels\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003elevel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'info'\u003c/span\u003e, \u003cspan class=\"hljs-comment\"\u003e// 기본 로그 레벨 설정\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003eformat\u003c/span\u003e: format.\u003cspan class=\"hljs-title function_\"\u003ecombine\u003c/span\u003e(\n    format.\u003cspan class=\"hljs-title function_\"\u003ecolorize\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003eall\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e }),\n    format.\u003cspan class=\"hljs-title function_\"\u003etimestamp\u003c/span\u003e(),\n    format.\u003cspan class=\"hljs-title function_\"\u003eprintf\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e{ timestamp, level, message }\u003c/span\u003e) =\u003e\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${timestamp}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${level}\u003c/span\u003e: \u003cspan class=\"hljs-subst\"\u003e${message}\u003c/span\u003e`\u003c/span\u003e)\n  ),\n  \u003cspan class=\"hljs-attr\"\u003etransports\u003c/span\u003e: [\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eConsole\u003c/span\u003e(),\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eFile\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app.log'\u003c/span\u003e })\n  ]\n});\n\nwinston.\u003cspan class=\"hljs-title function_\"\u003eaddColors\u003c/span\u003e(customLevels.\u003cspan class=\"hljs-property\"\u003ecolors\u003c/span\u003e);\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = logger;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e설명:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecustomLevels: 사용자 정의 로깅 수준 및 해당하는 색상을 정의합니다.\u003c/li\u003e\n\u003cli\u003ewinston.addColors: 로깅 수준에 사용자 정의 색상을 적용합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e매일 로그 파일에 로깅하기:\u003c/h1\u003e\n\u003cp\u003ewinston-daily-rotate-file 전송을 사용하여 매일 새로운 로그 파일을 생성할 수 있습니다.\u003c/p\u003e\n\u003cp\u003ewinston-daily-rotate-file를 설치하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-jsx\"\u003enpm install winston-daily-rotate-file\n\n매일 로테이트 파일 전송을 구성하세요:\n\n\u003cspan class=\"hljs-comment\"\u003e// logger.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { createLogger, format, transports } = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'winston'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDailyRotateFile\u003c/span\u003e = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'winston-daily-rotate-file'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e logger = \u003cspan class=\"hljs-title function_\"\u003ecreateLogger\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003elevel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'info'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eformat\u003c/span\u003e: format.\u003cspan class=\"hljs-title function_\"\u003ecombine\u003c/span\u003e(\n    format.\u003cspan class=\"hljs-title function_\"\u003etimestamp\u003c/span\u003e(),\n    format.\u003cspan class=\"hljs-title function_\"\u003eprintf\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e{ timestamp, level, message }\u003c/span\u003e) =\u003e\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${timestamp}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${level}\u003c/span\u003e: \u003cspan class=\"hljs-subst\"\u003e${message}\u003c/span\u003e`\u003c/span\u003e)\n  ),\n  \u003cspan class=\"hljs-attr\"\u003etransports\u003c/span\u003e: [\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e transports.\u003cspan class=\"hljs-title class_\"\u003eConsole\u003c/span\u003e(),\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDailyRotateFile\u003c/span\u003e({\n      \u003cspan class=\"hljs-attr\"\u003efilename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'application-%DATE%.log'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003edatePattern\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'YYYY-MM-DD'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003ezippedArchive\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003emaxSize\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'20m'\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003emaxFiles\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'14d'\u003c/span\u003e\n    })\n  ]\n});\n\n\u003cspan class=\"hljs-variable language_\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eexports\u003c/span\u003e = logger;\n\n설명:\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eDailyRotateFile: 지정된 날짜 패턴으로 매일 새 로그 파일을 생성합니다.\u003c/li\u003e\n\u003cli\u003ezippedArchive: 이전 로그 파일을 압축합니다.\u003c/li\u003e\n\u003cli\u003emaxSize: 로테이션하기 전 로그 파일의 최대 크기입니다.\u003c/li\u003e\n\u003cli\u003emaxFiles: 로그 파일을 유지하는 최대 일수입니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eExpress 애플리케이션에서 Winston 사용하기:\u003c/h1\u003e\n\u003cp\u003eWinston을 Express 애플리케이션에 통합하여 HTTP 요청과 오류에 대한 로깅을 처리하세요.\u003c/p\u003e\n\u003cp\u003eExpress 설치하기:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install express\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWinston을 이용한 Express 서버 설정:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// server.js\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'express'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e logger = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'./logger'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003eexpress\u003c/span\u003e();\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e = process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ePORT\u003c/span\u003e || \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// HTTP 요청을 로깅하는 미들웨어\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res, next\u003c/span\u003e) =\u003e\u003c/span\u003e {\n  logger.\u003cspan class=\"hljs-title function_\"\u003ehttp\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${req.method}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${req.url}\u003c/span\u003e`\u003c/span\u003e);\n  \u003cspan class=\"hljs-title function_\"\u003enext\u003c/span\u003e();\n});\n\napp.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n  res.\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Hello, World!'\u003c/span\u003e);\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// 에러 처리 미들웨어\u003c/span\u003e\napp.\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerr, req, res, next\u003c/span\u003e) =\u003e\u003c/span\u003e {\n  logger.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(err.\u003cspan class=\"hljs-property\"\u003emessage\u003c/span\u003e);\n  res.\u003cspan class=\"hljs-title function_\"\u003estatus\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Internal Server Error'\u003c/span\u003e);\n});\n\napp.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n  logger.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`서버가 http://localhost:\u003cspan class=\"hljs-subst\"\u003e${PORT}\u003c/span\u003e 에서 실행 중입니다.`\u003c/span\u003e);\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e설명:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eHTTP 요청 로깅: 미들웨어는 logger.http를 사용하여 수신된 모든 HTTP 요청을 로깅합니다.\u003c/li\u003e\n\u003cli\u003e오류 처리 미들웨어: logger.error를 사용하여 오류를 로깅합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e결론:\u003c/h1\u003e\n\u003cp\u003eWinston을 Node.js 애플리케이션에 통합함으로써 더욱 강력하고 유연한 로깅 시스템을 구축할 수 있습니다. 이를 통해 코드를 보다 효율적으로 디버깅, 모니터링 및 유지보수할 수 있습니다. 콘솔, 파일 또는 외부 서비스로 로그를 기록해야 하는 경우, Winston의 다양한 기능이 Node.js 로깅에 우수한 선택이 될 것입니다.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-23-UsingWinstonforLogginginNodejsApplications"},"buildId":"t9N7vwmpvBMQnO2PSctoH","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>