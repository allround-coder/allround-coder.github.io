<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Python Async Await  사용해본 후 배운 7가지 교훈 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Python Async Await  사용해본 후 배운 7가지 교훈 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="Python Async Await  사용해본 후 배운 7가지 교훈 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile" data-gatsby-head="true"/><meta name="twitter:title" content="Python Async Await  사용해본 후 배운 7가지 교훈 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-22 02:38" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_buildManifest.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Python Async Await  사용해본 후 배운 7가지 교훈</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Python Async Await  사용해본 후 배운 7가지 교훈" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 22, 2024</span><span class="posts_reading_time__f7YPP">4<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p><img src="/assets/img/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile_0.png" alt="이미지"></p>
<h1>1) "async def"를 사용하면 비동기 함수를 작성할 수 있습니다</h1>
<pre><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>

<span class="hljs-built_in">print</span>(hello)  <span class="hljs-comment"># &#x3C;function hello at 0x100ce8e00></span>
</code></pre>
<p>^ 여기에 일반 함수가 있습니다</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>

<span class="hljs-built_in">print</span>(hello)  <span class="hljs-comment"># &#x3C;function hello at 0x102b58e00></span>
</code></pre>
<p>여기에 async def 키워드를 사용하여 생성된 비동기 함수가 있습니다. 출력했을 때에도 여전히 함수 형식으로 출력되는 것을 볼 수 있습니다.</p>
<h1>2) 비동기 함수 호출은 코루틴을 반환합니다.</h1>
<pre><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>

<span class="hljs-built_in">print</span>(hello())  <span class="hljs-comment"># hello</span>
</code></pre>
<p>^ 일반 함수 호출 예입니다 - 'hello' 문자열을 반환하는단 뜻이에요</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">async</span> def <span class="hljs-title function_">hello</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>

<span class="hljs-title function_">print</span>(<span class="hljs-title function_">hello</span>())  

# &#x3C;coroutine object hello at <span class="hljs-number">0x10276f320</span>>

# <span class="hljs-title class_">RuntimeWarning</span>: coroutine <span class="hljs-string">'hello'</span> was never awaited
</code></pre>
<p>^ 일반 함수처럼 async 함수를 호출할 때 반환 값 대신 코루틴 객체가 반환됩니다.</p>
<p>^ 또한 RuntimeWarning: coroutine 'hello' was never awaited 메시지가 표시됩니다 - 코루틴은 일반적으로 await를 사용하여 대기해야 합니다(잠시 후에 설명하겠습니다)</p>
<h1>3) 코루틴의 의미</h1>
<p>코루틴은 일시적으로 일시 중단 및 재개될 수있는 특별한 기능인 함수입니다. 다른 작업이 실행 중일 때 일시 중단 및 재개될 수 있는 기능이기도 합니다. 또한 다른 코루틴에게 일시적으로 제어를 양도할 수도 있습니다.</p>
<p>이를 통해 우리는 동시에 하나 이상의 작업을 동시에 실행할 수 있게 됩니다.</p>
<h1>4) “asyncio.run()”을 사용하여 코루틴을 직접 실행할 수 있습니다</h1>
<pre><code class="hljs language-js"><span class="hljs-keyword">async</span> def <span class="hljs-title function_">hello</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>

<span class="hljs-title function_">print</span>(<span class="hljs-title function_">hello</span>())

# &#x3C;coroutine object hello at <span class="hljs-number">0x10276f320</span>>

# <span class="hljs-title class_">RuntimeWarning</span>: coroutine <span class="hljs-string">'hello'</span> was never awaited
</code></pre>
<p>^ 이것이 코루틴을 실행하는 방법이 아닙니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> asyncio

<span class="hljs-keyword">async</span> def <span class="hljs-title function_">hello</span>():
    <span class="hljs-title function_">print</span>(<span class="hljs-string">'running hello coroutine'</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>

asyncio.<span class="hljs-title function_">run</span>(<span class="hljs-title function_">hello</span>()) # running hello coroutine
</code></pre>
<p>^ 이것이 코루틴을 실행하는 방법입니다.</p>
<p>주의 — asyncio는 파이썬 표준 라이브러리의 일부이므로 Python과 함께 설치되어 있으며이 작동하도록 추가로 제3자 라이브러리를 설치할 필요가 없습니다. asyncio를 가져와서 사용할 수 있습니다.</p>
<h1>5) 코루틴 실행에 "await" 사용하기</h1>
<p>hello 코루틴과 main 코루틴이 있다고 가정해 봅시다.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> asyncio

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'hello 코루틴 실행 중'</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    x = <span class="hljs-keyword">await</span> hello()
    <span class="hljs-built_in">print</span>(x)

asyncio.run(main())    

<span class="hljs-comment"># hello 코루틴 실행 중</span>
<span class="hljs-comment"># hello</span>
</code></pre>
<p>^ 다른 코루틴 메인 안에서 hello를 호출하려면 await 키워드를 사용해야 합니다.</p>
<p>await hello()를 "hello()가 끝날 때까지 기다렸다가 반환 값을 x에 할당한다"고 생각할 수 있습니다. 이것이 x를 출력할 때 hello를 얻는 이유입니다.</p>
<h1>6) "await"는 "async def"를 사용하여 정의된 함수에서만 사용할 수 있습니다</h1>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> asyncio

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'hello 코루틴 실행 중'</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>():
    x = <span class="hljs-keyword">await</span> hello()
    <span class="hljs-built_in">print</span>(x)

asyncio.run(test())
</code></pre>
<p>여기서는 일반 함수 테스트 안에 await를 사용하려고 시도했기 때문에 SyntaxError가 발생합니다.</p>
<p>await 키워드를 사용하려면 async def를 사용하여 정의된 async 함수 내에 있어야 합니다.</p>
<p>asyncio.gather를 사용하여 둘 이상의 코루틴을 동시에 실행할 수 있습니다.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> asyncio

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'시작'</span>)
    <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'끝'</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-keyword">await</span> asyncio.gather(hello(), hello(), hello())

asyncio.run(main())

<span class="hljs-comment"># 시작</span>
<span class="hljs-comment"># 시작</span>
<span class="hljs-comment"># 시작</span>
<span class="hljs-comment"># 끝</span>
<span class="hljs-comment"># 끝</span>
<span class="hljs-comment"># 끝</span>
</code></pre>
<ul>
<li>이 스크립트를 실행할 때, 먼저 3개의 start가 출력됩니다.</li>
<li>약 1초 지연 후, 3개의 end가 출력됩니다.</li>
</ul>
<p>무슨 일이 일어나고 있을까요?</p>
<ul>
<li>asyncio.sleep(1)은 우리의 코루틴을 1초간 재우게 합니다.</li>
<li>asyncio.gather는 3개의 hello() 코루틴을 동시에 동시에 실행시킵니다.</li>
<li>이것이 모든 start가 함께 출력되고, 모든 end도 함께 출력되는 이유입니다.</li>
</ul>
<h1>만약 제작자로서 저를 지원하고 싶다면</h1>
<ul>
<li>이 이야기에 대해 50번 박수를 쳐주세요</li>
<li>여러분의 생각을 말씀해 주세요</li>
<li>이야기에서 가장 좋았던 부분을 강조해 주세요</li>
</ul>
<p>감사합니다! 이 작은 행동들이 큰 도움이 되고, 정말 감사드립니다!</p>
<p>YouTube: <a href="https://www.youtube.com/@zlliu246" rel="nofollow" target="_blank">https://www.youtube.com/@zlliu246</a></p>
<p>LinkedIn: <a href="https://www.linkedin.com/in/zlliu/" rel="nofollow" target="_blank">https://www.linkedin.com/in/zlliu/</a></p>
<p>제 Ebooks: <a href="https://zlliu.co/ebooks" rel="nofollow" target="_blank">https://zlliu.co/ebooks</a></p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Python Async Await  사용해본 후 배운 7가지 교훈","description":"","date":"2024-06-22 02:38","slug":"2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile","content":"\n\n\n![이미지](/assets/img/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile_0.png)\n\n# 1) \"async def\"를 사용하면 비동기 함수를 작성할 수 있습니다\n\n```python\ndef hello():\n    return 'hello'\n\nprint(hello)  # \u003cfunction hello at 0x100ce8e00\u003e\n```\n\n^ 여기에 일반 함수가 있습니다\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```python\nasync def hello():\n    return 'hello'\n\nprint(hello)  # \u003cfunction hello at 0x102b58e00\u003e\n```\n\n여기에 async def 키워드를 사용하여 생성된 비동기 함수가 있습니다. 출력했을 때에도 여전히 함수 형식으로 출력되는 것을 볼 수 있습니다.\n\n# 2) 비동기 함수 호출은 코루틴을 반환합니다.\n\n```python\ndef hello():\n    return 'hello'\n\nprint(hello())  # hello\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n^ 일반 함수 호출 예입니다 - 'hello' 문자열을 반환하는단 뜻이에요\n\n```js\nasync def hello():\n    return 'hello'\n\nprint(hello())  \n\n# \u003ccoroutine object hello at 0x10276f320\u003e\n\n# RuntimeWarning: coroutine 'hello' was never awaited\n```\n\n^ 일반 함수처럼 async 함수를 호출할 때 반환 값 대신 코루틴 객체가 반환됩니다.\n\n^ 또한 RuntimeWarning: coroutine 'hello' was never awaited 메시지가 표시됩니다 - 코루틴은 일반적으로 await를 사용하여 대기해야 합니다(잠시 후에 설명하겠습니다)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 3) 코루틴의 의미\n\n코루틴은 일시적으로 일시 중단 및 재개될 수있는 특별한 기능인 함수입니다. 다른 작업이 실행 중일 때 일시 중단 및 재개될 수 있는 기능이기도 합니다. 또한 다른 코루틴에게 일시적으로 제어를 양도할 수도 있습니다.\n\n이를 통해 우리는 동시에 하나 이상의 작업을 동시에 실행할 수 있게 됩니다.\n\n# 4) “asyncio.run()”을 사용하여 코루틴을 직접 실행할 수 있습니다\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nasync def hello():\n    return 'hello'\n\nprint(hello())\n\n# \u003ccoroutine object hello at 0x10276f320\u003e\n\n# RuntimeWarning: coroutine 'hello' was never awaited\n```\n\n^ 이것이 코루틴을 실행하는 방법이 아닙니다.\n\n```js\nimport asyncio\n\nasync def hello():\n    print('running hello coroutine')\n    return 'hello'\n\nasyncio.run(hello()) # running hello coroutine\n```\n\n^ 이것이 코루틴을 실행하는 방법입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n주의 — asyncio는 파이썬 표준 라이브러리의 일부이므로 Python과 함께 설치되어 있으며이 작동하도록 추가로 제3자 라이브러리를 설치할 필요가 없습니다. asyncio를 가져와서 사용할 수 있습니다.\n\n# 5) 코루틴 실행에 \"await\" 사용하기\n\nhello 코루틴과 main 코루틴이 있다고 가정해 봅시다.\n\n```python\nimport asyncio\n\nasync def hello():\n    print('hello 코루틴 실행 중')\n    return 'hello'\n\nasync def main():\n    x = await hello()\n    print(x)\n\nasyncio.run(main())    \n\n# hello 코루틴 실행 중\n# hello\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n^ 다른 코루틴 메인 안에서 hello를 호출하려면 await 키워드를 사용해야 합니다.\n\nawait hello()를 \"hello()가 끝날 때까지 기다렸다가 반환 값을 x에 할당한다\"고 생각할 수 있습니다. 이것이 x를 출력할 때 hello를 얻는 이유입니다.\n\n# 6) \"await\"는 \"async def\"를 사용하여 정의된 함수에서만 사용할 수 있습니다\n\n```python\nimport asyncio\n\nasync def hello():\n    print('hello 코루틴 실행 중')\n    return 'hello'\n\nasync def test():\n    x = await hello()\n    print(x)\n\nasyncio.run(test())\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n여기서는 일반 함수 테스트 안에 await를 사용하려고 시도했기 때문에 SyntaxError가 발생합니다.\n\nawait 키워드를 사용하려면 async def를 사용하여 정의된 async 함수 내에 있어야 합니다.\n\nasyncio.gather를 사용하여 둘 이상의 코루틴을 동시에 실행할 수 있습니다.\n\n```python\nimport asyncio\n\nasync def hello():\n    print('시작')\n    await asyncio.sleep(1)\n    print('끝')\n\nasync def main():\n    await asyncio.gather(hello(), hello(), hello())\n\nasyncio.run(main())\n\n# 시작\n# 시작\n# 시작\n# 끝\n# 끝\n# 끝\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 이 스크립트를 실행할 때, 먼저 3개의 start가 출력됩니다.\n- 약 1초 지연 후, 3개의 end가 출력됩니다.\n\n무슨 일이 일어나고 있을까요?\n\n- asyncio.sleep(1)은 우리의 코루틴을 1초간 재우게 합니다.\n- asyncio.gather는 3개의 hello() 코루틴을 동시에 동시에 실행시킵니다.\n- 이것이 모든 start가 함께 출력되고, 모든 end도 함께 출력되는 이유입니다.\n\n# 만약 제작자로서 저를 지원하고 싶다면\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 이 이야기에 대해 50번 박수를 쳐주세요\n- 여러분의 생각을 말씀해 주세요\n- 이야기에서 가장 좋았던 부분을 강조해 주세요\n\n감사합니다! 이 작은 행동들이 큰 도움이 되고, 정말 감사드립니다!\n\nYouTube: https://www.youtube.com/@zlliu246\n\nLinkedIn: https://www.linkedin.com/in/zlliu/\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n제 Ebooks: [https://zlliu.co/ebooks](https://zlliu.co/ebooks)","ogImage":{"url":"/assets/img/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile_0.png"},"coverImage":"/assets/img/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile_0.png","tag":["Tech"],"readingTime":4},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e1) \"async def\"를 사용하면 비동기 함수를 작성할 수 있습니다\u003c/h1\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e\n\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(hello)  \u003cspan class=\"hljs-comment\"\u003e# \u0026#x3C;function hello at 0x100ce8e00\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e^ 여기에 일반 함수가 있습니다\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e\n\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(hello)  \u003cspan class=\"hljs-comment\"\u003e# \u0026#x3C;function hello at 0x102b58e00\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e여기에 async def 키워드를 사용하여 생성된 비동기 함수가 있습니다. 출력했을 때에도 여전히 함수 형식으로 출력되는 것을 볼 수 있습니다.\u003c/p\u003e\n\u003ch1\u003e2) 비동기 함수 호출은 코루틴을 반환합니다.\u003c/h1\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e\n\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(hello())  \u003cspan class=\"hljs-comment\"\u003e# hello\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e^ 일반 함수 호출 예입니다 - 'hello' 문자열을 반환하는단 뜻이에요\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e def \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e\n\n\u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e())  \n\n# \u0026#x3C;coroutine object hello at \u003cspan class=\"hljs-number\"\u003e0x10276f320\u003c/span\u003e\u003e\n\n# \u003cspan class=\"hljs-title class_\"\u003eRuntimeWarning\u003c/span\u003e: coroutine \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e was never awaited\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e^ 일반 함수처럼 async 함수를 호출할 때 반환 값 대신 코루틴 객체가 반환됩니다.\u003c/p\u003e\n\u003cp\u003e^ 또한 RuntimeWarning: coroutine 'hello' was never awaited 메시지가 표시됩니다 - 코루틴은 일반적으로 await를 사용하여 대기해야 합니다(잠시 후에 설명하겠습니다)\u003c/p\u003e\n\u003ch1\u003e3) 코루틴의 의미\u003c/h1\u003e\n\u003cp\u003e코루틴은 일시적으로 일시 중단 및 재개될 수있는 특별한 기능인 함수입니다. 다른 작업이 실행 중일 때 일시 중단 및 재개될 수 있는 기능이기도 합니다. 또한 다른 코루틴에게 일시적으로 제어를 양도할 수도 있습니다.\u003c/p\u003e\n\u003cp\u003e이를 통해 우리는 동시에 하나 이상의 작업을 동시에 실행할 수 있게 됩니다.\u003c/p\u003e\n\u003ch1\u003e4) “asyncio.run()”을 사용하여 코루틴을 직접 실행할 수 있습니다\u003c/h1\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e def \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e\n\n\u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e())\n\n# \u0026#x3C;coroutine object hello at \u003cspan class=\"hljs-number\"\u003e0x10276f320\u003c/span\u003e\u003e\n\n# \u003cspan class=\"hljs-title class_\"\u003eRuntimeWarning\u003c/span\u003e: coroutine \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e was never awaited\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e^ 이것이 코루틴을 실행하는 방법이 아닙니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e asyncio\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e def \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e():\n    \u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'running hello coroutine'\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e\n\nasyncio.\u003cspan class=\"hljs-title function_\"\u003erun\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e()) # running hello coroutine\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e^ 이것이 코루틴을 실행하는 방법입니다.\u003c/p\u003e\n\u003cp\u003e주의 — asyncio는 파이썬 표준 라이브러리의 일부이므로 Python과 함께 설치되어 있으며이 작동하도록 추가로 제3자 라이브러리를 설치할 필요가 없습니다. asyncio를 가져와서 사용할 수 있습니다.\u003c/p\u003e\n\u003ch1\u003e5) 코루틴 실행에 \"await\" 사용하기\u003c/h1\u003e\n\u003cp\u003ehello 코루틴과 main 코루틴이 있다고 가정해 봅시다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e asyncio\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e():\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'hello 코루틴 실행 중'\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003emain\u003c/span\u003e():\n    x = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e hello()\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(x)\n\nasyncio.run(main())    \n\n\u003cspan class=\"hljs-comment\"\u003e# hello 코루틴 실행 중\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# hello\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e^ 다른 코루틴 메인 안에서 hello를 호출하려면 await 키워드를 사용해야 합니다.\u003c/p\u003e\n\u003cp\u003eawait hello()를 \"hello()가 끝날 때까지 기다렸다가 반환 값을 x에 할당한다\"고 생각할 수 있습니다. 이것이 x를 출력할 때 hello를 얻는 이유입니다.\u003c/p\u003e\n\u003ch1\u003e6) \"await\"는 \"async def\"를 사용하여 정의된 함수에서만 사용할 수 있습니다\u003c/h1\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e asyncio\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e():\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'hello 코루틴 실행 중'\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'hello'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e():\n    x = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e hello()\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(x)\n\nasyncio.run(test())\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e여기서는 일반 함수 테스트 안에 await를 사용하려고 시도했기 때문에 SyntaxError가 발생합니다.\u003c/p\u003e\n\u003cp\u003eawait 키워드를 사용하려면 async def를 사용하여 정의된 async 함수 내에 있어야 합니다.\u003c/p\u003e\n\u003cp\u003easyncio.gather를 사용하여 둘 이상의 코루틴을 동시에 실행할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e asyncio\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehello\u003c/span\u003e():\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'시작'\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e asyncio.sleep(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'끝'\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003emain\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e asyncio.gather(hello(), hello(), hello())\n\nasyncio.run(main())\n\n\u003cspan class=\"hljs-comment\"\u003e# 시작\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# 시작\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# 시작\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# 끝\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# 끝\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# 끝\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e이 스크립트를 실행할 때, 먼저 3개의 start가 출력됩니다.\u003c/li\u003e\n\u003cli\u003e약 1초 지연 후, 3개의 end가 출력됩니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e무슨 일이 일어나고 있을까요?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003easyncio.sleep(1)은 우리의 코루틴을 1초간 재우게 합니다.\u003c/li\u003e\n\u003cli\u003easyncio.gather는 3개의 hello() 코루틴을 동시에 동시에 실행시킵니다.\u003c/li\u003e\n\u003cli\u003e이것이 모든 start가 함께 출력되고, 모든 end도 함께 출력되는 이유입니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e만약 제작자로서 저를 지원하고 싶다면\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e이 이야기에 대해 50번 박수를 쳐주세요\u003c/li\u003e\n\u003cli\u003e여러분의 생각을 말씀해 주세요\u003c/li\u003e\n\u003cli\u003e이야기에서 가장 좋았던 부분을 강조해 주세요\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e감사합니다! 이 작은 행동들이 큰 도움이 되고, 정말 감사드립니다!\u003c/p\u003e\n\u003cp\u003eYouTube: \u003ca href=\"https://www.youtube.com/@zlliu246\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://www.youtube.com/@zlliu246\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eLinkedIn: \u003ca href=\"https://www.linkedin.com/in/zlliu/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://www.linkedin.com/in/zlliu/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e제 Ebooks: \u003ca href=\"https://zlliu.co/ebooks\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://zlliu.co/ebooks\u003c/a\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-22-PythonAsyncAwait7ThingsILearntAfterDealingWithThemForAWhile"},"buildId":"t9N7vwmpvBMQnO2PSctoH","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>