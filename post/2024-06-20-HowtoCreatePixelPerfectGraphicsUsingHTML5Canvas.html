<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>HTML5 캔버스를 사용하여 픽셀 완벽한 그래픽 만들기 방법 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-20-HowtoCreatePixelPerfectGraphicsUsingHTML5Canvas" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="HTML5 캔버스를 사용하여 픽셀 완벽한 그래픽 만들기 방법 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="HTML5 캔버스를 사용하여 픽셀 완벽한 그래픽 만들기 방법 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-HowtoCreatePixelPerfectGraphicsUsingHTML5Canvas_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-20-HowtoCreatePixelPerfectGraphicsUsingHTML5Canvas" data-gatsby-head="true"/><meta name="twitter:title" content="HTML5 캔버스를 사용하여 픽셀 완벽한 그래픽 만들기 방법 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-HowtoCreatePixelPerfectGraphicsUsingHTML5Canvas_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 06:07" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/QH5Mz7n7Y6w0r4_gCGFQf/_buildManifest.js" defer=""></script><script src="/_next/static/QH5Mz7n7Y6w0r4_gCGFQf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">HTML5 캔버스를 사용하여 픽셀 완벽한 그래픽 만들기 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="HTML5 캔버스를 사용하여 픽셀 완벽한 그래픽 만들기 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">9<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-HowtoCreatePixelPerfectGraphicsUsingHTML5Canvas&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>진짜 8비트 시각을 위한 캔버스 그래픽 마스터링 단계별 안내서입니다.</p>
<p>이 포스트에서는 픽셀 완벽한 웹 게임을 만들기 위한 기반을 구축할 것입니다. "픽셀 완벽"이란 모든 픽셀이 선명하고 흐릿하지 않다는 것을 의미합니다. 이 자습서를 완료하면 픽셀화된 별 배경 위에 두 개의 이동하는 직사각형을 애니메이션하는 단일 HTML 파일이 생깁니다.</p>
<p>다음 세 단계로 진행하겠습니다:</p>
<ol>
<li>캔버스가 올바르게 크기 조정되는 기본 HTML 구조 설정</li>
</ol>
<div class="content-ad"></div>
<h1>직사각형과 별을 그려보세요</h1>
<h1>이미지 흐림 방지, 모든 픽셀을 선명하게 설정</h1>
<h1>크기 조절 가능한 캔버스</h1>
<p>한 가지 HTML5 캔버스를 가진 간단한 HTML 페이지를 만들 것입니다. 이 캔버스는 브라우저 창 크기가 변경될 때 동적으로 크기가 조정됩니다. 정수 스케일링 상수를 사용하여 스케일링이 균일한 픽셀 크기를 유지하는지 제어할 수 있습니다. 정수 스케일링을 true로 설정하면 모든 픽셀이 동일한 크기를 유지합니다. 단점은 정수 스케일링으로 인해 일부 브라우저 창 크기에 따라 캔버스 주변에 더 큰 테두리가 생길 수 있다는 점입니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">&#x3C;!<span class="hljs-variable constant_">DOCTYPE</span> html>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">head</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">title</span>></span>빈 크기 조절 캔버스<span class="hljs-tag">&#x3C;/<span class="hljs-name">title</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">style</span>></span><span class="css">
      <span class="hljs-selector-tag">html</span>,
      <span class="hljs-selector-tag">body</span> {
        <span class="hljs-attribute">display</span>: flex;
        <span class="hljs-attribute">justify-content</span>: center;
        <span class="hljs-attribute">align-items</span>: center;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#887ecb</span>;
      }
    
      <span class="hljs-selector-class">.canvas-container</span> {
        <span class="hljs-attribute">display</span>: flex;
        <span class="hljs-attribute">justify-content</span>: center;
        <span class="hljs-attribute">align-items</span>: center;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
      }

      <span class="hljs-selector-id">#gameCanvas</span> {
        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#50459b</span>;
        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">max-height</span>: <span class="hljs-number">100%</span>;
      }
    </span><span class="hljs-tag">&#x3C;/<span class="hljs-name">style</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">head</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">body</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"canvas-container"</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"64"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"36"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">canvas</span>></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">script</span>></span><span class="javascript">
      <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">INTEGER_SCALING</span> = <span class="hljs-literal">true</span>;

      <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"gameCanvas"</span>);

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">resizeCanvas</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">let</span> scale = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(
          <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / canvas.<span class="hljs-property">width</span>,
          <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> / canvas.<span class="hljs-property">height</span>
        );
        <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">INTEGER_SCALING</span>) {
          scale = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(scale);
        }
        canvas.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.round(scale * canvas.width)}</span>px`</span>;
        canvas.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.round(scale * canvas.height)}</span>px`</span>;
      }

      <span class="hljs-title function_">resizeCanvas</span>();
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"resize"</span>, resizeCanvas);
    </span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">body</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">html</span>></span></span>
</code></pre>
<p>위 코드의 주요 포인트는 크기 조절 이벤트에 등록하고 이벤트가 발생할 때마다 페이지의 캔버스 크기를 변경하는 것입니다. 스케일은 내부 캔버스 크기가 화면에 가장 적은 수의 배에 맞도록 계산됩니다. 이는 다른 방향으로 테두리를 유발할 수 있지만 내부 캔버스 크기의 종횡비를 유지합니다.</p>
<p>창의 크기를 조정하면 캔버스 크기가 변경되는 것을 확인할 수 있습니다. 또한 INTEGER_SCALING 값을 false로 변경하여 캔버스가 항상 창을 가로 또는 세로로 채우는 방법을 확인해보세요.</p>
<h1>캔버스에 그리기</h1>
<div class="content-ad"></div>
<p>캔버스에 그리기 위해서는 먼저 캔버스의 컨텍스트를 가져와야 합니다. 투명한 픽셀을 남기지 않을 것이기 때문에 알파값을 false로 설정합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"gameCanvas"</span>);
<span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, { <span class="hljs-attr">alpha</span>: <span class="hljs-literal">false</span> });
</code></pre>
<p>간단하게 유지하기 위해 이 게시물에서는 사각형만 그릴 것입니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">drawRectangle</span>(<span class="hljs-params">x, y, width, height, color</span>) {
  ctx.<span class="hljs-property">fillStyle</span> = color;
  ctx.<span class="hljs-title function_">fillRect</span>(x, y, width, height);
}
</code></pre>
<div class="content-ad"></div>
<p>그럼 우리는 배경을 위해 200개의 별을 만듭니다. 별은 색에 따라 정렬되어 있으므로 덜 밝은 별이 더 밝은 별 위에 그려지지 않습니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createStar</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> color = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">256</span>);
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">x</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * canvas.<span class="hljs-property">width</span>,
    <span class="hljs-attr">y</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * canvas.<span class="hljs-property">height</span>,
    <span class="hljs-attr">color</span>: color,
    <span class="hljs-attr">fillStyle</span>: <span class="hljs-string">`rgb(<span class="hljs-subst">${color}</span>, <span class="hljs-subst">${color}</span>, <span class="hljs-subst">${color}</span>)`</span>,
  }; 
}

<span class="hljs-keyword">const</span> stars = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">200</span> }, createStar).<span class="hljs-title function_">sort</span>(
  <span class="hljs-function">(<span class="hljs-params">a, b</span>) =></span> a.<span class="hljs-property">color</span> - b.<span class="hljs-property">color</span>
);
</code></pre>
<p>우리는 requestAnimationFrame을 사용하여 게임 루프가 필요한 매 프레임마다 발생하도록 만듭니다. gameLoop이 호출될 속도는 "일반적으로 디스플레이 새로고침 속도와 일치"합니다. 많은 경우에 초당 60프레임인 경우가 많지만 다를 수도 있습니다. <code>now</code> 매개변수는 이전 프레임 렌더링의 밀리초를 나타냅니다. 애니메이션 중에 이 시간을 사용하는 것이 중요하며 일정한 프레임 속도를 가정하는 대신 해당 시간을 사용해야 합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">gameLoop</span>(<span class="hljs-params">now</span>) {
  <span class="hljs-title function_">draw</span>(now);
  <span class="hljs-title function_">requestAnimationFrame</span>(gameLoop);
}
<span class="hljs-title function_">gameLoop</span>();
</code></pre>
<div class="content-ad"></div>
<p>이제 재미있는 부분이 시작됩니다 — 캔버스에 그림을 그리는 것! 이전 프레임의 그래픽을 지우기 위해 캔버스를 지우는 것으로 시작합니다. 그런 다음, 모든 별과 두 개의 사각형을 그리는데, 이는 일정한 사인 및 코사인 패턴에 따라 움직입니다.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params">t</span>) {
  <span class="hljs-title function_">drawRectangle</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>, <span class="hljs-string">"#000"</span>);

  stars.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">star</span>) =></span> {
    <span class="hljs-title function_">drawRectangle</span>(star.<span class="hljs-property">x</span>, star.<span class="hljs-property">y</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, star.<span class="hljs-property">fillStyle</span>);
    star.<span class="hljs-property">x</span> = (star.<span class="hljs-property">x</span> - star.<span class="hljs-property">color</span> / <span class="hljs-number">5000</span> + canvas.<span class="hljs-property">width</span>) % canvas.<span class="hljs-property">width</span>;
  });
  <span class="hljs-title function_">drawRectangle</span>(
    canvas.<span class="hljs-property">width</span> / <span class="hljs-number">4</span>,
    canvas.<span class="hljs-property">height</span> / <span class="hljs-number">4</span> + (canvas.<span class="hljs-property">width</span> / <span class="hljs-number">10</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t / <span class="hljs-number">500</span>),
    canvas.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>,
    canvas.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>,
    <span class="hljs-string">"#008"</span>
  );
  <span class="hljs-title function_">drawRectangle</span>(
    canvas.<span class="hljs-property">width</span> / <span class="hljs-number">2</span> + (canvas.<span class="hljs-property">width</span> / <span class="hljs-number">4</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(t / <span class="hljs-number">1000</span>) - <span class="hljs-number">4</span>,
    canvas.<span class="hljs-property">height</span> / <span class="hljs-number">2</span> + (canvas.<span class="hljs-property">height</span> / <span class="hljs-number">4</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t / <span class="hljs-number">1000</span>) - <span class="hljs-number">4</span>,
    <span class="hljs-number">8</span>,
    <span class="hljs-number">8</span>,
    <span class="hljs-string">"#00c"</span>
  );
}
</code></pre>
<p>그리고 이렇게 보입니다.</p>
<p>이 코드펜에서 실행 중인 애니메이션을 확인해보세요:</p>
<div class="content-ad"></div>
<p>그게 많이 8-bit스럽지 않네요, 맞죠? 우리가 마주한 두 가지 문제는 스케일링할 때 픽셀 보간과 그릴 때 안티앨리어싱입니다.</p>
<h1>Unblur</h1>
<h2>픽셀 보간 끄기</h2>
<p>브라우저는 캔버스를 확대할 때 픽셀을 보간하고 있습니다. 이는 합리적인 표준 동작이지만 픽셀 그래픽에 적합하지 않습니다. 대신 css에서 픽셀화된 스케일링을 사용하도록 브라우저에 지시합니다:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-css"><span class="hljs-selector-tag">canvas</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#50459b</span>;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">image-rendering</span>: pixelated;
}
</code></pre>
<h2>안티앨리어싱 피하기</h2>
<p>또 다른 흐림 현상을 일으키는 문제는 정수가 아닌 값을 그릴 때 발생합니다. 별이 픽셀 사이에 위치할 때 브라우저는 일관성있게 만들려고 노력합니다. 해결책은 간단합니다. 우리는 좌표를 모두 정수로 반올림하면 됩니다. 이 해결책을 drawRectangle 함수에 넣어서 어디서든 무언가를 그릴 때마다 생각할 필요가 없게 만듭니다:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">drawRectangle</span>(<span class="hljs-params">x, y, width, height, color</span>) {
  ctx.<span class="hljs-property">fillStyle</span> = color;
  ctx.<span class="hljs-title function_">fillRect</span>(
    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(x),
    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(y),
    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(width),
    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(height)
  );
}
</code></pre>
<div class="content-ad"></div>
<p>다음은 정리된 버전에 대한 코드펜입니다:</p>
<p>여기 정리된 버전에 대한 전체 소스입니다:</p>
<pre><code class="hljs language-js">&#x3C;!<span class="hljs-variable constant_">DOCTYPE</span> html>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">head</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">title</span>></span>Pixel perfect canvas<span class="hljs-tag">&#x3C;/<span class="hljs-name">title</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">style</span>></span><span class="css">
      <span class="hljs-selector-tag">html</span>,
      <span class="hljs-selector-tag">body</span> {
        <span class="hljs-attribute">display</span>: flex;
        <span class="hljs-attribute">justify-content</span>: center;
        <span class="hljs-attribute">align-items</span>: center;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#887ecb</span>;
      }

      <span class="hljs-selector-class">.canvas-container</span> {
        <span class="hljs-attribute">display</span>: flex;
        <span class="hljs-attribute">justify-content</span>: center;
        <span class="hljs-attribute">align-items</span>: center;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
      }

      <span class="hljs-selector-tag">canvas</span> {
        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#50459b</span>;
        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">max-height</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">image-rendering</span>: pixelated;
      }
    </span><span class="hljs-tag">&#x3C;/<span class="hljs-name">style</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">head</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">body</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"canvas-container"</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gameCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"64"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"36"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">canvas</span>></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">script</span>></span><span class="javascript">
      <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">INTEGER_SCALING</span> = <span class="hljs-literal">true</span>;

      <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"gameCanvas"</span>);
      <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">createStar</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> color = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">256</span>);
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">x</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * canvas.<span class="hljs-property">width</span>,
          <span class="hljs-attr">y</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * canvas.<span class="hljs-property">height</span>,
          <span class="hljs-attr">color</span>: color,
          <span class="hljs-attr">fillStyle</span>: <span class="hljs-string">`rgb(<span class="hljs-subst">${color}</span>, <span class="hljs-subst">${color}</span>, <span class="hljs-subst">${color}</span>)`</span>,
        };
      }

      <span class="hljs-keyword">const</span> stars = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">200</span> }, createStar).<span class="hljs-title function_">sort</span>(
        <span class="hljs-function">(<span class="hljs-params">a, b</span>) =></span> a.<span class="hljs-property">color</span> - b.<span class="hljs-property">color</span>
      );

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">resizeCanvas</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">let</span> scale = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(
          <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / canvas.<span class="hljs-property">width</span>,
          <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> / canvas.<span class="hljs-property">height</span>
        );
        <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">INTEGER_SCALING</span>) {
          scale = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(scale);
        }
        canvas.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.round(scale * canvas.width)}</span>px`</span>;
        canvas.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.round(scale * canvas.height)}</span>px`</span>;
      }

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">drawRectangle</span>(<span class="hljs-params">x, y, width, height, color</span>) {
        ctx.<span class="hljs-property">fillStyle</span> = color;
        ctx.<span class="hljs-title function_">fillRect</span>(
          <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(x),
          <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(y),
          <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(width),
          <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(height)
        );
      }

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">gameLoop</span>(<span class="hljs-params">now</span>) {
        <span class="hljs-title function_">draw</span>(now);
        <span class="hljs-title function_">requestAnimationFrame</span>(gameLoop);
      }

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params">t</span>) {
        <span class="hljs-title function_">drawRectangle</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>, <span class="hljs-string">"#000"</span>);

        stars.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">star</span>) =></span> {
          <span class="hljs-title function_">drawRectangle</span>(star.<span class="hljs-property">x</span>, star.<span class="hljs-property">y</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, star.<span class="hljs-property">fillStyle</span>);
          star.<span class="hljs-property">x</span> = (star.<span class="hljs-property">x</span> - star.<span class="hljs-property">color</span> / <span class="hljs-number">5000</span> + canvas.<span class="hljs-property">width</span>) % canvas.<span class="hljs-property">width</span>;
        });
        <span class="hljs-title function_">drawRectangle</span>(
          canvas.<span class="hljs-property">width</span> / <span class="hljs-number">4</span>,
          canvas.<span class="hljs-property">height</span> / <span class="hljs-number">4</span> + (canvas.<span class="hljs-property">width</span> / <span class="hljs-number">10</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t / <span class="hljs-number">500</span>),
          canvas.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>,
          canvas.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>,
          <span class="hljs-string">"#008"</span>
        );
        <span class="hljs-title function_">drawRectangle</span>(
          canvas.<span class="hljs-property">width</span> / <span class="hljs-number">2</span> + (canvas.<span class="hljs-property">width</span> / <span class="hljs-number">4</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(t / <span class="hljs-number">1000</span>) - <span class="hljs-number">4</span>,
          canvas.<span class="hljs-property">height</span> / <span class="hljs-number">2</span> + (canvas.<span class="hljs-property">height</span> / <span class="hljs-number">4</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t / <span class="hljs-number">1000</span>) - <span class="hljs-number">4</span>,
          <span class="hljs-number">8</span>,
          <span class="hljs-number">8</span>,
          <span class="hljs-string">"#00c"</span>
        );
      }

      <span class="hljs-title function_">resizeCanvas</span>();
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"resize"</span>, resizeCanvas);
      <span class="hljs-title function_">gameLoop</span>();
    </span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">body</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">html</span>></span></span>
</code></pre>
<div class="content-ad"></div>
<p>이제 기초가 마련되었습니다 - 브라우저에서 픽셀 완벽한 그래픽을 애니메이트할 수 있는 코드 조각이 있습니다! 다음에는 몇 가지 스프라이트를 애니메이션화할 것입니다!</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"HTML5 캔버스를 사용하여 픽셀 완벽한 그래픽 만들기 방법","description":"","date":"2024-06-20 06:07","slug":"2024-06-20-HowtoCreatePixelPerfectGraphicsUsingHTML5Canvas","content":"\n\n진짜 8비트 시각을 위한 캔버스 그래픽 마스터링 단계별 안내서입니다.\n\n이 포스트에서는 픽셀 완벽한 웹 게임을 만들기 위한 기반을 구축할 것입니다. \"픽셀 완벽\"이란 모든 픽셀이 선명하고 흐릿하지 않다는 것을 의미합니다. 이 자습서를 완료하면 픽셀화된 별 배경 위에 두 개의 이동하는 직사각형을 애니메이션하는 단일 HTML 파일이 생깁니다.\n\n다음 세 단계로 진행하겠습니다:\n\n1. 캔버스가 올바르게 크기 조정되는 기본 HTML 구조 설정\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 직사각형과 별을 그려보세요\n\n# 이미지 흐림 방지, 모든 픽셀을 선명하게 설정\n\n# 크기 조절 가능한 캔버스\n\n한 가지 HTML5 캔버스를 가진 간단한 HTML 페이지를 만들 것입니다. 이 캔버스는 브라우저 창 크기가 변경될 때 동적으로 크기가 조정됩니다. 정수 스케일링 상수를 사용하여 스케일링이 균일한 픽셀 크기를 유지하는지 제어할 수 있습니다. 정수 스케일링을 true로 설정하면 모든 픽셀이 동일한 크기를 유지합니다. 단점은 정수 스케일링으로 인해 일부 브라우저 창 크기에 따라 캔버스 주변에 더 큰 테두리가 생길 수 있다는 점입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"UTF-8\" /\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /\u003e\n    \u003ctitle\u003e빈 크기 조절 캔버스\u003c/title\u003e\n    \u003cstyle\u003e\n      html,\n      body {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n        margin: 0;\n        background-color: #887ecb;\n      }\n    \n      .canvas-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n      }\n\n      #gameCanvas {\n        background-color: #50459b;\n        max-width: 100%;\n        max-height: 100%;\n      }\n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cdiv class=\"canvas-container\"\u003e\n      \u003ccanvas id=\"gameCanvas\" width=\"64\" height=\"36\"\u003e\u003c/canvas\u003e\n    \u003c/div\u003e\n    \u003cscript\u003e\n      const INTEGER_SCALING = true;\n\n      const canvas = document.getElementById(\"gameCanvas\");\n\n      function resizeCanvas() {\n        let scale = Math.min(\n          window.innerWidth / canvas.width,\n          window.innerHeight / canvas.height\n        );\n        if (INTEGER_SCALING) {\n          scale = Math.floor(scale);\n        }\n        canvas.style.width = `${Math.round(scale * canvas.width)}px`;\n        canvas.style.height = `${Math.round(scale * canvas.height)}px`;\n      }\n\n      resizeCanvas();\n      window.addEventListener(\"resize\", resizeCanvas);\n    \u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n위 코드의 주요 포인트는 크기 조절 이벤트에 등록하고 이벤트가 발생할 때마다 페이지의 캔버스 크기를 변경하는 것입니다. 스케일은 내부 캔버스 크기가 화면에 가장 적은 수의 배에 맞도록 계산됩니다. 이는 다른 방향으로 테두리를 유발할 수 있지만 내부 캔버스 크기의 종횡비를 유지합니다.\n\n창의 크기를 조정하면 캔버스 크기가 변경되는 것을 확인할 수 있습니다. 또한 INTEGER_SCALING 값을 false로 변경하여 캔버스가 항상 창을 가로 또는 세로로 채우는 방법을 확인해보세요.\n\n# 캔버스에 그리기\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n캔버스에 그리기 위해서는 먼저 캔버스의 컨텍스트를 가져와야 합니다. 투명한 픽셀을 남기지 않을 것이기 때문에 알파값을 false로 설정합니다.\n\n```js\nconst canvas = document.getElementById(\"gameCanvas\");\nconst ctx = canvas.getContext(\"2d\", { alpha: false });\n```\n\n간단하게 유지하기 위해 이 게시물에서는 사각형만 그릴 것입니다.\n\n```js\nfunction drawRectangle(x, y, width, height, color) {\n  ctx.fillStyle = color;\n  ctx.fillRect(x, y, width, height);\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n그럼 우리는 배경을 위해 200개의 별을 만듭니다. 별은 색에 따라 정렬되어 있으므로 덜 밝은 별이 더 밝은 별 위에 그려지지 않습니다.\n\n```js\nfunction createStar() {\n  const color = Math.floor(Math.random() * 256);\n  return {\n    x: Math.random() * canvas.width,\n    y: Math.random() * canvas.height,\n    color: color,\n    fillStyle: `rgb(${color}, ${color}, ${color})`,\n  }; \n}\n\nconst stars = Array.from({ length: 200 }, createStar).sort(\n  (a, b) =\u003e a.color - b.color\n);\n```\n\n우리는 requestAnimationFrame을 사용하여 게임 루프가 필요한 매 프레임마다 발생하도록 만듭니다. gameLoop이 호출될 속도는 \"일반적으로 디스플레이 새로고침 속도와 일치\"합니다. 많은 경우에 초당 60프레임인 경우가 많지만 다를 수도 있습니다. `now` 매개변수는 이전 프레임 렌더링의 밀리초를 나타냅니다. 애니메이션 중에 이 시간을 사용하는 것이 중요하며 일정한 프레임 속도를 가정하는 대신 해당 시간을 사용해야 합니다.\n\n```js\nfunction gameLoop(now) {\n  draw(now);\n  requestAnimationFrame(gameLoop);\n}\ngameLoop();\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이제 재미있는 부분이 시작됩니다 — 캔버스에 그림을 그리는 것! 이전 프레임의 그래픽을 지우기 위해 캔버스를 지우는 것으로 시작합니다. 그런 다음, 모든 별과 두 개의 사각형을 그리는데, 이는 일정한 사인 및 코사인 패턴에 따라 움직입니다.\n\n```js\nfunction draw(t) {\n  drawRectangle(0, 0, canvas.width, canvas.height, \"#000\");\n\n  stars.forEach((star) =\u003e {\n    drawRectangle(star.x, star.y, 1, 1, star.fillStyle);\n    star.x = (star.x - star.color / 5000 + canvas.width) % canvas.width;\n  });\n  drawRectangle(\n    canvas.width / 4,\n    canvas.height / 4 + (canvas.width / 10) * Math.sin(t / 500),\n    canvas.width / 2,\n    canvas.height / 2,\n    \"#008\"\n  );\n  drawRectangle(\n    canvas.width / 2 + (canvas.width / 4) * Math.cos(t / 1000) - 4,\n    canvas.height / 2 + (canvas.height / 4) * Math.sin(t / 1000) - 4,\n    8,\n    8,\n    \"#00c\"\n  );\n}\n```\n\n그리고 이렇게 보입니다.\n\n이 코드펜에서 실행 중인 애니메이션을 확인해보세요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n그게 많이 8-bit스럽지 않네요, 맞죠? 우리가 마주한 두 가지 문제는 스케일링할 때 픽셀 보간과 그릴 때 안티앨리어싱입니다.\n\n# Unblur\n\n## 픽셀 보간 끄기\n\n브라우저는 캔버스를 확대할 때 픽셀을 보간하고 있습니다. 이는 합리적인 표준 동작이지만 픽셀 그래픽에 적합하지 않습니다. 대신 css에서 픽셀화된 스케일링을 사용하도록 브라우저에 지시합니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```css\ncanvas {\n  background-color: #50459b;\n  max-width: 100%;\n  max-height: 100%;\n  image-rendering: pixelated;\n}\n```\n\n## 안티앨리어싱 피하기\n\n또 다른 흐림 현상을 일으키는 문제는 정수가 아닌 값을 그릴 때 발생합니다. 별이 픽셀 사이에 위치할 때 브라우저는 일관성있게 만들려고 노력합니다. 해결책은 간단합니다. 우리는 좌표를 모두 정수로 반올림하면 됩니다. 이 해결책을 drawRectangle 함수에 넣어서 어디서든 무언가를 그릴 때마다 생각할 필요가 없게 만듭니다:\n\n```js\nfunction drawRectangle(x, y, width, height, color) {\n  ctx.fillStyle = color;\n  ctx.fillRect(\n    Math.round(x),\n    Math.round(y),\n    Math.round(width),\n    Math.round(height)\n  );\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음은 정리된 버전에 대한 코드펜입니다:\n\n여기 정리된 버전에 대한 전체 소스입니다:\n\n```js\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"UTF-8\" /\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /\u003e\n    \u003ctitle\u003ePixel perfect canvas\u003c/title\u003e\n    \u003cstyle\u003e\n      html,\n      body {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n        margin: 0;\n        background-color: #887ecb;\n      }\n\n      .canvas-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n      }\n\n      canvas {\n        background-color: #50459b;\n        max-width: 100%;\n        max-height: 100%;\n        image-rendering: pixelated;\n      }\n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cdiv class=\"canvas-container\"\u003e\n      \u003ccanvas id=\"gameCanvas\" width=\"64\" height=\"36\"\u003e\u003c/canvas\u003e\n    \u003c/div\u003e\n    \u003cscript\u003e\n      const INTEGER_SCALING = true;\n\n      const canvas = document.getElementById(\"gameCanvas\");\n      const ctx = canvas.getContext(\"2d\");\n\n      function createStar() {\n        const color = Math.floor(Math.random() * 256);\n        return {\n          x: Math.random() * canvas.width,\n          y: Math.random() * canvas.height,\n          color: color,\n          fillStyle: `rgb(${color}, ${color}, ${color})`,\n        };\n      }\n\n      const stars = Array.from({ length: 200 }, createStar).sort(\n        (a, b) =\u003e a.color - b.color\n      );\n\n      function resizeCanvas() {\n        let scale = Math.min(\n          window.innerWidth / canvas.width,\n          window.innerHeight / canvas.height\n        );\n        if (INTEGER_SCALING) {\n          scale = Math.floor(scale);\n        }\n        canvas.style.width = `${Math.round(scale * canvas.width)}px`;\n        canvas.style.height = `${Math.round(scale * canvas.height)}px`;\n      }\n\n      function drawRectangle(x, y, width, height, color) {\n        ctx.fillStyle = color;\n        ctx.fillRect(\n          Math.round(x),\n          Math.round(y),\n          Math.round(width),\n          Math.round(height)\n        );\n      }\n\n      function gameLoop(now) {\n        draw(now);\n        requestAnimationFrame(gameLoop);\n      }\n\n      function draw(t) {\n        drawRectangle(0, 0, canvas.width, canvas.height, \"#000\");\n\n        stars.forEach((star) =\u003e {\n          drawRectangle(star.x, star.y, 1, 1, star.fillStyle);\n          star.x = (star.x - star.color / 5000 + canvas.width) % canvas.width;\n        });\n        drawRectangle(\n          canvas.width / 4,\n          canvas.height / 4 + (canvas.width / 10) * Math.sin(t / 500),\n          canvas.width / 2,\n          canvas.height / 2,\n          \"#008\"\n        );\n        drawRectangle(\n          canvas.width / 2 + (canvas.width / 4) * Math.cos(t / 1000) - 4,\n          canvas.height / 2 + (canvas.height / 4) * Math.sin(t / 1000) - 4,\n          8,\n          8,\n          \"#00c\"\n        );\n      }\n\n      resizeCanvas();\n      window.addEventListener(\"resize\", resizeCanvas);\n      gameLoop();\n    \u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이제 기초가 마련되었습니다 - 브라우저에서 픽셀 완벽한 그래픽을 애니메이트할 수 있는 코드 조각이 있습니다! 다음에는 몇 가지 스프라이트를 애니메이션화할 것입니다!","ogImage":{"url":"/assets/img/2024-06-20-HowtoCreatePixelPerfectGraphicsUsingHTML5Canvas_0.png"},"coverImage":"/assets/img/2024-06-20-HowtoCreatePixelPerfectGraphicsUsingHTML5Canvas_0.png","tag":["Tech"],"readingTime":9},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e진짜 8비트 시각을 위한 캔버스 그래픽 마스터링 단계별 안내서입니다.\u003c/p\u003e\n\u003cp\u003e이 포스트에서는 픽셀 완벽한 웹 게임을 만들기 위한 기반을 구축할 것입니다. \"픽셀 완벽\"이란 모든 픽셀이 선명하고 흐릿하지 않다는 것을 의미합니다. 이 자습서를 완료하면 픽셀화된 별 배경 위에 두 개의 이동하는 직사각형을 애니메이션하는 단일 HTML 파일이 생깁니다.\u003c/p\u003e\n\u003cp\u003e다음 세 단계로 진행하겠습니다:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e캔버스가 올바르게 크기 조정되는 기본 HTML 구조 설정\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e직사각형과 별을 그려보세요\u003c/h1\u003e\n\u003ch1\u003e이미지 흐림 방지, 모든 픽셀을 선명하게 설정\u003c/h1\u003e\n\u003ch1\u003e크기 조절 가능한 캔버스\u003c/h1\u003e\n\u003cp\u003e한 가지 HTML5 캔버스를 가진 간단한 HTML 페이지를 만들 것입니다. 이 캔버스는 브라우저 창 크기가 변경될 때 동적으로 크기가 조정됩니다. 정수 스케일링 상수를 사용하여 스케일링이 균일한 픽셀 크기를 유지하는지 제어할 수 있습니다. 정수 스케일링을 true로 설정하면 모든 픽셀이 동일한 크기를 유지합니다. 단점은 정수 스케일링으로 인해 일부 브라우저 창 크기에 따라 캔버스 주변에 더 큰 테두리가 생길 수 있다는 점입니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!\u003cspan class=\"hljs-variable constant_\"\u003eDOCTYPE\u003c/span\u003e html\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"en\"\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"UTF-8\"\u003c/span\u003e /\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"viewport\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"width=device-width, initial-scale=1.0\"\u003c/span\u003e /\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003e빈 크기 조절 캔버스\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"css\"\u003e\n      \u003cspan class=\"hljs-selector-tag\"\u003ehtml\u003c/span\u003e,\n      \u003cspan class=\"hljs-selector-tag\"\u003ebody\u003c/span\u003e {\n        \u003cspan class=\"hljs-attribute\"\u003edisplay\u003c/span\u003e: flex;\n        \u003cspan class=\"hljs-attribute\"\u003ejustify-content\u003c/span\u003e: center;\n        \u003cspan class=\"hljs-attribute\"\u003ealign-items\u003c/span\u003e: center;\n        \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003ebackground-color\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#887ecb\u003c/span\u003e;\n      }\n    \n      \u003cspan class=\"hljs-selector-class\"\u003e.canvas-container\u003c/span\u003e {\n        \u003cspan class=\"hljs-attribute\"\u003edisplay\u003c/span\u003e: flex;\n        \u003cspan class=\"hljs-attribute\"\u003ejustify-content\u003c/span\u003e: center;\n        \u003cspan class=\"hljs-attribute\"\u003ealign-items\u003c/span\u003e: center;\n        \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n      }\n\n      \u003cspan class=\"hljs-selector-id\"\u003e#gameCanvas\u003c/span\u003e {\n        \u003cspan class=\"hljs-attribute\"\u003ebackground-color\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#50459b\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003emax-width\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003emax-height\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n      }\n    \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"canvas-container\"\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ecanvas\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"gameCanvas\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewidth\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"64\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"36\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ecanvas\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eINTEGER_SCALING\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e canvas = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"gameCanvas\"\u003c/span\u003e);\n\n      \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eresizeCanvas\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e scale = \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(\n          \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003einnerWidth\u003c/span\u003e / canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e,\n          \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003einnerHeight\u003c/span\u003e / canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e\n        );\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable constant_\"\u003eINTEGER_SCALING\u003c/span\u003e) {\n          scale = \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efloor\u003c/span\u003e(scale);\n        }\n        canvas.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${\u003cspan class=\"hljs-built_in\"\u003eMath\u003c/span\u003e.round(scale * canvas.width)}\u003c/span\u003epx`\u003c/span\u003e;\n        canvas.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${\u003cspan class=\"hljs-built_in\"\u003eMath\u003c/span\u003e.round(scale * canvas.height)}\u003c/span\u003epx`\u003c/span\u003e;\n      }\n\n      \u003cspan class=\"hljs-title function_\"\u003eresizeCanvas\u003c/span\u003e();\n      \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"resize\"\u003c/span\u003e, resizeCanvas);\n    \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 코드의 주요 포인트는 크기 조절 이벤트에 등록하고 이벤트가 발생할 때마다 페이지의 캔버스 크기를 변경하는 것입니다. 스케일은 내부 캔버스 크기가 화면에 가장 적은 수의 배에 맞도록 계산됩니다. 이는 다른 방향으로 테두리를 유발할 수 있지만 내부 캔버스 크기의 종횡비를 유지합니다.\u003c/p\u003e\n\u003cp\u003e창의 크기를 조정하면 캔버스 크기가 변경되는 것을 확인할 수 있습니다. 또한 INTEGER_SCALING 값을 false로 변경하여 캔버스가 항상 창을 가로 또는 세로로 채우는 방법을 확인해보세요.\u003c/p\u003e\n\u003ch1\u003e캔버스에 그리기\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e캔버스에 그리기 위해서는 먼저 캔버스의 컨텍스트를 가져와야 합니다. 투명한 픽셀을 남기지 않을 것이기 때문에 알파값을 false로 설정합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e canvas = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"gameCanvas\"\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e ctx = canvas.\u003cspan class=\"hljs-title function_\"\u003egetContext\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"2d\"\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003ealpha\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e });\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e간단하게 유지하기 위해 이 게시물에서는 사각형만 그릴 것입니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ex, y, width, height, color\u003c/span\u003e) {\n  ctx.\u003cspan class=\"hljs-property\"\u003efillStyle\u003c/span\u003e = color;\n  ctx.\u003cspan class=\"hljs-title function_\"\u003efillRect\u003c/span\u003e(x, y, width, height);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e그럼 우리는 배경을 위해 200개의 별을 만듭니다. 별은 색에 따라 정렬되어 있으므로 덜 밝은 별이 더 밝은 별 위에 그려지지 않습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecreateStar\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e color = \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efloor\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003erandom\u003c/span\u003e() * \u003cspan class=\"hljs-number\"\u003e256\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003ex\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003erandom\u003c/span\u003e() * canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ey\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003erandom\u003c/span\u003e() * canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ecolor\u003c/span\u003e: color,\n    \u003cspan class=\"hljs-attr\"\u003efillStyle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`rgb(\u003cspan class=\"hljs-subst\"\u003e${color}\u003c/span\u003e, \u003cspan class=\"hljs-subst\"\u003e${color}\u003c/span\u003e, \u003cspan class=\"hljs-subst\"\u003e${color}\u003c/span\u003e)`\u003c/span\u003e,\n  }; \n}\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e stars = \u003cspan class=\"hljs-title class_\"\u003eArray\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efrom\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003elength\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e }, createStar).\u003cspan class=\"hljs-title function_\"\u003esort\u003c/span\u003e(\n  \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ea, b\u003c/span\u003e) =\u003e\u003c/span\u003e a.\u003cspan class=\"hljs-property\"\u003ecolor\u003c/span\u003e - b.\u003cspan class=\"hljs-property\"\u003ecolor\u003c/span\u003e\n);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e우리는 requestAnimationFrame을 사용하여 게임 루프가 필요한 매 프레임마다 발생하도록 만듭니다. gameLoop이 호출될 속도는 \"일반적으로 디스플레이 새로고침 속도와 일치\"합니다. 많은 경우에 초당 60프레임인 경우가 많지만 다를 수도 있습니다. \u003ccode\u003enow\u003c/code\u003e 매개변수는 이전 프레임 렌더링의 밀리초를 나타냅니다. 애니메이션 중에 이 시간을 사용하는 것이 중요하며 일정한 프레임 속도를 가정하는 대신 해당 시간을 사용해야 합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egameLoop\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003enow\u003c/span\u003e) {\n  \u003cspan class=\"hljs-title function_\"\u003edraw\u003c/span\u003e(now);\n  \u003cspan class=\"hljs-title function_\"\u003erequestAnimationFrame\u003c/span\u003e(gameLoop);\n}\n\u003cspan class=\"hljs-title function_\"\u003egameLoop\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이제 재미있는 부분이 시작됩니다 — 캔버스에 그림을 그리는 것! 이전 프레임의 그래픽을 지우기 위해 캔버스를 지우는 것으로 시작합니다. 그런 다음, 모든 별과 두 개의 사각형을 그리는데, 이는 일정한 사인 및 코사인 패턴에 따라 움직입니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edraw\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003et\u003c/span\u003e) {\n  \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e, canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"#000\"\u003c/span\u003e);\n\n  stars.\u003cspan class=\"hljs-title function_\"\u003eforEach\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003estar\u003c/span\u003e) =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(star.\u003cspan class=\"hljs-property\"\u003ex\u003c/span\u003e, star.\u003cspan class=\"hljs-property\"\u003ey\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, star.\u003cspan class=\"hljs-property\"\u003efillStyle\u003c/span\u003e);\n    star.\u003cspan class=\"hljs-property\"\u003ex\u003c/span\u003e = (star.\u003cspan class=\"hljs-property\"\u003ex\u003c/span\u003e - star.\u003cspan class=\"hljs-property\"\u003ecolor\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e5000\u003c/span\u003e + canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e) % canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e;\n  });\n  \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(\n    canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n    canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e + (canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e) * \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(t / \u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e),\n    canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\n    canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"#008\"\u003c/span\u003e\n  );\n  \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(\n    canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e + (canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e) * \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecos\u003c/span\u003e(t / \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e) - \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n    canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e + (canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e) * \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(t / \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e) - \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n    \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e,\n    \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"#00c\"\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그리고 이렇게 보입니다.\u003c/p\u003e\n\u003cp\u003e이 코드펜에서 실행 중인 애니메이션을 확인해보세요:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e그게 많이 8-bit스럽지 않네요, 맞죠? 우리가 마주한 두 가지 문제는 스케일링할 때 픽셀 보간과 그릴 때 안티앨리어싱입니다.\u003c/p\u003e\n\u003ch1\u003eUnblur\u003c/h1\u003e\n\u003ch2\u003e픽셀 보간 끄기\u003c/h2\u003e\n\u003cp\u003e브라우저는 캔버스를 확대할 때 픽셀을 보간하고 있습니다. 이는 합리적인 표준 동작이지만 픽셀 그래픽에 적합하지 않습니다. 대신 css에서 픽셀화된 스케일링을 사용하도록 브라우저에 지시합니다:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-tag\"\u003ecanvas\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003ebackground-color\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#50459b\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003emax-width\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003emax-height\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n  \u003cspan class=\"hljs-attribute\"\u003eimage-rendering\u003c/span\u003e: pixelated;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e안티앨리어싱 피하기\u003c/h2\u003e\n\u003cp\u003e또 다른 흐림 현상을 일으키는 문제는 정수가 아닌 값을 그릴 때 발생합니다. 별이 픽셀 사이에 위치할 때 브라우저는 일관성있게 만들려고 노력합니다. 해결책은 간단합니다. 우리는 좌표를 모두 정수로 반올림하면 됩니다. 이 해결책을 drawRectangle 함수에 넣어서 어디서든 무언가를 그릴 때마다 생각할 필요가 없게 만듭니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ex, y, width, height, color\u003c/span\u003e) {\n  ctx.\u003cspan class=\"hljs-property\"\u003efillStyle\u003c/span\u003e = color;\n  ctx.\u003cspan class=\"hljs-title function_\"\u003efillRect\u003c/span\u003e(\n    \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eround\u003c/span\u003e(x),\n    \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eround\u003c/span\u003e(y),\n    \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eround\u003c/span\u003e(width),\n    \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eround\u003c/span\u003e(height)\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다음은 정리된 버전에 대한 코드펜입니다:\u003c/p\u003e\n\u003cp\u003e여기 정리된 버전에 대한 전체 소스입니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!\u003cspan class=\"hljs-variable constant_\"\u003eDOCTYPE\u003c/span\u003e html\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"en\"\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"UTF-8\"\u003c/span\u003e /\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"viewport\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"width=device-width, initial-scale=1.0\"\u003c/span\u003e /\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003ePixel perfect canvas\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"css\"\u003e\n      \u003cspan class=\"hljs-selector-tag\"\u003ehtml\u003c/span\u003e,\n      \u003cspan class=\"hljs-selector-tag\"\u003ebody\u003c/span\u003e {\n        \u003cspan class=\"hljs-attribute\"\u003edisplay\u003c/span\u003e: flex;\n        \u003cspan class=\"hljs-attribute\"\u003ejustify-content\u003c/span\u003e: center;\n        \u003cspan class=\"hljs-attribute\"\u003ealign-items\u003c/span\u003e: center;\n        \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003ebackground-color\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#887ecb\u003c/span\u003e;\n      }\n\n      \u003cspan class=\"hljs-selector-class\"\u003e.canvas-container\u003c/span\u003e {\n        \u003cspan class=\"hljs-attribute\"\u003edisplay\u003c/span\u003e: flex;\n        \u003cspan class=\"hljs-attribute\"\u003ejustify-content\u003c/span\u003e: center;\n        \u003cspan class=\"hljs-attribute\"\u003ealign-items\u003c/span\u003e: center;\n        \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n      }\n\n      \u003cspan class=\"hljs-selector-tag\"\u003ecanvas\u003c/span\u003e {\n        \u003cspan class=\"hljs-attribute\"\u003ebackground-color\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#50459b\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003emax-width\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003emax-height\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n        \u003cspan class=\"hljs-attribute\"\u003eimage-rendering\u003c/span\u003e: pixelated;\n      }\n    \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"canvas-container\"\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ecanvas\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"gameCanvas\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewidth\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"64\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"36\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ecanvas\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eINTEGER_SCALING\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e canvas = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"gameCanvas\"\u003c/span\u003e);\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e ctx = canvas.\u003cspan class=\"hljs-title function_\"\u003egetContext\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"2d\"\u003c/span\u003e);\n\n      \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecreateStar\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e color = \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efloor\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003erandom\u003c/span\u003e() * \u003cspan class=\"hljs-number\"\u003e256\u003c/span\u003e);\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n          \u003cspan class=\"hljs-attr\"\u003ex\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003erandom\u003c/span\u003e() * canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003ey\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003erandom\u003c/span\u003e() * canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e,\n          \u003cspan class=\"hljs-attr\"\u003ecolor\u003c/span\u003e: color,\n          \u003cspan class=\"hljs-attr\"\u003efillStyle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e`rgb(\u003cspan class=\"hljs-subst\"\u003e${color}\u003c/span\u003e, \u003cspan class=\"hljs-subst\"\u003e${color}\u003c/span\u003e, \u003cspan class=\"hljs-subst\"\u003e${color}\u003c/span\u003e)`\u003c/span\u003e,\n        };\n      }\n\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e stars = \u003cspan class=\"hljs-title class_\"\u003eArray\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efrom\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003elength\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e }, createStar).\u003cspan class=\"hljs-title function_\"\u003esort\u003c/span\u003e(\n        \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ea, b\u003c/span\u003e) =\u003e\u003c/span\u003e a.\u003cspan class=\"hljs-property\"\u003ecolor\u003c/span\u003e - b.\u003cspan class=\"hljs-property\"\u003ecolor\u003c/span\u003e\n      );\n\n      \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eresizeCanvas\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e scale = \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(\n          \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003einnerWidth\u003c/span\u003e / canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e,\n          \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003einnerHeight\u003c/span\u003e / canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e\n        );\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable constant_\"\u003eINTEGER_SCALING\u003c/span\u003e) {\n          scale = \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efloor\u003c/span\u003e(scale);\n        }\n        canvas.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${\u003cspan class=\"hljs-built_in\"\u003eMath\u003c/span\u003e.round(scale * canvas.width)}\u003c/span\u003epx`\u003c/span\u003e;\n        canvas.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${\u003cspan class=\"hljs-built_in\"\u003eMath\u003c/span\u003e.round(scale * canvas.height)}\u003c/span\u003epx`\u003c/span\u003e;\n      }\n\n      \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ex, y, width, height, color\u003c/span\u003e) {\n        ctx.\u003cspan class=\"hljs-property\"\u003efillStyle\u003c/span\u003e = color;\n        ctx.\u003cspan class=\"hljs-title function_\"\u003efillRect\u003c/span\u003e(\n          \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eround\u003c/span\u003e(x),\n          \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eround\u003c/span\u003e(y),\n          \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eround\u003c/span\u003e(width),\n          \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eround\u003c/span\u003e(height)\n        );\n      }\n\n      \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egameLoop\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003enow\u003c/span\u003e) {\n        \u003cspan class=\"hljs-title function_\"\u003edraw\u003c/span\u003e(now);\n        \u003cspan class=\"hljs-title function_\"\u003erequestAnimationFrame\u003c/span\u003e(gameLoop);\n      }\n\n      \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edraw\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003et\u003c/span\u003e) {\n        \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e, canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"#000\"\u003c/span\u003e);\n\n        stars.\u003cspan class=\"hljs-title function_\"\u003eforEach\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003estar\u003c/span\u003e) =\u003e\u003c/span\u003e {\n          \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(star.\u003cspan class=\"hljs-property\"\u003ex\u003c/span\u003e, star.\u003cspan class=\"hljs-property\"\u003ey\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, star.\u003cspan class=\"hljs-property\"\u003efillStyle\u003c/span\u003e);\n          star.\u003cspan class=\"hljs-property\"\u003ex\u003c/span\u003e = (star.\u003cspan class=\"hljs-property\"\u003ex\u003c/span\u003e - star.\u003cspan class=\"hljs-property\"\u003ecolor\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e5000\u003c/span\u003e + canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e) % canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e;\n        });\n        \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(\n          canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n          canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e + (canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e) * \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(t / \u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e),\n          canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\n          canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\n          \u003cspan class=\"hljs-string\"\u003e\"#008\"\u003c/span\u003e\n        );\n        \u003cspan class=\"hljs-title function_\"\u003edrawRectangle\u003c/span\u003e(\n          canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e + (canvas.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e) * \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecos\u003c/span\u003e(t / \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e) - \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n          canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e + (canvas.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e) * \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(t / \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e) - \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n          \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e,\n          \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e,\n          \u003cspan class=\"hljs-string\"\u003e\"#00c\"\u003c/span\u003e\n        );\n      }\n\n      \u003cspan class=\"hljs-title function_\"\u003eresizeCanvas\u003c/span\u003e();\n      \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"resize\"\u003c/span\u003e, resizeCanvas);\n      \u003cspan class=\"hljs-title function_\"\u003egameLoop\u003c/span\u003e();\n    \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이제 기초가 마련되었습니다 - 브라우저에서 픽셀 완벽한 그래픽을 애니메이트할 수 있는 코드 조각이 있습니다! 다음에는 몇 가지 스프라이트를 애니메이션화할 것입니다!\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-HowtoCreatePixelPerfectGraphicsUsingHTML5Canvas"},"buildId":"QH5Mz7n7Y6w0r4_gCGFQf","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>