<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Jetpack Compose로 인터랙티브 HTML 콘텐츠 만드는 방법 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Jetpack Compose로 인터랙티브 HTML 콘텐츠 만드는 방법 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="Jetpack Compose로 인터랙티브 HTML 콘텐츠 만드는 방법 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose" data-gatsby-head="true"/><meta name="twitter:title" content="Jetpack Compose로 인터랙티브 HTML 콘텐츠 만드는 방법 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-22 03:58" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/Rv-NbbtWUaja2joH5WkO_/_buildManifest.js" defer=""></script><script src="/_next/static/Rv-NbbtWUaja2joH5WkO_/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Jetpack Compose로 인터랙티브 HTML 콘텐츠 만드는 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Jetpack Compose로 인터랙티브 HTML 콘텐츠 만드는 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 22, 2024</span><span class="posts_reading_time__f7YPP">7<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>HTML 내용을 Android Compose에서 표시하는 것은 특히 클릭 가능한 링크와 함께 일부 쉽게 보이지 않을 수 있습니다. 그러나 Kotlin과 Jetpack Compose를 사용하면 관리할 수 있고 즐거울 수도 있습니다. 이 안내서에서는 클릭 가능한 링크가 포함된 HTML 문자열을 구문 분석하고 표시하는 사용자 정의 구성 가능한 함수인 HtmlText를 만드는 방법을 안내하겠습니다.</p>
<h1>의존성 추가</h1>
<p>시작하기 전에 build.gradle 파일에 필요한 종속성이 있는지 확인하세요:</p>
<pre><code class="hljs language-js">dependencies {
    implementation <span class="hljs-string">"androidx.compose.ui:ui:1.0.0"</span>
    implementation <span class="hljs-string">"androidx.compose.material:material:1.0.0"</span>
    implementation <span class="hljs-string">"androidx.compose.ui:ui-tooling-preview:1.0.0"</span>
    implementation <span class="hljs-string">"androidx.compose.runtime:runtime-livedata:1.0.0"</span>
    implementation <span class="hljs-string">'androidx.core:core-ktx:1.6.0'</span>
    implementation <span class="hljs-string">'androidx.appcompat:appcompat:1.3.1'</span>
    implementation <span class="hljs-string">'androidx.compose.foundation:foundation:1.0.0'</span>
}
</code></pre>
<div class="content-ad"></div>
<h1>HtmlText 컴포저블 함수 구축하기</h1>
<p>HtmlText 컴포저블 함수를 만드는 과정을 단계별로 살펴보겠습니다.</p>
<p><img src="/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_0.png" alt="image"></p>
<p>함수 내부에서 현재 컨텍스트를 가져와 HTML 콘텐츠에서 주석이 달린 문자열을 만듭니다. HtmlCompat.fromHtml 메서드는 HTML 문자열을 Spanned 객체로 변환합니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-kotlin"><span class="hljs-keyword">val</span> context = LocalContext.current
<span class="hljs-keyword">val</span> annotatedText = remember(html) {
    <span class="hljs-keyword">val</span> spanned = HtmlCompat.fromHtml(html, HtmlCompat.FROM_HTML_MODE_LEGACY)
    <span class="hljs-keyword">val</span> text = spanned.toString()
    buildAnnotatedString {
        append(text)
        <span class="hljs-comment">// 여기에 추가 코드가 추가될 예정입니다</span>
    }
}
</code></pre>
<h2>링크 구문 분석</h2>
<p>Spanned 객체에서 URL 스팬을 추출하고 buildAnnotatedString 블록 내에서 해당 링크에 주석을 달아서 스타일을 적용하고 클릭 가능하게 만듭니다.</p>
<pre><code class="hljs language-kotlin"><span class="hljs-keyword">val</span> urlSpans = spanned.getSpans(<span class="hljs-number">0</span>, spanned.length, android.text.style.URLSpan::<span class="hljs-keyword">class</span>.java)
urlSpans.forEach { urlSpan ->
    <span class="hljs-keyword">val</span> start = spanned.getSpanStart(urlSpan)
    <span class="hljs-keyword">val</span> end = spanned.getSpanEnd(urlSpan)
    <span class="hljs-keyword">val</span> url = urlSpan.url
    addStyle(
        style = SpanStyle(
            color = linkColor,
            fontSize = fontSize,
            fontWeight = FontWeight.SemiBold,
            textDecoration = TextDecoration.Underline
        ), start = start, end = end
    )
    addStringAnnotation(
        tag = <span class="hljs-string">"URL"</span>,
        <span class="hljs-keyword">annotation</span> = url,
        start = start,
        end = end
    )
}
</code></pre>
<div class="content-ad"></div>
<h1>클릭 처리</h1>
<p>ClickableText를 사용하여 주석이 달린 문자열을 렌더링하고 링크 클릭을 처리하세요. 링크를 클릭하면 장치의 브라우저에서 열립니다.</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">ClickableText</span>(
    text = annotatedText,
    onClick = { offset ->
        annotatedText.<span class="hljs-title function_">getStringAnnotations</span>(tag = <span class="hljs-string">"URL"</span>, start = offset, end = offset)
            .<span class="hljs-title function_">firstOrNull</span>()?.<span class="hljs-property">let</span> { annotation ->
                val intent = <span class="hljs-title class_">Intent</span>(<span class="hljs-title class_">Intent</span>.<span class="hljs-property">ACTION_VIEW</span>, <span class="hljs-title class_">Uri</span>.<span class="hljs-title function_">parse</span>(annotation.<span class="hljs-property">item</span>))
                context.<span class="hljs-title function_">startActivity</span>(intent)
            }
    },
    style = <span class="hljs-title class_">TextStyle</span>(
        color = textColor,
        fontSize = fontSize,
        fontWeight = fontWeight
    )
)
</code></pre>
<h1>Complete HtmlText 함수</h1>
<div class="content-ad"></div>
<p>다음은 HtmlText 함수의 완전한 코드입니다:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> android.<span class="hljs-property">content</span>.<span class="hljs-property">Intent</span>
<span class="hljs-keyword">import</span> android.<span class="hljs-property">net</span>.<span class="hljs-property">Uri</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">foundation</span>.<span class="hljs-property">text</span>.<span class="hljs-property">ClickableText</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">runtime</span>.<span class="hljs-property">Composable</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">runtime</span>.<span class="hljs-property">remember</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">ui</span>.<span class="hljs-property">graphics</span>.<span class="hljs-property">Color</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">ui</span>.<span class="hljs-property">platform</span>.<span class="hljs-property">LocalContext</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">ui</span>.<span class="hljs-property">text</span>.<span class="hljs-property">SpanStyle</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">ui</span>.<span class="hljs-property">text</span>.<span class="hljs-property">buildAnnotatedString</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">ui</span>.<span class="hljs-property">text</span>.<span class="hljs-property">font</span>.<span class="hljs-property">FontWeight</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">ui</span>.<span class="hljs-property">text</span>.<span class="hljs-property">style</span>.<span class="hljs-property">TextDecoration</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">ui</span>.<span class="hljs-property">text</span>.<span class="hljs-property">style</span>.<span class="hljs-property">TextStyle</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">ui</span>.<span class="hljs-property">unit</span>.<span class="hljs-property">TextUnit</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">compose</span>.<span class="hljs-property">ui</span>.<span class="hljs-property">unit</span>.<span class="hljs-property">sp</span>
<span class="hljs-keyword">import</span> androidx.<span class="hljs-property">core</span>.<span class="hljs-property">text</span>.<span class="hljs-property">HtmlCompat</span>

@<span class="hljs-title class_">Composable</span>
fun <span class="hljs-title class_">HtmlText</span>(
    <span class="hljs-attr">html</span>: <span class="hljs-title class_">String</span>,
    <span class="hljs-attr">linkColor</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>(<span class="hljs-number">0xFF6200EE</span>), <span class="hljs-comment">// 기본 링크 색상</span>
    <span class="hljs-attr">textColor</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">DarkGray</span>,
    <span class="hljs-attr">fontSize</span>: <span class="hljs-title class_">TextUnit</span> = <span class="hljs-number">11.</span>sp,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span> = <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Normal</span>
) {
    val context = <span class="hljs-title class_">LocalContext</span>.<span class="hljs-property">current</span>
    val annotatedText = <span class="hljs-title function_">remember</span>(<span class="hljs-params">html</span>) {
        val spanned = <span class="hljs-title class_">HtmlCompat</span>.<span class="hljs-title function_">fromHtml</span>(html, <span class="hljs-title class_">HtmlCompat</span>.<span class="hljs-property">FROM_HTML_MODE_LEGACY</span>)
        val text = spanned.<span class="hljs-title function_">toString</span>()
        buildAnnotatedString {
            <span class="hljs-title function_">append</span>(text)
            val urlSpans = spanned.<span class="hljs-title function_">getSpans</span>(<span class="hljs-number">0</span>, spanned.<span class="hljs-property">length</span>, android.<span class="hljs-property">text</span>.<span class="hljs-property">style</span>.<span class="hljs-property">URLSpan</span>::<span class="hljs-keyword">class</span>.<span class="hljs-property">java</span>)
            urlSpans.<span class="hljs-property">forEach</span> { urlSpan ->
                val start = spanned.<span class="hljs-title function_">getSpanStart</span>(urlSpan)
                val end = spanned.<span class="hljs-title function_">getSpanEnd</span>(urlSpan)
                val url = urlSpan.<span class="hljs-property">url</span>
                <span class="hljs-title function_">addStyle</span>(
                    style = <span class="hljs-title class_">SpanStyle</span>(
                        color = linkColor,
                        fontSize = fontSize,
                        fontWeight = <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">SemiBold</span>,
                        textDecoration = <span class="hljs-title class_">TextDecoration</span>.<span class="hljs-property">Underline</span>
                    ), start = start, end = end
                )
                <span class="hljs-title function_">addStringAnnotation</span>(
                    tag = <span class="hljs-string">"URL"</span>,
                    annotation = url,
                    start = start,
                    end = end
                )
            }
        }
    }

    <span class="hljs-title class_">ClickableText</span>(
        text = annotatedText,
        onClick = { offset ->
            annotatedText.<span class="hljs-title function_">getStringAnnotations</span>(tag = <span class="hljs-string">"URL"</span>, start = offset, end = offset)
                .<span class="hljs-title function_">firstOrNull</span>()?.<span class="hljs-property">let</span> { annotation ->
                    val intent = <span class="hljs-title class_">Intent</span>(<span class="hljs-title class_">Intent</span>.<span class="hljs-property">ACTION_VIEW</span>, <span class="hljs-title class_">Uri</span>.<span class="hljs-title function_">parse</span>(annotation.<span class="hljs-property">item</span>))
                    context.<span class="hljs-title function_">startActivity</span>(intent)
                }
        },
        style = <span class="hljs-title class_">TextStyle</span>(
            color = textColor,
            fontSize = fontSize,
            fontWeight = fontWeight
        )
    )
}
</code></pre>
<h1>HtmlText 컴포저 사용하기</h1>
<p>Compose UI에서 HtmlText 컴포저를 사용하려면 HTML 콘텐츠와 함께 호출하면 됩니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">HelloWorldScreen</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> htmlContent = <span class="hljs-string">"""
        &#x3C;p>This is a &#x3C;a href="https://medium.com/">link&#x3C;/a> in HTML.&#x3C;/p>
    """</span>.trimIndent()

    HtmlText(
        html = htmlContent,
        linkColor = Color.Blue,
        textColor = Color.Black,
        fontSize = <span class="hljs-number">16.</span>sp,
        fontWeight = FontWeight.Bold
    )
}
</code></pre>
<p><img src="/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_1.png" alt="Image"></p>
<h1>결론</h1>
<p>위 단계를 따라서 Jetpack Compose에서 사용자 정의 HtmlText composable 함수를 만들어 클릭 가능한 링크가 있는 HTML 콘텐츠를 구문 분석하고 표시할 수 있었습니다. 이 함수는 Android의 HtmlCompat을 활용하여 HTML 문자열을 spanned 텍스트로 변환하고 Compose의 ClickableText를 사용하여 링크 상호 작용을 처리하여, Compose 애플리케이션에서 풍부한 텍스트 콘텐츠를 표시하는 강력한 도구가 되었습니다. 또한 사용자 정의 클릭 리스너를 추가하여 이 composable을 확장하고 HTML 콘텐츠와 더 복잡한 상호 작용을 가능하게 할 수 있습니다.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Jetpack Compose로 인터랙티브 HTML 콘텐츠 만드는 방법","description":"","date":"2024-06-22 03:58","slug":"2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose","content":"\n\nHTML 내용을 Android Compose에서 표시하는 것은 특히 클릭 가능한 링크와 함께 일부 쉽게 보이지 않을 수 있습니다. 그러나 Kotlin과 Jetpack Compose를 사용하면 관리할 수 있고 즐거울 수도 있습니다. 이 안내서에서는 클릭 가능한 링크가 포함된 HTML 문자열을 구문 분석하고 표시하는 사용자 정의 구성 가능한 함수인 HtmlText를 만드는 방법을 안내하겠습니다.\n\n# 의존성 추가\n\n시작하기 전에 build.gradle 파일에 필요한 종속성이 있는지 확인하세요:\n\n```js\ndependencies {\n    implementation \"androidx.compose.ui:ui:1.0.0\"\n    implementation \"androidx.compose.material:material:1.0.0\"\n    implementation \"androidx.compose.ui:ui-tooling-preview:1.0.0\"\n    implementation \"androidx.compose.runtime:runtime-livedata:1.0.0\"\n    implementation 'androidx.core:core-ktx:1.6.0'\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'androidx.compose.foundation:foundation:1.0.0'\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# HtmlText 컴포저블 함수 구축하기\n\nHtmlText 컴포저블 함수를 만드는 과정을 단계별로 살펴보겠습니다.\n\n![image](/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_0.png)\n\n함수 내부에서 현재 컨텍스트를 가져와 HTML 콘텐츠에서 주석이 달린 문자열을 만듭니다. HtmlCompat.fromHtml 메서드는 HTML 문자열을 Spanned 객체로 변환합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```kotlin\nval context = LocalContext.current\nval annotatedText = remember(html) {\n    val spanned = HtmlCompat.fromHtml(html, HtmlCompat.FROM_HTML_MODE_LEGACY)\n    val text = spanned.toString()\n    buildAnnotatedString {\n        append(text)\n        // 여기에 추가 코드가 추가될 예정입니다\n    }\n}\n```\n\n## 링크 구문 분석\n\nSpanned 객체에서 URL 스팬을 추출하고 buildAnnotatedString 블록 내에서 해당 링크에 주석을 달아서 스타일을 적용하고 클릭 가능하게 만듭니다.\n\n```kotlin\nval urlSpans = spanned.getSpans(0, spanned.length, android.text.style.URLSpan::class.java)\nurlSpans.forEach { urlSpan -\u003e\n    val start = spanned.getSpanStart(urlSpan)\n    val end = spanned.getSpanEnd(urlSpan)\n    val url = urlSpan.url\n    addStyle(\n        style = SpanStyle(\n            color = linkColor,\n            fontSize = fontSize,\n            fontWeight = FontWeight.SemiBold,\n            textDecoration = TextDecoration.Underline\n        ), start = start, end = end\n    )\n    addStringAnnotation(\n        tag = \"URL\",\n        annotation = url,\n        start = start,\n        end = end\n    )\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 클릭 처리\n\nClickableText를 사용하여 주석이 달린 문자열을 렌더링하고 링크 클릭을 처리하세요. 링크를 클릭하면 장치의 브라우저에서 열립니다.\n\n```js\nClickableText(\n    text = annotatedText,\n    onClick = { offset -\u003e\n        annotatedText.getStringAnnotations(tag = \"URL\", start = offset, end = offset)\n            .firstOrNull()?.let { annotation -\u003e\n                val intent = Intent(Intent.ACTION_VIEW, Uri.parse(annotation.item))\n                context.startActivity(intent)\n            }\n    },\n    style = TextStyle(\n        color = textColor,\n        fontSize = fontSize,\n        fontWeight = fontWeight\n    )\n)\r\n```\n\n# Complete HtmlText 함수\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음은 HtmlText 함수의 완전한 코드입니다:\n\n```js\nimport android.content.Intent\nimport android.net.Uri\nimport androidx.compose.foundation.text.ClickableText\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.remember\nimport androidx.compose.ui.graphics.Color\nimport androidx.compose.ui.platform.LocalContext\nimport androidx.compose.ui.text.SpanStyle\nimport androidx.compose.ui.text.buildAnnotatedString\nimport androidx.compose.ui.text.font.FontWeight\nimport androidx.compose.ui.text.style.TextDecoration\nimport androidx.compose.ui.text.style.TextStyle\nimport androidx.compose.ui.unit.TextUnit\nimport androidx.compose.ui.unit.sp\nimport androidx.core.text.HtmlCompat\n\n@Composable\nfun HtmlText(\n    html: String,\n    linkColor: Color = Color(0xFF6200EE), // 기본 링크 색상\n    textColor: Color = Color.DarkGray,\n    fontSize: TextUnit = 11.sp,\n    fontWeight: FontWeight = FontWeight.Normal\n) {\n    val context = LocalContext.current\n    val annotatedText = remember(html) {\n        val spanned = HtmlCompat.fromHtml(html, HtmlCompat.FROM_HTML_MODE_LEGACY)\n        val text = spanned.toString()\n        buildAnnotatedString {\n            append(text)\n            val urlSpans = spanned.getSpans(0, spanned.length, android.text.style.URLSpan::class.java)\n            urlSpans.forEach { urlSpan -\u003e\n                val start = spanned.getSpanStart(urlSpan)\n                val end = spanned.getSpanEnd(urlSpan)\n                val url = urlSpan.url\n                addStyle(\n                    style = SpanStyle(\n                        color = linkColor,\n                        fontSize = fontSize,\n                        fontWeight = FontWeight.SemiBold,\n                        textDecoration = TextDecoration.Underline\n                    ), start = start, end = end\n                )\n                addStringAnnotation(\n                    tag = \"URL\",\n                    annotation = url,\n                    start = start,\n                    end = end\n                )\n            }\n        }\n    }\n\n    ClickableText(\n        text = annotatedText,\n        onClick = { offset -\u003e\n            annotatedText.getStringAnnotations(tag = \"URL\", start = offset, end = offset)\n                .firstOrNull()?.let { annotation -\u003e\n                    val intent = Intent(Intent.ACTION_VIEW, Uri.parse(annotation.item))\n                    context.startActivity(intent)\n                }\n        },\n        style = TextStyle(\n            color = textColor,\n            fontSize = fontSize,\n            fontWeight = fontWeight\n        )\n    )\n}\n```\n\n# HtmlText 컴포저 사용하기\n\nCompose UI에서 HtmlText 컴포저를 사용하려면 HTML 콘텐츠와 함께 호출하면 됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```kotlin\n@Composable\nfun HelloWorldScreen() {\n    val htmlContent = \"\"\"\n        \u003cp\u003eThis is a \u003ca href=\"https://medium.com/\"\u003elink\u003c/a\u003e in HTML.\u003c/p\u003e\n    \"\"\".trimIndent()\n\n    HtmlText(\n        html = htmlContent,\n        linkColor = Color.Blue,\n        textColor = Color.Black,\n        fontSize = 16.sp,\n        fontWeight = FontWeight.Bold\n    )\n}\n```\n\n![Image](/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_1.png)\n\n# 결론\n\n위 단계를 따라서 Jetpack Compose에서 사용자 정의 HtmlText composable 함수를 만들어 클릭 가능한 링크가 있는 HTML 콘텐츠를 구문 분석하고 표시할 수 있었습니다. 이 함수는 Android의 HtmlCompat을 활용하여 HTML 문자열을 spanned 텍스트로 변환하고 Compose의 ClickableText를 사용하여 링크 상호 작용을 처리하여, Compose 애플리케이션에서 풍부한 텍스트 콘텐츠를 표시하는 강력한 도구가 되었습니다. 또한 사용자 정의 클릭 리스너를 추가하여 이 composable을 확장하고 HTML 콘텐츠와 더 복잡한 상호 작용을 가능하게 할 수 있습니다.\n","ogImage":{"url":"/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_0.png"},"coverImage":"/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_0.png","tag":["Tech"],"readingTime":7},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003eHTML 내용을 Android Compose에서 표시하는 것은 특히 클릭 가능한 링크와 함께 일부 쉽게 보이지 않을 수 있습니다. 그러나 Kotlin과 Jetpack Compose를 사용하면 관리할 수 있고 즐거울 수도 있습니다. 이 안내서에서는 클릭 가능한 링크가 포함된 HTML 문자열을 구문 분석하고 표시하는 사용자 정의 구성 가능한 함수인 HtmlText를 만드는 방법을 안내하겠습니다.\u003c/p\u003e\n\u003ch1\u003e의존성 추가\u003c/h1\u003e\n\u003cp\u003e시작하기 전에 build.gradle 파일에 필요한 종속성이 있는지 확인하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003edependencies {\n    implementation \u003cspan class=\"hljs-string\"\u003e\"androidx.compose.ui:ui:1.0.0\"\u003c/span\u003e\n    implementation \u003cspan class=\"hljs-string\"\u003e\"androidx.compose.material:material:1.0.0\"\u003c/span\u003e\n    implementation \u003cspan class=\"hljs-string\"\u003e\"androidx.compose.ui:ui-tooling-preview:1.0.0\"\u003c/span\u003e\n    implementation \u003cspan class=\"hljs-string\"\u003e\"androidx.compose.runtime:runtime-livedata:1.0.0\"\u003c/span\u003e\n    implementation \u003cspan class=\"hljs-string\"\u003e'androidx.core:core-ktx:1.6.0'\u003c/span\u003e\n    implementation \u003cspan class=\"hljs-string\"\u003e'androidx.appcompat:appcompat:1.3.1'\u003c/span\u003e\n    implementation \u003cspan class=\"hljs-string\"\u003e'androidx.compose.foundation:foundation:1.0.0'\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003eHtmlText 컴포저블 함수 구축하기\u003c/h1\u003e\n\u003cp\u003eHtmlText 컴포저블 함수를 만드는 과정을 단계별로 살펴보겠습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_0.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e함수 내부에서 현재 컨텍스트를 가져와 HTML 콘텐츠에서 주석이 달린 문자열을 만듭니다. HtmlCompat.fromHtml 메서드는 HTML 문자열을 Spanned 객체로 변환합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-kotlin\"\u003e\u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e context = LocalContext.current\n\u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e annotatedText = remember(html) {\n    \u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e spanned = HtmlCompat.fromHtml(html, HtmlCompat.FROM_HTML_MODE_LEGACY)\n    \u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e text = spanned.toString()\n    buildAnnotatedString {\n        append(text)\n        \u003cspan class=\"hljs-comment\"\u003e// 여기에 추가 코드가 추가될 예정입니다\u003c/span\u003e\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e링크 구문 분석\u003c/h2\u003e\n\u003cp\u003eSpanned 객체에서 URL 스팬을 추출하고 buildAnnotatedString 블록 내에서 해당 링크에 주석을 달아서 스타일을 적용하고 클릭 가능하게 만듭니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-kotlin\"\u003e\u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e urlSpans = spanned.getSpans(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, spanned.length, android.text.style.URLSpan::\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e.java)\nurlSpans.forEach { urlSpan -\u003e\n    \u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e start = spanned.getSpanStart(urlSpan)\n    \u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e end = spanned.getSpanEnd(urlSpan)\n    \u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e url = urlSpan.url\n    addStyle(\n        style = SpanStyle(\n            color = linkColor,\n            fontSize = fontSize,\n            fontWeight = FontWeight.SemiBold,\n            textDecoration = TextDecoration.Underline\n        ), start = start, end = end\n    )\n    addStringAnnotation(\n        tag = \u003cspan class=\"hljs-string\"\u003e\"URL\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-keyword\"\u003eannotation\u003c/span\u003e = url,\n        start = start,\n        end = end\n    )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e클릭 처리\u003c/h1\u003e\n\u003cp\u003eClickableText를 사용하여 주석이 달린 문자열을 렌더링하고 링크 클릭을 처리하세요. 링크를 클릭하면 장치의 브라우저에서 열립니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eClickableText\u003c/span\u003e(\n    text = annotatedText,\n    onClick = { offset -\u003e\n        annotatedText.\u003cspan class=\"hljs-title function_\"\u003egetStringAnnotations\u003c/span\u003e(tag = \u003cspan class=\"hljs-string\"\u003e\"URL\"\u003c/span\u003e, start = offset, end = offset)\n            .\u003cspan class=\"hljs-title function_\"\u003efirstOrNull\u003c/span\u003e()?.\u003cspan class=\"hljs-property\"\u003elet\u003c/span\u003e { annotation -\u003e\n                val intent = \u003cspan class=\"hljs-title class_\"\u003eIntent\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eIntent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eACTION_VIEW\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eUri\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(annotation.\u003cspan class=\"hljs-property\"\u003eitem\u003c/span\u003e))\n                context.\u003cspan class=\"hljs-title function_\"\u003estartActivity\u003c/span\u003e(intent)\n            }\n    },\n    style = \u003cspan class=\"hljs-title class_\"\u003eTextStyle\u003c/span\u003e(\n        color = textColor,\n        fontSize = fontSize,\n        fontWeight = fontWeight\n    )\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003eComplete HtmlText 함수\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다음은 HtmlText 함수의 완전한 코드입니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e android.\u003cspan class=\"hljs-property\"\u003econtent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eIntent\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e android.\u003cspan class=\"hljs-property\"\u003enet\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eUri\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003efoundation\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eClickableText\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eruntime\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eComposable\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eruntime\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eremember\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eui\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003egraphics\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eColor\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eui\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eplatform\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eLocalContext\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eui\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eSpanStyle\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eui\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebuildAnnotatedString\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eui\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003efont\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eFontWeight\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eui\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eTextDecoration\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eui\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eTextStyle\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eui\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eunit\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eTextUnit\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecompose\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eui\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eunit\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003esp\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e androidx.\u003cspan class=\"hljs-property\"\u003ecore\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eHtmlCompat\u003c/span\u003e\n\n@\u003cspan class=\"hljs-title class_\"\u003eComposable\u003c/span\u003e\nfun \u003cspan class=\"hljs-title class_\"\u003eHtmlText\u003c/span\u003e(\n    \u003cspan class=\"hljs-attr\"\u003ehtml\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eString\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003elinkColor\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eColor\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eColor\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0xFF6200EE\u003c/span\u003e), \u003cspan class=\"hljs-comment\"\u003e// 기본 링크 색상\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003etextColor\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eColor\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eColor\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eDarkGray\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003efontSize\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eTextUnit\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e11.\u003c/span\u003esp,\n    \u003cspan class=\"hljs-attr\"\u003efontWeight\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eFontWeight\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eFontWeight\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eNormal\u003c/span\u003e\n) {\n    val context = \u003cspan class=\"hljs-title class_\"\u003eLocalContext\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e\n    val annotatedText = \u003cspan class=\"hljs-title function_\"\u003eremember\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ehtml\u003c/span\u003e) {\n        val spanned = \u003cspan class=\"hljs-title class_\"\u003eHtmlCompat\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efromHtml\u003c/span\u003e(html, \u003cspan class=\"hljs-title class_\"\u003eHtmlCompat\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eFROM_HTML_MODE_LEGACY\u003c/span\u003e)\n        val text = spanned.\u003cspan class=\"hljs-title function_\"\u003etoString\u003c/span\u003e()\n        buildAnnotatedString {\n            \u003cspan class=\"hljs-title function_\"\u003eappend\u003c/span\u003e(text)\n            val urlSpans = spanned.\u003cspan class=\"hljs-title function_\"\u003egetSpans\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, spanned.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e, android.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eURLSpan\u003c/span\u003e::\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ejava\u003c/span\u003e)\n            urlSpans.\u003cspan class=\"hljs-property\"\u003eforEach\u003c/span\u003e { urlSpan -\u003e\n                val start = spanned.\u003cspan class=\"hljs-title function_\"\u003egetSpanStart\u003c/span\u003e(urlSpan)\n                val end = spanned.\u003cspan class=\"hljs-title function_\"\u003egetSpanEnd\u003c/span\u003e(urlSpan)\n                val url = urlSpan.\u003cspan class=\"hljs-property\"\u003eurl\u003c/span\u003e\n                \u003cspan class=\"hljs-title function_\"\u003eaddStyle\u003c/span\u003e(\n                    style = \u003cspan class=\"hljs-title class_\"\u003eSpanStyle\u003c/span\u003e(\n                        color = linkColor,\n                        fontSize = fontSize,\n                        fontWeight = \u003cspan class=\"hljs-title class_\"\u003eFontWeight\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eSemiBold\u003c/span\u003e,\n                        textDecoration = \u003cspan class=\"hljs-title class_\"\u003eTextDecoration\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eUnderline\u003c/span\u003e\n                    ), start = start, end = end\n                )\n                \u003cspan class=\"hljs-title function_\"\u003eaddStringAnnotation\u003c/span\u003e(\n                    tag = \u003cspan class=\"hljs-string\"\u003e\"URL\"\u003c/span\u003e,\n                    annotation = url,\n                    start = start,\n                    end = end\n                )\n            }\n        }\n    }\n\n    \u003cspan class=\"hljs-title class_\"\u003eClickableText\u003c/span\u003e(\n        text = annotatedText,\n        onClick = { offset -\u003e\n            annotatedText.\u003cspan class=\"hljs-title function_\"\u003egetStringAnnotations\u003c/span\u003e(tag = \u003cspan class=\"hljs-string\"\u003e\"URL\"\u003c/span\u003e, start = offset, end = offset)\n                .\u003cspan class=\"hljs-title function_\"\u003efirstOrNull\u003c/span\u003e()?.\u003cspan class=\"hljs-property\"\u003elet\u003c/span\u003e { annotation -\u003e\n                    val intent = \u003cspan class=\"hljs-title class_\"\u003eIntent\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eIntent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eACTION_VIEW\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eUri\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(annotation.\u003cspan class=\"hljs-property\"\u003eitem\u003c/span\u003e))\n                    context.\u003cspan class=\"hljs-title function_\"\u003estartActivity\u003c/span\u003e(intent)\n                }\n        },\n        style = \u003cspan class=\"hljs-title class_\"\u003eTextStyle\u003c/span\u003e(\n            color = textColor,\n            fontSize = fontSize,\n            fontWeight = fontWeight\n        )\n    )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003eHtmlText 컴포저 사용하기\u003c/h1\u003e\n\u003cp\u003eCompose UI에서 HtmlText 컴포저를 사용하려면 HTML 콘텐츠와 함께 호출하면 됩니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-kotlin\"\u003e\u003cspan class=\"hljs-meta\"\u003e@Composable\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efun\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eHelloWorldScreen\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eval\u003c/span\u003e htmlContent = \u003cspan class=\"hljs-string\"\u003e\"\"\"\n        \u0026#x3C;p\u003eThis is a \u0026#x3C;a href=\"https://medium.com/\"\u003elink\u0026#x3C;/a\u003e in HTML.\u0026#x3C;/p\u003e\n    \"\"\"\u003c/span\u003e.trimIndent()\n\n    HtmlText(\n        html = htmlContent,\n        linkColor = Color.Blue,\n        textColor = Color.Black,\n        fontSize = \u003cspan class=\"hljs-number\"\u003e16.\u003c/span\u003esp,\n        fontWeight = FontWeight.Bold\n    )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose_1.png\" alt=\"Image\"\u003e\u003c/p\u003e\n\u003ch1\u003e결론\u003c/h1\u003e\n\u003cp\u003e위 단계를 따라서 Jetpack Compose에서 사용자 정의 HtmlText composable 함수를 만들어 클릭 가능한 링크가 있는 HTML 콘텐츠를 구문 분석하고 표시할 수 있었습니다. 이 함수는 Android의 HtmlCompat을 활용하여 HTML 문자열을 spanned 텍스트로 변환하고 Compose의 ClickableText를 사용하여 링크 상호 작용을 처리하여, Compose 애플리케이션에서 풍부한 텍스트 콘텐츠를 표시하는 강력한 도구가 되었습니다. 또한 사용자 정의 클릭 리스너를 추가하여 이 composable을 확장하고 HTML 콘텐츠와 더 복잡한 상호 작용을 가능하게 할 수 있습니다.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-22-CreatingInteractiveHTMLContentinJetpackCompose"},"buildId":"Rv-NbbtWUaja2joH5WkO_","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>