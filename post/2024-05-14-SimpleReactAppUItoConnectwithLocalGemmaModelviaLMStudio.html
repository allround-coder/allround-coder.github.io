<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>로컬 Gemma 모델과 연결하는 LM Studio를 통한 간단한 React 앱 UI | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="로컬 Gemma 모델과 연결하는 LM Studio를 통한 간단한 React 앱 UI | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="로컬 Gemma 모델과 연결하는 LM Studio를 통한 간단한 React 앱 UI | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio" data-gatsby-head="true"/><meta name="twitter:title" content="로컬 Gemma 모델과 연결하는 LM Studio를 통한 간단한 React 앱 UI | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-14 12:04" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_buildManifest.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">로컬 Gemma 모델과 연결하는 LM Studio를 통한 간단한 React 앱 UI</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="로컬 Gemma 모델과 연결하는 LM Studio를 통한 간단한 React 앱 UI" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 14, 2024</span><span class="posts_reading_time__f7YPP">7<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>로컬 데이터를 Gemma를 통해 LM Studio로 처리함으로써 정보를 외부 서버로 보내지 않고 제어할 수 있습니다. 이 방식은 민감한 문서나 개인 데이터를 다룰 때 데이터 개인 정보 보호와 보안을 보장합니다. 이 기사에서는 로컬 LLM과 상호작용하기 위해 간단한 React 앱 GUI를 사용하는 방법을 살펴보겠습니다.</p>
<p>LM Studio 및 Gemma 모델 설치</p>
<pre><code class="hljs language-js"><span class="hljs-attr">https</span>:<span class="hljs-comment">//lmstudio.ai/</span>
</code></pre>
<p>Windows / Linux / Mac 버전을 다운로드하세요.</p>
<p><img src="/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_0.png" alt="이미지"></p>
<p>이제 노트북/PC/서버에 적합한 모델을 찾아보세요.</p>
<p>우리는 Gemma Model을 사용하고 있습니다. 이는 기계 학습에 경험이 제한된 개발자들에게도 쉽게 사용할 수 있습니다. 그들의 가벼운 특성은 접근성이 높고 사용하기 편리합니다.</p>
<p><img src="/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_1.png" alt="이미지"></p>
<p>다운로드 후에는 왼쪽 메뉴에서이 모델을 로컬 서버에서 제공하는 옵션을 찾을 수 있습니다. 선택한 후 위쪽 드롭다운에서 사용 가능한 로컬 모델 목록을 선택하고 "서버 시작"을 클릭할 수 있습니다. 오른쪽 메뉴에서는 로컬 모델의 설정을 사용자 정의할 수 있습니다. 샘플 코드 섹션에서 API Curl 명령을 볼 수 있습니다. 로컬호스트 URL 및 API의 매개변수가 표시됩니다.</p>
<p><img src="/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_2.png" alt="이미지"></p>
<p>이제 LM Studio 설정이 완료되었으며 Gemma 모델이 로컬 API로 이용 가능해졌습니다.</p>
<p>간단한 React App GUI를 작성하여 Gemma 모델의 로컬 LM Studio API와 상호 작용해 보겠습니다. 나중에 이 코드를 사용하여 직접 응용 프로그램에서 사용할 수 있습니다.</p>
<p>React GUI</p>
<p>설정</p>
<p>여기서는 React 앱에 Vite를 사용하고 있습니다.</p>
<pre><code class="hljs language-js">npm create vite@latest
</code></pre>
<p>프롬프트 메뉴에서 Framework를 React로, Variant를 Javascript로 선택하고 해당 디렉토리로 이동하여 설치하세요.</p>
<pre><code class="hljs language-js">npm install
</code></pre>
<p>앱을 미리 보기하려면 다음을 실행하세요.</p>
<pre><code class="hljs language-js">npm run dev
</code></pre>
<p>웹 브라우저를 열고 <a href="http://localhost:5173/" rel="nofollow" target="_blank">http://localhost:5173/</a> 로 이동하세요.</p>
<p>무료 사이트에서 lens.png 및 loading.gif 두 개의 이미지를 다운로드하여 assets 디렉토리에 추가하세요.</p>
<p>이제 아래 코드를 사용하여 3개 파일을 업데이트하세요.</p>
<p>App.jsx</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> reactLogo <span class="hljs-keyword">from</span> <span class="hljs-string">'./assets/react.svg'</span>
<span class="hljs-keyword">import</span> viteLogo <span class="hljs-keyword">from</span> <span class="hljs-string">'/vite.svg'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>
<span class="hljs-keyword">import</span> lens <span class="hljs-keyword">from</span> <span class="hljs-string">"./assets/lens.png"</span>;
<span class="hljs-keyword">import</span> loadingGif <span class="hljs-keyword">from</span> <span class="hljs-string">"./assets/loading.gif"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {

  <span class="hljs-keyword">const</span> [prompt, updatePrompt] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">undefined</span>);
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [answer, setAnswer] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">undefined</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-keyword">if</span> (prompt != <span class="hljs-literal">null</span> &#x26;&#x26; prompt.<span class="hljs-title function_">trim</span>() === <span class="hljs-string">""</span>) {
      <span class="hljs-title function_">setAnswer</span>(<span class="hljs-literal">undefined</span>);
    }
  }, [prompt]);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendPrompt</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">event</span>) => {
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">key</span> !== <span class="hljs-string">"Enter"</span>) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);

      <span class="hljs-keyword">const</span> requestOptions = {
        <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
        <span class="hljs-attr">headers</span>: { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span> },
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(
          
          { 
            <span class="hljs-attr">model</span>: <span class="hljs-string">"lmstudio-ai/gemma-2b-it-GGUF"</span>, 
            temperature : <span class="hljs-number">0.7</span>,
            max_tokens : -<span class="hljs-number">1</span>,
            <span class="hljs-attr">messages</span>: [ { role : <span class="hljs-string">"user"</span>, content : <span class="hljs-string">`<span class="hljs-subst">${prompt}</span>`</span> },] 
          },
        ),
      };

      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/api/v1/chat/completions"</span>, requestOptions);
  
      <span class="hljs-keyword">if</span> (!res.<span class="hljs-property">ok</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Something went wrong"</span>);
      }
      <span class="hljs-keyword">const</span> testresp = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(testresp.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>);
      <span class="hljs-title function_">setAnswer</span>(testresp.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>);

    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err, <span class="hljs-string">"err"</span>);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&#x3C;></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>></span>
        <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://vitejs.dev"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>></span>
          <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{viteLogo}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"logo"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Vite logo"</span> /></span>
        <span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
        <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://react.dev"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>></span>
          <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{reactLogo}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"logo react"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"React logo"</span> /></span>
        <span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">h1</span>></span>React Chat LLM UI<span class="hljs-tag">&#x3C;/<span class="hljs-name">h1</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">input</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">"searchlight__input"</span>
            <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Ask me anything and press enter..."</span>
            <span class="hljs-attr">disabled</span>=<span class="hljs-string">{loading}</span>
            <span class="hljs-attr">style</span>=<span class="hljs-string">{</span>
              <span class="hljs-attr">backgroundImage:</span> <span class="hljs-attr">loading</span> ? `<span class="hljs-attr">url</span>(${<span class="hljs-attr">loadingGif</span>})` <span class="hljs-attr">:</span> `<span class="hljs-attr">url</span>(${<span class="hljs-attr">lens</span>})`,
            }
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =></span> updatePrompt(e.target.value)}
            onKeyDown={(e) => sendPrompt(e)}
          />

        <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"searchlight__answer"</span>></span>{answer &#x26;&#x26; <span class="hljs-tag">&#x3C;<span class="hljs-name">p</span>></span>{answer}<span class="hljs-tag">&#x3C;/<span class="hljs-name">p</span>></span>}<span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>

    <span class="hljs-tag">&#x3C;/></span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<p>App.css</p>
<p>아래 코드로 기존의 App.css를 업데이트하세요. 원하시는 대로 사용자 정의할 수 있습니다.</p>
<pre><code class="hljs language-js">#root {
  max-<span class="hljs-attr">width</span>: 1280px;
  <span class="hljs-attr">margin</span>: <span class="hljs-number">0</span> auto;
  <span class="hljs-attr">padding</span>: 2rem;
  text-<span class="hljs-attr">align</span>: center;
}

.<span class="hljs-property">logo</span> {
  <span class="hljs-attr">height</span>: 6em;
  <span class="hljs-attr">padding</span>: <span class="hljs-number">1.</span>5em;
  will-<span class="hljs-attr">change</span>: filter;
  <span class="hljs-attr">transition</span>: filter 300ms;
}
.<span class="hljs-property">logo</span>:hover {
  <span class="hljs-attr">filter</span>: drop-<span class="hljs-title function_">shadow</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> 2em #646cffaa);
}
.<span class="hljs-property">logo</span>.<span class="hljs-property">react</span>:hover {
  <span class="hljs-attr">filter</span>: drop-<span class="hljs-title function_">shadow</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> 2em #61dafbaa);
}

@keyframes logo-spin {
  <span class="hljs-keyword">from</span> {
    <span class="hljs-attr">transform</span>: <span class="hljs-title function_">rotate</span>(0deg);
  }
  to {
    <span class="hljs-attr">transform</span>: <span class="hljs-title function_">rotate</span>(360deg);
  }
}

@media (prefers-reduced-<span class="hljs-attr">motion</span>: no-preference) {
  <span class="hljs-attr">a</span>:nth-<span class="hljs-keyword">of</span>-<span class="hljs-title function_">type</span>(<span class="hljs-number">2</span>) .<span class="hljs-property">logo</span> {
    <span class="hljs-attr">animation</span>: logo-spin infinite 20s linear;
  }
}

.<span class="hljs-property">card</span> {
  <span class="hljs-attr">padding</span>: 2em;
}

.<span class="hljs-property">read</span>-the-docs {
  <span class="hljs-attr">color</span>: #<span class="hljs-number">888</span>;
}

.<span class="hljs-property">searchlight__input</span> {
  <span class="hljs-attr">display</span>: block;
  <span class="hljs-attr">height</span>: 56px;
  <span class="hljs-attr">width</span>: <span class="hljs-number">80</span>%;
  <span class="hljs-attr">border</span>: <span class="hljs-number">0</span>;
  border-<span class="hljs-attr">radius</span>: 12px;
  <span class="hljs-attr">outline</span>: none;
  font-<span class="hljs-attr">size</span>: <span class="hljs-number">1.</span>2rem;
  <span class="hljs-attr">color</span>: #<span class="hljs-number">000</span>;
  background-<span class="hljs-attr">position</span>: left 17px center;
  background-<span class="hljs-attr">repeat</span>: no-repeat;
  background-<span class="hljs-attr">color</span>: #fff;
  background-<span class="hljs-attr">size</span>: <span class="hljs-number">3.5</span>%;
  padding-<span class="hljs-attr">left</span>: 60px;
}

.<span class="hljs-property">searchlight__input</span>::placeholder {
  line-<span class="hljs-attr">height</span>: <span class="hljs-number">1.</span>5em;
}

.<span class="hljs-property">searchlight__answer</span> {
  min-<span class="hljs-attr">height</span>: 115px;
  line-<span class="hljs-attr">height</span>: <span class="hljs-number">1.</span>5em;
  letter-<span class="hljs-attr">spacing</span>: <span class="hljs-number">0.</span>1px;
  <span class="hljs-attr">padding</span>: 10px 30px;
  <span class="hljs-attr">display</span>: flex;
  align-<span class="hljs-attr">items</span>: center;
  justify-<span class="hljs-attr">content</span>: center;
}

.<span class="hljs-property">searchlight__answer</span> <span class="hljs-attr">p</span>::after {
  <span class="hljs-attr">content</span>: <span class="hljs-string">""</span>;
  <span class="hljs-attr">width</span>: 2px;
  <span class="hljs-attr">height</span>: 14px;
  <span class="hljs-attr">position</span>: relative;
  <span class="hljs-attr">top</span>: 2px;
  <span class="hljs-attr">left</span>: 2px;
  <span class="hljs-attr">background</span>: black;
  <span class="hljs-attr">display</span>: inline-block;
  <span class="hljs-attr">animation</span>: cursor-blink 1s <span class="hljs-title function_">steps</span>(<span class="hljs-number">2</span>) infinite;
}

@keyframes cursor-blink {
  <span class="hljs-number">0</span>% {
    <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span>;
  }
}
</code></pre>
<p>LM Studio Local API를 호출하기 위해 Gemma를 업데이트하려면 Vite 구성 파일을 수정하십시오.</p>
<p>vite.config.js</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">react</span>()],
  <span class="hljs-attr">server</span>: {
    <span class="hljs-attr">proxy</span>: {
      <span class="hljs-string">"/api"</span>: {
        <span class="hljs-attr">target</span>: <span class="hljs-string">"http://localhost:1234"</span>,
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">rewrite</span>: <span class="hljs-function">(<span class="hljs-params">path</span>) =></span> path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\/api/</span>, <span class="hljs-string">""</span>),
        <span class="hljs-title function_">onBeforeSend</span>(<span class="hljs-params">proxyContext</span>) {
          <span class="hljs-keyword">const</span> { req, res } = proxyContext;
          <span class="hljs-keyword">const</span> { url, method, headers, rawBody } = req;
          <span class="hljs-keyword">return</span> proxyContext;
        },
      },
    },
  },
});
</code></pre>
<p>샘플 출력:</p>
<p><img src="/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_3.png" alt="이미지"></p>
<p>대체 도구: Ollama는 로컬 서버에서 오픈 소스 모델을 호스팅하는 또 다른 도구입니다.</p>
<p>다음 글에서는 문서를 업로드하고 채팅하는 방법을 알아보겠습니다.</p>
<p>해보고 느낀 점은 댓글로 공유해주세요.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"로컬 Gemma 모델과 연결하는 LM Studio를 통한 간단한 React 앱 UI","description":"","date":"2024-05-14 12:04","slug":"2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio","content":"\n\n로컬 데이터를 Gemma를 통해 LM Studio로 처리함으로써 정보를 외부 서버로 보내지 않고 제어할 수 있습니다. 이 방식은 민감한 문서나 개인 데이터를 다룰 때 데이터 개인 정보 보호와 보안을 보장합니다. 이 기사에서는 로컬 LLM과 상호작용하기 위해 간단한 React 앱 GUI를 사용하는 방법을 살펴보겠습니다.\n\nLM Studio 및 Gemma 모델 설치\n\n```js\nhttps://lmstudio.ai/\n```\n\nWindows / Linux / Mac 버전을 다운로드하세요.\n\n\n\n![이미지](/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_0.png)\n\n이제 노트북/PC/서버에 적합한 모델을 찾아보세요.\n\n우리는 Gemma Model을 사용하고 있습니다. 이는 기계 학습에 경험이 제한된 개발자들에게도 쉽게 사용할 수 있습니다. 그들의 가벼운 특성은 접근성이 높고 사용하기 편리합니다.\n\n![이미지](/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_1.png)\n\n\n\n다운로드 후에는 왼쪽 메뉴에서이 모델을 로컬 서버에서 제공하는 옵션을 찾을 수 있습니다. 선택한 후 위쪽 드롭다운에서 사용 가능한 로컬 모델 목록을 선택하고 \"서버 시작\"을 클릭할 수 있습니다. 오른쪽 메뉴에서는 로컬 모델의 설정을 사용자 정의할 수 있습니다. 샘플 코드 섹션에서 API Curl 명령을 볼 수 있습니다. 로컬호스트 URL 및 API의 매개변수가 표시됩니다.\n\n![이미지](/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_2.png)\n\n이제 LM Studio 설정이 완료되었으며 Gemma 모델이 로컬 API로 이용 가능해졌습니다.\n\n간단한 React App GUI를 작성하여 Gemma 모델의 로컬 LM Studio API와 상호 작용해 보겠습니다. 나중에 이 코드를 사용하여 직접 응용 프로그램에서 사용할 수 있습니다.\n\n\n\nReact GUI\n\n설정\n\n여기서는 React 앱에 Vite를 사용하고 있습니다.\n\n```js\nnpm create vite@latest\n```\n\n\n\n프롬프트 메뉴에서 Framework를 React로, Variant를 Javascript로 선택하고 해당 디렉토리로 이동하여 설치하세요.\n\n```js\nnpm install\n```\n\n앱을 미리 보기하려면 다음을 실행하세요.\n\n```js\nnpm run dev\n```\n\n\n\n웹 브라우저를 열고 http://localhost:5173/ 로 이동하세요.\n\n무료 사이트에서 lens.png 및 loading.gif 두 개의 이미지를 다운로드하여 assets 디렉토리에 추가하세요.\n\n이제 아래 코드를 사용하여 3개 파일을 업데이트하세요.\n\nApp.jsx\n\n\n\n```js\nimport { useState, useEffect } from 'react'\nimport reactLogo from './assets/react.svg'\nimport viteLogo from '/vite.svg'\nimport './App.css'\nimport lens from \"./assets/lens.png\";\nimport loadingGif from \"./assets/loading.gif\";\n\nfunction App() {\n\n  const [prompt, updatePrompt] = useState(undefined);\n  const [loading, setLoading] = useState(false);\n  const [answer, setAnswer] = useState(undefined);\n\n  useEffect(() =\u003e {\n    if (prompt != null \u0026\u0026 prompt.trim() === \"\") {\n      setAnswer(undefined);\n    }\n  }, [prompt]);\n\n  const sendPrompt = async (event) =\u003e {\n    if (event.key !== \"Enter\") {\n      return;\n    }\n\n    try {\n      setLoading(true);\n\n      const requestOptions = {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(\n          \n          { \n            model: \"lmstudio-ai/gemma-2b-it-GGUF\", \n            temperature : 0.7,\n            max_tokens : -1,\n            messages: [ { role : \"user\", content : `${prompt}` },] \n          },\n        ),\n      };\n\n      const res = await fetch(\"/api/v1/chat/completions\", requestOptions);\n  \n      if (!res.ok) {\n        throw new Error(\"Something went wrong\");\n      }\n      const testresp = await res.json();\n      console.log(testresp.choices[0].message.content);\n      setAnswer(testresp.choices[0].message.content);\n\n    } catch (err) {\n      console.error(err, \"err\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    \u003c\u003e\n      \u003cdiv\u003e\n        \u003ca href=\"https://vitejs.dev\" target=\"_blank\"\u003e\n          \u003cimg src={viteLogo} className=\"logo\" alt=\"Vite logo\" /\u003e\n        \u003c/a\u003e\n        \u003ca href=\"https://react.dev\" target=\"_blank\"\u003e\n          \u003cimg src={reactLogo} className=\"logo react\" alt=\"React logo\" /\u003e\n        \u003c/a\u003e\n      \u003c/div\u003e\n      \u003ch1\u003eReact Chat LLM UI\u003c/h1\u003e\n      \u003cinput\n            type=\"text\"\n            className=\"searchlight__input\"\n            placeholder=\"Ask me anything and press enter...\"\n            disabled={loading}\n            style={\n              backgroundImage: loading ? `url(${loadingGif})` : `url(${lens})`,\n            }\n            onChange={(e) =\u003e updatePrompt(e.target.value)}\n            onKeyDown={(e) =\u003e sendPrompt(e)}\n          /\u003e\n\n        \u003cdiv className=\"searchlight__answer\"\u003e{answer \u0026\u0026 \u003cp\u003e{answer}\u003c/p\u003e}\u003c/div\u003e\n\n    \u003c/\u003e\n  )\n}\n\nexport default App\n```\n\nApp.css\n\n아래 코드로 기존의 App.css를 업데이트하세요. 원하시는 대로 사용자 정의할 수 있습니다.\n\n```js\n#root {\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 2rem;\n  text-align: center;\n}\n\n.logo {\n  height: 6em;\n  padding: 1.5em;\n  will-change: filter;\n  transition: filter 300ms;\n}\n.logo:hover {\n  filter: drop-shadow(0 0 2em #646cffaa);\n}\n.logo.react:hover {\n  filter: drop-shadow(0 0 2em #61dafbaa);\n}\n\n@keyframes logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  a:nth-of-type(2) .logo {\n    animation: logo-spin infinite 20s linear;\n  }\n}\n\n.card {\n  padding: 2em;\n}\n\n.read-the-docs {\n  color: #888;\n}\n\n.searchlight__input {\n  display: block;\n  height: 56px;\n  width: 80%;\n  border: 0;\n  border-radius: 12px;\n  outline: none;\n  font-size: 1.2rem;\n  color: #000;\n  background-position: left 17px center;\n  background-repeat: no-repeat;\n  background-color: #fff;\n  background-size: 3.5%;\n  padding-left: 60px;\n}\n\n.searchlight__input::placeholder {\n  line-height: 1.5em;\n}\n\n.searchlight__answer {\n  min-height: 115px;\n  line-height: 1.5em;\n  letter-spacing: 0.1px;\n  padding: 10px 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.searchlight__answer p::after {\n  content: \"\";\n  width: 2px;\n  height: 14px;\n  position: relative;\n  top: 2px;\n  left: 2px;\n  background: black;\n  display: inline-block;\n  animation: cursor-blink 1s steps(2) infinite;\n}\n\n@keyframes cursor-blink {\n  0% {\n    opacity: 0;\n  }\n}\n```\n\n\n\nLM Studio Local API를 호출하기 위해 Gemma를 업데이트하려면 Vite 구성 파일을 수정하십시오.\n\nvite.config.js\n\n```js\nimport { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\n\nexport default defineConfig({\n  plugins: [react()],\n  server: {\n    proxy: {\n      \"/api\": {\n        target: \"http://localhost:1234\",\n        changeOrigin: true,\n        rewrite: (path) =\u003e path.replace(/^\\/api/, \"\"),\n        onBeforeSend(proxyContext) {\n          const { req, res } = proxyContext;\n          const { url, method, headers, rawBody } = req;\n          return proxyContext;\n        },\n      },\n    },\n  },\n});\n```\n\n샘플 출력:\n\n\n\n![이미지](/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_3.png)\n\n대체 도구: Ollama는 로컬 서버에서 오픈 소스 모델을 호스팅하는 또 다른 도구입니다.\n\n다음 글에서는 문서를 업로드하고 채팅하는 방법을 알아보겠습니다.\n\n해보고 느낀 점은 댓글로 공유해주세요.","ogImage":{"url":"/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_0.png"},"coverImage":"/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_0.png","tag":["Tech"],"readingTime":7},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e로컬 데이터를 Gemma를 통해 LM Studio로 처리함으로써 정보를 외부 서버로 보내지 않고 제어할 수 있습니다. 이 방식은 민감한 문서나 개인 데이터를 다룰 때 데이터 개인 정보 보호와 보안을 보장합니다. 이 기사에서는 로컬 LLM과 상호작용하기 위해 간단한 React 앱 GUI를 사용하는 방법을 살펴보겠습니다.\u003c/p\u003e\n\u003cp\u003eLM Studio 및 Gemma 모델 설치\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//lmstudio.ai/\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWindows / Linux / Mac 버전을 다운로드하세요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e이제 노트북/PC/서버에 적합한 모델을 찾아보세요.\u003c/p\u003e\n\u003cp\u003e우리는 Gemma Model을 사용하고 있습니다. 이는 기계 학습에 경험이 제한된 개발자들에게도 쉽게 사용할 수 있습니다. 그들의 가벼운 특성은 접근성이 높고 사용하기 편리합니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_1.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e다운로드 후에는 왼쪽 메뉴에서이 모델을 로컬 서버에서 제공하는 옵션을 찾을 수 있습니다. 선택한 후 위쪽 드롭다운에서 사용 가능한 로컬 모델 목록을 선택하고 \"서버 시작\"을 클릭할 수 있습니다. 오른쪽 메뉴에서는 로컬 모델의 설정을 사용자 정의할 수 있습니다. 샘플 코드 섹션에서 API Curl 명령을 볼 수 있습니다. 로컬호스트 URL 및 API의 매개변수가 표시됩니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_2.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e이제 LM Studio 설정이 완료되었으며 Gemma 모델이 로컬 API로 이용 가능해졌습니다.\u003c/p\u003e\n\u003cp\u003e간단한 React App GUI를 작성하여 Gemma 모델의 로컬 LM Studio API와 상호 작용해 보겠습니다. 나중에 이 코드를 사용하여 직접 응용 프로그램에서 사용할 수 있습니다.\u003c/p\u003e\n\u003cp\u003eReact GUI\u003c/p\u003e\n\u003cp\u003e설정\u003c/p\u003e\n\u003cp\u003e여기서는 React 앱에 Vite를 사용하고 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm create vite@latest\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e프롬프트 메뉴에서 Framework를 React로, Variant를 Javascript로 선택하고 해당 디렉토리로 이동하여 설치하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e앱을 미리 보기하려면 다음을 실행하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm run dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e웹 브라우저를 열고 \u003ca href=\"http://localhost:5173/\" rel=\"nofollow\" target=\"_blank\"\u003ehttp://localhost:5173/\u003c/a\u003e 로 이동하세요.\u003c/p\u003e\n\u003cp\u003e무료 사이트에서 lens.png 및 loading.gif 두 개의 이미지를 다운로드하여 assets 디렉토리에 추가하세요.\u003c/p\u003e\n\u003cp\u003e이제 아래 코드를 사용하여 3개 파일을 업데이트하세요.\u003c/p\u003e\n\u003cp\u003eApp.jsx\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useState, useEffect } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'react'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e reactLogo \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./assets/react.svg'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e viteLogo \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'/vite.svg'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./App.css'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e lens \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./assets/lens.png\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e loadingGif \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"./assets/loading.gif\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [prompt, updatePrompt] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [loading, setLoading] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [answer, setAnswer] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (prompt != \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e \u0026#x26;\u0026#x26; prompt.\u003cspan class=\"hljs-title function_\"\u003etrim\u003c/span\u003e() === \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e) {\n      \u003cspan class=\"hljs-title function_\"\u003esetAnswer\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e);\n    }\n  }, [prompt]);\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esendPrompt\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (event.\u003cspan class=\"hljs-property\"\u003ekey\u003c/span\u003e !== \u003cspan class=\"hljs-string\"\u003e\"Enter\"\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n      \u003cspan class=\"hljs-title function_\"\u003esetLoading\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e);\n\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e requestOptions = {\n        \u003cspan class=\"hljs-attr\"\u003emethod\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"POST\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003eheaders\u003c/span\u003e: { \u003cspan class=\"hljs-string\"\u003e\"Content-Type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"application/json\"\u003c/span\u003e },\n        \u003cspan class=\"hljs-attr\"\u003ebody\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003estringify\u003c/span\u003e(\n          \n          { \n            \u003cspan class=\"hljs-attr\"\u003emodel\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"lmstudio-ai/gemma-2b-it-GGUF\"\u003c/span\u003e, \n            temperature : \u003cspan class=\"hljs-number\"\u003e0.7\u003c/span\u003e,\n            max_tokens : -\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003emessages\u003c/span\u003e: [ { role : \u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e, content : \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${prompt}\u003c/span\u003e`\u003c/span\u003e },] \n          },\n        ),\n      };\n\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e res = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efetch\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"/api/v1/chat/completions\"\u003c/span\u003e, requestOptions);\n  \n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!res.\u003cspan class=\"hljs-property\"\u003eok\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Something went wrong\"\u003c/span\u003e);\n      }\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e testresp = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e res.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e();\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(testresp.\u003cspan class=\"hljs-property\"\u003echoices\u003c/span\u003e[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e].\u003cspan class=\"hljs-property\"\u003emessage\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econtent\u003c/span\u003e);\n      \u003cspan class=\"hljs-title function_\"\u003esetAnswer\u003c/span\u003e(testresp.\u003cspan class=\"hljs-property\"\u003echoices\u003c/span\u003e[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e].\u003cspan class=\"hljs-property\"\u003emessage\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econtent\u003c/span\u003e);\n\n    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (err) {\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(err, \u003cspan class=\"hljs-string\"\u003e\"err\"\u003c/span\u003e);\n    } \u003cspan class=\"hljs-keyword\"\u003efinally\u003c/span\u003e {\n      \u003cspan class=\"hljs-title function_\"\u003esetLoading\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\n    }\n  };\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"https://vitejs.dev\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etarget\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"_blank\"\u003c/span\u003e\u003e\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eimg\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{viteLogo}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"logo\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ealt\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"Vite logo\"\u003c/span\u003e /\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"https://react.dev\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etarget\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"_blank\"\u003c/span\u003e\u003e\u003c/span\u003e\n          \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eimg\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{reactLogo}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"logo react\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ealt\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"React logo\"\u003c/span\u003e /\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ea\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u003e\u003c/span\u003eReact Chat LLM UI\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"searchlight__input\"\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"Ask me anything and press enter...\"\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003edisabled\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{loading}\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{\u003c/span\u003e\n              \u003cspan class=\"hljs-attr\"\u003ebackgroundImage:\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eloading\u003c/span\u003e ? `\u003cspan class=\"hljs-attr\"\u003eurl\u003c/span\u003e(${\u003cspan class=\"hljs-attr\"\u003eloadingGif\u003c/span\u003e})` \u003cspan class=\"hljs-attr\"\u003e:\u003c/span\u003e `\u003cspan class=\"hljs-attr\"\u003eurl\u003c/span\u003e(${\u003cspan class=\"hljs-attr\"\u003elens\u003c/span\u003e})`,\n            }\n            \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{(e)\u003c/span\u003e =\u003e\u003c/span\u003e updatePrompt(e.target.value)}\n            onKeyDown={(e) =\u003e sendPrompt(e)}\n          /\u003e\n\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"searchlight__answer\"\u003c/span\u003e\u003e\u003c/span\u003e{answer \u0026#x26;\u0026#x26; \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e{answer}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u003e\u003c/span\u003e}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003e\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eApp\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eApp.css\u003c/p\u003e\n\u003cp\u003e아래 코드로 기존의 App.css를 업데이트하세요. 원하시는 대로 사용자 정의할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e#root {\n  max-\u003cspan class=\"hljs-attr\"\u003ewidth\u003c/span\u003e: 1280px;\n  \u003cspan class=\"hljs-attr\"\u003emargin\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e auto;\n  \u003cspan class=\"hljs-attr\"\u003epadding\u003c/span\u003e: 2rem;\n  text-\u003cspan class=\"hljs-attr\"\u003ealign\u003c/span\u003e: center;\n}\n\n.\u003cspan class=\"hljs-property\"\u003elogo\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e: 6em;\n  \u003cspan class=\"hljs-attr\"\u003epadding\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1.\u003c/span\u003e5em;\n  will-\u003cspan class=\"hljs-attr\"\u003echange\u003c/span\u003e: filter;\n  \u003cspan class=\"hljs-attr\"\u003etransition\u003c/span\u003e: filter 300ms;\n}\n.\u003cspan class=\"hljs-property\"\u003elogo\u003c/span\u003e:hover {\n  \u003cspan class=\"hljs-attr\"\u003efilter\u003c/span\u003e: drop-\u003cspan class=\"hljs-title function_\"\u003eshadow\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e 2em #646cffaa);\n}\n.\u003cspan class=\"hljs-property\"\u003elogo\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ereact\u003c/span\u003e:hover {\n  \u003cspan class=\"hljs-attr\"\u003efilter\u003c/span\u003e: drop-\u003cspan class=\"hljs-title function_\"\u003eshadow\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e 2em #61dafbaa);\n}\n\n@keyframes logo-spin {\n  \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003etransform\u003c/span\u003e: \u003cspan class=\"hljs-title function_\"\u003erotate\u003c/span\u003e(0deg);\n  }\n  to {\n    \u003cspan class=\"hljs-attr\"\u003etransform\u003c/span\u003e: \u003cspan class=\"hljs-title function_\"\u003erotate\u003c/span\u003e(360deg);\n  }\n}\n\n@media (prefers-reduced-\u003cspan class=\"hljs-attr\"\u003emotion\u003c/span\u003e: no-preference) {\n  \u003cspan class=\"hljs-attr\"\u003ea\u003c/span\u003e:nth-\u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e-\u003cspan class=\"hljs-title function_\"\u003etype\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e) .\u003cspan class=\"hljs-property\"\u003elogo\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003eanimation\u003c/span\u003e: logo-spin infinite 20s linear;\n  }\n}\n\n.\u003cspan class=\"hljs-property\"\u003ecard\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003epadding\u003c/span\u003e: 2em;\n}\n\n.\u003cspan class=\"hljs-property\"\u003eread\u003c/span\u003e-the-docs {\n  \u003cspan class=\"hljs-attr\"\u003ecolor\u003c/span\u003e: #\u003cspan class=\"hljs-number\"\u003e888\u003c/span\u003e;\n}\n\n.\u003cspan class=\"hljs-property\"\u003esearchlight__input\u003c/span\u003e {\n  \u003cspan class=\"hljs-attr\"\u003edisplay\u003c/span\u003e: block;\n  \u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e: 56px;\n  \u003cspan class=\"hljs-attr\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e%;\n  \u003cspan class=\"hljs-attr\"\u003eborder\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n  border-\u003cspan class=\"hljs-attr\"\u003eradius\u003c/span\u003e: 12px;\n  \u003cspan class=\"hljs-attr\"\u003eoutline\u003c/span\u003e: none;\n  font-\u003cspan class=\"hljs-attr\"\u003esize\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1.\u003c/span\u003e2rem;\n  \u003cspan class=\"hljs-attr\"\u003ecolor\u003c/span\u003e: #\u003cspan class=\"hljs-number\"\u003e000\u003c/span\u003e;\n  background-\u003cspan class=\"hljs-attr\"\u003eposition\u003c/span\u003e: left 17px center;\n  background-\u003cspan class=\"hljs-attr\"\u003erepeat\u003c/span\u003e: no-repeat;\n  background-\u003cspan class=\"hljs-attr\"\u003ecolor\u003c/span\u003e: #fff;\n  background-\u003cspan class=\"hljs-attr\"\u003esize\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e3.5\u003c/span\u003e%;\n  padding-\u003cspan class=\"hljs-attr\"\u003eleft\u003c/span\u003e: 60px;\n}\n\n.\u003cspan class=\"hljs-property\"\u003esearchlight__input\u003c/span\u003e::placeholder {\n  line-\u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1.\u003c/span\u003e5em;\n}\n\n.\u003cspan class=\"hljs-property\"\u003esearchlight__answer\u003c/span\u003e {\n  min-\u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e: 115px;\n  line-\u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1.\u003c/span\u003e5em;\n  letter-\u003cspan class=\"hljs-attr\"\u003espacing\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0.\u003c/span\u003e1px;\n  \u003cspan class=\"hljs-attr\"\u003epadding\u003c/span\u003e: 10px 30px;\n  \u003cspan class=\"hljs-attr\"\u003edisplay\u003c/span\u003e: flex;\n  align-\u003cspan class=\"hljs-attr\"\u003eitems\u003c/span\u003e: center;\n  justify-\u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e: center;\n}\n\n.\u003cspan class=\"hljs-property\"\u003esearchlight__answer\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ep\u003c/span\u003e::after {\n  \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e;\n  \u003cspan class=\"hljs-attr\"\u003ewidth\u003c/span\u003e: 2px;\n  \u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e: 14px;\n  \u003cspan class=\"hljs-attr\"\u003eposition\u003c/span\u003e: relative;\n  \u003cspan class=\"hljs-attr\"\u003etop\u003c/span\u003e: 2px;\n  \u003cspan class=\"hljs-attr\"\u003eleft\u003c/span\u003e: 2px;\n  \u003cspan class=\"hljs-attr\"\u003ebackground\u003c/span\u003e: black;\n  \u003cspan class=\"hljs-attr\"\u003edisplay\u003c/span\u003e: inline-block;\n  \u003cspan class=\"hljs-attr\"\u003eanimation\u003c/span\u003e: cursor-blink 1s \u003cspan class=\"hljs-title function_\"\u003esteps\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e) infinite;\n}\n\n@keyframes cursor-blink {\n  \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e% {\n    \u003cspan class=\"hljs-attr\"\u003eopacity\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLM Studio Local API를 호출하기 위해 Gemma를 업데이트하려면 Vite 구성 파일을 수정하십시오.\u003c/p\u003e\n\u003cp\u003evite.config.js\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { defineConfig } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'vite'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e react \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@vitejs/plugin-react'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edefineConfig\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eplugins\u003c/span\u003e: [\u003cspan class=\"hljs-title function_\"\u003ereact\u003c/span\u003e()],\n  \u003cspan class=\"hljs-attr\"\u003eserver\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eproxy\u003c/span\u003e: {\n      \u003cspan class=\"hljs-string\"\u003e\"/api\"\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003etarget\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"http://localhost:1234\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003echangeOrigin\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003erewrite\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003epath\u003c/span\u003e) =\u003e\u003c/span\u003e path.\u003cspan class=\"hljs-title function_\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/^\\/api/\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e),\n        \u003cspan class=\"hljs-title function_\"\u003eonBeforeSend\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eproxyContext\u003c/span\u003e) {\n          \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { req, res } = proxyContext;\n          \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { url, method, headers, rawBody } = req;\n          \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e proxyContext;\n        },\n      },\n    },\n  },\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e샘플 출력:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio_3.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e대체 도구: Ollama는 로컬 서버에서 오픈 소스 모델을 호스팅하는 또 다른 도구입니다.\u003c/p\u003e\n\u003cp\u003e다음 글에서는 문서를 업로드하고 채팅하는 방법을 알아보겠습니다.\u003c/p\u003e\n\u003cp\u003e해보고 느낀 점은 댓글로 공유해주세요.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-14-SimpleReactAppUItoConnectwithLocalGemmaModelviaLMStudio"},"buildId":"t9N7vwmpvBMQnO2PSctoH","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>