<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>테라폼을 사용한 Sumo Logic 통합 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-15-Sumologicintegrationusingterraform" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="테라폼을 사용한 Sumo Logic 통합 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="테라폼을 사용한 Sumo Logic 통합 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-15-Sumologicintegrationusingterraform_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-15-Sumologicintegrationusingterraform" data-gatsby-head="true"/><meta name="twitter:title" content="테라폼을 사용한 Sumo Logic 통합 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-15-Sumologicintegrationusingterraform_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-15 03:43" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/acd99c507555fdc6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/acd99c507555fdc6.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/162-4172e84c8e2aa747.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-742e6c91a18eb160.js" defer=""></script><script src="/_next/static/6w6Yg3qJxLtqeXNguENru/_buildManifest.js" defer=""></script><script src="/_next/static/6w6Yg3qJxLtqeXNguENru/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">테라폼을 사용한 Sumo Logic 통합</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="테라폼을 사용한 Sumo Logic 통합" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 15, 2024</span><span class="posts_reading_time__f7YPP">5<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-15-Sumologicintegrationusingterraform&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>프로젝트에서 매우 기술에 능통한 고객을 위해 작업 중입니다. 그들은 매일 많은 수의 API를 활용하여 방대한 기술 생태계를 구축했습니다. 이들 API의 특정 활동을 분석하고 로깅하여 시스템을 더 잘 관리하고 개선하기 위해 다수의 활성 모니터를 가진 경보 시스템을 생성해야 했습니다.</p>
<p>이 경보 시스템에서 그들은 Sumologic을 경보 시스템으로 선택했습니다.</p>
<p>사용 사례:
제 사용 사례는 다음과 같습니다. Sumologic 대시보드를 통해 모든 이러한 모니터를 수동으로 생성 및 구성했는데, 많은 수의 모니터를 관리하고 생성하는 작업은 번거로운 작업일 수 있습니다. 제 작업은 이 모니터 생성 및 관리 프로세스를 수동 작업에서 자동화된 방식 또는 코드를 통해 관리하는 것으로 변경하는 것이었습니다. 다시 말해, Sumologic 모니터를 Terraform과 통합하는 것입니다.</p>
<p>아래 섹션에서는 수동으로 작성한 모든 Sumologic 모니터를 테라폼으로 변환하는 데 수행한 모든 단계를 안내할 것입니다.</p>
<p>준비 사항:</p>
<ul>
<li>테라폼에 대한 기본 지식이 충분히 갖춰져 있다면 시작할 수 있습니다(테라폼 문서)</li>
</ul>
<p>Sumologic 모니터:</p>
<p>테라폼 코드를 올바르게 작성하여 Sumologic 모니터를 만들려면 먼저 Sumologic에서 이러한 모니터를 만드는 데 필요한 필드를 시각화해야 합니다.</p>
<p>Sumologic 대시보드에서 모니터를 만드는 "Create a Monitor"를 클릭하면 아래 화면이 나타납니다.</p>
<p><img src="/assets/img/2024-05-15-Sumologicintegrationusingterraform_1.png" alt="이미지"></p>
<p><img src="/assets/img/2024-05-15-Sumologicintegrationusingterraform_2.png" alt="이미지"></p>
<p><img src="/assets/img/2024-05-15-Sumologicintegrationusingterraform_3.png" alt="이미지"></p>
<p>지금 보시는 예제 모니터의 설정을 테라폼 자원인 "sumologic_monitor"를 사용하여 생성할 수 있습니다. sumologic_monitor 자원 블록은 실제 모니터 필드와 매핑되는 몇 가지 특정 키-값 인수를 받아들일 것입니다.</p>
<p>다음은 테라폼 코드와 SumoLogic 모니터 필드의 몇 가지 매핑 예시입니다.</p>
<p>테라폼 모니터 생성:</p>
<p><img src="/assets/img/2024-05-15-Sumologicintegrationusingterraform_4.png" alt="Sumologic Integration using Terraform - Screenshot 4"></p>
<pre><code class="hljs language-js">resource <span class="hljs-string">"sumologic_monitor"</span> <span class="hljs-string">"any_name"</span> {

trigger_condition {
   logs_static_condition {
        ...
   }
}
</code></pre>
<p><img src="/assets/img/2024-05-15-Sumologicintegrationusingterraform_5.png" alt="Sumologic Integration using Terraform - Screenshot 5"></p>
<pre><code class="hljs language-js">resource <span class="hljs-string">"sumologic_monitor"</span> <span class="hljs-string">"any_name"</span> {

trigger_condition {
   logs_static_condition {
     critical {
       time_range = <span class="hljs-string">"5m"</span>
       alert {
         thresold = <span class="hljs-string">"0"</span>
         thresold_type = <span class="hljs-string">"GreaterThan"</span>
       }
       resolution {
         thresold = <span class="hljs-string">"0"</span>
         thresold_type = <span class="hljs-string">"LessThanOrEqual"</span>
         resolution_window = <span class="hljs-string">"5m"</span> 
       }
     }
   }
}
</code></pre>
<p><img src="/assets/img/2024-05-15-Sumologicintegrationusingterraform_6.png" alt="image"></p>
<pre><code class="hljs language-js">resource <span class="hljs-string">"sumologic_monitor"</span> <span class="hljs-string">"any_name"</span> {
  queries {
    row_id = <span class="hljs-string">"A"</span>
    query = <span class="hljs-string">"실행될 조건에 대한 실제 쿼리"</span>
  }
}
</code></pre>
<p><img src="/assets/img/2024-05-15-Sumologicintegrationusingterraform_7.png" alt="image"></p>
<p>통지를 위해 Slack, Webhook, Email 등과 같은 다양한 connection_type을 설정할 수 있습니다. sumologic 대시보드에 이미 있는 연결에 connection_id를 지정하거나 사용자 정의 연결을 만들고 알림 페이로드를 생성할 수 있습니다.</p>
<p>|| Sumologic API를 참조하고 curl을 실행하여 모든 연결을 가져와서 connection_id를 이름으로 필터링할 수 있어요-</p>
<p>curl -u "<code>accessId</code>:<code>accessKey</code>" -X GET <a href="https://api.%60deployment%60.sumologic.com/api/v1/connections" rel="nofollow" target="_blank">https://api.`deployment`.sumologic.com/api/v1/connections</a></p>
<pre><code class="hljs language-js">resource <span class="hljs-string">"sumologic_monitor"</span> <span class="hljs-string">"any_name"</span> {
 <span class="hljs-attr">notifications</span>: {
  <span class="hljs-comment">// 여러 알림 블록을 만들 수 있어요</span>
  <span class="hljs-attr">notification</span>: {
   connection_type = <span class="hljs-string">"Email"</span> <span class="hljs-comment">//Slack | Webhook | Email 등</span>
   connection_id = <span class="hljs-string">"&#x3C;ID>"</span> <span class="hljs-comment">//기존 ID</span>
  }
  <span class="hljs-attr">notification</span>: {
   connection_type = <span class="hljs-string">"Slack"</span>
   <span class="hljs-comment">//이것은 사용자 정의된 payload에요</span>
   payload_override = &#x3C;&#x3C;<span class="hljs-title class_">JSON</span> 
    {
     <span class="hljs-string">"service_key"</span>: <span class="hljs-string">"your_pagerduty_api_integration_key"</span>,
     <span class="hljs-string">"event_type"</span>: <span class="hljs-string">"trigger"</span>,
     <span class="hljs-string">"description"</span>: <span class="hljs-string">"Alert: Triggered {TriggerType} for Monitor {Name}"</span>,
     <span class="hljs-string">"client"</span>: <span class="hljs-string">"Sumo Logic"</span>,
     <span class="hljs-string">"client_url"</span>: <span class="hljs-string">"{QueryUrl}"</span>
    }
   <span class="hljs-title class_">JSON</span>
  }
  run_for_trigger_types = [<span class="hljs-string">"Critical"</span>, <span class="hljs-string">"ResolvedCritical"</span>] <span class="hljs-comment">//위의 알림 모니터 이미지용 체크박스를 선택할 거에요</span>
}
</code></pre>
<pre><code class="hljs language-js">resource <span class="hljs-string">"sumologic_monitor"</span> <span class="hljs-string">"any_name"</span> {
 name = <span class="hljs-string">"monitor_name"</span>
 parent_id = <span class="hljs-string">"&#x3C;ID>"</span> <span class="hljs-comment">//모니터가 생성될 폴더의 ID</span>
 description = <span class="hljs-string">"설명 문자열"</span>
 is_disabled = boolean <span class="hljs-comment">// 이것은 모니터를 활성화 또는 비활성화할 거에요</span>
}
</code></pre>
<p>아래는 담당자의 작업 요약입니다:</p>
<ol>
<li>'init.tf' 또는 'main.tf' 파일을 추가하여 Sumo Logic Terraform 공급자를 설치하고 초기화해야 합니다. main.tf 파일에 다음과 같은 코드를 추가하세요.</li>
</ol>
<pre><code class="hljs language-js">terraform {

 backend <span class="hljs-string">"s3"</span> {}

 required_providers {
  sumologic = {
   source = <span class="hljs-string">"sumologic/sumologic"</span>
   version = <span class="hljs-string">"2.28.2"</span>
  }
 }

}

provider <span class="hljs-string">"sumologic"</span> {
 access_id = <span class="hljs-string">""</span>
 access_key = <span class="hljs-string">""</span>
}
</code></pre>
<ol start="2">
<li>'sumologic-monitor.tf' 파일을 추가하여 위에서 언급한 내용이 포함된 'sumologic_monitor' 리소스를 추가하세요.</li>
<li>이후에는 테라폼 명령을 실행하면 됩니다.</li>
</ol>
<pre><code class="hljs language-js">terrafrom init
terrafrom plan
terrafrom apply
</code></pre>
<p>참고 문서 -</p>
<ul>
<li>Sumologic 모니터 생성에 대한 자세한 내용은 다음을 참조하세요: <a href="https://help.sumologic.com/docs/alerts/monitors/create-monitor/" rel="nofollow" target="_blank">Sumologic 모니터 생성</a></li>
<li>Terraform을 사용한 Sumologic 모니터 생성에 대한 자세한 내용은 다음을 참조하세요: <a href="https://registry.terraform.io/providers/SumoLogic/sumologic/latest/docs/resources/monitor" rel="nofollow" target="_blank">Sumologic 모니터 Terraform 문서</a></li>
<li>Sumologic API에 대한 자세한 내용은 다음을 참조하세요: <a href="https://api.sumologic.com/docs/#section/Getting-Started/API-Endpoints" rel="nofollow" target="_blank">Sumologic API</a></li>
</ul>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"테라폼을 사용한 Sumo Logic 통합","description":"","date":"2024-05-15 03:43","slug":"2024-05-15-Sumologicintegrationusingterraform","content":"\n\n\u003cimg src=\"/assets/img/2024-05-15-Sumologicintegrationusingterraform_0.png\" /\u003e\n\n프로젝트에서 매우 기술에 능통한 고객을 위해 작업 중입니다. 그들은 매일 많은 수의 API를 활용하여 방대한 기술 생태계를 구축했습니다. 이들 API의 특정 활동을 분석하고 로깅하여 시스템을 더 잘 관리하고 개선하기 위해 다수의 활성 모니터를 가진 경보 시스템을 생성해야 했습니다.\n\n이 경보 시스템에서 그들은 Sumologic을 경보 시스템으로 선택했습니다.\n\n사용 사례:\n제 사용 사례는 다음과 같습니다. Sumologic 대시보드를 통해 모든 이러한 모니터를 수동으로 생성 및 구성했는데, 많은 수의 모니터를 관리하고 생성하는 작업은 번거로운 작업일 수 있습니다. 제 작업은 이 모니터 생성 및 관리 프로세스를 수동 작업에서 자동화된 방식 또는 코드를 통해 관리하는 것으로 변경하는 것이었습니다. 다시 말해, Sumologic 모니터를 Terraform과 통합하는 것입니다.\n\n\n\n아래 섹션에서는 수동으로 작성한 모든 Sumologic 모니터를 테라폼으로 변환하는 데 수행한 모든 단계를 안내할 것입니다.\n\n준비 사항:\n\n- 테라폼에 대한 기본 지식이 충분히 갖춰져 있다면 시작할 수 있습니다(테라폼 문서)\n\nSumologic 모니터:\n\n\n\n테라폼 코드를 올바르게 작성하여 Sumologic 모니터를 만들려면 먼저 Sumologic에서 이러한 모니터를 만드는 데 필요한 필드를 시각화해야 합니다.\n\nSumologic 대시보드에서 모니터를 만드는 \"Create a Monitor\"를 클릭하면 아래 화면이 나타납니다.\n\n![이미지](/assets/img/2024-05-15-Sumologicintegrationusingterraform_1.png)\n\n![이미지](/assets/img/2024-05-15-Sumologicintegrationusingterraform_2.png)\n\n\n\n![이미지](/assets/img/2024-05-15-Sumologicintegrationusingterraform_3.png)\n\n지금 보시는 예제 모니터의 설정을 테라폼 자원인 \"sumologic_monitor\"를 사용하여 생성할 수 있습니다. sumologic_monitor 자원 블록은 실제 모니터 필드와 매핑되는 몇 가지 특정 키-값 인수를 받아들일 것입니다.\n\n다음은 테라폼 코드와 SumoLogic 모니터 필드의 몇 가지 매핑 예시입니다.\n\n테라폼 모니터 생성:\n\n\n\n\n![Sumologic Integration using Terraform - Screenshot 4](/assets/img/2024-05-15-Sumologicintegrationusingterraform_4.png)\n\n```js\nresource \"sumologic_monitor\" \"any_name\" {\n\ntrigger_condition {\n   logs_static_condition {\n        ...\n   }\n}\n```\n\n![Sumologic Integration using Terraform - Screenshot 5](/assets/img/2024-05-15-Sumologicintegrationusingterraform_5.png)\n\n```js\nresource \"sumologic_monitor\" \"any_name\" {\n\ntrigger_condition {\n   logs_static_condition {\n     critical {\n       time_range = \"5m\"\n       alert {\n         thresold = \"0\"\n         thresold_type = \"GreaterThan\"\n       }\n       resolution {\n         thresold = \"0\"\n         thresold_type = \"LessThanOrEqual\"\n         resolution_window = \"5m\" \n       }\n     }\n   }\n}\n``` \n\n\n\n\n\n![image](/assets/img/2024-05-15-Sumologicintegrationusingterraform_6.png)\n\n```js\nresource \"sumologic_monitor\" \"any_name\" {\n  queries {\n    row_id = \"A\"\n    query = \"실행될 조건에 대한 실제 쿼리\"\n  }\n}\n```\n\n![image](/assets/img/2024-05-15-Sumologicintegrationusingterraform_7.png)\n\n통지를 위해 Slack, Webhook, Email 등과 같은 다양한 connection_type을 설정할 수 있습니다. sumologic 대시보드에 이미 있는 연결에 connection_id를 지정하거나 사용자 정의 연결을 만들고 알림 페이로드를 생성할 수 있습니다.\n\n\n\n\n|| Sumologic API를 참조하고 curl을 실행하여 모든 연결을 가져와서 connection_id를 이름으로 필터링할 수 있어요-\n\ncurl -u \"`accessId`:`accessKey`\" -X GET https://api.`deployment`.sumologic.com/api/v1/connections\n\n```js\nresource \"sumologic_monitor\" \"any_name\" {\n notifications: {\n  // 여러 알림 블록을 만들 수 있어요\n  notification: {\n   connection_type = \"Email\" //Slack | Webhook | Email 등\n   connection_id = \"\u003cID\u003e\" //기존 ID\n  }\n  notification: {\n   connection_type = \"Slack\"\n   //이것은 사용자 정의된 payload에요\n   payload_override = \u003c\u003cJSON \n    {\n     \"service_key\": \"your_pagerduty_api_integration_key\",\n     \"event_type\": \"trigger\",\n     \"description\": \"Alert: Triggered {TriggerType} for Monitor {Name}\",\n     \"client\": \"Sumo Logic\",\n     \"client_url\": \"{QueryUrl}\"\n    }\n   JSON\n  }\n  run_for_trigger_types = [\"Critical\", \"ResolvedCritical\"] //위의 알림 모니터 이미지용 체크박스를 선택할 거에요\n}\n```\n\n\u003cimg src=\"/assets/img/2024-05-15-Sumologicintegrationusingterraform_8.png\" /\u003e\n\n```js\nresource \"sumologic_monitor\" \"any_name\" {\n name = \"monitor_name\"\n parent_id = \"\u003cID\u003e\" //모니터가 생성될 폴더의 ID\n description = \"설명 문자열\"\n is_disabled = boolean // 이것은 모니터를 활성화 또는 비활성화할 거에요\n}\n```\n\n\n\n아래는 담당자의 작업 요약입니다:\n\n1. 'init.tf' 또는 'main.tf' 파일을 추가하여 Sumo Logic Terraform 공급자를 설치하고 초기화해야 합니다. main.tf 파일에 다음과 같은 코드를 추가하세요.\n\n```js\nterraform {\n\n backend \"s3\" {}\n\n required_providers {\n  sumologic = {\n   source = \"sumologic/sumologic\"\n   version = \"2.28.2\"\n  }\n }\n\n}\n\nprovider \"sumologic\" {\n access_id = \"\"\n access_key = \"\"\n}\n```\n\n2. 'sumologic-monitor.tf' 파일을 추가하여 위에서 언급한 내용이 포함된 'sumologic_monitor' 리소스를 추가하세요.\n3. 이후에는 테라폼 명령을 실행하면 됩니다.\n\n\n\n```js\nterrafrom init\nterrafrom plan\nterrafrom apply\n```\n\n참고 문서 -\n\n- Sumologic 모니터 생성에 대한 자세한 내용은 다음을 참조하세요: [Sumologic 모니터 생성](https://help.sumologic.com/docs/alerts/monitors/create-monitor/)\n- Terraform을 사용한 Sumologic 모니터 생성에 대한 자세한 내용은 다음을 참조하세요: [Sumologic 모니터 Terraform 문서](https://registry.terraform.io/providers/SumoLogic/sumologic/latest/docs/resources/monitor)\n- Sumologic API에 대한 자세한 내용은 다음을 참조하세요: [Sumologic API](https://api.sumologic.com/docs/#section/Getting-Started/API-Endpoints)","ogImage":{"url":"/assets/img/2024-05-15-Sumologicintegrationusingterraform_0.png"},"coverImage":"/assets/img/2024-05-15-Sumologicintegrationusingterraform_0.png","tag":["Tech"],"readingTime":5},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e프로젝트에서 매우 기술에 능통한 고객을 위해 작업 중입니다. 그들은 매일 많은 수의 API를 활용하여 방대한 기술 생태계를 구축했습니다. 이들 API의 특정 활동을 분석하고 로깅하여 시스템을 더 잘 관리하고 개선하기 위해 다수의 활성 모니터를 가진 경보 시스템을 생성해야 했습니다.\u003c/p\u003e\n\u003cp\u003e이 경보 시스템에서 그들은 Sumologic을 경보 시스템으로 선택했습니다.\u003c/p\u003e\n\u003cp\u003e사용 사례:\n제 사용 사례는 다음과 같습니다. Sumologic 대시보드를 통해 모든 이러한 모니터를 수동으로 생성 및 구성했는데, 많은 수의 모니터를 관리하고 생성하는 작업은 번거로운 작업일 수 있습니다. 제 작업은 이 모니터 생성 및 관리 프로세스를 수동 작업에서 자동화된 방식 또는 코드를 통해 관리하는 것으로 변경하는 것이었습니다. 다시 말해, Sumologic 모니터를 Terraform과 통합하는 것입니다.\u003c/p\u003e\n\u003cp\u003e아래 섹션에서는 수동으로 작성한 모든 Sumologic 모니터를 테라폼으로 변환하는 데 수행한 모든 단계를 안내할 것입니다.\u003c/p\u003e\n\u003cp\u003e준비 사항:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e테라폼에 대한 기본 지식이 충분히 갖춰져 있다면 시작할 수 있습니다(테라폼 문서)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSumologic 모니터:\u003c/p\u003e\n\u003cp\u003e테라폼 코드를 올바르게 작성하여 Sumologic 모니터를 만들려면 먼저 Sumologic에서 이러한 모니터를 만드는 데 필요한 필드를 시각화해야 합니다.\u003c/p\u003e\n\u003cp\u003eSumologic 대시보드에서 모니터를 만드는 \"Create a Monitor\"를 클릭하면 아래 화면이 나타납니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-Sumologicintegrationusingterraform_1.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-Sumologicintegrationusingterraform_2.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-Sumologicintegrationusingterraform_3.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e지금 보시는 예제 모니터의 설정을 테라폼 자원인 \"sumologic_monitor\"를 사용하여 생성할 수 있습니다. sumologic_monitor 자원 블록은 실제 모니터 필드와 매핑되는 몇 가지 특정 키-값 인수를 받아들일 것입니다.\u003c/p\u003e\n\u003cp\u003e다음은 테라폼 코드와 SumoLogic 모니터 필드의 몇 가지 매핑 예시입니다.\u003c/p\u003e\n\u003cp\u003e테라폼 모니터 생성:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-Sumologicintegrationusingterraform_4.png\" alt=\"Sumologic Integration using Terraform - Screenshot 4\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eresource \u003cspan class=\"hljs-string\"\u003e\"sumologic_monitor\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"any_name\"\u003c/span\u003e {\n\ntrigger_condition {\n   logs_static_condition {\n        ...\n   }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-Sumologicintegrationusingterraform_5.png\" alt=\"Sumologic Integration using Terraform - Screenshot 5\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eresource \u003cspan class=\"hljs-string\"\u003e\"sumologic_monitor\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"any_name\"\u003c/span\u003e {\n\ntrigger_condition {\n   logs_static_condition {\n     critical {\n       time_range = \u003cspan class=\"hljs-string\"\u003e\"5m\"\u003c/span\u003e\n       alert {\n         thresold = \u003cspan class=\"hljs-string\"\u003e\"0\"\u003c/span\u003e\n         thresold_type = \u003cspan class=\"hljs-string\"\u003e\"GreaterThan\"\u003c/span\u003e\n       }\n       resolution {\n         thresold = \u003cspan class=\"hljs-string\"\u003e\"0\"\u003c/span\u003e\n         thresold_type = \u003cspan class=\"hljs-string\"\u003e\"LessThanOrEqual\"\u003c/span\u003e\n         resolution_window = \u003cspan class=\"hljs-string\"\u003e\"5m\"\u003c/span\u003e \n       }\n     }\n   }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-Sumologicintegrationusingterraform_6.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eresource \u003cspan class=\"hljs-string\"\u003e\"sumologic_monitor\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"any_name\"\u003c/span\u003e {\n  queries {\n    row_id = \u003cspan class=\"hljs-string\"\u003e\"A\"\u003c/span\u003e\n    query = \u003cspan class=\"hljs-string\"\u003e\"실행될 조건에 대한 실제 쿼리\"\u003c/span\u003e\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-15-Sumologicintegrationusingterraform_7.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e통지를 위해 Slack, Webhook, Email 등과 같은 다양한 connection_type을 설정할 수 있습니다. sumologic 대시보드에 이미 있는 연결에 connection_id를 지정하거나 사용자 정의 연결을 만들고 알림 페이로드를 생성할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e|| Sumologic API를 참조하고 curl을 실행하여 모든 연결을 가져와서 connection_id를 이름으로 필터링할 수 있어요-\u003c/p\u003e\n\u003cp\u003ecurl -u \"\u003ccode\u003eaccessId\u003c/code\u003e:\u003ccode\u003eaccessKey\u003c/code\u003e\" -X GET \u003ca href=\"https://api.%60deployment%60.sumologic.com/api/v1/connections\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://api.`deployment`.sumologic.com/api/v1/connections\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eresource \u003cspan class=\"hljs-string\"\u003e\"sumologic_monitor\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"any_name\"\u003c/span\u003e {\n \u003cspan class=\"hljs-attr\"\u003enotifications\u003c/span\u003e: {\n  \u003cspan class=\"hljs-comment\"\u003e// 여러 알림 블록을 만들 수 있어요\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003enotification\u003c/span\u003e: {\n   connection_type = \u003cspan class=\"hljs-string\"\u003e\"Email\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e//Slack | Webhook | Email 등\u003c/span\u003e\n   connection_id = \u003cspan class=\"hljs-string\"\u003e\"\u0026#x3C;ID\u003e\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e//기존 ID\u003c/span\u003e\n  }\n  \u003cspan class=\"hljs-attr\"\u003enotification\u003c/span\u003e: {\n   connection_type = \u003cspan class=\"hljs-string\"\u003e\"Slack\"\u003c/span\u003e\n   \u003cspan class=\"hljs-comment\"\u003e//이것은 사용자 정의된 payload에요\u003c/span\u003e\n   payload_override = \u0026#x3C;\u0026#x3C;\u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e \n    {\n     \u003cspan class=\"hljs-string\"\u003e\"service_key\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"your_pagerduty_api_integration_key\"\u003c/span\u003e,\n     \u003cspan class=\"hljs-string\"\u003e\"event_type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"trigger\"\u003c/span\u003e,\n     \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Alert: Triggered {TriggerType} for Monitor {Name}\"\u003c/span\u003e,\n     \u003cspan class=\"hljs-string\"\u003e\"client\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Sumo Logic\"\u003c/span\u003e,\n     \u003cspan class=\"hljs-string\"\u003e\"client_url\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"{QueryUrl}\"\u003c/span\u003e\n    }\n   \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e\n  }\n  run_for_trigger_types = [\u003cspan class=\"hljs-string\"\u003e\"Critical\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"ResolvedCritical\"\u003c/span\u003e] \u003cspan class=\"hljs-comment\"\u003e//위의 알림 모니터 이미지용 체크박스를 선택할 거에요\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eresource \u003cspan class=\"hljs-string\"\u003e\"sumologic_monitor\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"any_name\"\u003c/span\u003e {\n name = \u003cspan class=\"hljs-string\"\u003e\"monitor_name\"\u003c/span\u003e\n parent_id = \u003cspan class=\"hljs-string\"\u003e\"\u0026#x3C;ID\u003e\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e//모니터가 생성될 폴더의 ID\u003c/span\u003e\n description = \u003cspan class=\"hljs-string\"\u003e\"설명 문자열\"\u003c/span\u003e\n is_disabled = boolean \u003cspan class=\"hljs-comment\"\u003e// 이것은 모니터를 활성화 또는 비활성화할 거에요\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e아래는 담당자의 작업 요약입니다:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e'init.tf' 또는 'main.tf' 파일을 추가하여 Sumo Logic Terraform 공급자를 설치하고 초기화해야 합니다. main.tf 파일에 다음과 같은 코드를 추가하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eterraform {\n\n backend \u003cspan class=\"hljs-string\"\u003e\"s3\"\u003c/span\u003e {}\n\n required_providers {\n  sumologic = {\n   source = \u003cspan class=\"hljs-string\"\u003e\"sumologic/sumologic\"\u003c/span\u003e\n   version = \u003cspan class=\"hljs-string\"\u003e\"2.28.2\"\u003c/span\u003e\n  }\n }\n\n}\n\nprovider \u003cspan class=\"hljs-string\"\u003e\"sumologic\"\u003c/span\u003e {\n access_id = \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\n access_key = \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e'sumologic-monitor.tf' 파일을 추가하여 위에서 언급한 내용이 포함된 'sumologic_monitor' 리소스를 추가하세요.\u003c/li\u003e\n\u003cli\u003e이후에는 테라폼 명령을 실행하면 됩니다.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eterrafrom init\nterrafrom plan\nterrafrom apply\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e참고 문서 -\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSumologic 모니터 생성에 대한 자세한 내용은 다음을 참조하세요: \u003ca href=\"https://help.sumologic.com/docs/alerts/monitors/create-monitor/\" rel=\"nofollow\" target=\"_blank\"\u003eSumologic 모니터 생성\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eTerraform을 사용한 Sumologic 모니터 생성에 대한 자세한 내용은 다음을 참조하세요: \u003ca href=\"https://registry.terraform.io/providers/SumoLogic/sumologic/latest/docs/resources/monitor\" rel=\"nofollow\" target=\"_blank\"\u003eSumologic 모니터 Terraform 문서\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSumologic API에 대한 자세한 내용은 다음을 참조하세요: \u003ca href=\"https://api.sumologic.com/docs/#section/Getting-Started/API-Endpoints\" rel=\"nofollow\" target=\"_blank\"\u003eSumologic API\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-15-Sumologicintegrationusingterraform"},"buildId":"6w6Yg3qJxLtqeXNguENru","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>