<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Nodejs, React ë° TypeScriptì—ì„œ ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ë°©ë²•  | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Nodejs, React ë° TypeScriptì—ì„œ ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ë°©ë²•  | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="Nodejs, React ë° TypeScriptì—ì„œ ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ë°©ë²•  | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2" data-gatsby-head="true"/><meta name="twitter:title" content="Nodejs, React ë° TypeScriptì—ì„œ ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ë°©ë²•  | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-12 19:37" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cd012fc8787133d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cd012fc8787133d0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/551-3069cf29fe274aab.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-a8eda6c93e0b14fe.js" defer=""></script><script src="/_next/static/7rKODeu6chWTLgXf6auoL/_buildManifest.js" defer=""></script><script src="/_next/static/7rKODeu6chWTLgXf6auoL/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Nodejs, React ë° TypeScriptì—ì„œ ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ë°©ë²• </h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Nodejs, React ë° TypeScriptì—ì„œ ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ë°©ë²• " loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/assets/profile.jpg"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 12, 2024</span><span class="posts_reading_time__f7YPP">39<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><img src="/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_0.png"/>
<h1>ì†Œê°œ</h1>
<p>ì´ê²ƒì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œì„ êµ¬í˜„í•˜ëŠ” ë‘ ë¶€ë¶„ íŠœí† ë¦¬ì–¼ì˜ ë‘ ë²ˆì§¸ ê¸°ì‚¬ì…ë‹ˆë‹¤.</p>
<p>íŠœí† ë¦¬ì–¼ì˜ ì²« ë²ˆì§¸ ë¶€ë¶„ì€ í˜„ëŒ€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ì¸ì¦ ë° ê¶Œí•œì˜ ê°œë…ì„ ì„¤ëª…í•˜ëŠ” ë° ì „ë…ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ì§ ë³´ì§€ ì•Šì•˜ë‹¤ë©´, ì§„í–‰í•˜ê¸° ì „ì— ì²« ë²ˆì§¸ ë¶€ë¶„ì„ í™•ì¸í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.</p>
<p>ê¸°ì´ˆë¥¼ ë‹¤ë£¬ ê¸°ì´ˆë¥¼ ë°”íƒ•ìœ¼ë¡œ, React, Node.js ë° TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ë¥¼ í•˜ëŠ” í’€ ìŠ¤íƒ ì‹œìŠ¤í…œì„ ë‹¨ê³„ë³„ë¡œ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤. ì´ íŠœí† ë¦¬ì–¼ì˜ ì™„ì „í•œ ì½”ë“œë² ì´ìŠ¤ë¥¼ ì´ GitHub ì €ì¥ì†Œì—ì„œ ì°¾ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ë¨¼ì € ë‹¤ìŒ ì„¹ì…˜ì—ì„œ í”„ë¡œì íŠ¸ êµ¬ì¡°ì— ìµìˆ™í•´ì ¸ ë´…ì‹œë‹¤.</p>
<h1>í”„ë¡œì íŠ¸ êµ¬ì¡°</h1>
<p><img src="/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_1.png" alt="í”„ë¡œì íŠ¸ êµ¬ì¡°"/></p>
<p>ìœ„ì˜ ê·¸ë¦¼ 1ì—ì„œ ì „ì²´ í’€ ìŠ¤íƒ í”„ë¡œì íŠ¸ êµ¬ì¡°ê°€ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤. ì„œë²„ ë° ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤(UI) ë‚´ ê° êµ¬ì„± ìš”ì†Œì˜ ëª©ì ì— ëŒ€í•´ ë…¼ì˜í•´ ë´…ì‹œë‹¤.</p>
<h2>ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤</h2>
<p>ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ëŠ” ë§¤ìš° ê¸°ë³¸ì ì´ë©°, í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´ì˜ Auth ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì´ëŸ¬í•œ ì»´í¬ë„ŒíŠ¸ì™€ ìƒí˜¸ì‘ìš©í•˜ì—¬ ì‚¬ìš©ì ì§€ì • í›„í¬ useApi ë° ApiProvider í´ë˜ìŠ¤ë¥¼ í†µí•´ ì„œë²„ì— ì¸ì¦ì„ ìš”ì²­í•©ë‹ˆë‹¤. ì„œë²„ê°€ ì‚¬ìš©ìê°€ ì œì¶œí•œ ìê²© ì¦ëª…ì„ ìœ íš¨ì„± ê²€ì‚¬í•˜ë©´ ì‘ë‹µ ë‚´ì—ì„œ JWT í† í°ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ìœ íš¨í•œ ì„œë²„ ì‘ë‹µì‹œ, ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° AuthReducerë¡œ ì‘ì—…ì´ ë””ìŠ¤íŒ¨ì¹˜ë©ë‹ˆë‹¤. ë””ìŠ¤íŒ¨ì¹˜ëœ ì‘ì—…ì€ ê´€ë ¨ AuthStateë¡œ ì¤„ì–´ë“¤ê³ , AuthContextë¥¼ í†µí•´ ì „ì²´ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì¸í„°í˜ì´ìŠ¤ì— ì œê³µë©ë‹ˆë‹¤. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ëŠ” React ë° TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ë  ê²ƒì…ë‹ˆë‹¤.</p>
<h2>ì„œë²„</h2>
<p>ì„œë²„ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ìê²© ì¦ëª… ë°ì´í„°ì™€ í•¨ê»˜ ìš”ì²­ì„ ë°›ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì € Cors(Cross-Origin-Resource-Sharing) ê·œì¹™ì„ ìœ„ë°˜í•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•˜ê³  ì œì¶œëœ ì…ë ¥ ë°ì´í„°ê°€ ìœ íš¨í•œì§€ë¥¼ ê²€ì¦í•  ê²ƒì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ë‹¨ê³„ ì¤‘ í•˜ë‚˜ë¼ë„ í†µê³¼í•˜ì§€ ëª»í•˜ë©´ ì˜¤ë¥˜ ì‘ë‹µì´ ë°˜í™˜ë©ë‹ˆë‹¤. ì‚¬ìš©ì ì¸ì¦ì€ ì‚¬ìš©ì/ê°€ì… routeì—ì„œ ìƒˆë¡œìš´ ì‚¬ìš©ìê°€ ìƒì„±ë˜ê±°ë‚˜ ì‚¬ìš©ì/ë¡œê·¸ì¸ routeì—ì„œ ê¸°ì¡´ ì‚¬ìš©ìê°€ ì¸ì¦ë©ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” InMemoryDataProviderê°€ êµ¬í˜„ë˜ë©° ì‚¬ìš©ì ë°ì´í„°ëŠ” ê°„ë‹¨í•œ ê°ì²´ì— ì €ì¥ë©ë‹ˆë‹¤. ì´ëŠ” íŠœí† ë¦¬ì–¼ì´ ë³µì¡í•´ì§€ì§€ ì•Šë„ë¡ ì˜ë„ëœ ê²ƒì´ë©° ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ì— ì¤‘ì ì„ ë‘ì—ˆìŠµë‹ˆë‹¤. DataProviderInterfaceëŠ” ë°ì´í„° ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì¶”ìƒí™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ë©°, ë‚˜ì¤‘ì— ì´ë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¤ë¥¸ ì œê³µìë¡œ ì‰½ê²Œ ì „í™˜í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ê°€ì… ë˜ëŠ” ë¡œê·¸ì¸ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí•˜ë©´ ì„œëª…ëœ ì„œë²„ì™€ í•¨ê»˜ ë§Œë£Œ ê°€ëŠ¥í•œ JWT(JSON Web Token)ê°€ ìƒì„±ë˜ì–´ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤. ì´ í† í°, ì¼ë°˜ì ìœ¼ë¡œ ì¸ì¦ í† í°ìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìœ¼ë©°, ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì—ì„œ /resource ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ ë³´í˜¸ëœ ì„œë²„ ì¸¡ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ ìš”ì²­ì— í¬í•¨ë©ë‹ˆë‹¤.</p>
<h1>ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­</h1>
<p>ì´ íŠœí† ë¦¬ì–¼ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí•˜ê¸° ìœ„í•œ ì „ì œ ì¡°ê±´ ëª©ë¡ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
<ul>
<li>í•´ë‹¹ íŠœí† ë¦¬ì–¼ì„ ì™„ë£Œí•˜ë ¤ë©´ ì»´í“¨í„°ì— Node.jsê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</li>
<li>Node Package Manager (NPM)ì€ Node.jsê°€ ì„¤ì¹˜ë˜ì–´ ìˆìœ¼ë©´ì„œ Yarnì„ ì„ í˜¸í•˜ë©° í”„ë¡œì íŠ¸ ì¢…ì†ì„± ê´€ë¦¬ì—ëŠ” Yarnì´ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.</li>
<li>ì›¹ì´ ì‘ë™í•˜ëŠ” ë°©ì‹ì— ëŒ€í•œ ì•Œë§ì€ ì§€ì‹ì´ ìˆì–´ì•¼ í•˜ë©° ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ì‹œìŠ¤í…œì„ êµ¬í˜„í•œ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ê±°ë‚˜ ë³¸ì ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</li>
<li>ë³¸ ë¬¸ì„œ ì´ì „ì— Node.js, React ë° Typescriptì™€ í•¨ê»˜ ì‘ì—…í•œ ê²½í—˜ì´ ìˆì–´ì•¼ í•˜ì§€ë§Œ, ì½”ë“œ ì•ˆë‚´ë¥¼ ë°›ì„ ì˜ˆì •ì´ë¯€ë¡œ ì‹¬ì¸µì ì¸ ì§€ì‹ì€ ì„ íƒ ì‚¬í•­ì…ë‹ˆë‹¤.</li>
</ul>
<p>ì, ì†Œê°œëŠ” ì´ì œ ëë‚´ê³  ì‹¤ì œ í”„ë¡œì íŠ¸ êµ¬í˜„ìœ¼ë¡œ ë„˜ì–´ê°€ ë´…ì‹œë‹¤. ë©‹ì§€ë„¤ìš”! ğŸ˜</p>
<h1>1. ì„œë²„ ì„¤ì •</h1>
<h2>1.1 ì˜ì¡´ì„± ì„¤ì¹˜</h2>
<p>ë¨¼ì € ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  ì„œë²„ ì½”ë“œ ê¸°ë°˜ì„ ì„¤ì •í•´ë³´ê² ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">mkdir authentication-and-authorization &amp;&amp;\
cd authentication-and-authorization &amp;&amp;\
mkdir server &amp;&amp;\
cd server &amp;&amp; mkdir src
</code></pre>
<p>ì‹œì‘ ì„œë²„ í´ë” êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-bash">/authentication-and-authorization
  |__ /server
      |__ /src
</code></pre>
<p>/server í´ë” ì•ˆì— ìˆëŠ” í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ë…¸ë“œ í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ì„¸ìš”:</p>
<pre><code class="hljs language-bash">npm init -y
</code></pre>
<p>ì´ì œ ì„œë²„ í”„ë¡œì íŠ¸ì˜ ì‹œì‘ì ì´ ìˆìœ¼ë‹ˆ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Typescript í”„ë¡œì íŠ¸ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">yarn add typescript @types/node --dev &amp;&amp; npx tsc --init
</code></pre>
<p>ìœ„ ëª…ë ¹ì€ /server í´ë” ì•ˆì— tsconfig.json íŒŒì¼ì„ ìƒì„±í–ˆì„ ê²ë‹ˆë‹¤. í•´ë‹¹ íŒŒì¼ì˜ ë‚´ìš©ì„ ì•„ë˜ ì½”ë“œì™€ ê°™ì´ ë³€ê²½í•´ì£¼ì„¸ìš”:</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">&quot;compilerOptions&quot;</span>: {
    <span class="hljs-string">&quot;target&quot;</span>: <span class="hljs-string">&quot;es2016&quot;</span>,
    <span class="hljs-string">&quot;module&quot;</span>: <span class="hljs-string">&quot;commonjs&quot;</span>,
    <span class="hljs-string">&quot;rootDir&quot;</span>: <span class="hljs-string">&quot;./src&quot;</span>,
    <span class="hljs-string">&quot;sourceMap&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;outDir&quot;</span>: <span class="hljs-string">&quot;./dist&quot;</span>,
    <span class="hljs-string">&quot;esModuleInterop&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;forceConsistentCasingInFileNames&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;strict&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;skipLibCheck&quot;</span>: <span class="hljs-literal">true</span>
  }
}
</code></pre>
<p>ê°€ì¥ ì¤‘ìš”í•œ ì„¤ì •ì€ rootDirì…ë‹ˆë‹¤. ì´ ì„¤ì •ì€ TypeScript ì»´íŒŒì¼ëŸ¬ì—ê²Œ .ts íŒŒì¼ì„ ì–´ë””ì—ì„œ ì°¾ì•„ .js íŒŒì¼ë¡œ ë³€í™˜í•˜ê³  outDirë¡œ ì§€ì •ëœ ë””ë ‰í† ë¦¬ì— ë°°ì¹˜í•´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.</p>
<p>ì´ì œ ì„œë²„ì— í•„ìš”í•œ ì´ˆê¸° íŒ¨í‚¤ì§€ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ê² ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">yarn add express dotenv cors &amp;&amp;\
yarn add @types/express @types/dotenv @types/cors --dev
</code></pre>
<p>3rd party íŒ¨í‚¤ì§€ì— ëŒ€í•œ íƒ€ì… ì •ì˜ íŒŒì¼ë„ ê°œë°œ ì¢…ì†ì„±ìœ¼ë¡œ ì„¤ì¹˜í–ˆë‹¤ëŠ” ê²ƒì— ìœ ì˜í•˜ì„¸ìš”.</p>
<h2>1.2 Express ì„œë²„ ë§Œë“¤ê¸°</h2>
<p>ë¨¼ì € Express ì„œë²„ì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ìƒì„±í•˜ê³  ë³¸ ê°•ì¢Œë¥¼ í†µí•´ ì´ë¥¼ í™•ì¥í•´ ë‚˜ê°ˆ ê²ƒì…ë‹ˆë‹¤. /server/src ë””ë ‰í† ë¦¬ ì•ˆì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ app.tsì™€ index.tsë¥¼ ìƒì„±í•˜ì„¸ìš”:</p>
<pre><code class="hljs language-js">touch app.<span class="hljs-property">ts</span> &amp;&amp; touch index.<span class="hljs-property">ts</span>
</code></pre>
<p>app.ts ì•ˆì—ëŠ” ì„œë²„ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•˜ê³  ê´€ë ¨ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Express ì•± ê°ì²´ë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. app.tsì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤ (ì´ê²ƒì€ í•´ë‹¹ íŒŒì¼ì˜ ìµœì¢… ì½”ë“œê°€ ì•„ë‹™ë‹ˆë‹¤):</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* app.ts */</span>

<span class="hljs-comment">// ì „ì—­ ì¢…ì†ì„±</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> dotenv <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;dotenv&quot;</span>;
dotenv.<span class="hljs-title function_">config</span>(); <span class="hljs-comment">// ë¡œì»¬ .env íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤</span>

<span class="hljs-comment">// í”„ë¡œì íŠ¸ ì¢…ì†ì„±</span>
<span class="hljs-keyword">import</span> routes <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./routes&quot;</span>;

<span class="hljs-comment">// express ì•± ì„¤ì •</span>
<span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;express&quot;</span>;
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

<span class="hljs-comment">// ë¯¸ë“¤ì›¨ì–´</span>
app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>());

<span class="hljs-comment">// ë¼ìš°íŠ¸</span>
app.<span class="hljs-title function_">use</span>(routes);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> app;
</code></pre>
<p>index.tsì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ SERVER_PORT í™˜ê²½ ë³€ìˆ˜ë¡œ ì§€ì •ëœ í¬íŠ¸ì—ì„œ express ì„œë²„ë¥¼ ì‹¤í–‰í•  ê²ƒì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* index.ts */</span>

<span class="hljs-comment">// í”„ë¡œì íŠ¸ ì¢…ì†ì„±</span>
<span class="hljs-keyword">import</span> app <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./app&quot;</span>;
<span class="hljs-keyword">const</span> { <span class="hljs-variable constant_">SERVER_PORT</span> } = process.<span class="hljs-property">env</span>;

<span class="hljs-comment">// ì•±ì´ listeningì¤‘</span>
app.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">SERVER_PORT</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`ì•±ì´ í¬íŠ¸ <span class="hljs-subst">${SERVER_PORT}</span>ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤`</span>);
});
</code></pre>
<p>Gitì—ì„œ ë¬´ì‹œë  ìˆ˜ ìˆëŠ” .env íŒŒì¼ì— í”„ë¡œì íŠ¸ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ê´€í–‰ì…ë‹ˆë‹¤. ì´ íŒŒì¼ì€ /serverí´ë”ì— ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤:```</p>
<pre><code class="hljs language-js"># .<span class="hljs-property">env</span>

<span class="hljs-variable constant_">SERVER_PORT</span>=<span class="hljs-number">8000</span>
</code></pre>
<p>ìµìŠ¤í”„ë ˆìŠ¤ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ /server í´ë” ë‚´ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">rm -rf ./dist &amp;&amp; npx tsc &amp;&amp; cp .<span class="hljs-property">env</span> ./dist/.<span class="hljs-property">env</span> &amp;&amp; cd ./dist &amp;&amp; node index.<span class="hljs-property">js</span>
</code></pre>
<p>ìœ„ ëª…ë ¹ì€ ë¨¼ì € ./dist ë””ë ‰í† ë¦¬ë¥¼ ì œê±°í•˜ê³ , ./src ë””ë ‰í† ë¦¬ì— ìˆëŠ” ëª¨ë“  ì½”ë“œë¥¼ íƒ€ì… í™•ì¸í•˜ê³  ./dist ë””ë ‰í† ë¦¬ ë‚´ì˜ JavaScriptë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì»´íŒŒì¼ ë‹¨ê³„ê°€ ì™„ë£Œë˜ë©´ .env íŒŒì¼ì´ ./dist ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬ë˜ì–´ ì„œë²„ë¥¼ node index.jsë¡œ ì‹¤í–‰í•  ë•Œ í™˜ê²½ ë³€ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. ë§¤ë²ˆ ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì€ ì§€ë£¨í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ server/package.json ë‚´ì— ëª‡ ê°€ì§€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ì–´ í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¨ìˆœí™”í•˜ê² ìŠµë‹ˆë‹¤:</p>
<pre><code>


```json
{
  &quot;name&quot;: &quot;server&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;npx tsc &amp;&amp; cp .env ./dist/.env&quot;,
    &quot;start&quot;: &quot;rm -rf ./dist &amp;&amp; yarn build &amp;&amp; cd ./dist &amp;&amp; node index.js&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: {
    &quot;@types/cors&quot;: &quot;^2.8.13&quot;,
    &quot;@types/dotenv&quot;: &quot;^8.2.0&quot;,
    &quot;@types/express&quot;: &quot;^4.17.15&quot;,
    &quot;@types/node&quot;: &quot;^18.11.18&quot;,
    &quot;typescript&quot;: &quot;^4.9.4&quot;
  },
  &quot;dependencies&quot;: {
    &quot;cors&quot;: &quot;^2.8.5&quot;,
    &quot;dotenv&quot;: &quot;^16.0.3&quot;,
    &quot;express&quot;: &quot;^4.18.2&quot;
  }
}
</code></pre>
<p>ì´ì œ start ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì„œë²„ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-bash">yarn start
</code></pre>
<p><img src="/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_2.png" alt="ì´ë¯¸ì§€"/></p>
<pre><code>


ì„œë²„ í”„ë¡œì íŠ¸ê°€ ì´ì œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ë°±ì—”ë“œ ì¸ì¦ ë° ê¶Œí•œ ì‹œìŠ¤í…œ ì„¤ì • ê³¼ì •ì„ ë³´ì—¬ë“œë¦´ ê²ƒì…ë‹ˆë‹¤.

## 1.3 ì‚¬ìš©ì ë°ì´í„° ì œê³µì

ë°ì´í„° ì €ì¥ ë ˆì´ì–´ëŠ” ì¸ì¦ ì‹œìŠ¤í…œì— í•„ìˆ˜ì ì…ë‹ˆë‹¤. ìƒˆ ì‚¬ìš©ìê°€ ìƒì„±ë  ë•Œ, ê·¸ë“¤ì˜ ë°ì´í„°ëŠ” ìœ ì§€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ë‚˜ì¤‘ì— ë¡œê·¸ì¸í•  ë•Œ ì‚¬ìš©ìê°€ ì œì¶œí•œ ìê²© ì¦ëª…ì„ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´ì„œ, ì‚¬ìš©ì ë°ì´í„° ì €ì¥ì„ ìœ„í•´ ì¸ë©”ëª¨ë¦¬ ì €ì¥ì„ êµ¬í˜„í•  ê²ƒì´ì§€ë§Œ, ë‚˜ì¤‘ì— ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¡œ êµ¬í˜„ì„ êµì²´í•˜ëŠ” ê²ƒì´ ì‰½ë„ë¡ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.

/server/src/data_providers í´ë”ë¥¼ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ ì¸í„°í˜ì´ìŠ¤ IDataProviderë¥¼ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.



```js
// server/src/data_providers/IDataProvider.ts

export default interface IDataProvider&lt;Resource&gt; {
  createData: (resource: Resource) =&gt; Promise&lt;void&gt;;
  readData: (args: {id: string, matchField: string}) =&gt; Promise&lt;Resource&gt;;
  updateData: (args: {id: string, resource: Resource}) =&gt; Promise&lt;void&gt;;
  deleteData: (id: string) =&gt; Promise&lt;void&gt;;
}
</code></pre>
<p>ì´ ì¸í„°í˜ì´ìŠ¤ëŠ” ì¼ë°˜ì ì¸ CRUD ì‘ì—…ì„ ë‚˜íƒ€ë‚´ëŠ” ë„¤ ê°€ì§€ ë©”ì„œë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ë©”ì„œë“œë“¤ì€ Resource íƒ€ì…ì˜ ì¼ë°˜ì ì¸ ê°’ì„ ì†Œë¹„í•˜ê±°ë‚˜ ë°˜í™˜í•©ë‹ˆë‹¤. IDataProviderì˜ InMemoryDataProvider êµ¬í˜„ì€ ì•„ë˜ì™€ ê°™ì´ ë³´ì—¬ì§‘ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server/src/data_providers/InMemoryDataProvider.ts</span>

<span class="hljs-keyword">import</span> <span class="hljs-title class_">IDataProvider</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./IDataProvider&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InMemoryDataProvider</span>&lt;<span class="hljs-title class_">Resource</span> <span class="hljs-keyword">extends</span> {<span class="hljs-attr">id</span>: string, <span class="hljs-attr">data</span>: any}&gt; implements <span class="hljs-title class_">IDataProvider</span>&lt;<span class="hljs-title class_">Resource</span>&gt; {
  private <span class="hljs-attr">_data</span>: <span class="hljs-title class_">Resource</span>[];

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_data</span> = [];
  };

  public <span class="hljs-keyword">async</span> <span class="hljs-title function_">createData</span>(<span class="hljs-params">resource: Resource</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_data</span>.<span class="hljs-title function_">push</span>(resource);
    <span class="hljs-keyword">return</span>;
  }

  public <span class="hljs-keyword">async</span> <span class="hljs-title function_">readData</span>(<span class="hljs-params">args: {id: string, matchField: string}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_data</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x.<span class="hljs-property">data</span>[args.<span class="hljs-property">matchField</span>] === args.<span class="hljs-property">id</span>)[<span class="hljs-number">0</span>];
  };

  public <span class="hljs-keyword">async</span> <span class="hljs-title function_">updateData</span>(<span class="hljs-params">props: { id: string; resource: Resource; }</span>) {
    <span class="hljs-keyword">const</span> {id, resource} = props;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">const</span> datum <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_data</span>) {
      <span class="hljs-keyword">if</span>(datum.<span class="hljs-property">id</span> === id) {
        datum.<span class="hljs-property">data</span> = resource.<span class="hljs-property">data</span>;
      }
    }

    <span class="hljs-keyword">return</span>;
  };

  public <span class="hljs-keyword">async</span> <span class="hljs-title function_">deleteData</span>(<span class="hljs-params">id: string</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_data</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_data</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">datum</span> =&gt;</span> datum.<span class="hljs-property">id</span> !== id);
    <span class="hljs-keyword">return</span>;
  };
}
</code></pre>
<p>InMemoryDataProviderëŠ” IDataProviderì—ì„œ ì •ì˜ëœ ê³µê°œ ë©”ì„œë“œë¥¼ ì—„ê²©í•˜ê²Œ êµ¬í˜„í•©ë‹ˆë‹¤. ì‹¤ì œ ë°ì´í„° ì €ì¥ì†ŒëŠ” InMemoryDataProvider í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì— íŠ¹ì •í•œ private _data ë°°ì—´ ì†ì„±ì…ë‹ˆë‹¤. InMemoryDataProviderì˜ generic íƒ€ì…ì€ Resourceì´ë©° &#x27;id: string, data: any&#x27;ë¥¼ í™•ì¥í•˜ì˜€ê¸° ë•Œë¬¸ì— ì…ë ¥ ìì›ì€ id ë° ë°ì´í„°ë¥¼ í¬í•¨í•˜ê³  ê¸°íƒ€ ì†ì„±ì„ ì¶”ê°€ë¡œ ê°€ì ¸ì•¼í•©ë‹ˆë‹¤. TypeScriptì˜ ì´ ì¸í„°í˜ì´ìŠ¤ ì¤‘ì‹¬ì  ì ‘ê·¼ì˜ ì¥ì ì€ IDataProvider ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¤€ìˆ˜í•œë‹¤ë©´ ë°ì´í„° ì €ì¥ì†Œë¥¼ ë‹¤ë¥¸ êµ¬í˜„ì²´ë¡œ ì‰½ê²Œ êµì²´í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤(ì˜ˆ: SQL ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©).```</p>
<p>ì‚¬ìš©ì ê´€ë ¨ ë°ì´í„°ì—ì„œ CRUD ì‘ì—…ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë°ì´í„° ì•¡ì„¸ìŠ¤ ê³„ì¸µì—ì„œ ë¶„ë¦¬í•˜ëŠ” ì‚¬ìš©ì ì €ì¥ì†Œë¥¼ ì¶”ê°€ë¡œ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì €, ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ëœ ì¶”ìƒí™” Repositoryë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ RepositoryëŠ” ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ ìœ í˜•ì—ì„œ í™•ì¥ë  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server/src/repositories/Repository.ts</span>

<span class="hljs-keyword">import</span> <span class="hljs-title class_">IDataProvider</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../data_providers/IDataProvider&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Repository</span>&lt;<span class="hljs-title class_">Resource</span>&gt; {
  protected <span class="hljs-attr">_provider</span>: <span class="hljs-title class_">IDataProvider</span>&lt;<span class="hljs-title class_">Resource</span>&gt;;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">args: {provider: IDataProvider&lt;Resource&gt;}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_provider</span> = args.<span class="hljs-property">provider</span>;
  };

  public <span class="hljs-keyword">get</span> <span class="hljs-title function_">provider</span>(): <span class="hljs-title class_">IDataProvider</span>&lt;<span class="hljs-title class_">Resource</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_provider</span>;
  }
}
</code></pre>
<p>Repositoryì—ì„œ íŒŒìƒëœ í´ë˜ìŠ¤ëŠ” ë°ì´í„° ì•¡ì„¸ìŠ¤ ê³„ì¸µì„ í˜•ì„±í•˜ëŠ” IDataProviderë¥¼ êµ¬í˜„í•˜ëŠ” ì œê³µì(provider)ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  UserRepository í´ë˜ìŠ¤ëŠ” Repositoryë¥¼ í™•ì¥í•˜ê³  ì‚¬ìš©ì ë°ì´í„°ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ìì²´ public ë©”ì„œë“œë¥¼ ê°–ìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ ìì„¸íˆ ì‚´í´ë´…ì‹œë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server/src/repositories/UserRepository.ts</span>

<span class="hljs-keyword">import</span> <span class="hljs-title class_">IDataProvider</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../data_providers/IDataProvider&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Repository</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Repository&quot;</span>;
<span class="hljs-keyword">import</span> { randomUUID } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;crypto&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">InMemoryDataProvider</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../data_providers/InMemoryDataProvider&quot;</span>;

type <span class="hljs-title class_">UserData</span> = {
  <span class="hljs-attr">email</span>: string,
  <span class="hljs-attr">name</span>: string,
  <span class="hljs-attr">password</span>: string,
  <span class="hljs-attr">createdAt</span>: string,
  <span class="hljs-attr">updatedAt</span>: string
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserResource</span> {
  private <span class="hljs-attr">_id</span>: string;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private _data: UserData</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_id</span> = <span class="hljs-title function_">randomUUID</span>();
  };

  public <span class="hljs-keyword">get</span> <span class="hljs-title function_">id</span>(): string {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_id</span>;
  }

  public <span class="hljs-keyword">get</span> <span class="hljs-title function_">data</span>(): <span class="hljs-title class_">UserData</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_data</span>;
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Repository</span>&lt;<span class="hljs-title class_">UserResource</span>&gt; {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">args: {provider: IDataProvider&lt;UserResource&gt;}</span>) {
    <span class="hljs-variable language_">super</span>({<span class="hljs-attr">provider</span>: args.<span class="hljs-property">provider</span>});
  }

  public <span class="hljs-keyword">async</span> <span class="hljs-title function_">createUser</span>(<span class="hljs-params">user: UserResource</span>) {
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">provider</span>.<span class="hljs-title function_">createData</span>(user);
    <span class="hljs-keyword">return</span>;
  }

  public <span class="hljs-keyword">async</span> <span class="hljs-title function_">getUserBy</span>(<span class="hljs-params">args: {id: string, matchField: string}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">provider</span>.<span class="hljs-title function_">readData</span>({<span class="hljs-attr">id</span>: args.<span class="hljs-property">id</span>, <span class="hljs-attr">matchField</span>: args.<span class="hljs-property">matchField</span>});
  }
}

<span class="hljs-keyword">const</span> dataProvider = <span class="hljs-keyword">new</span> <span class="hljs-title class_">InMemoryDataProvider</span>&lt;<span class="hljs-title class_">UserResource</span>&gt;();
<span class="hljs-keyword">const</span> userRepository = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserRepository</span>({<span class="hljs-attr">provider</span>: dataProvider});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> userRepository;
</code></pre>
<p>ì‚¬ìš©ì ë°ì´í„°ì˜ êµ¬ì¡°ëŠ” UserData ìœ í˜•ì— ì˜í•´ ì •ì˜ë˜ë©°, ë¦¬ì†ŒìŠ¤ êµ¬ì¡°ëŠ” UserResource í´ë˜ìŠ¤ì— ì˜í•´ ì •ì˜ë©ë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ëŠ” id ë° data ê³µê°œ ì†ì„±ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, creatUser ë° getUserBy ë©”ì„œë“œëŠ” ë°ì´í„° ì•¡ì„¸ìŠ¤ ë ˆì´ì–´ì™€ ìƒí˜¸ ì‘ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ê³  ì“°ê¸° ìœ„í•´ IDataProviderì˜ êµ¬í˜„ì„ í†µí•´ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
<p>ì°¸ê³ : ìš°ë¦¬ëŠ” InMemoryDataProviderì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ UserRepositoryì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë‚˜ì¤‘ì— ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ë ¤ë©´, InMemoryDataProvider ëŒ€ì‹  IDataProvider ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ì œ UserRepositoryë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ API ì—”ë“œí¬ì¸íŠ¸ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë…¼ë¦¬ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì„¤ëª…ë  ê²ƒì…ë‹ˆë‹¤.</p>
<h2>1.3 ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ì„ ìœ„í•œ ë¼ìš°íŠ¸</h2>
<p>ë‹¤ìŒìœ¼ë¡œ, express ë¼ìš°íŠ¸ë¥¼ ëª¨ë‘ ë³´ê´€í•  í´ë”ë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”:</p>
<pre><code class="hljs language-js">yarn add bcrypt jwt &amp;&amp;\
yarn add @types/bcrypt @types/jwt --dev &amp;&amp;\
cd server/src &amp;&amp;\
mkdir routes &amp;&amp;\
cd ./routes &amp;&amp;\
touch index.<span class="hljs-property">ts</span> user.<span class="hljs-property">ts</span>
</code></pre>
<p>ì•Œë¦¼: ì¶”ê°€ì ìœ¼ë¡œ npm íŒ¨í‚¤ì§€ bcrypt ë° jwtë¥¼ ì„œë²„ í”„ë¡œì íŠ¸ ë‚´ì— ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•”í˜¸í™”í•˜ëŠ” ë° bcryptë¥¼ ì‚¬ìš©í•˜ê³ , ì„±ê³µì ì¸ ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì— ë°˜í™˜ë  ì¸ì¦ í† í°ì„ ìƒì„±í•˜ê¸° ìœ„í•´ jwtë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. /server ë‚´ë¶€ì˜ í´ë” êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">/server
  |__ /src
      |__ ...
      |__ /routes
        |__ index.<span class="hljs-property">ts</span>
        |__ user.<span class="hljs-property">ts</span>
</code></pre>
<p>index.ts ë‚´ì—ì„œëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ëª¨ë“  ê°€ëŠ¥í•œ ê²½ë¡œë¥¼ í¬í•¨í•˜ëŠ” ì¤‘ì•™ ë¼ìš°í„°ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤. í˜„ì¬ëŠ” ë“±ë¡ ë° ë¡œê·¸ì¸ì„ ìœ„í•œ íŠ¹ì • /user ê²½ë¡œë§Œ ê°€ì§ˆ ê²ƒì…ë‹ˆë‹¤.```</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server/src/routes/index.ts</span>

<span class="hljs-comment">// ì „ì—­ ì¢…ì†ì„±</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Router</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;express&quot;</span>;
<span class="hljs-keyword">const</span> router = <span class="hljs-title class_">Router</span>();
<span class="hljs-keyword">import</span> userRoute <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./user&quot;</span>;

<span class="hljs-comment">// APIì— ëŒ€í•œ ëª¨ë“  ë¼ìš°íŠ¸</span>
router.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;/user&quot;</span>, userRoute);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;
</code></pre>
<p>userRouteëŠ” ë‹¤ìŒê³¼ ê°™ì´ user.tsì— êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server/src/routes/user.ts</span>

<span class="hljs-comment">// ì „ì—­ ì¢…ì†ì„±</span>
<span class="hljs-keyword">const</span> { <span class="hljs-variable constant_">ENCRYPTION_KEY</span>, <span class="hljs-variable constant_">AUTH_TOKEN_KEY</span> } = process.<span class="hljs-property">env</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Router</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;express&#x27;</span>;
<span class="hljs-keyword">const</span> userRoute = <span class="hljs-title class_">Router</span>();
<span class="hljs-keyword">import</span> bcrypt <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;bcrypt&#x27;</span>;
<span class="hljs-keyword">import</span> jwt <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;jsonwebtoken&#x27;</span>;

<span class="hljs-comment">// í”„ë¡œì íŠ¸ ì¢…ì†ì„±</span>
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">UserResource</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../repositories/UserRepository&#x27;</span>;
<span class="hljs-keyword">import</span> { validateHasParameters, validateEmailFormat, validatePasswordLength } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../middleware/validation&quot;</span>;
<span class="hljs-keyword">import</span> userRepository <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../repositories/UserRepository&#x27;</span>;

<span class="hljs-comment">/**
 * ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ë° ì´ë¦„ì„ ì…ë ¥í•˜ì—¬ ì‚¬ìš©ì ë“±ë¡
 */</span>
userRoute.<span class="hljs-title function_">post</span>(
  <span class="hljs-string">&quot;/register&quot;</span>,
  <span class="hljs-title function_">validateHasParameters</span>(<span class="hljs-string">&quot;email&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>),
  validateEmailFormat,
  validatePasswordLength,
  <span class="hljs-keyword">async</span> (req, res) =&gt; {
    <span class="hljs-keyword">const</span> { name, email, password } = req.<span class="hljs-property">body</span>;
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> userExist = <span class="hljs-keyword">await</span> userRepository.<span class="hljs-title function_">getUserBy</span>({<span class="hljs-attr">id</span>: email, <span class="hljs-attr">matchField</span>: <span class="hljs-string">&#x27;email&#x27;</span>});
      <span class="hljs-keyword">if</span> (userExist) {
        <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">409</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: <span class="hljs-string">&quot;User already exist&quot;</span> });
      }

      <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>();

      <span class="hljs-comment">// ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”</span>
      <span class="hljs-keyword">const</span> passwordHash = <span class="hljs-keyword">await</span> bcrypt.<span class="hljs-title function_">hash</span>(password, <span class="hljs-variable constant_">ENCRYPTION_KEY</span>!);

      <span class="hljs-comment">// ì‚¬ìš©ì ì •ë³´ì™€ ë§Œë£Œ ë‚ ì§œë¡œ ì¸ì¦ í† í° ìƒì„±</span>
      <span class="hljs-keyword">const</span> userData = {
        <span class="hljs-attr">name</span>: name,
        <span class="hljs-attr">email</span>: email,
        <span class="hljs-attr">password</span>: passwordHash,
        <span class="hljs-attr">createdAt</span>: date,
        <span class="hljs-attr">updatedAt</span>: date,
      };
      <span class="hljs-keyword">const</span> newUser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserResource</span>(userData);

      <span class="hljs-comment">// ì‚¬ìš©ì ë°ì´í„° ì €ì¥</span>
      <span class="hljs-keyword">await</span> userRepository.<span class="hljs-title function_">createUser</span>(newUser);

      <span class="hljs-keyword">const</span> jwtOptions = {
        <span class="hljs-attr">expiresIn</span>: <span class="hljs-string">&#x27;24h&#x27;</span>,  <span class="hljs-comment">// 24ì‹œê°„ í›„ í† í° ë§Œë£Œ</span>
      };

      <span class="hljs-keyword">const</span> authToken = jwt.<span class="hljs-title function_">sign</span>(newUser.<span class="hljs-property">data</span>, <span class="hljs-variable constant_">AUTH_TOKEN_KEY</span>!, jwtOptions);

      <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>({
        <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">user</span>: {
          <span class="hljs-attr">user_id</span>: newUser.<span class="hljs-property">id</span>,
          <span class="hljs-attr">email</span>: newUser.<span class="hljs-property">data</span>.<span class="hljs-property">email</span>,
          <span class="hljs-attr">name</span>: newUser.<span class="hljs-property">data</span>.<span class="hljs-property">name</span>,
          <span class="hljs-attr">auth_token</span>: authToken,
        },
      });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
      <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: <span class="hljs-string">`ë‚´ë¶€ ì˜¤ë¥˜`</span> });
    }
  }
);

<span class="hljs-comment">/**
 * ì…ë ¥ëœ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ë¡œê·¸ì¸ ì„¸ì…˜ ì¸ì¦
 */</span>
userRoute.<span class="hljs-title function_">post</span>(
  <span class="hljs-string">&quot;/login&quot;</span>,
  <span class="hljs-title function_">validateHasParameters</span>(<span class="hljs-string">&quot;email&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>),
  <span class="hljs-keyword">async</span> (req, res) =&gt; {
    <span class="hljs-keyword">const</span> { email, password } = req.<span class="hljs-property">body</span>;

    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// ì‚¬ìš©ì ì¡´ì¬ ì—¬ë¶€ ë° ì œê³µëœ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸</span>
      <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> userRepository.<span class="hljs-title function_">getUserBy</span>({<span class="hljs-attr">id</span>: email, <span class="hljs-attr">matchField</span>: <span class="hljs-string">&#x27;email&#x27;</span>});
      <span class="hljs-keyword">const</span> userExists = !!user;
      <span class="hljs-keyword">const</span> passwordCorrect = userExists &amp;&amp; (<span class="hljs-keyword">await</span> bcrypt.<span class="hljs-title function_">compare</span>(password, user.<span class="hljs-property">data</span>.<span class="hljs-property">password</span>));
      <span class="hljs-keyword">if</span>(userExists &amp;&amp; passwordCorrect) {

        <span class="hljs-keyword">const</span> jwtOptions = {
          <span class="hljs-attr">expiresIn</span>: <span class="hljs-string">&#x27;24h&#x27;</span>,  <span class="hljs-comment">// 24ì‹œê°„ í›„ í† í° ë§Œë£Œ</span>
        };

        <span class="hljs-keyword">const</span> authToken = jwt.<span class="hljs-title function_">sign</span>(user.<span class="hljs-property">data</span>, <span class="hljs-variable constant_">AUTH_TOKEN_KEY</span>!, jwtOptions);

        <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>({
          <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">user</span>: {
            <span class="hljs-attr">user_id</span>: user.<span class="hljs-property">id</span>,
            <span class="hljs-attr">email</span>: user.<span class="hljs-property">data</span>.<span class="hljs-property">email</span>,
            <span class="hljs-attr">name</span>: user.<span class="hljs-property">data</span>.<span class="hljs-property">name</span>,
            <span class="hljs-attr">auth_token</span>: authToken,
          },
        });
      }

      <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">400</span>).<span class="hljs-title function_">json</span>({<span class="hljs-attr">error</span>: <span class="hljs-string">&#x27;ì˜ëª»ëœ ì¸ì¦ ì •ë³´&#x27;</span>});
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
      <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: <span class="hljs-string">`ì„œë²„ ì˜¤ë¥˜`</span> });
    }
  }
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> userRoute;
</code></pre>
<p>POST /user/register ì—”ë“œí¬ì¸íŠ¸ì—ì„œëŠ” ìš”ì²­ ë³¸ë¬¸ì— ì´ë¦„, ì´ë©”ì¼ ë° ë¹„ë°€ë²ˆí˜¸ ì„¸ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì´ë©”ì¼ì„ í†µí•´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œ í›„, ì°¸ì´ë©´ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì €ì¥ì„ ìœ„í•´ ì‚¬ìš©ì ê´€ë ¨ ë°ì´í„° userDataë¥¼ ìƒì„±í•˜ë©°, ì œê³µëœ ë¹„ë°€ë²ˆí˜¸ëŠ” ì´ì „ì— ì„¤ì¹˜í•œ bcryptë¥¼ ì‚¬ìš©í•˜ì—¬ ENCRYPTION_KEYë¡œ ì•”í˜¸í™”ë©ë‹ˆë‹¤. ì‚¬ìš©ì ë°ì´í„°ì˜ ì§€ì†ì„±ì€ userRepository.createUserë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•˜ë©°, ì‚¬ìš©ì ìƒì„±ì´ ì„±ê³µí•˜ë©´ 24ì‹œê°„ ë§Œë£Œ ê¸°ê°„ì´ ìˆëŠ” JWT í† í°ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. JWT í† í°ì€ ì´ì „ì— ì„¤ì¹˜í•œ jwtë¥¼ ì‚¬ìš©í•˜ì—¬ AUTH_TOKEN_KEYë¡œ ì„œëª…ë˜ë©° ì‚¬ìš©ì ê´€ë ¨ ë°ì´í„°ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ê°€ ì„œë²„ ì‘ë‹µì„ ë°›ìœ¼ë©´ ì´ JWT í† í°ì´ í”„ë¡ íŠ¸ì—”ë“œì— ì €ì¥ë©ë‹ˆë‹¤.</p>
<pre><code>


POST /user/login ì—”ë“œí¬ì¸íŠ¸ì—ì„œëŠ” ìš”ì²­ ë³¸ë¬¸ ë‚´ emailê³¼ password ì„¸ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë¨¼ì € ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì œê³µëœ ë¹„ë°€ë²ˆí˜¸ê°€ í•´ë‹¹ ì‚¬ìš©ì ì´ë©”ì¼ì— ëŒ€í•´ ì°¾ì€ ë³µí˜¸í™”ëœ ë¹„ë°€ë²ˆí˜¸ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì„±ê³µì ì¸ ì‚¬ìš©ì ìœ íš¨ì„± ê²€ì‚¬ í›„, ë™ì¼í•œ JWT ì„œëª… í”„ë¡œì„¸ìŠ¤ê°€ ë°˜ë³µë©ë‹ˆë‹¤.

/register ë° /login ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ì‚¬ìš©ì ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬ìš© ë¯¸ë“¤ì›¨ì–´ë„ êµ¬í˜„í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ì„ ê²ë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ /middleware ë””ë ‰í† ë¦¬ì™€ ê·¸ ì•ˆì— validation.ts íŒŒì¼ì„ ìƒì„±í•´ ë³´ì„¸ìš”.

```js
cd server/src &amp;&amp;\
mkdir middleware &amp;&amp;\
touch validation.ts
</code></pre>
<p>validation.ts íŒŒì¼ì—ì„œëŠ” ì‚¬ìš©ì ì…ë ¥ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ë“¤ì„ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server/src/middleware/validation.ts</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextFunction</span>, <span class="hljs-title class_">Request</span>, <span class="hljs-title class_">Response</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;express&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">validateHasParameters</span> = (<span class="hljs-params">...args: string[]</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">req: Request, res: Response, next: NextFunction</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> body = req.<span class="hljs-property">body</span>;
    <span class="hljs-keyword">let</span> valid = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> arg <span class="hljs-keyword">of</span> args) {
      <span class="hljs-keyword">if</span> (body[arg] === <span class="hljs-literal">undefined</span>) {
        res.<span class="hljs-title function_">status</span>(<span class="hljs-number">403</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: arg + <span class="hljs-string">&quot; not specified&quot;</span> });
        valid = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">break</span>;
      }
    }

    <span class="hljs-keyword">if</span> (valid) {
      <span class="hljs-title function_">next</span>();
    }
  };
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">validatePasswordLength</span> = (<span class="hljs-params">req: Request, res: Response, next: NextFunction</span>) =&gt; {
  <span class="hljs-keyword">const</span> { password } = req.<span class="hljs-property">body</span>;
  <span class="hljs-keyword">if</span> (!!password &amp;&amp; password.<span class="hljs-property">length</span> &gt; <span class="hljs-number">7</span>) {
    <span class="hljs-title function_">next</span>();
  } <span class="hljs-keyword">else</span> {
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">403</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: <span class="hljs-string">&quot;The password provided is not valid&quot;</span> });
  }
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">validateEmailFormat</span> = (<span class="hljs-params">req: Request, res: Response, next: NextFunction</span>) =&gt; {
  <span class="hljs-keyword">const</span> { email } = req.<span class="hljs-property">body</span>;
  <span class="hljs-keyword">const</span> re =
    <span class="hljs-regexp">/^(([^&lt;&gt;()[\]\\.,;:\s@&quot;]+(\.[^&lt;&gt;()[\]\\.,;:\s@&quot;]+)*)|(&quot;.+&quot;))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/</span>;
  <span class="hljs-keyword">if</span> (!!email &amp;&amp; re.<span class="hljs-title function_">test</span>(<span class="hljs-title class_">String</span>(email).<span class="hljs-title function_">toLowerCase</span>())) {
    <span class="hljs-title function_">next</span>();
  } <span class="hljs-keyword">else</span> {
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">403</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: <span class="hljs-string">&quot;The email provided is not valid&quot;</span> });
  }
};
</code></pre>
<p>validateHasParameterì€ ëª¨ë“  POST ìš”ì²­ì— ì‚¬ìš©ë˜ë©° íŠ¹ì • ë§¤ê°œë³€ìˆ˜ê°€ ì œì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. validatePasswordLength ë° validateEmailFormat ë¯¸ë“¤ì›¨ì–´ëŠ” /user/register ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ìš”ì²­ì— ëŒ€í•´ ìœ íš¨í•œ ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´ì™€ ì´ë©”ì¼ í˜•ì‹ì„ ë³´ì¥í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, app.tsì—ì„œ routesë¥¼ ì‚¬ìš©í•˜ì—¬ ë£¨í„°ë¥¼ express ì•±ì— ì—°ê²°í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ì— í‘œì‹œëœëŒ€ë¡œ routesë¥¼ íŒŒì¼ ë§¨ ìœ„ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì— ìœ ì˜í•˜ì‹­ì‹œì˜¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* app.ts */</span>

<span class="hljs-comment">// ì „ì—­ ì¢…ì†ì„±</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> dotenv <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;dotenv&quot;</span>;
dotenv.<span class="hljs-title function_">config</span>(); <span class="hljs-comment">// ë¡œì»¬ .env íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ ì´ˆê¸°í™”</span>

<span class="hljs-comment">// í”„ë¡œì íŠ¸ ì¢…ì†ì„±</span>
<span class="hljs-keyword">import</span> routes <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./routes&quot;</span>;

<span class="hljs-comment">// express ì•± ì„¤ì •</span>
<span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;express&quot;</span>;
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

<span class="hljs-comment">// ë¯¸ë“¤ì›¨ì–´</span>
app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>());

<span class="hljs-comment">// ë¼ìš°í„°</span>
app.<span class="hljs-title function_">use</span>(routes);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> app;
</code></pre>
<p>ì´ì œ ì‚¬ìš©ìê°€ ë°©ê¸ˆ ë§Œë“  ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë“±ë¡í•˜ê³  ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ì„œë²„ ì¸¡ì—ì„œ ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì‚¬ìš©ì ê¶Œí•œ ì¶”ì ì„ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.</p>
<h2>1.4 ì‚¬ìš©ì ê¶Œí•œ</h2>
<p>ì‚¬ìš©ì ê¶Œí•œì€ ì¸ì¦ëœ ì‚¬ìš©ìê°€ ë³´í˜¸ëœ ì„œë²„ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ê³  ì‹œë„í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ” ì‚¬ìš©ì ë“±ë¡ ë˜ëŠ” ë¡œê·¸ì¸ ì´ë²¤íŠ¸ì—ì„œ ìƒì„±ëœ í† í°ì´ ì‚¬ìš©ì ë¸Œë¼ìš°ì € ì„¸ì…˜ì—ì„œ ì‹œì‘ëœ ëª¨ë“  ìš”ì²­ì— ì²¨ë¶€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. í† í°ì€ ê° ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì € ì„¸ì…˜ì—ì„œ ì‚¬ìš©ëœ AUTH_TOKEN_KEYì™€ ê°™ì€ ê²ƒìœ¼ë¡œ í™•ì¸ë  ê²ƒì…ë‹ˆë‹¤. ì•ìœ¼ë¡œ í† í°ì´ ìš”ì²­ê³¼ í•¨ê»˜ ì „ë‹¬ë˜ëŠ” ë°©ë²•ì„ ë‚˜ì¤€ì— ë‹¤ë£° ê²ƒì´ë©°, ì§€ê¸ˆì€ ì„œë²„ ì¸¡ì—ì„œ ë¯¸ë“¤ì›¨ì–´ ì‚¬ìš©ì ê¶Œí•œì„ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.</p>
<p>ì„œë²„/src/middleware ë””ë ‰í† ë¦¬ ì•ˆì— auth.tsë¼ëŠ” ì¶”ê°€ íŒŒì¼ì„ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">cd server/src/middleware &amp;&amp; touch auth.<span class="hljs-property">ts</span>
</code></pre>
<p>auth.ts íŒŒì¼ ì•ˆì—ëŠ” ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ê°€ë¡œì±„ê³  í† í° ìœ íš¨ì„± ê²€ì‚¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ìˆ˜í–‰í•˜ëŠ” checkAuthToken ë¯¸ë“¤ì›¨ì–´ë¥¼ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server/src/middleware/auth.ts</span>

<span class="hljs-comment">// ì „ì—­ ì˜ì¡´ì„±</span>
<span class="hljs-keyword">import</span> jwt, { <span class="hljs-title class_">JwtPayload</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;jsonwebtoken&#x27;</span>;
<span class="hljs-keyword">const</span> { <span class="hljs-variable constant_">AUTH_TOKEN_KEY</span> } = process.<span class="hljs-property">env</span>;

<span class="hljs-comment">// í”„ë¡œì íŠ¸ ì˜ì¡´ì„±</span>
<span class="hljs-keyword">import</span> userRepository <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../repositories/UserRepository&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkAuthToken</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">req: any, res: any, next: any</span>) =&gt; {
  <span class="hljs-keyword">const</span> auth_token = req.<span class="hljs-property">headers</span>[<span class="hljs-string">&quot;x-access-token&quot;</span>] <span class="hljs-keyword">as</span> string;

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">if</span> (!auth_token) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Unauthorized&#x27;</span>);
    }

    <span class="hljs-keyword">const</span> decodedUserInfo = jwt.<span class="hljs-title function_">verify</span>(auth_token, <span class="hljs-variable constant_">AUTH_TOKEN_KEY</span>!) <span class="hljs-keyword">as</span> <span class="hljs-title class_">JwtPayload</span>;
    <span class="hljs-comment">// ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸</span>
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> userRepository.<span class="hljs-title function_">getUserBy</span>({ <span class="hljs-attr">id</span>: decodedUserInfo.<span class="hljs-property">email</span>, <span class="hljs-attr">matchField</span>: <span class="hljs-string">&#x27;email&#x27;</span> });
    <span class="hljs-keyword">if</span>(!user) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Unauthorized&#x27;</span>);
    }

    req.<span class="hljs-property">user</span> = {...user.<span class="hljs-property">data</span>, ...decodedUserInfo};
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">403</span>).<span class="hljs-title function_">json</span>({<span class="hljs-attr">error</span>: <span class="hljs-string">&#x27;Unauthorized&#x27;</span>});
  }

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">next</span>();
};
</code></pre>
<p>í™•ì¸í•  í† í°ì€ ìš”ì²­ í—¤ë” X-ACCESS-TOKEN ì•ˆì— í¬í•¨ë  ê²ƒì…ë‹ˆë‹¤. ì¶”ì¶œëœ í† í°ì€ AUTH_TOKEN_KEYë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ì¦ë˜ë©°, í•´ë‹¹ ë°ì´í„° í˜ì´ë¡œë“œëŠ” decodedUserInfoì— í• ë‹¹ë  ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì œì¶œëœ í† í°ì˜ ìœ íš¨ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ë°ì´í„° ì €ì¥ì†Œì— ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ ì¶”ê°€ë¡œ í™•ì¸í•  ê²ƒì…ë‹ˆë‹¤. í† í° ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•˜ë©´ 403 ì˜¤ë¥˜ &#x27;Unauthorized&#x27; ë©”ì‹œì§€ë¡œ ì‘ë‹µí•  ê²ƒì…ë‹ˆë‹¤.```</p>
<p>ì¸ì¦ ë…¼ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ë³´í˜¸ëœ ì„œë²„ ë¦¬ì†ŒìŠ¤ë¥¼ í‰ë‚´ ë‚´ëŠ” ë”ë¯¸ /resource API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¨¼ì € ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ resource.ts íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">cd server/src/routes &amp;&amp; touch resource.<span class="hljs-property">ts</span>
</code></pre>
<p>resource.ts íŒŒì¼ì˜ ë‚´ìš©ì€ ê°„ë‹¨í•˜ë©° ë‹¨ì¼ GET ì—”ë“œí¬ì¸íŠ¸ë¡œ êµ¬ì„±ë˜ì–´ ì¼ë¶€ ì •ì  HTMLì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server/src/routes/resource.ts</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Router</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;express&quot;</span>;
<span class="hljs-keyword">const</span> resourceRoute = <span class="hljs-title class_">Router</span>();

resourceRoute.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;&lt;h1&gt;You have successfully access resource!&lt;/h1&gt;&quot;</span>);
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> resourceRoute;
</code></pre>
<p>server/src/routes/index.ts íŒŒì¼ ì•ˆì— /resource ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// server/src/routes/index.ts</span>

<span class="hljs-comment">// ì „ì—­ ì˜ì¡´ì„±</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Router</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;express&quot;</span>;
<span class="hljs-keyword">const</span> router = <span class="hljs-title class_">Router</span>();
<span class="hljs-keyword">import</span> userRoute <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./user&quot;</span>;
<span class="hljs-keyword">import</span> resourceRoute <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./resource&quot;</span>;
<span class="hljs-keyword">import</span> { checkAuthToken } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../middleware/auth&quot;</span>;

<span class="hljs-comment">// APIì— ëŒ€í•œ ëª¨ë“  ë¼ìš°íŠ¸</span>
router.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;/user&quot;</span>, userRoute);
router.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;/resource&quot;</span>, checkAuthToken, resourceRoute);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;
</code></pre>
<p>ë˜í•œ checkAuthToken ë¯¸ë“¤ì›¨ì–´ë¥¼ importí•˜ê³  /resource ì—”ë“œí¬ì¸íŠ¸ì™€ ì—°ê²°í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í•´ë‹¹ ì—”ë“œí¬ì¸íŠ¸ë¡œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ìš”ì²­ì´ í† í° ê¶Œí•œ ë¶€ì—¬ë¥¼ ìœ„í•´ ìœ íš¨ì„±ì„ ê²€ì‚¬ë°›ë„ë¡ ë©ë‹ˆë‹¤.</p>
<h2>1.5 CORS êµ¬í˜„</h2>
<p>ì•ì„œ ë§í•œ íŠœí† ë¦¬ì–¼ì˜ ì œ1ë¶€ì—ì„œëŠ” CORS ê·œì¹™ì´ ì„œë²„ì— ì˜í•´ ì§€ì •ë˜ì–´ íŠ¹ì • ì¶œì²˜ ë„ë©”ì¸ìœ¼ë¡œë¶€í„°ì˜ ìš”ì²­ì„ í—ˆìš©í•  ìˆ˜ ìˆë„ë¡í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì™¸ë¶€ íŒ¨í‚¤ì§€ì¸ corsë¥¼ ì‚¬ìš©í•  ê²ƒì´ë©°, ë”°ë¼ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë¨¼ì € ì„œë²„ í”„ë¡œì íŠ¸ì— ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">cd server &amp;&amp; yarn add cors &amp;&amp; yarn add @types/cors --dev
</code></pre>
<p>ì‹¤ì œ CORS ê·œì¹™ì€ ë‹¤ìŒê³¼ ê°™ì´ ì„œë²„/src/app.tsì—ì„œ ë¯¸ë“¤ì›¨ì–´ë¡œ ì§€ì •ë©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* app.ts */</span>

<span class="hljs-comment">// global dependencies</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> dotenv <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;dotenv&quot;</span>;
dotenv.<span class="hljs-title function_">config</span>(); <span class="hljs-comment">// ë¡œì»¬ .env íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.</span>
<span class="hljs-keyword">import</span> cors <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;cors&quot;</span>;

<span class="hljs-comment">// project dependencies</span>
<span class="hljs-keyword">import</span> routes <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./routes&quot;</span>;

<span class="hljs-comment">// express ì•± ì„¤ì •</span>
<span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;express&quot;</span>;
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

<span class="hljs-comment">// CORS ì„¤ì •</span>
app.<span class="hljs-title function_">use</span>(
  <span class="hljs-string">&quot;/&quot;</span>,
  <span class="hljs-title function_">cors</span>({
    <span class="hljs-attr">origin</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ì°¸ê³ : ì—¬ê¸°ì„œ ëª¨ë“  ì¶œì²œì„ í—ˆìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</span>
    <span class="hljs-attr">optionsSuccessStatus</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">preflightContinue</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">methods</span>: <span class="hljs-string">&quot;GET,POST,OPTIONS&quot;</span>,
    <span class="hljs-attr">credentials</span>: <span class="hljs-literal">true</span>,
  })
);

<span class="hljs-comment">// ë¯¸ë“¤ì›¨ì–´</span>
app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>());

<span class="hljs-comment">// ë¼ìš°íŠ¸</span>
app.<span class="hljs-title function_">use</span>(routes);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> app;
</code></pre>
<p>ê°€ì¥ ì¤‘ìš”í•œ ì„¤ì •ì€ origin: trueë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì„¤ì •ì€ ëª¨ë“  ë„ë©”ì¸ì—ì„œì˜ ìš”ì²­ì„ í—ˆìš©í•©ë‹ˆë‹¤. ì´ ì„¤ì •ì€ ë¡œì»¬ ê°œë°œì— ì¶©ë¶„í•˜ì§€ë§Œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” í”„ë¡œì íŠ¸ë³„ ë„ë©”ì¸ ëª©ë¡ì—ì„œ ìš”ì²­ì„ í—ˆìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>ì´ì œ ì„œë²„ì— í•„ìš”í•œ ëª¨ë“  ì‘ì—…ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒì—ëŠ” ì‚¬ìš©ìê°€ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ í”„ë¡ íŠ¸ì—”ë“œ ë¡œê·¸ì¸ í¼ì„ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.</p>
<h1>2. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì„¤ì •</h1>
<h2>2.1 ì¢…ì†ì„± ì„¤ì¹˜</h2>
<p>ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ ìš°ë¦¬ëŠ” React ì½”ë“œë¥¼ í˜¸ìŠ¤íŒ…í•˜ê¸° ìœ„í•´ ./authentication-and-authorization í´ë”ì— ë³„ë„ì˜ í´ë”ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">mkdir ui &amp;&amp; cd ui
</code></pre>
<p>/ui ë””ë ‰í† ë¦¬ ë‚´ì—ì„œ Typescriptë¥¼ í™œì„±í™”í•œ React í”„ë¡œì íŠ¸ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤:</p>
<pre><code class="hljs language-js">yarn create react-app ./ --template typescript
</code></pre>
<p>ì„¤ì¹˜ í”„ë¡œì„¸ìŠ¤ê°€ ì™„ë£Œë˜ë©´ &#x27;/ui&#x27; í´ë” ë‚´ ë¶ˆí•„ìš”í•œ íŒŒì¼ë“¤ì„ ì •ë¦¬í•˜ê³  ì•„ë˜ì— í‘œì‹œëœ ë””ë ‰í† ë¦¬ì™€ ë™ì¼í•˜ê²Œ ë³´ì´ë„ë¡ ì¡°ì •í•  ê²ƒì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">/ui
  |__ /node_modules
      |__ ...
  |__ /public
      |__ favicon.<span class="hljs-property">ico</span>
      |__ index.<span class="hljs-property">html</span>
      |__ logo192.<span class="hljs-property">png</span>
      |__ logo512.<span class="hljs-property">png</span>
      |__ manifest.<span class="hljs-property">json</span>
      |__robots.<span class="hljs-property">txt</span>
  |__ /src
      |__ <span class="hljs-title class_">App</span>.<span class="hljs-property">css</span>
      |__ <span class="hljs-title class_">App</span>.<span class="hljs-property">tsx</span>
      |__ index.<span class="hljs-property">css</span>
      |__ index.<span class="hljs-property">tsx</span>
      |__ react-app-env.<span class="hljs-property">d</span>.<span class="hljs-property">ts</span>
  |__ .<span class="hljs-property">gitignore</span>
  |__ package.<span class="hljs-property">json</span>
  |-- <span class="hljs-variable constant_">README</span>.<span class="hljs-property">md</span>
  |__ tsconfig.<span class="hljs-property">json</span>
  |__ yarn.<span class="hljs-property">lock</span>
</code></pre>
<p>index.tsxì™€ App.tsxì—ì„œ ë¶ˆí•„ìš”í•œ ì½”ë“œì™€ ì˜ëª»ëœ importë¥¼ ì œê±°í•˜ì—¬ ì•„ë˜ì— í‘œì‹œëœ íŒŒì¼ê³¼ ë™ì¼í•˜ê²Œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* index.tsx */</span>

<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom/client&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span>;

<span class="hljs-keyword">const</span> root = <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">createRoot</span>(
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLElement</span>
);
root.<span class="hljs-title function_">render</span>(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">React.StrictMode</span>&gt;</span></span>
);
</code></pre>
<pre><code class="hljs language-js"><span class="hljs-comment">/* App.tsx */</span>

<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./App.css&quot;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span>ì•ˆë…•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>ì¢‹ì€ ì†Œì‹ì€ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ëª¨ë“  ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìœ¼ë©° ì´ì œ ì‹¤ì œ ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤!</p>
<h2>2.2 ì „ì—­ ì¸ì¦ ìƒíƒœ ê´€ë¦¬</h2>
<p>ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì‘í•˜ë ¤ë©´ ì¸í„°í˜ì´ìŠ¤ê°€ ì‚¬ìš©ìì˜ ì¸ì¦ ìƒíƒœì— ëŒ€í•´ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ React Contextì™€ useReducer í›…ì„ ì‚¬ìš©í•˜ì—¬ ì „ì—­ ìƒíƒœë¡œ ê´€ë¦¬í•  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì € ui/src/ ì•ˆì— ì „ì—­ ì¸ì¦ ìƒíƒœë¥¼ ìœ„í•œ ìŠ¤í† ì–´ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:</p>
<pre><code>


```js
cd ui/src &amp;&amp;\
mkdir store &amp;&amp;\
cd store &amp;&amp; mkdir auth &amp;&amp;\
touch authAction.ts AuthContextProvier.tsx authReducer.ts
</code></pre>
<p>authAction.tsëŠ” ì‚¬ìš©ìê°€ ì¸í„°í˜ì´ìŠ¤ ë‚´ì—ì„œ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥í•œ ì•¡ì…˜ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/store/auth/authActions.ts */</span>

<span class="hljs-keyword">export</span> enum <span class="hljs-title class_">AuthActionEnum</span> {
  <span class="hljs-variable constant_">LOG_IN</span> = <span class="hljs-string">&#x27;LOG_IN&#x27;</span>,
  <span class="hljs-variable constant_">LOG_OUT</span> = <span class="hljs-string">&#x27;LOG_OUT&#x27;</span>,
};

<span class="hljs-keyword">export</span> type <span class="hljs-title class_">AuthAction</span> = {
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">AuthActionEnum</span>.<span class="hljs-property">LOG_IN</span>,
  <span class="hljs-attr">payload</span>: {
    <span class="hljs-attr">authToken</span>: string;
    <span class="hljs-attr">userId</span>: string;
    <span class="hljs-attr">email</span>: string;
    <span class="hljs-attr">name</span>: string;
  }
} | {
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">AuthActionEnum</span>.<span class="hljs-property">LOG_OUT</span>,
  <span class="hljs-attr">payload</span>: <span class="hljs-literal">null</span>,
}
</code></pre>
<p>authReducer.ts ë‚´ë¶€ì—ì„œëŠ” ì¸ì¦ ê´€ë ¨ ì•¡ì…˜ì„ í•´ë‹¹ ìƒíƒœë¡œ ë§¤í•‘í•˜ëŠ” ë¦¬ë“€ì„œë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/store/auth/authReducer.ts */</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Reducer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AuthAction</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./authActions&quot;</span>;

<span class="hljs-keyword">export</span> interface <span class="hljs-title class_">AuthState</span> {
  <span class="hljs-attr">isLoggedIn</span>: boolean;
  authToken?: string;
  userId?: string;
  name?: string;
  email?: string;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">defaultAuthState</span>: <span class="hljs-title class_">AuthState</span> = {
  <span class="hljs-attr">isLoggedIn</span>: <span class="hljs-literal">false</span>,
};

<span class="hljs-keyword">const</span> <span class="hljs-attr">authReducer</span>: <span class="hljs-title class_">Reducer</span>&lt;<span class="hljs-title class_">AuthState</span>, <span class="hljs-title class_">AuthAction</span>&gt; = <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
  <span class="hljs-comment">// ì‚¬ìš©ìê°€ ì„±ê³µì ìœ¼ë¡œ ì¸ì¦ë˜ë©´</span>
  <span class="hljs-keyword">if</span> (action.<span class="hljs-property">type</span> === <span class="hljs-string">&quot;LOG_IN&quot;</span>) {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(action.<span class="hljs-property">payload</span>));
    <span class="hljs-keyword">return</span> {
      ...state,
      <span class="hljs-attr">isLoggedIn</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">authToken</span>: action.<span class="hljs-property">payload</span>.<span class="hljs-property">authToken</span>,
      <span class="hljs-attr">userId</span>: action.<span class="hljs-property">payload</span>.<span class="hljs-property">userId</span>,
      <span class="hljs-attr">name</span>: action.<span class="hljs-property">payload</span>.<span class="hljs-property">name</span>,
      <span class="hljs-attr">email</span>: action.<span class="hljs-property">payload</span>.<span class="hljs-property">email</span>,
    };
  }

  <span class="hljs-comment">// ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ</span>
  <span class="hljs-keyword">if</span> (action.<span class="hljs-property">type</span> === <span class="hljs-string">&quot;LOG_OUT&quot;</span>) {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">&quot;user&quot;</span>);
    <span class="hljs-keyword">return</span> defaultAuthState;
  }

  <span class="hljs-keyword">return</span> defaultAuthState;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> authReducer;
</code></pre>
<p>ê¸°ë³¸ ìƒíƒœëŠ” falseë¡œ ì„¤ì •ëœ í•˜ë‚˜ì˜ í•„ë“œì¸ isLoggedInìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì¸ì¦ì„ í•œ ë²ˆí•˜ë©´ ë¦¬ë“€ì„œëŠ” LOG_IN ì•¡ì…˜ì„ ì²˜ë¦¬í•˜ê³  ì‚¬ìš©ì ê´€ë ¨ ì •ë³´ë¥¼ localStorageì— ìœ ì§€í•˜ë©° ìƒˆ ì¸ì¦ ìƒíƒœë¥¼ ë°˜í™˜í•˜ì—¬ ë™ì¼í•œ ì •ë³´ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. ì‚¬ìš©ì ì •ë³´ë¥¼ ê³„ì† ìœ ì§€í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ë‚˜ê°€ê³  ë‚˜ì¤‘ì— ë°©ë¬¸í•  ë•Œ ì¸ì¦ ìƒíƒœê°€ ìœ ì§€ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. LOG_OUT ì•¡ì…˜ì€ ë¦¬ë“€ì„œì— ì˜í•´ ì²˜ë¦¬ë˜ì–´ ëª¨ë“  ìƒíƒœ ë° ì €ì¥ëœ ì‚¬ìš©ì ì •ë³´ê°€ ê¸°ë³¸ ê°’ìœ¼ë¡œ ì¬ì„¤ì •ë©ë‹ˆë‹¤.</p>
<p>ì´ì œ ì•¡ì…˜ê³¼ ë¦¬ë“€ì„œê°€ ì •ì˜ë˜ì—ˆìœ¼ë¯€ë¡œ AuthContextProvider.tsxì—ì„œ ì „ì²´ ì‘ìš© í”„ë¡œê·¸ë¨ì— ì¸ì¦ ìƒíƒœë¥¼ ì œê³µí•˜ëŠ” ì»¨í…ìŠ¤íŠ¸ ì œê³µì êµ¬ì„± ìš”ì†Œë¥¼ ë§Œë“­ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/store/auth/AuthContextProvider.tsx */</span>

<span class="hljs-comment">// ì „ì—­ ê°€ì ¸ì˜¤ê¸°</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { createContext, useReducer, useCallback, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;

<span class="hljs-comment">// í”„ë¡œì íŠ¸ ì¢…ì†ì„±</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AuthActionEnum</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./authActions&quot;</span>;
<span class="hljs-keyword">import</span> authReducer, { <span class="hljs-title class_">AuthState</span>, defaultAuthState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./authReducer&quot;</span>;

type <span class="hljs-title class_">AuthProviderProps</span> = {
  <span class="hljs-attr">children</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactElement</span>,
};

<span class="hljs-keyword">export</span> type <span class="hljs-title class_">UserData</span> = {
  <span class="hljs-attr">authToken</span>: string,
  <span class="hljs-attr">userId</span>: string,
  <span class="hljs-attr">name</span>: string,
  <span class="hljs-attr">email</span>: string,
};

<span class="hljs-keyword">export</span> interface <span class="hljs-title class_">AuthContext</span> {
  <span class="hljs-attr">authState</span>: <span class="hljs-title class_">AuthState</span>;
  <span class="hljs-attr">globalLogInDispatch</span>: <span class="hljs-function">(<span class="hljs-params">props: UserData</span>) =&gt;</span> <span class="hljs-keyword">void</span>;
  <span class="hljs-attr">globalLogOutDispatch</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">void</span>;
}

<span class="hljs-comment">// Auth ì»¨í…ìŠ¤íŠ¸</span>
<span class="hljs-keyword">const</span> authCtx =
  createContext &lt;
  <span class="hljs-title class_">AuthContext</span> &gt;
  {
    <span class="hljs-attr">authState</span>: defaultAuthState,
    <span class="hljs-attr">globalLogInDispatch</span>: <span class="hljs-function">() =&gt;</span> {},
    <span class="hljs-attr">globalLogOutDispatch</span>: <span class="hljs-function">() =&gt;</span> {},
  };

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">AuthContextProvider</span> = (<span class="hljs-params">props: AuthProviderProps</span>) =&gt; {
  <span class="hljs-keyword">const</span> { children } = props;

  <span class="hljs-keyword">const</span> [authState, authDispatch] = <span class="hljs-title function_">useReducer</span>(authReducer, defaultAuthState);
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();

  <span class="hljs-comment">// ì‚¬ìš©ì ì„¸ë¶€ ì •ë³´ê°€ ì§€ì†ë˜ëŠ”ì§€ í™•ì¸, ëŒ€ë¶€ë¶„ ë¸Œë¼ìš°ì € ìƒˆë¡œ ê³ ì¹¨ì— ëŒ€ì‘</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> user = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;user&quot;</span>);
    <span class="hljs-keyword">if</span> (user) {
      <span class="hljs-keyword">const</span> <span class="hljs-attr">userData</span>: <span class="hljs-title class_">UserData</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(user);
      <span class="hljs-title function_">authDispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">AuthActionEnum</span>.<span class="hljs-property">LOG_IN</span>, <span class="hljs-attr">payload</span>: userData });
    }
  }, []);

  <span class="hljs-keyword">const</span> globalLogInDispatch = <span class="hljs-title function_">useCallback</span>(
    <span class="hljs-function">(<span class="hljs-params">props: UserData</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { authToken, email, name, userId } = props;
      <span class="hljs-title function_">authDispatch</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">AuthActionEnum</span>.<span class="hljs-property">LOG_IN</span>,
        <span class="hljs-attr">payload</span>: {
          authToken,
          userId,
          name,
          email,
        },
      });
      <span class="hljs-title function_">navigate</span>(<span class="hljs-string">&quot;/resource&quot;</span>);
    },
    [navigate]
  );

  <span class="hljs-keyword">const</span> globalLogOutDispatch = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">authDispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">AuthActionEnum</span>.<span class="hljs-property">LOG_OUT</span>, <span class="hljs-attr">payload</span>: <span class="hljs-literal">null</span> });
    <span class="hljs-title function_">navigate</span>(<span class="hljs-string">&quot;/user/login&quot;</span>);
  }, [navigate]);

  <span class="hljs-comment">// í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•  ì»¨í…ìŠ¤íŠ¸ ê°’</span>
  <span class="hljs-keyword">const</span> ctx = {
    authState,
    globalLogInDispatch,
    globalLogOutDispatch,
  };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">authCtx.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{ctx}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">authCtx.Provider</span>&gt;</span></span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> authCtx;
</code></pre>
<p>AuthContextProvider ì»´í¬ë„ŒíŠ¸ëŠ” authState ë° ê´€ë ¨ ë””ìŠ¤íŒ¨ì¹˜ ë©”ì„œë“œë¥¼ authCtx ì»¨í…ìŠ¤íŠ¸ ë‚´ì˜ ëª¨ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì œê³µí•˜ëŠ” Higher Order Component (HOC)ì…ë‹ˆë‹¤. globalLogInDispatchì™€ globalLogOutDispatch í•¨ìˆ˜ëŠ” ê°ê° LOG_IN ë° LOG_OUT ì•¡ì…˜ì„ ë¦¬ë“€ì„œì— ë””ìŠ¤íŒ¨ì¹˜í•˜ì—¬ ì¸ì¦ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì¸ì¦ ì•¡ì…˜ì´ ë””ìŠ¤íŒ¨ì¹˜ë  ë•Œ í•´ë‹¹ ê²½ë¡œë¡œ ì´ë™í•˜ê¸° ìœ„í•´ react-router-domë„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ì´ì „ì— ë¡œê·¸ì¸í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³  í•„ìš”í•  ê²½ìš° localStorageì— ì €ì¥ëœ ì •ë³´ë¥¼ ì°¾ì•„ LOG_IN ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•˜ëŠ” useEffect í›…ì„ ì •ì˜í–ˆìŠµë‹ˆë‹¤.</p>
<p>ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” index.tsxì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ AuthContextProviderë¡œ ë˜í•‘í•˜ì—¬ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* index.tsx */</span>

<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom/client&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AuthContextProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./store/auth/AuthContextProvider&#x27;</span>;

<span class="hljs-keyword">const</span> root = <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">createRoot</span>(
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLElement</span>
);
root.<span class="hljs-title function_">render</span>(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">BrowserRouter</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">AuthContextProvider</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">AuthContextProvider</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">BrowserRouter</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">React.StrictMode</span>&gt;</span></span>
);
</code></pre>
<h2>2.3 ì„œë²„ì™€ í†µì‹ í•˜ê¸°</h2>
<p>ì¸ì¦ ìƒíƒœ ê´€ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìœ¼ë‹ˆ ì´ì œ ë‚´ë¶€ ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ê²€ìƒ‰í•´ì•¼ í•˜ëŠ” ì„œë²„ì™€ì˜ í†µì‹ ì— ì§‘ì¤‘í•´ ë´…ì‹œë‹¤. ì´ë¥¼ ìœ„í•´ React ì»´í¬ë„ŒíŠ¸ì—ì„œ ì„œë²„ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ëŠ” ë…¼ë¦¬ë¥¼ ëª¨ë‘ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ useApië¼ëŠ” ì»¤ìŠ¤í…€ í›…ì„ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. ui/src ë‚´ë¶€ì— ì½”ë“œë¥¼ í˜¸ìŠ¤íŒ…í•  ìˆ˜ ìˆëŠ” ê´€ë ¨ íŒŒì¼ì´ ìˆëŠ” hooks í´ë”ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">cd ui/src &amp;&amp; mkdir hooks &amp;&amp; cd hooks &amp;&amp;\
mkdir api &amp;&amp; cd api &amp;&amp;\
touch apiData.<span class="hljs-property">ts</span> useApi.<span class="hljs-property">ts</span>
</code></pre>
<p>apiData.ts íŒŒì¼ì—ëŠ” ì‚¬ìš©ì ë¡œê·¸ì¸ ë° ë“±ë¡ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì„œë²„ì—ì„œ ë°˜í™˜ë  ë°ì´í„° êµ¬ì¡°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/hooks/api/apiData.ts */</span>

<span class="hljs-keyword">export</span> type <span class="hljs-title class_">AuthData</span> = {
  <span class="hljs-attr">success</span>: boolean,
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">user_id</span>: string,
    <span class="hljs-attr">email</span>: string,
    <span class="hljs-attr">name</span>: string,
    <span class="hljs-attr">auth_token</span>: string,
  },
};
</code></pre>
<p>useApi.ts íŒŒì¼ì—ëŠ” ì„œë²„ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ ì»¤ìŠ¤í…€ í›…ì´ ë“¤ì–´ ìˆì–´ìš”:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/hooks/api/useApi.ts */</span>

<span class="hljs-comment">// ì „ì—­ ì˜ì¡´ì„±</span>
<span class="hljs-keyword">import</span> { useState, useCallback, useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-comment">// í”„ë¡œì íŠ¸ ì˜ì¡´ì„±</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">AuthContext</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../../store/auth/AuthContextProvider&quot;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BASE_URL</span> = <span class="hljs-string">&quot;http://localhost:8000&quot;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">useApi</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [error, setError] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> { authState, globalLogOutDispatch } = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">AuthContext</span>);

  <span class="hljs-keyword">const</span> request = <span class="hljs-title function_">useCallback</span>(
    <span class="hljs-keyword">async</span> (
      <span class="hljs-attr">endpoint</span>: string,
      <span class="hljs-attr">params</span>: { [<span class="hljs-attr">key</span>: string]: any },
      <span class="hljs-attr">handleSuccessResponse</span>: <span class="hljs-function">(<span class="hljs-params">data: any</span>) =&gt;</span> <span class="hljs-keyword">void</span>,
      handleErrorResponse?: <span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> <span class="hljs-keyword">void</span>
    ) =&gt; {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
      <span class="hljs-title function_">setError</span>(<span class="hljs-literal">null</span>);

      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ì¤‘ì´ë©´ ìš”ì²­ í—¤ë”ì— auth í† í° ì‚½ì…</span>
        <span class="hljs-keyword">if</span> (authState.<span class="hljs-property">isLoggedIn</span>) {
          params.<span class="hljs-property">headers</span>[<span class="hljs-string">&quot;x-access-token&quot;</span>] = authState.<span class="hljs-property">authToken</span>;
        }

        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">BASE_URL</span> + endpoint, { ...params });
        <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
          <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// í•­ìƒ json ì‘ë‹µì„ ê°€ì •</span>
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(data.<span class="hljs-property">error</span>);
        }
        <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// í•­ìƒ json ì‘ë‹µì„ ê°€ì •</span>

        <span class="hljs-comment">// ì‘ë‹µì´ ì •ìƒì ì´ê³  ì˜¤ë¥˜ê°€ ì—†ëŠ” ê²½ìš°, ì„±ê³µ ì‘ë‹µ ì²˜ë¦¬</span>
        handleSuccessResponse &amp;&amp; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">handleSuccessResponse</span>(data));
      } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: any) {
        <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> ê¶Œí•œì´ ì—†ëŠ” ì˜¤ë¥˜ì¸ ê²½ìš° ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ</span>
        <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">message</span> &amp;&amp; error.<span class="hljs-property">message</span> === <span class="hljs-string">&quot;Unauthorized&quot;</span>) {
          <span class="hljs-title function_">globalLogOutDispatch</span>();
        }

        <span class="hljs-comment">// ì§€ì •ëœ ì˜¤ë¥˜ ì²˜ë¦¬</span>
        <span class="hljs-keyword">if</span> (handleErrorResponse) {
          <span class="hljs-title function_">handleErrorResponse</span>(error.<span class="hljs-property">message</span> || error.<span class="hljs-property">error</span> || error);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">setError</span>(error.<span class="hljs-property">message</span> || error.<span class="hljs-property">error</span> || error);
        }
      }

      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
    },

    [authState.<span class="hljs-property">isLoggedIn</span>, authState.<span class="hljs-property">authToken</span>, globalLogOutDispatch]
  );

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">loading</span>: loading,
    <span class="hljs-attr">error</span>: error,
    <span class="hljs-attr">request</span>: request,
    <span class="hljs-attr">setError</span>: setError,
  };
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useApi;
</code></pre>
<p>useApi í›…ì€ request í•¨ìˆ˜ ë‚´ì—ì„œ fetch ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì„ ë‹´ë‹¹í•˜ê³  ìˆì–´ìš”. ì „ì—­ ì¸ì¦ ìƒíƒœë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í–ˆëŠ”ì§€ ë¨¼ì € í™•ì¸í•˜ê³ , ì‚¬ìš©ìê°€ ì¸ì¦ë˜ë©´ ìš”ì²­ í—¤ë” x-access-tokenì— authTokenì„ ì²¨ë¶€í•©ë‹ˆë‹¤. ì´ í† í°ì€ ìš”ì²­ê³¼ í•¨ê»˜ ì „ì†¡ë˜ì–´ ì„œë²„ê°€ ì‚¬ìš©ìê°€ íŠ¹ì • ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ë˜í•œ, ì»¤ìŠ¤í…€ í›…ì€ ìš”ì²­-ì‘ë‹µ ì‚¬ì´í´ ë° ì˜¤ë¥˜ ì²˜ë¦¬ì˜ ìƒíƒœ ê´€ë¦¬ë„ ê´€ë¦¬í•©ë‹ˆë‹¤. ì„œë²„ì—ì„œ ì„±ê³µì ì¸ ì‘ë‹µì„ ë°›ì•˜ë‹¤ë©´ handleSuccessResponse ì½œë°±ì„ í†µí•´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³ , ì‘ë‹µì´ ì‹¤íŒ¨í•œ ê²½ìš° handleErrorResponse ì½œë°±ì„ í†µí•´ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì‘ë‹µ ì˜¤ë¥˜ì— &quot;Unauthorized&quot; ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ globalLogOutDispatch í•¨ìˆ˜ë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦ ìƒíƒœë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤.</p>
<h2>2.4 ì¸ì¦ êµ¬ì„± ìš”ì†Œ</h2>
<p>ìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™„ë£Œí–ˆê³ , ì´ì œ í™”ë©´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‘ì—…í•  ì°¨ë¡€ì…ë‹ˆë‹¤. ë¨¼ì € React ì»´í¬ë„ŒíŠ¸ë¥¼ í˜¸ìŠ¤íŒ…í•  í´ë”ë¥¼ ë§Œë“¤ì–´ë´…ì‹œë‹¤:</p>
<pre><code class="hljs language-js">cd ui/src &amp;&amp; mkdir components &amp;&amp;\
cd components &amp;&amp; mkdir auth &amp;&amp;\
touch <span class="hljs-title class_">Auth</span>.<span class="hljs-property">tsx</span> <span class="hljs-title class_">LogInForm</span>.<span class="hljs-property">tsx</span> <span class="hljs-title class_">RegisterForm</span>.<span class="hljs-property">tsx</span> validations.<span class="hljs-property">ts</span>
</code></pre>
<p>ë¨¼ì €, LogInForm.tsxì™€ RegisterForm.tsxì—ì„œ ê°ê° ë¡œê·¸ì¸ ë° ì‚¬ìš©ì ë“±ë¡ì„ ìœ„í•œ ì–‘ì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/components/auth/LoginForm.tsx */</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FormEventHandler</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Auth.module.css&quot;</span>;

type <span class="hljs-title class_">Props</span> = {
  <span class="hljs-attr">onSubmit</span>: <span class="hljs-title class_">FormEventHandler</span>&lt;<span class="hljs-title class_">HTMLFormElement</span>&gt;,
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">LoginForm</span> = (<span class="hljs-params">props: Props</span>) =&gt; {
  <span class="hljs-keyword">const</span> { onSubmit } = props;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{onSubmit}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Form}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Input}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;email&quot;</span>&gt;</span>ì´ë©”ì¼<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">required</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ì´ë©”ì¼ ì£¼ì†Œ&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Input}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span>ë¹„ë°€ë²ˆí˜¸<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">required</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ë¹„ë°€ë²ˆí˜¸&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>ì œì¶œ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Link}</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{</span>&quot;/<span class="hljs-attr">user</span>/<span class="hljs-attr">register</span>&quot;}&gt;</span>
        ì•„ì§ ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? ê°€ì…í•˜ê¸°
      <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">LoginForm</span>;
</code></pre>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/components/auth/RegisterForm.tsx */</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FormEventHandler</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Auth.module.css&quot;</span>;

type <span class="hljs-title class_">Props</span> = {
  <span class="hljs-attr">onSubmit</span>: <span class="hljs-title class_">FormEventHandler</span>&lt;<span class="hljs-title class_">HTMLFormElement</span>&gt;,
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">RegisterForm</span> = (<span class="hljs-params">props: Props</span>) =&gt; {
  <span class="hljs-keyword">const</span> { onSubmit } = props;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{onSubmit}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Form}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Input}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span>ì´ë¦„<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">required</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ì „ì²´ ì´ë¦„&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Input}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;email&quot;</span>&gt;</span>ì´ë©”ì¼<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">required</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ì´ë©”ì¼ ì£¼ì†Œ&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Input}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span>ë¹„ë°€ë²ˆí˜¸<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">required</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ë¹„ë°€ë²ˆí˜¸&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>ì œì¶œ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Link}</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{</span>&quot;/<span class="hljs-attr">user</span>/<span class="hljs-attr">login</span>&quot;}&gt;</span>
        ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ë¡œê·¸ì¸í•˜ê¸°
      <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RegisterForm</span>;
</code></pre>
<p>ë‘ ì–‘ì‹ì€ ê°ê° ì´ë¦„, ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ì†ì„±ì„ í¬í•¨í•œ í¼ ì œì¶œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ì½œë°± í”„ë¡­ì¸ onSubmitì„ ì „ë‹¬ë°›ìŠµë‹ˆë‹¤.</p>
<p>ê·¸ ë‹¤ìŒìœ¼ë¡œ, Auth.tsxì—ì„œ ì‚¬ìš©ì ë¸Œë¼ìš°ì € ë‚´ì˜ ë„¤ë¹„ê²Œì´ì…˜ ê²½ë¡œì— ë”°ë¼ LogInForm ë˜ëŠ” RegisterForm êµ¬ì„± ìš”ì†Œ ì¤‘ í•˜ë‚˜ë¥¼ í‘œì‹œí•  ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/components/auth/Auth.tsx */</span>

<span class="hljs-comment">// ì „ì—­ imports</span>
<span class="hljs-keyword">import</span> { useEffect, useState, useContext, <span class="hljs-title class_">FormEventHandler</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-comment">// í”„ë¡œì íŠ¸ ì˜ì¡´ì„±</span>
<span class="hljs-keyword">import</span> useApi <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../../hooks/api/useApi&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">AuthContext</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../../store/auth/AuthContextProvider&quot;</span>;
<span class="hljs-keyword">import</span> { validatePasswordLength, validateEmailFormat } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./validations&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AuthData</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../../hooks/api/apiData&quot;</span>;
<span class="hljs-keyword">import</span> { useLocation } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LoginForm</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./LoginForm&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">RegisterForm</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./RegisterForm&quot;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Auth</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">const</span> [authData, setAuthData] = useState&lt;<span class="hljs-title class_">AuthData</span>&gt;();
  <span class="hljs-keyword">const</span> { request, setError } = <span class="hljs-title function_">useApi</span>();
  <span class="hljs-keyword">const</span> { globalLogInDispatch } = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">AuthContext</span>);
  <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();
  <span class="hljs-keyword">const</span> currentPathArray = location.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;/&#x27;</span>);
  <span class="hljs-keyword">const</span> isLogin = currentPathArray[currentPathArray.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === <span class="hljs-string">&#x27;login&#x27;</span>;

  <span class="hljs-comment">// ë¡œê·¸ì¸ ì‚¬ìš©ìì— ëŒ€í•œ api ì‘ë‹µ ì„±ê³µ ì‹œ, ì „ì—­ auth LOG_IN ì´ë²¤íŠ¸ë¥¼ ë””ìŠ¤íŒ¨ì¹˜í•©ë‹ˆë‹¤</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (authData &amp;&amp; <span class="hljs-string">&quot;success&quot;</span> <span class="hljs-keyword">in</span> authData) {
      <span class="hljs-title function_">globalLogInDispatch</span>({
        <span class="hljs-attr">authToken</span>: authData.<span class="hljs-property">user</span>.<span class="hljs-property">auth_token</span>,
        <span class="hljs-attr">userId</span>: authData.<span class="hljs-property">user</span>.<span class="hljs-property">user_id</span>,
        <span class="hljs-attr">name</span>: authData.<span class="hljs-property">user</span>.<span class="hljs-property">name</span>,
        <span class="hljs-attr">email</span>: authData.<span class="hljs-property">user</span>.<span class="hljs-property">email</span>,
      });
    }
  }, [authData, globalLogInDispatch]);

  <span class="hljs-keyword">const</span> <span class="hljs-attr">authHandler</span>: <span class="hljs-title class_">FormEventHandler</span>&lt;<span class="hljs-title class_">HTMLFormElement</span>&gt; = <span class="hljs-keyword">async</span> (event) =&gt; {
    event.<span class="hljs-title function_">preventDefault</span>();
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(event.<span class="hljs-property">currentTarget</span>);
    <span class="hljs-comment">// ë¨¼ì € ìœ íš¨ì„± ê²€ì‚¬!</span>
    <span class="hljs-keyword">const</span> userEmail = data.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;email&quot;</span>);
    <span class="hljs-keyword">const</span> userPassword = data.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;password&quot;</span>);
    <span class="hljs-keyword">const</span> userName = data.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;name&quot;</span>);
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">if</span> (
        !<span class="hljs-title function_">validateEmailFormat</span>(userEmail?.<span class="hljs-title function_">toString</span>() || <span class="hljs-string">&quot;&quot;</span>) ||
        !<span class="hljs-title function_">validatePasswordLength</span>(userPassword?.<span class="hljs-title function_">toString</span>() || <span class="hljs-string">&quot;&quot;</span>)
      ) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;ì˜ëª»ëœ ìê²© ì¦ëª… í˜•ì‹ì…ë‹ˆë‹¤!&quot;</span>);
      }
      <span class="hljs-keyword">const</span> params = {
        <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;POST&quot;</span>,
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>,
        },
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
          <span class="hljs-attr">email</span>: userEmail,
          <span class="hljs-attr">password</span>: userPassword,
          <span class="hljs-attr">name</span>: userName,
        }),
      };

      <span class="hljs-keyword">const</span> endpoint = <span class="hljs-string">`/user/<span class="hljs-subst">${isLogin ? <span class="hljs-string">&#x27;login&#x27;</span> : <span class="hljs-string">&#x27;register&#x27;</span>}</span>`</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">request</span>(endpoint, params, setAuthData);
    } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: any) {
      <span class="hljs-title function_">setError</span>(error.<span class="hljs-property">message</span> || error);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{isLogin ? &#x27;ë¡œê·¸ì¸&#x27; : &#x27;ê°€ì…í•˜ê¸°&#x27;}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      {
        isLogin
          ? <span class="hljs-tag">&lt;<span class="hljs-name">LoginForm</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{authHandler}</span> /&gt;</span>
          : <span class="hljs-tag">&lt;<span class="hljs-name">RegisterForm</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{authHandler}</span> /&gt;</span>
      }
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Auth</span>;
</code></pre>
<p>ìš°ë¦¬ëŠ” react-router-domì—ì„œ ì œê³µí•˜ëŠ” useLocationì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ì—ì„œ ì–´ë–¤ ê²½ë¡œì— ìˆëŠ”ì§€ ì¶”ì¶œí•©ë‹ˆë‹¤. ê²½ë¡œì— ë”°ë¼, LoginForm ë˜ëŠ” RegisterFormì„ í‘œì‹œí•˜ë„ë¡ ì„ íƒí•©ë‹ˆë‹¤. ê° í¼ì— ëŒ€í•œ onSubmit í•¸ë“¤ëŸ¬ëŠ” authHandlerì— ì •ì˜ëœ ëŒ€ë¡œ ì‘ë™í•˜ë©°, ì´ í•¸ë“¤ëŸ¬ëŠ” ì–‘ì‹ ì œì¶œ ì´ë²¤íŠ¸ì—ì„œ ëª¨ë“  ì…ë ¥ í¼ ì†ì„±ì„ ì¶”ì¶œí•˜ê³  ì„œë²„ì—ì„œ ì‚¬ìš©ì/ë¡œê·¸ì¸ ë˜ëŠ” ì‚¬ìš©ì/ë“±ë¡ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ê¸° ì „ì— ì´ë¥¼ ìœ íš¨ì„± ê²€ì‚¬í•©ë‹ˆë‹¤.</p>
<p>ì–‘ì‹ ì œì¶œ ì´ë²¤íŠ¸ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§ì€ ê¸°ë³¸ì ì´ë©° ì•„ë˜ validation.tsì—ì„œ ë³´ì—¬ì§„ ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/components/auth/validations.ts */</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">validatePasswordLength</span> = (<span class="hljs-params">password: string</span>) =&gt; {
  <span class="hljs-keyword">return</span> !!password &amp;&amp; password.<span class="hljs-property">length</span> &gt; <span class="hljs-number">7</span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">validateEmailFormat</span> = (<span class="hljs-params">email: string</span>) =&gt; {
  <span class="hljs-keyword">const</span> re =
    <span class="hljs-regexp">/^(([^&lt;&gt;()[\]\\.,;:\s@&quot;]+(\.[^&lt;&gt;()[\]\\.,;:\s@&quot;]+)*)|(&quot;.+&quot;))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/</span>;
  <span class="hljs-keyword">return</span> !!email &amp;&amp; re.<span class="hljs-title function_">test</span>(<span class="hljs-title class_">String</span>(email).<span class="hljs-title function_">toLowerCase</span>());
};
</code></pre>
<h2>2.5 Resource component</h2>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ë§Œë“¤ ì¸í„°í˜ì´ìŠ¤ êµ¬ì„± ìš”ì†ŒëŠ” ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ ê²½ë¡œë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë”ë¯¸ í˜ì´ì§€ì…ë‹ˆë‹¤. ì½”ë“œë¥¼ í˜¸ìŠ¤íŒ…í•  í´ë”ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë¨¼ì € ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:</p>
<pre><code class="hljs language-js">cd ui/src/components &amp;&amp;\
mkdir resource &amp;&amp;\
cd resource &amp;&amp;\
touch <span class="hljs-title class_">Resource</span>.<span class="hljs-property">tsx</span>
</code></pre>
<p>Resource.tsx íŒŒì¼ ë‚´ë¶€ì— ì•„ë˜ì™€ ê°™ì´ êµ¬ì„± ìš”ì†Œë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/components/resource/Resource.tsx */</span>

<span class="hljs-keyword">import</span> { useCallback, useContext, useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> useApi <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../../hooks/api/useApi&quot;</span>;
<span class="hljs-keyword">import</span> authCtx <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../../store/auth/AuthContextProvider&quot;</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Resource.module.css&quot;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Resource</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>();
  <span class="hljs-keyword">const</span> { request, setError } = <span class="hljs-title function_">useApi</span>();
  <span class="hljs-keyword">const</span> { globalLogOutDispatch } = <span class="hljs-title function_">useContext</span>(authCtx);

  <span class="hljs-keyword">const</span> fetchData = <span class="hljs-title function_">useCallback</span>(<span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> params = {
        <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;GET&quot;</span>,
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>,
        },
      };
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">request</span>(<span class="hljs-string">&quot;/resource&quot;</span>, params, <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
        <span class="hljs-title function_">setData</span>(result.<span class="hljs-property">data</span>);
      });
    } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: any) {
      <span class="hljs-title function_">setError</span>(error.<span class="hljs-property">message</span> || error);
    }
  }, [request, setError]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetchData</span>();
  }, [fetchData]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.Resource}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{data}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{globalLogOutDispatch}</span>&gt;</span>ë¡œê·¸ì•„ì›ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Resource</span>;
</code></pre>
<p>ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ê°„ë‹¨í•˜ë©° useEffect í›…ì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì˜ /resource ì—”ë“œí¬ì¸íŠ¸ë¡œ í˜¸ì¶œí•˜ëŠ” ë¡œì§ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ í˜¸ì¶œì—ëŠ” pre-existing auth í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°˜í™˜ëœ ë°ì´í„°ëŠ” í˜ì´ì§€ì— í‘œì‹œë˜ë©° ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ auth ì»¨í…ìŠ¤íŠ¸ì—ì„œ globalLogOutDispatchë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ì „ì—­ auth ìƒíƒœë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤.</p>
<h2>2.6 ëª¨ë“  ê²ƒì„ ì—°ê²°í•˜ê¸°</h2>
<p>ì¸í„°í˜ì´ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í–ˆìœ¼ë‹ˆ, App.tsxì—ì„œ react-router-domì„ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œ ë¼ìš°íŒ…ì„ í†µí•´ ëª¨ë“  ê²ƒì„ ì—°ê²°í•´ë³´ê² ìŠµë‹ˆë‹¤ :</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* ui/src/App.tsx */</span>

<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./App.css&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Navigate</span>, useLocation } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">AuthContext</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./store/auth/AuthContextProvider&quot;</span>;
<span class="hljs-keyword">import</span> { useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Resource</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/resource/Resource&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Auth</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/auth/Auth&quot;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { authState } = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">AuthContext</span>);
  <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/&quot;</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{authState.isLoggedIn</span> ? <span class="hljs-attr">location.pathname</span> <span class="hljs-attr">:</span> &quot;/<span class="hljs-attr">user</span>/<span class="hljs-attr">login</span>&quot;} /&gt;</span>} /&gt;
        {!authState.isLoggedIn &amp;&amp; (
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;register&quot;</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Auth</span> /&gt;</span>} /&gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;login&quot;</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Auth</span> /&gt;</span>} /&gt;
          <span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span>
        )}
        {authState.isLoggedIn &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;resource&quot;</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Resource</span> /&gt;</span>} /&gt;}
      <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>App.tsx íŒŒì¼ ë‚´ì—ì„œëŠ” ì§€ê¸ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë¼ìš°íŒ…ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. /user/register, /user/login ë° /resourceë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì œê³µëœ ì „ì—­ ì¸ì¦ ìƒíƒœê°€ ì‚¬ìš©ìê°€ ì¸ì¦ëœ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ë©´ ì‚¬ìš©ìì—ê²Œ /resource ê²½ë¡œì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ì—¬ í•´ë‹¹ ì„œë²„ì˜ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì´ë™í•˜ì—¬ &#x27;protected&#x27; ë°ì´í„°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.</p>
<h1>ê²°ë¡ </h1>
<p>ì´ ê¸€ì—ì„œëŠ” í’€ìŠ¤íƒ ì¸ì¦ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ëŠ” ë° í•„ìš”í•œ ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì¸ì¦ ë°©ë²•ì€ í† í° ê¸°ë°˜ ë°©ì‹ìœ¼ë¡œ, ì´ëŠ” ì´ íŠœí† ë¦¬ì–¼ ì‹œë¦¬ì¦ˆì˜ ì²« ë²ˆì§¸ ê¸€ì—ì„œ ë…¼ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê° êµ¬ì„± ìš”ì†Œì— ëŒ€í•´ ë§ì€ ì„¸ë¶€ ì •ë³´ë¥¼ ë‹¤ë¤˜ì§€ë§Œ, ì•„ì§ í•  ì¼ì´ ë§ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<ul>
<li>í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìŠ¤íƒ€ì¼ë§ ê°œì„ , ì´ ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ì„¤ì •í•œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ë§ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>í”„ë¡ íŠ¸ì—”ë“œ ë° ë°±ì—”ë“œì—ì„œ ì ì ˆí•œ ì‚¬ìš©ì ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬, SQL ì¸ì ì…˜ ë°©ì§€ ë˜ëŠ” ë°ì´í„° ìœ í˜• ìœ íš¨ì„± ê²€ì‚¬ì™€ ê°™ì€ ì‘ì—….</li>
<li>ì˜ëª»ëœ ìê²© ì¦ëª…ì„ ì œì¶œí–ˆì„ ë•Œ ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ ì—ëŸ¬ ì²˜ë¦¬.</li>
<li>ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ì—¬ ì‚¬ìš©ì ë°ì´í„° ì €ì¥.</li>
<li>AWS ë˜ëŠ” GCPì™€ ê°™ì€ í´ë¼ìš°ë“œ ì œê³µ ì—…ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆí™”í•˜ê³  ë°°í¬.</li>
</ul>
<p>ë‚˜ë¨¸ì§€ëŠ” ë„¤ê°€ ì•Œì•„ì„œ í•´ì£¼ë©´ ë¼! ê·¸ë¦¬ê³  ì–¸ì œë“ ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œì„ í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ì œì•ˆì´ ìˆë‹¤ë©´ ëŒ“ê¸€ì„ ë‚¨ê²¨ì¤˜! ì´ íŠœí† ë¦¬ì–¼ì˜ ìµœì¢… ì½”ë“œëŠ” ì—¬ê¸°ì„œ í™•ì¸í•  ìˆ˜ ìˆì–´.</p></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Nodejs, React ë° TypeScriptì—ì„œ ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ë°©ë²• ","description":"","date":"2024-05-12 19:37","slug":"2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2","content":"\n\u003cimg src=\"/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_0.png\" /\u003e\n\n# ì†Œê°œ\n\nì´ê²ƒì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œì„ êµ¬í˜„í•˜ëŠ” ë‘ ë¶€ë¶„ íŠœí† ë¦¬ì–¼ì˜ ë‘ ë²ˆì§¸ ê¸°ì‚¬ì…ë‹ˆë‹¤.\n\níŠœí† ë¦¬ì–¼ì˜ ì²« ë²ˆì§¸ ë¶€ë¶„ì€ í˜„ëŒ€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ì¸ì¦ ë° ê¶Œí•œì˜ ê°œë…ì„ ì„¤ëª…í•˜ëŠ” ë° ì „ë…ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ì§ ë³´ì§€ ì•Šì•˜ë‹¤ë©´, ì§„í–‰í•˜ê¸° ì „ì— ì²« ë²ˆì§¸ ë¶€ë¶„ì„ í™•ì¸í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.\n\nê¸°ì´ˆë¥¼ ë‹¤ë£¬ ê¸°ì´ˆë¥¼ ë°”íƒ•ìœ¼ë¡œ, React, Node.js ë° TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ë¥¼ í•˜ëŠ” í’€ ìŠ¤íƒ ì‹œìŠ¤í…œì„ ë‹¨ê³„ë³„ë¡œ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤. ì´ íŠœí† ë¦¬ì–¼ì˜ ì™„ì „í•œ ì½”ë“œë² ì´ìŠ¤ë¥¼ ì´ GitHub ì €ì¥ì†Œì—ì„œ ì°¾ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ë¨¼ì € ë‹¤ìŒ ì„¹ì…˜ì—ì„œ í”„ë¡œì íŠ¸ êµ¬ì¡°ì— ìµìˆ™í•´ì ¸ ë´…ì‹œë‹¤.\n\n# í”„ë¡œì íŠ¸ êµ¬ì¡°\n\n![í”„ë¡œì íŠ¸ êµ¬ì¡°](/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_1.png)\n\nìœ„ì˜ ê·¸ë¦¼ 1ì—ì„œ ì „ì²´ í’€ ìŠ¤íƒ í”„ë¡œì íŠ¸ êµ¬ì¡°ê°€ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤. ì„œë²„ ë° ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤(UI) ë‚´ ê° êµ¬ì„± ìš”ì†Œì˜ ëª©ì ì— ëŒ€í•´ ë…¼ì˜í•´ ë´…ì‹œë‹¤.\n\n## ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤\n\nì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ëŠ” ë§¤ìš° ê¸°ë³¸ì ì´ë©°, í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´ì˜ Auth ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì´ëŸ¬í•œ ì»´í¬ë„ŒíŠ¸ì™€ ìƒí˜¸ì‘ìš©í•˜ì—¬ ì‚¬ìš©ì ì§€ì • í›„í¬ useApi ë° ApiProvider í´ë˜ìŠ¤ë¥¼ í†µí•´ ì„œë²„ì— ì¸ì¦ì„ ìš”ì²­í•©ë‹ˆë‹¤. ì„œë²„ê°€ ì‚¬ìš©ìê°€ ì œì¶œí•œ ìê²© ì¦ëª…ì„ ìœ íš¨ì„± ê²€ì‚¬í•˜ë©´ ì‘ë‹µ ë‚´ì—ì„œ JWT í† í°ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ìœ íš¨í•œ ì„œë²„ ì‘ë‹µì‹œ, ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° AuthReducerë¡œ ì‘ì—…ì´ ë””ìŠ¤íŒ¨ì¹˜ë©ë‹ˆë‹¤. ë””ìŠ¤íŒ¨ì¹˜ëœ ì‘ì—…ì€ ê´€ë ¨ AuthStateë¡œ ì¤„ì–´ë“¤ê³ , AuthContextë¥¼ í†µí•´ ì „ì²´ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì¸í„°í˜ì´ìŠ¤ì— ì œê³µë©ë‹ˆë‹¤. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ëŠ” React ë° TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ë  ê²ƒì…ë‹ˆë‹¤.\n\n## ì„œë²„\n\nì„œë²„ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ìê²© ì¦ëª… ë°ì´í„°ì™€ í•¨ê»˜ ìš”ì²­ì„ ë°›ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì € Cors(Cross-Origin-Resource-Sharing) ê·œì¹™ì„ ìœ„ë°˜í•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•˜ê³  ì œì¶œëœ ì…ë ¥ ë°ì´í„°ê°€ ìœ íš¨í•œì§€ë¥¼ ê²€ì¦í•  ê²ƒì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ë‹¨ê³„ ì¤‘ í•˜ë‚˜ë¼ë„ í†µê³¼í•˜ì§€ ëª»í•˜ë©´ ì˜¤ë¥˜ ì‘ë‹µì´ ë°˜í™˜ë©ë‹ˆë‹¤. ì‚¬ìš©ì ì¸ì¦ì€ ì‚¬ìš©ì/ê°€ì… routeì—ì„œ ìƒˆë¡œìš´ ì‚¬ìš©ìê°€ ìƒì„±ë˜ê±°ë‚˜ ì‚¬ìš©ì/ë¡œê·¸ì¸ routeì—ì„œ ê¸°ì¡´ ì‚¬ìš©ìê°€ ì¸ì¦ë©ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” InMemoryDataProviderê°€ êµ¬í˜„ë˜ë©° ì‚¬ìš©ì ë°ì´í„°ëŠ” ê°„ë‹¨í•œ ê°ì²´ì— ì €ì¥ë©ë‹ˆë‹¤. ì´ëŠ” íŠœí† ë¦¬ì–¼ì´ ë³µì¡í•´ì§€ì§€ ì•Šë„ë¡ ì˜ë„ëœ ê²ƒì´ë©° ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ì— ì¤‘ì ì„ ë‘ì—ˆìŠµë‹ˆë‹¤. DataProviderInterfaceëŠ” ë°ì´í„° ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì¶”ìƒí™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ë©°, ë‚˜ì¤‘ì— ì´ë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¤ë¥¸ ì œê³µìë¡œ ì‰½ê²Œ ì „í™˜í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ê°€ì… ë˜ëŠ” ë¡œê·¸ì¸ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí•˜ë©´ ì„œëª…ëœ ì„œë²„ì™€ í•¨ê»˜ ë§Œë£Œ ê°€ëŠ¥í•œ JWT(JSON Web Token)ê°€ ìƒì„±ë˜ì–´ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤. ì´ í† í°, ì¼ë°˜ì ìœ¼ë¡œ ì¸ì¦ í† í°ìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìœ¼ë©°, ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì—ì„œ /resource ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ ë³´í˜¸ëœ ì„œë²„ ì¸¡ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ ìš”ì²­ì— í¬í•¨ë©ë‹ˆë‹¤.\n\n# ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­\n\nì´ íŠœí† ë¦¬ì–¼ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí•˜ê¸° ìœ„í•œ ì „ì œ ì¡°ê±´ ëª©ë¡ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- í•´ë‹¹ íŠœí† ë¦¬ì–¼ì„ ì™„ë£Œí•˜ë ¤ë©´ ì»´í“¨í„°ì— Node.jsê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n- Node Package Manager (NPM)ì€ Node.jsê°€ ì„¤ì¹˜ë˜ì–´ ìˆìœ¼ë©´ì„œ Yarnì„ ì„ í˜¸í•˜ë©° í”„ë¡œì íŠ¸ ì¢…ì†ì„± ê´€ë¦¬ì—ëŠ” Yarnì´ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.\n- ì›¹ì´ ì‘ë™í•˜ëŠ” ë°©ì‹ì— ëŒ€í•œ ì•Œë§ì€ ì§€ì‹ì´ ìˆì–´ì•¼ í•˜ë©° ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ì‹œìŠ¤í…œì„ êµ¬í˜„í•œ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ê±°ë‚˜ ë³¸ì ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n- ë³¸ ë¬¸ì„œ ì´ì „ì— Node.js, React ë° Typescriptì™€ í•¨ê»˜ ì‘ì—…í•œ ê²½í—˜ì´ ìˆì–´ì•¼ í•˜ì§€ë§Œ, ì½”ë“œ ì•ˆë‚´ë¥¼ ë°›ì„ ì˜ˆì •ì´ë¯€ë¡œ ì‹¬ì¸µì ì¸ ì§€ì‹ì€ ì„ íƒ ì‚¬í•­ì…ë‹ˆë‹¤.\n\nì, ì†Œê°œëŠ” ì´ì œ ëë‚´ê³  ì‹¤ì œ í”„ë¡œì íŠ¸ êµ¬í˜„ìœ¼ë¡œ ë„˜ì–´ê°€ ë´…ì‹œë‹¤. ë©‹ì§€ë„¤ìš”! ğŸ˜\n\n# 1. ì„œë²„ ì„¤ì •\n\n## 1.1 ì˜ì¡´ì„± ì„¤ì¹˜\n\në¨¼ì € ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  ì„œë²„ ì½”ë“œ ê¸°ë°˜ì„ ì„¤ì •í•´ë³´ê² ìŠµë‹ˆë‹¤:\n\n```js\nmkdir authentication-and-authorization \u0026\u0026\\\ncd authentication-and-authorization \u0026\u0026\\\nmkdir server \u0026\u0026\\\ncd server \u0026\u0026 mkdir src\n```\n\nì‹œì‘ ì„œë²„ í´ë” êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:\n\n```bash\n/authentication-and-authorization\n  |__ /server\n      |__ /src\n```\n\n/server í´ë” ì•ˆì— ìˆëŠ” í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ë…¸ë“œ í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ì„¸ìš”:\n\n```bash\nnpm init -y\n```\n\nì´ì œ ì„œë²„ í”„ë¡œì íŠ¸ì˜ ì‹œì‘ì ì´ ìˆìœ¼ë‹ˆ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Typescript í”„ë¡œì íŠ¸ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤:\n\n```js\nyarn add typescript @types/node --dev \u0026\u0026 npx tsc --init\n```\n\nìœ„ ëª…ë ¹ì€ /server í´ë” ì•ˆì— tsconfig.json íŒŒì¼ì„ ìƒì„±í–ˆì„ ê²ë‹ˆë‹¤. í•´ë‹¹ íŒŒì¼ì˜ ë‚´ìš©ì„ ì•„ë˜ ì½”ë“œì™€ ê°™ì´ ë³€ê²½í•´ì£¼ì„¸ìš”:\n\n```js\n{\n  \"compilerOptions\": {\n    \"target\": \"es2016\",\n    \"module\": \"commonjs\",\n    \"rootDir\": \"./src\",\n    \"sourceMap\": true,\n    \"outDir\": \"./dist\",\n    \"esModuleInterop\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"strict\": true,\n    \"skipLibCheck\": true\n  }\n}\n```\n\nê°€ì¥ ì¤‘ìš”í•œ ì„¤ì •ì€ rootDirì…ë‹ˆë‹¤. ì´ ì„¤ì •ì€ TypeScript ì»´íŒŒì¼ëŸ¬ì—ê²Œ .ts íŒŒì¼ì„ ì–´ë””ì—ì„œ ì°¾ì•„ .js íŒŒì¼ë¡œ ë³€í™˜í•˜ê³  outDirë¡œ ì§€ì •ëœ ë””ë ‰í† ë¦¬ì— ë°°ì¹˜í•´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.\n\nì´ì œ ì„œë²„ì— í•„ìš”í•œ ì´ˆê¸° íŒ¨í‚¤ì§€ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ê² ìŠµë‹ˆë‹¤:\n\n```js\nyarn add express dotenv cors \u0026\u0026\\\nyarn add @types/express @types/dotenv @types/cors --dev\n```\n\n3rd party íŒ¨í‚¤ì§€ì— ëŒ€í•œ íƒ€ì… ì •ì˜ íŒŒì¼ë„ ê°œë°œ ì¢…ì†ì„±ìœ¼ë¡œ ì„¤ì¹˜í–ˆë‹¤ëŠ” ê²ƒì— ìœ ì˜í•˜ì„¸ìš”.\n\n## 1.2 Express ì„œë²„ ë§Œë“¤ê¸°\n\në¨¼ì € Express ì„œë²„ì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ìƒì„±í•˜ê³  ë³¸ ê°•ì¢Œë¥¼ í†µí•´ ì´ë¥¼ í™•ì¥í•´ ë‚˜ê°ˆ ê²ƒì…ë‹ˆë‹¤. /server/src ë””ë ‰í† ë¦¬ ì•ˆì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ app.tsì™€ index.tsë¥¼ ìƒì„±í•˜ì„¸ìš”:\n\n```js\ntouch app.ts \u0026\u0026 touch index.ts\n```\n\napp.ts ì•ˆì—ëŠ” ì„œë²„ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•˜ê³  ê´€ë ¨ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Express ì•± ê°ì²´ë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. app.tsì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤ (ì´ê²ƒì€ í•´ë‹¹ íŒŒì¼ì˜ ìµœì¢… ì½”ë“œê°€ ì•„ë‹™ë‹ˆë‹¤):\n\n```js\n/* app.ts */\n\n// ì „ì—­ ì¢…ì†ì„±\nimport * as dotenv from \"dotenv\";\ndotenv.config(); // ë¡œì»¬ .env íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤\n\n// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\nimport routes from \"./routes\";\n\n// express ì•± ì„¤ì •\nimport express from \"express\";\nconst app = express();\n\n// ë¯¸ë“¤ì›¨ì–´\napp.use(express.json());\n\n// ë¼ìš°íŠ¸\napp.use(routes);\n\nexport default app;\n```\n\nindex.tsì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ SERVER_PORT í™˜ê²½ ë³€ìˆ˜ë¡œ ì§€ì •ëœ í¬íŠ¸ì—ì„œ express ì„œë²„ë¥¼ ì‹¤í–‰í•  ê²ƒì…ë‹ˆë‹¤:\n\n```js\n/* index.ts */\n\n// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\nimport app from \"./app\";\nconst { SERVER_PORT } = process.env;\n\n// ì•±ì´ listeningì¤‘\napp.listen(SERVER_PORT, () =\u003e {\n  console.info(`ì•±ì´ í¬íŠ¸ ${SERVER_PORT}ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤`);\n});\n```\n\nGitì—ì„œ ë¬´ì‹œë  ìˆ˜ ìˆëŠ” .env íŒŒì¼ì— í”„ë¡œì íŠ¸ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ê´€í–‰ì…ë‹ˆë‹¤. ì´ íŒŒì¼ì€ /serverí´ë”ì— ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤:```\n\n```js\n# .env\n\nSERVER_PORT=8000\n```\n\nìµìŠ¤í”„ë ˆìŠ¤ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ /server í´ë” ë‚´ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nrm -rf ./dist \u0026\u0026 npx tsc \u0026\u0026 cp .env ./dist/.env \u0026\u0026 cd ./dist \u0026\u0026 node index.js\n```\n\nìœ„ ëª…ë ¹ì€ ë¨¼ì € ./dist ë””ë ‰í† ë¦¬ë¥¼ ì œê±°í•˜ê³ , ./src ë””ë ‰í† ë¦¬ì— ìˆëŠ” ëª¨ë“  ì½”ë“œë¥¼ íƒ€ì… í™•ì¸í•˜ê³  ./dist ë””ë ‰í† ë¦¬ ë‚´ì˜ JavaScriptë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì»´íŒŒì¼ ë‹¨ê³„ê°€ ì™„ë£Œë˜ë©´ .env íŒŒì¼ì´ ./dist ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬ë˜ì–´ ì„œë²„ë¥¼ node index.jsë¡œ ì‹¤í–‰í•  ë•Œ í™˜ê²½ ë³€ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. ë§¤ë²ˆ ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì€ ì§€ë£¨í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ server/package.json ë‚´ì— ëª‡ ê°€ì§€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ì–´ í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¨ìˆœí™”í•˜ê² ìŠµë‹ˆë‹¤:\n\n```\n\n\n\n```json\n{\n  \"name\": \"server\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"build\": \"npx tsc \u0026\u0026 cp .env ./dist/.env\",\n    \"start\": \"rm -rf ./dist \u0026\u0026 yarn build \u0026\u0026 cd ./dist \u0026\u0026 node index.js\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"@types/cors\": \"^2.8.13\",\n    \"@types/dotenv\": \"^8.2.0\",\n    \"@types/express\": \"^4.17.15\",\n    \"@types/node\": \"^18.11.18\",\n    \"typescript\": \"^4.9.4\"\n  },\n  \"dependencies\": {\n    \"cors\": \"^2.8.5\",\n    \"dotenv\": \"^16.0.3\",\n    \"express\": \"^4.18.2\"\n  }\n}\n```\n\nì´ì œ start ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì„œë²„ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```bash\nyarn start\n```\n\n![ì´ë¯¸ì§€](/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_2.png)\n\n```\n\n\n\nì„œë²„ í”„ë¡œì íŠ¸ê°€ ì´ì œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ë°±ì—”ë“œ ì¸ì¦ ë° ê¶Œí•œ ì‹œìŠ¤í…œ ì„¤ì • ê³¼ì •ì„ ë³´ì—¬ë“œë¦´ ê²ƒì…ë‹ˆë‹¤.\n\n## 1.3 ì‚¬ìš©ì ë°ì´í„° ì œê³µì\n\në°ì´í„° ì €ì¥ ë ˆì´ì–´ëŠ” ì¸ì¦ ì‹œìŠ¤í…œì— í•„ìˆ˜ì ì…ë‹ˆë‹¤. ìƒˆ ì‚¬ìš©ìê°€ ìƒì„±ë  ë•Œ, ê·¸ë“¤ì˜ ë°ì´í„°ëŠ” ìœ ì§€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ë‚˜ì¤‘ì— ë¡œê·¸ì¸í•  ë•Œ ì‚¬ìš©ìê°€ ì œì¶œí•œ ìê²© ì¦ëª…ì„ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´ì„œ, ì‚¬ìš©ì ë°ì´í„° ì €ì¥ì„ ìœ„í•´ ì¸ë©”ëª¨ë¦¬ ì €ì¥ì„ êµ¬í˜„í•  ê²ƒì´ì§€ë§Œ, ë‚˜ì¤‘ì— ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¡œ êµ¬í˜„ì„ êµì²´í•˜ëŠ” ê²ƒì´ ì‰½ë„ë¡ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.\n\n/server/src/data_providers í´ë”ë¥¼ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ ì¸í„°í˜ì´ìŠ¤ IDataProviderë¥¼ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.\n\n\n\n```js\n// server/src/data_providers/IDataProvider.ts\n\nexport default interface IDataProvider\u003cResource\u003e {\n  createData: (resource: Resource) =\u003e Promise\u003cvoid\u003e;\n  readData: (args: {id: string, matchField: string}) =\u003e Promise\u003cResource\u003e;\n  updateData: (args: {id: string, resource: Resource}) =\u003e Promise\u003cvoid\u003e;\n  deleteData: (id: string) =\u003e Promise\u003cvoid\u003e;\n}\n```\n\nì´ ì¸í„°í˜ì´ìŠ¤ëŠ” ì¼ë°˜ì ì¸ CRUD ì‘ì—…ì„ ë‚˜íƒ€ë‚´ëŠ” ë„¤ ê°€ì§€ ë©”ì„œë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ë©”ì„œë“œë“¤ì€ Resource íƒ€ì…ì˜ ì¼ë°˜ì ì¸ ê°’ì„ ì†Œë¹„í•˜ê±°ë‚˜ ë°˜í™˜í•©ë‹ˆë‹¤. IDataProviderì˜ InMemoryDataProvider êµ¬í˜„ì€ ì•„ë˜ì™€ ê°™ì´ ë³´ì—¬ì§‘ë‹ˆë‹¤.\n\n```js\n// server/src/data_providers/InMemoryDataProvider.ts\n\nimport IDataProvider from \"./IDataProvider\";\n\nexport default class InMemoryDataProvider\u003cResource extends {id: string, data: any}\u003e implements IDataProvider\u003cResource\u003e {\n  private _data: Resource[];\n\n  constructor() {\n    this._data = [];\n  };\n\n  public async createData(resource: Resource) {\n    this._data.push(resource);\n    return;\n  }\n\n  public async readData(args: {id: string, matchField: string}) {\n    return this._data.filter(x =\u003e x.data[args.matchField] === args.id)[0];\n  };\n\n  public async updateData(props: { id: string; resource: Resource; }) {\n    const {id, resource} = props;\n    for(const datum of this._data) {\n      if(datum.id === id) {\n        datum.data = resource.data;\n      }\n    }\n\n    return;\n  };\n\n  public async deleteData(id: string) {\n    this._data = this._data.filter(datum =\u003e datum.id !== id);\n    return;\n  };\n}\n```\n\nInMemoryDataProviderëŠ” IDataProviderì—ì„œ ì •ì˜ëœ ê³µê°œ ë©”ì„œë“œë¥¼ ì—„ê²©í•˜ê²Œ êµ¬í˜„í•©ë‹ˆë‹¤. ì‹¤ì œ ë°ì´í„° ì €ì¥ì†ŒëŠ” InMemoryDataProvider í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì— íŠ¹ì •í•œ private \\_data ë°°ì—´ ì†ì„±ì…ë‹ˆë‹¤. InMemoryDataProviderì˜ generic íƒ€ì…ì€ Resourceì´ë©° 'id: string, data: any'ë¥¼ í™•ì¥í•˜ì˜€ê¸° ë•Œë¬¸ì— ì…ë ¥ ìì›ì€ id ë° ë°ì´í„°ë¥¼ í¬í•¨í•˜ê³  ê¸°íƒ€ ì†ì„±ì„ ì¶”ê°€ë¡œ ê°€ì ¸ì•¼í•©ë‹ˆë‹¤. TypeScriptì˜ ì´ ì¸í„°í˜ì´ìŠ¤ ì¤‘ì‹¬ì  ì ‘ê·¼ì˜ ì¥ì ì€ IDataProvider ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¤€ìˆ˜í•œë‹¤ë©´ ë°ì´í„° ì €ì¥ì†Œë¥¼ ë‹¤ë¥¸ êµ¬í˜„ì²´ë¡œ ì‰½ê²Œ êµì²´í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤(ì˜ˆ: SQL ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©).```\n\nì‚¬ìš©ì ê´€ë ¨ ë°ì´í„°ì—ì„œ CRUD ì‘ì—…ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë°ì´í„° ì•¡ì„¸ìŠ¤ ê³„ì¸µì—ì„œ ë¶„ë¦¬í•˜ëŠ” ì‚¬ìš©ì ì €ì¥ì†Œë¥¼ ì¶”ê°€ë¡œ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì €, ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ëœ ì¶”ìƒí™” Repositoryë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ RepositoryëŠ” ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ ìœ í˜•ì—ì„œ í™•ì¥ë  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\n```js\n// server/src/repositories/Repository.ts\n\nimport IDataProvider from \"../data_providers/IDataProvider\";\n\nexport default class Repository\u003cResource\u003e {\n  protected _provider: IDataProvider\u003cResource\u003e;\n\n  constructor(args: {provider: IDataProvider\u003cResource\u003e}) {\n    this._provider = args.provider;\n  };\n\n  public get provider(): IDataProvider\u003cResource\u003e {\n    return this._provider;\n  }\n}\n```\n\nRepositoryì—ì„œ íŒŒìƒëœ í´ë˜ìŠ¤ëŠ” ë°ì´í„° ì•¡ì„¸ìŠ¤ ê³„ì¸µì„ í˜•ì„±í•˜ëŠ” IDataProviderë¥¼ êµ¬í˜„í•˜ëŠ” ì œê³µì(provider)ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  UserRepository í´ë˜ìŠ¤ëŠ” Repositoryë¥¼ í™•ì¥í•˜ê³  ì‚¬ìš©ì ë°ì´í„°ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ìì²´ public ë©”ì„œë“œë¥¼ ê°–ìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ ìì„¸íˆ ì‚´í´ë´…ì‹œë‹¤.\n\n```js\n// server/src/repositories/UserRepository.ts\n\nimport IDataProvider from \"../data_providers/IDataProvider\";\nimport Repository from \"./Repository\";\nimport { randomUUID } from \"crypto\";\nimport InMemoryDataProvider from \"../data_providers/InMemoryDataProvider\";\n\ntype UserData = {\n  email: string,\n  name: string,\n  password: string,\n  createdAt: string,\n  updatedAt: string\n};\n\nexport class UserResource {\n  private _id: string;\n\n  constructor(private _data: UserData) {\n    this._id = randomUUID();\n  };\n\n  public get id(): string {\n    return this._id;\n  }\n\n  public get data(): UserData {\n    return this._data;\n  }\n}\n\nexport class UserRepository extends Repository\u003cUserResource\u003e {\n  constructor(args: {provider: IDataProvider\u003cUserResource\u003e}) {\n    super({provider: args.provider});\n  }\n\n  public async createUser(user: UserResource) {\n    await this.provider.createData(user);\n    return;\n  }\n\n  public async getUserBy(args: {id: string, matchField: string}) {\n    return this.provider.readData({id: args.id, matchField: args.matchField});\n  }\n}\n\nconst dataProvider = new InMemoryDataProvider\u003cUserResource\u003e();\nconst userRepository = new UserRepository({provider: dataProvider});\n\nexport default userRepository;\n```\n\nì‚¬ìš©ì ë°ì´í„°ì˜ êµ¬ì¡°ëŠ” UserData ìœ í˜•ì— ì˜í•´ ì •ì˜ë˜ë©°, ë¦¬ì†ŒìŠ¤ êµ¬ì¡°ëŠ” UserResource í´ë˜ìŠ¤ì— ì˜í•´ ì •ì˜ë©ë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ëŠ” id ë° data ê³µê°œ ì†ì„±ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, creatUser ë° getUserBy ë©”ì„œë“œëŠ” ë°ì´í„° ì•¡ì„¸ìŠ¤ ë ˆì´ì–´ì™€ ìƒí˜¸ ì‘ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ê³  ì“°ê¸° ìœ„í•´ IDataProviderì˜ êµ¬í˜„ì„ í†µí•´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì°¸ê³ : ìš°ë¦¬ëŠ” InMemoryDataProviderì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ UserRepositoryì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë‚˜ì¤‘ì— ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ë ¤ë©´, InMemoryDataProvider ëŒ€ì‹  IDataProvider ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ì œ UserRepositoryë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ API ì—”ë“œí¬ì¸íŠ¸ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë…¼ë¦¬ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì„¤ëª…ë  ê²ƒì…ë‹ˆë‹¤.\n\n## 1.3 ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ì„ ìœ„í•œ ë¼ìš°íŠ¸\n\në‹¤ìŒìœ¼ë¡œ, express ë¼ìš°íŠ¸ë¥¼ ëª¨ë‘ ë³´ê´€í•  í´ë”ë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”:\n\n```js\nyarn add bcrypt jwt \u0026\u0026\\\nyarn add @types/bcrypt @types/jwt --dev \u0026\u0026\\\ncd server/src \u0026\u0026\\\nmkdir routes \u0026\u0026\\\ncd ./routes \u0026\u0026\\\ntouch index.ts user.ts\n```\n\nì•Œë¦¼: ì¶”ê°€ì ìœ¼ë¡œ npm íŒ¨í‚¤ì§€ bcrypt ë° jwtë¥¼ ì„œë²„ í”„ë¡œì íŠ¸ ë‚´ì— ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•”í˜¸í™”í•˜ëŠ” ë° bcryptë¥¼ ì‚¬ìš©í•˜ê³ , ì„±ê³µì ì¸ ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì— ë°˜í™˜ë  ì¸ì¦ í† í°ì„ ìƒì„±í•˜ê¸° ìœ„í•´ jwtë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. /server ë‚´ë¶€ì˜ í´ë” êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:\n\n```js\n/server\n  |__ /src\n      |__ ...\n      |__ /routes\n        |__ index.ts\n        |__ user.ts\n```\n\nindex.ts ë‚´ì—ì„œëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ëª¨ë“  ê°€ëŠ¥í•œ ê²½ë¡œë¥¼ í¬í•¨í•˜ëŠ” ì¤‘ì•™ ë¼ìš°í„°ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤. í˜„ì¬ëŠ” ë“±ë¡ ë° ë¡œê·¸ì¸ì„ ìœ„í•œ íŠ¹ì • /user ê²½ë¡œë§Œ ê°€ì§ˆ ê²ƒì…ë‹ˆë‹¤.```\n\n```js\n// server/src/routes/index.ts\n\n// ì „ì—­ ì¢…ì†ì„±\nimport { Router } from \"express\";\nconst router = Router();\nimport userRoute from \"./user\";\n\n// APIì— ëŒ€í•œ ëª¨ë“  ë¼ìš°íŠ¸\nrouter.use(\"/user\", userRoute);\n\nexport default router;\n```\n\nuserRouteëŠ” ë‹¤ìŒê³¼ ê°™ì´ user.tsì— êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n```js\n// server/src/routes/user.ts\n\n// ì „ì—­ ì¢…ì†ì„±\nconst { ENCRYPTION_KEY, AUTH_TOKEN_KEY } = process.env;\nimport {Router} from 'express';\nconst userRoute = Router();\nimport bcrypt from 'bcrypt';\nimport jwt from 'jsonwebtoken';\n\n// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\nimport {UserResource} from '../repositories/UserRepository';\nimport { validateHasParameters, validateEmailFormat, validatePasswordLength } from \"../middleware/validation\";\nimport userRepository from '../repositories/UserRepository';\n\n/**\n * ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ë° ì´ë¦„ì„ ì…ë ¥í•˜ì—¬ ì‚¬ìš©ì ë“±ë¡\n */\nuserRoute.post(\n  \"/register\",\n  validateHasParameters(\"email\", \"password\", \"name\"),\n  validateEmailFormat,\n  validatePasswordLength,\n  async (req, res) =\u003e {\n    const { name, email, password } = req.body;\n    try {\n      const userExist = await userRepository.getUserBy({id: email, matchField: 'email'});\n      if (userExist) {\n        return res.status(409).json({ error: \"User already exist\" });\n      }\n\n      const date = new Date().toISOString();\n\n      // ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”\n      const passwordHash = await bcrypt.hash(password, ENCRYPTION_KEY!);\n\n      // ì‚¬ìš©ì ì •ë³´ì™€ ë§Œë£Œ ë‚ ì§œë¡œ ì¸ì¦ í† í° ìƒì„±\n      const userData = {\n        name: name,\n        email: email,\n        password: passwordHash,\n        createdAt: date,\n        updatedAt: date,\n      };\n      const newUser = new UserResource(userData);\n\n      // ì‚¬ìš©ì ë°ì´í„° ì €ì¥\n      await userRepository.createUser(newUser);\n\n      const jwtOptions = {\n        expiresIn: '24h',  // 24ì‹œê°„ í›„ í† í° ë§Œë£Œ\n      };\n\n      const authToken = jwt.sign(newUser.data, AUTH_TOKEN_KEY!, jwtOptions);\n\n      return res.status(200).json({\n        success: true,\n        user: {\n          user_id: newUser.id,\n          email: newUser.data.email,\n          name: newUser.data.name,\n          auth_token: authToken,\n        },\n      });\n    } catch (error) {\n      console.error(error);\n      return res.status(500).json({ error: `ë‚´ë¶€ ì˜¤ë¥˜` });\n    }\n  }\n);\n\n/**\n * ì…ë ¥ëœ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ë¡œê·¸ì¸ ì„¸ì…˜ ì¸ì¦\n */\nuserRoute.post(\n  \"/login\",\n  validateHasParameters(\"email\", \"password\"),\n  async (req, res) =\u003e {\n    const { email, password } = req.body;\n\n    try {\n      // ì‚¬ìš©ì ì¡´ì¬ ì—¬ë¶€ ë° ì œê³µëœ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸\n      const user = await userRepository.getUserBy({id: email, matchField: 'email'});\n      const userExists = !!user;\n      const passwordCorrect = userExists \u0026\u0026 (await bcrypt.compare(password, user.data.password));\n      if(userExists \u0026\u0026 passwordCorrect) {\n\n        const jwtOptions = {\n          expiresIn: '24h',  // 24ì‹œê°„ í›„ í† í° ë§Œë£Œ\n        };\n\n        const authToken = jwt.sign(user.data, AUTH_TOKEN_KEY!, jwtOptions);\n\n        return res.status(200).json({\n          success: true,\n          user: {\n            user_id: user.id,\n            email: user.data.email,\n            name: user.data.name,\n            auth_token: authToken,\n          },\n        });\n      }\n\n      return res.status(400).json({error: 'ì˜ëª»ëœ ì¸ì¦ ì •ë³´'});\n    } catch (error) {\n      console.error(error);\n      return res.status(500).json({ error: `ì„œë²„ ì˜¤ë¥˜` });\n    }\n  }\n);\n\nexport default userRoute;\n```\n\nPOST /user/register ì—”ë“œí¬ì¸íŠ¸ì—ì„œëŠ” ìš”ì²­ ë³¸ë¬¸ì— ì´ë¦„, ì´ë©”ì¼ ë° ë¹„ë°€ë²ˆí˜¸ ì„¸ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì´ë©”ì¼ì„ í†µí•´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œ í›„, ì°¸ì´ë©´ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì €ì¥ì„ ìœ„í•´ ì‚¬ìš©ì ê´€ë ¨ ë°ì´í„° userDataë¥¼ ìƒì„±í•˜ë©°, ì œê³µëœ ë¹„ë°€ë²ˆí˜¸ëŠ” ì´ì „ì— ì„¤ì¹˜í•œ bcryptë¥¼ ì‚¬ìš©í•˜ì—¬ ENCRYPTION_KEYë¡œ ì•”í˜¸í™”ë©ë‹ˆë‹¤. ì‚¬ìš©ì ë°ì´í„°ì˜ ì§€ì†ì„±ì€ userRepository.createUserë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•˜ë©°, ì‚¬ìš©ì ìƒì„±ì´ ì„±ê³µí•˜ë©´ 24ì‹œê°„ ë§Œë£Œ ê¸°ê°„ì´ ìˆëŠ” JWT í† í°ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. JWT í† í°ì€ ì´ì „ì— ì„¤ì¹˜í•œ jwtë¥¼ ì‚¬ìš©í•˜ì—¬ AUTH_TOKEN_KEYë¡œ ì„œëª…ë˜ë©° ì‚¬ìš©ì ê´€ë ¨ ë°ì´í„°ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ê°€ ì„œë²„ ì‘ë‹µì„ ë°›ìœ¼ë©´ ì´ JWT í† í°ì´ í”„ë¡ íŠ¸ì—”ë“œì— ì €ì¥ë©ë‹ˆë‹¤.\n\n```\n\n\n\nPOST /user/login ì—”ë“œí¬ì¸íŠ¸ì—ì„œëŠ” ìš”ì²­ ë³¸ë¬¸ ë‚´ emailê³¼ password ì„¸ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë¨¼ì € ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì œê³µëœ ë¹„ë°€ë²ˆí˜¸ê°€ í•´ë‹¹ ì‚¬ìš©ì ì´ë©”ì¼ì— ëŒ€í•´ ì°¾ì€ ë³µí˜¸í™”ëœ ë¹„ë°€ë²ˆí˜¸ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì„±ê³µì ì¸ ì‚¬ìš©ì ìœ íš¨ì„± ê²€ì‚¬ í›„, ë™ì¼í•œ JWT ì„œëª… í”„ë¡œì„¸ìŠ¤ê°€ ë°˜ë³µë©ë‹ˆë‹¤.\n\n/register ë° /login ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ì‚¬ìš©ì ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬ìš© ë¯¸ë“¤ì›¨ì–´ë„ êµ¬í˜„í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ì„ ê²ë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ /middleware ë””ë ‰í† ë¦¬ì™€ ê·¸ ì•ˆì— validation.ts íŒŒì¼ì„ ìƒì„±í•´ ë³´ì„¸ìš”.\n\n```js\ncd server/src \u0026\u0026\\\nmkdir middleware \u0026\u0026\\\ntouch validation.ts\n```\n\nvalidation.ts íŒŒì¼ì—ì„œëŠ” ì‚¬ìš©ì ì…ë ¥ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ë“¤ì„ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.\n\n```js\n// server/src/middleware/validation.ts\n\nimport { NextFunction, Request, Response } from \"express\";\n\nexport const validateHasParameters = (...args: string[]) =\u003e {\n  return (req: Request, res: Response, next: NextFunction) =\u003e {\n    const body = req.body;\n    let valid = true;\n\n    for (const arg of args) {\n      if (body[arg] === undefined) {\n        res.status(403).json({ error: arg + \" not specified\" });\n        valid = false;\n        break;\n      }\n    }\n\n    if (valid) {\n      next();\n    }\n  };\n};\n\nexport const validatePasswordLength = (req: Request, res: Response, next: NextFunction) =\u003e {\n  const { password } = req.body;\n  if (!!password \u0026\u0026 password.length \u003e 7) {\n    next();\n  } else {\n    res.status(403).json({ error: \"The password provided is not valid\" });\n  }\n};\n\nexport const validateEmailFormat = (req: Request, res: Response, next: NextFunction) =\u003e {\n  const { email } = req.body;\n  const re =\n    /^(([^\u003c\u003e()[\\]\\\\.,;:\\s@\"]+(\\.[^\u003c\u003e()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  if (!!email \u0026\u0026 re.test(String(email).toLowerCase())) {\n    next();\n  } else {\n    res.status(403).json({ error: \"The email provided is not valid\" });\n  }\n};\n```\n\nvalidateHasParameterì€ ëª¨ë“  POST ìš”ì²­ì— ì‚¬ìš©ë˜ë©° íŠ¹ì • ë§¤ê°œë³€ìˆ˜ê°€ ì œì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. validatePasswordLength ë° validateEmailFormat ë¯¸ë“¤ì›¨ì–´ëŠ” /user/register ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ìš”ì²­ì— ëŒ€í•´ ìœ íš¨í•œ ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´ì™€ ì´ë©”ì¼ í˜•ì‹ì„ ë³´ì¥í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\në§ˆì§€ë§‰ìœ¼ë¡œ, app.tsì—ì„œ routesë¥¼ ì‚¬ìš©í•˜ì—¬ ë£¨í„°ë¥¼ express ì•±ì— ì—°ê²°í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ì— í‘œì‹œëœëŒ€ë¡œ routesë¥¼ íŒŒì¼ ë§¨ ìœ„ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì— ìœ ì˜í•˜ì‹­ì‹œì˜¤.\n\n```js\n/* app.ts */\n\n// ì „ì—­ ì¢…ì†ì„±\nimport * as dotenv from \"dotenv\";\ndotenv.config(); // ë¡œì»¬ .env íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ ì´ˆê¸°í™”\n\n// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\nimport routes from \"./routes\";\n\n// express ì•± ì„¤ì •\nimport express from \"express\";\nconst app = express();\n\n// ë¯¸ë“¤ì›¨ì–´\napp.use(express.json());\n\n// ë¼ìš°í„°\napp.use(routes);\n\nexport default app;\n```\n\nì´ì œ ì‚¬ìš©ìê°€ ë°©ê¸ˆ ë§Œë“  ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë“±ë¡í•˜ê³  ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ì„œë²„ ì¸¡ì—ì„œ ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì‚¬ìš©ì ê¶Œí•œ ì¶”ì ì„ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.\n\n## 1.4 ì‚¬ìš©ì ê¶Œí•œ\n\nì‚¬ìš©ì ê¶Œí•œì€ ì¸ì¦ëœ ì‚¬ìš©ìê°€ ë³´í˜¸ëœ ì„œë²„ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ê³  ì‹œë„í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ” ì‚¬ìš©ì ë“±ë¡ ë˜ëŠ” ë¡œê·¸ì¸ ì´ë²¤íŠ¸ì—ì„œ ìƒì„±ëœ í† í°ì´ ì‚¬ìš©ì ë¸Œë¼ìš°ì € ì„¸ì…˜ì—ì„œ ì‹œì‘ëœ ëª¨ë“  ìš”ì²­ì— ì²¨ë¶€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. í† í°ì€ ê° ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì € ì„¸ì…˜ì—ì„œ ì‚¬ìš©ëœ AUTH_TOKEN_KEYì™€ ê°™ì€ ê²ƒìœ¼ë¡œ í™•ì¸ë  ê²ƒì…ë‹ˆë‹¤. ì•ìœ¼ë¡œ í† í°ì´ ìš”ì²­ê³¼ í•¨ê»˜ ì „ë‹¬ë˜ëŠ” ë°©ë²•ì„ ë‚˜ì¤€ì— ë‹¤ë£° ê²ƒì´ë©°, ì§€ê¸ˆì€ ì„œë²„ ì¸¡ì—ì„œ ë¯¸ë“¤ì›¨ì–´ ì‚¬ìš©ì ê¶Œí•œì„ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.\n\nì„œë²„/src/middleware ë””ë ‰í† ë¦¬ ì•ˆì— auth.tsë¼ëŠ” ì¶”ê°€ íŒŒì¼ì„ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.\n\n```js\ncd server/src/middleware \u0026\u0026 touch auth.ts\n```\n\nauth.ts íŒŒì¼ ì•ˆì—ëŠ” ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ê°€ë¡œì±„ê³  í† í° ìœ íš¨ì„± ê²€ì‚¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ìˆ˜í–‰í•˜ëŠ” checkAuthToken ë¯¸ë“¤ì›¨ì–´ë¥¼ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.\n\n```js\n// server/src/middleware/auth.ts\n\n// ì „ì—­ ì˜ì¡´ì„±\nimport jwt, { JwtPayload } from 'jsonwebtoken';\nconst { AUTH_TOKEN_KEY } = process.env;\n\n// í”„ë¡œì íŠ¸ ì˜ì¡´ì„±\nimport userRepository from '../repositories/UserRepository';\n\nexport const checkAuthToken = async (req: any, res: any, next: any) =\u003e {\n  const auth_token = req.headers[\"x-access-token\"] as string;\n\n  try {\n    if (!auth_token) {\n      throw new Error('Unauthorized');\n    }\n\n    const decodedUserInfo = jwt.verify(auth_token, AUTH_TOKEN_KEY!) as JwtPayload;\n    // ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸\n    const user = await userRepository.getUserBy({ id: decodedUserInfo.email, matchField: 'email' });\n    if(!user) {\n      throw new Error('Unauthorized');\n    }\n\n    req.user = {...user.data, ...decodedUserInfo};\n  } catch (error) {\n    return res.status(403).json({error: 'Unauthorized'});\n  }\n\n  return next();\n};\n```\n\ní™•ì¸í•  í† í°ì€ ìš”ì²­ í—¤ë” X-ACCESS-TOKEN ì•ˆì— í¬í•¨ë  ê²ƒì…ë‹ˆë‹¤. ì¶”ì¶œëœ í† í°ì€ AUTH_TOKEN_KEYë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ì¦ë˜ë©°, í•´ë‹¹ ë°ì´í„° í˜ì´ë¡œë“œëŠ” decodedUserInfoì— í• ë‹¹ë  ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì œì¶œëœ í† í°ì˜ ìœ íš¨ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ë°ì´í„° ì €ì¥ì†Œì— ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ ì¶”ê°€ë¡œ í™•ì¸í•  ê²ƒì…ë‹ˆë‹¤. í† í° ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•˜ë©´ 403 ì˜¤ë¥˜ 'Unauthorized' ë©”ì‹œì§€ë¡œ ì‘ë‹µí•  ê²ƒì…ë‹ˆë‹¤.```\n\nì¸ì¦ ë…¼ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ë³´í˜¸ëœ ì„œë²„ ë¦¬ì†ŒìŠ¤ë¥¼ í‰ë‚´ ë‚´ëŠ” ë”ë¯¸ /resource API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¨¼ì € ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ resource.ts íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.\n\n```js\ncd server/src/routes \u0026\u0026 touch resource.ts\n```\n\nresource.ts íŒŒì¼ì˜ ë‚´ìš©ì€ ê°„ë‹¨í•˜ë©° ë‹¨ì¼ GET ì—”ë“œí¬ì¸íŠ¸ë¡œ êµ¬ì„±ë˜ì–´ ì¼ë¶€ ì •ì  HTMLì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n```js\n// server/src/routes/resource.ts\n\nimport { Router } from \"express\";\nconst resourceRoute = Router();\n\nresourceRoute.get(\"/\", async (req, res) =\u003e {\n  return res.status(200).send(\"\u003ch1\u003eYou have successfully access resource!\u003c/h1\u003e\");\n});\n\nexport default resourceRoute;\n```\n\nserver/src/routes/index.ts íŒŒì¼ ì•ˆì— /resource ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n// server/src/routes/index.ts\n\n// ì „ì—­ ì˜ì¡´ì„±\nimport { Router } from \"express\";\nconst router = Router();\nimport userRoute from \"./user\";\nimport resourceRoute from \"./resource\";\nimport { checkAuthToken } from \"../middleware/auth\";\n\n// APIì— ëŒ€í•œ ëª¨ë“  ë¼ìš°íŠ¸\nrouter.use(\"/user\", userRoute);\nrouter.use(\"/resource\", checkAuthToken, resourceRoute);\n\nexport default router;\n```\n\në˜í•œ checkAuthToken ë¯¸ë“¤ì›¨ì–´ë¥¼ importí•˜ê³  /resource ì—”ë“œí¬ì¸íŠ¸ì™€ ì—°ê²°í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í•´ë‹¹ ì—”ë“œí¬ì¸íŠ¸ë¡œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ìš”ì²­ì´ í† í° ê¶Œí•œ ë¶€ì—¬ë¥¼ ìœ„í•´ ìœ íš¨ì„±ì„ ê²€ì‚¬ë°›ë„ë¡ ë©ë‹ˆë‹¤.\n\n## 1.5 CORS êµ¬í˜„\n\nì•ì„œ ë§í•œ íŠœí† ë¦¬ì–¼ì˜ ì œ1ë¶€ì—ì„œëŠ” CORS ê·œì¹™ì´ ì„œë²„ì— ì˜í•´ ì§€ì •ë˜ì–´ íŠ¹ì • ì¶œì²˜ ë„ë©”ì¸ìœ¼ë¡œë¶€í„°ì˜ ìš”ì²­ì„ í—ˆìš©í•  ìˆ˜ ìˆë„ë¡í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì™¸ë¶€ íŒ¨í‚¤ì§€ì¸ corsë¥¼ ì‚¬ìš©í•  ê²ƒì´ë©°, ë”°ë¼ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë¨¼ì € ì„œë²„ í”„ë¡œì íŠ¸ì— ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.\n\n```js\ncd server \u0026\u0026 yarn add cors \u0026\u0026 yarn add @types/cors --dev\n```\n\nì‹¤ì œ CORS ê·œì¹™ì€ ë‹¤ìŒê³¼ ê°™ì´ ì„œë²„/src/app.tsì—ì„œ ë¯¸ë“¤ì›¨ì–´ë¡œ ì§€ì •ë©ë‹ˆë‹¤.\n\n```js\n/* app.ts */\n\n// global dependencies\nimport * as dotenv from \"dotenv\";\ndotenv.config(); // ë¡œì»¬ .env íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.\nimport cors from \"cors\";\n\n// project dependencies\nimport routes from \"./routes\";\n\n// express ì•± ì„¤ì •\nimport express from \"express\";\nconst app = express();\n\n// CORS ì„¤ì •\napp.use(\n  \"/\",\n  cors({\n    origin: true, // ì°¸ê³ : ì—¬ê¸°ì„œ ëª¨ë“  ì¶œì²œì„ í—ˆìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n    optionsSuccessStatus: 200,\n    preflightContinue: false,\n    methods: \"GET,POST,OPTIONS\",\n    credentials: true,\n  })\n);\n\n// ë¯¸ë“¤ì›¨ì–´\napp.use(express.json());\n\n// ë¼ìš°íŠ¸\napp.use(routes);\n\nexport default app;\n```\n\nê°€ì¥ ì¤‘ìš”í•œ ì„¤ì •ì€ origin: trueë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì„¤ì •ì€ ëª¨ë“  ë„ë©”ì¸ì—ì„œì˜ ìš”ì²­ì„ í—ˆìš©í•©ë‹ˆë‹¤. ì´ ì„¤ì •ì€ ë¡œì»¬ ê°œë°œì— ì¶©ë¶„í•˜ì§€ë§Œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” í”„ë¡œì íŠ¸ë³„ ë„ë©”ì¸ ëª©ë¡ì—ì„œ ìš”ì²­ì„ í—ˆìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì´ì œ ì„œë²„ì— í•„ìš”í•œ ëª¨ë“  ì‘ì—…ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒì—ëŠ” ì‚¬ìš©ìê°€ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ í”„ë¡ íŠ¸ì—”ë“œ ë¡œê·¸ì¸ í¼ì„ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.\n\n# 2. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì„¤ì •\n\n## 2.1 ì¢…ì†ì„± ì„¤ì¹˜\n\nì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ ìš°ë¦¬ëŠ” React ì½”ë“œë¥¼ í˜¸ìŠ¤íŒ…í•˜ê¸° ìœ„í•´ ./authentication-and-authorization í´ë”ì— ë³„ë„ì˜ í´ë”ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤:\n\n```js\nmkdir ui \u0026\u0026 cd ui\n```\n\n/ui ë””ë ‰í† ë¦¬ ë‚´ì—ì„œ Typescriptë¥¼ í™œì„±í™”í•œ React í”„ë¡œì íŠ¸ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤:\n\n```js\nyarn create react-app ./ --template typescript\n```\n\nì„¤ì¹˜ í”„ë¡œì„¸ìŠ¤ê°€ ì™„ë£Œë˜ë©´ '/ui' í´ë” ë‚´ ë¶ˆí•„ìš”í•œ íŒŒì¼ë“¤ì„ ì •ë¦¬í•˜ê³  ì•„ë˜ì— í‘œì‹œëœ ë””ë ‰í† ë¦¬ì™€ ë™ì¼í•˜ê²Œ ë³´ì´ë„ë¡ ì¡°ì •í•  ê²ƒì…ë‹ˆë‹¤:\n\n```js\n/ui\n  |__ /node_modules\n      |__ ...\n  |__ /public\n      |__ favicon.ico\n      |__ index.html\n      |__ logo192.png\n      |__ logo512.png\n      |__ manifest.json\n      |__robots.txt\n  |__ /src\n      |__ App.css\n      |__ App.tsx\n      |__ index.css\n      |__ index.tsx\n      |__ react-app-env.d.ts\n  |__ .gitignore\n  |__ package.json\n  |-- README.md\n  |__ tsconfig.json\n  |__ yarn.lock\n```\n\nindex.tsxì™€ App.tsxì—ì„œ ë¶ˆí•„ìš”í•œ ì½”ë“œì™€ ì˜ëª»ëœ importë¥¼ ì œê±°í•˜ì—¬ ì•„ë˜ì— í‘œì‹œëœ íŒŒì¼ê³¼ ë™ì¼í•˜ê²Œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤:\n\n```js\n/* index.tsx */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  \u003cReact.StrictMode\u003e\n    \u003cApp /\u003e\n  \u003c/React.StrictMode\u003e\n);\n```\n\n```js\n/* App.tsx */\n\nimport \"./App.css\";\n\nfunction App() {\n  return \u003cdiv className=\"App\"\u003eì•ˆë…•\u003c/div\u003e;\n}\n\nexport default App;\n```\n\nì¢‹ì€ ì†Œì‹ì€ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ëª¨ë“  ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìœ¼ë©° ì´ì œ ì‹¤ì œ ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤!\n\n## 2.2 ì „ì—­ ì¸ì¦ ìƒíƒœ ê´€ë¦¬\n\nì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì‘í•˜ë ¤ë©´ ì¸í„°í˜ì´ìŠ¤ê°€ ì‚¬ìš©ìì˜ ì¸ì¦ ìƒíƒœì— ëŒ€í•´ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ React Contextì™€ useReducer í›…ì„ ì‚¬ìš©í•˜ì—¬ ì „ì—­ ìƒíƒœë¡œ ê´€ë¦¬í•  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì € ui/src/ ì•ˆì— ì „ì—­ ì¸ì¦ ìƒíƒœë¥¼ ìœ„í•œ ìŠ¤í† ì–´ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:\n\n```\n\n\n\n```js\ncd ui/src \u0026\u0026\\\nmkdir store \u0026\u0026\\\ncd store \u0026\u0026 mkdir auth \u0026\u0026\\\ntouch authAction.ts AuthContextProvier.tsx authReducer.ts\n```\n\nauthAction.tsëŠ” ì‚¬ìš©ìê°€ ì¸í„°í˜ì´ìŠ¤ ë‚´ì—ì„œ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥í•œ ì•¡ì…˜ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤:\n\n```js\n/* ui/src/store/auth/authActions.ts */\n\nexport enum AuthActionEnum {\n  LOG_IN = 'LOG_IN',\n  LOG_OUT = 'LOG_OUT',\n};\n\nexport type AuthAction = {\n  type: AuthActionEnum.LOG_IN,\n  payload: {\n    authToken: string;\n    userId: string;\n    email: string;\n    name: string;\n  }\n} | {\n  type: AuthActionEnum.LOG_OUT,\n  payload: null,\n}\n```\n\nauthReducer.ts ë‚´ë¶€ì—ì„œëŠ” ì¸ì¦ ê´€ë ¨ ì•¡ì…˜ì„ í•´ë‹¹ ìƒíƒœë¡œ ë§¤í•‘í•˜ëŠ” ë¦¬ë“€ì„œë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤:\n\n```js\n/* ui/src/store/auth/authReducer.ts */\n\nimport { Reducer } from \"react\";\nimport { AuthAction } from \"./authActions\";\n\nexport interface AuthState {\n  isLoggedIn: boolean;\n  authToken?: string;\n  userId?: string;\n  name?: string;\n  email?: string;\n}\n\nexport const defaultAuthState: AuthState = {\n  isLoggedIn: false,\n};\n\nconst authReducer: Reducer\u003cAuthState, AuthAction\u003e = (state, action) =\u003e {\n  // ì‚¬ìš©ìê°€ ì„±ê³µì ìœ¼ë¡œ ì¸ì¦ë˜ë©´\n  if (action.type === \"LOG_IN\") {\n    localStorage.setItem(\"user\", JSON.stringify(action.payload));\n    return {\n      ...state,\n      isLoggedIn: true,\n      authToken: action.payload.authToken,\n      userId: action.payload.userId,\n      name: action.payload.name,\n      email: action.payload.email,\n    };\n  }\n\n  // ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ\n  if (action.type === \"LOG_OUT\") {\n    localStorage.removeItem(\"user\");\n    return defaultAuthState;\n  }\n\n  return defaultAuthState;\n};\n\nexport default authReducer;\n```\n\nê¸°ë³¸ ìƒíƒœëŠ” falseë¡œ ì„¤ì •ëœ í•˜ë‚˜ì˜ í•„ë“œì¸ isLoggedInìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì¸ì¦ì„ í•œ ë²ˆí•˜ë©´ ë¦¬ë“€ì„œëŠ” LOG_IN ì•¡ì…˜ì„ ì²˜ë¦¬í•˜ê³  ì‚¬ìš©ì ê´€ë ¨ ì •ë³´ë¥¼ localStorageì— ìœ ì§€í•˜ë©° ìƒˆ ì¸ì¦ ìƒíƒœë¥¼ ë°˜í™˜í•˜ì—¬ ë™ì¼í•œ ì •ë³´ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. ì‚¬ìš©ì ì •ë³´ë¥¼ ê³„ì† ìœ ì§€í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ë‚˜ê°€ê³  ë‚˜ì¤‘ì— ë°©ë¬¸í•  ë•Œ ì¸ì¦ ìƒíƒœê°€ ìœ ì§€ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. LOG_OUT ì•¡ì…˜ì€ ë¦¬ë“€ì„œì— ì˜í•´ ì²˜ë¦¬ë˜ì–´ ëª¨ë“  ìƒíƒœ ë° ì €ì¥ëœ ì‚¬ìš©ì ì •ë³´ê°€ ê¸°ë³¸ ê°’ìœ¼ë¡œ ì¬ì„¤ì •ë©ë‹ˆë‹¤.\n\nì´ì œ ì•¡ì…˜ê³¼ ë¦¬ë“€ì„œê°€ ì •ì˜ë˜ì—ˆìœ¼ë¯€ë¡œ AuthContextProvider.tsxì—ì„œ ì „ì²´ ì‘ìš© í”„ë¡œê·¸ë¨ì— ì¸ì¦ ìƒíƒœë¥¼ ì œê³µí•˜ëŠ” ì»¨í…ìŠ¤íŠ¸ ì œê³µì êµ¬ì„± ìš”ì†Œë¥¼ ë§Œë“­ë‹ˆë‹¤:\n\n```js\n/* ui/src/store/auth/AuthContextProvider.tsx */\n\n// ì „ì—­ ê°€ì ¸ì˜¤ê¸°\nimport React, { createContext, useReducer, useCallback, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\nimport { AuthActionEnum } from \"./authActions\";\nimport authReducer, { AuthState, defaultAuthState } from \"./authReducer\";\n\ntype AuthProviderProps = {\n  children: React.ReactElement,\n};\n\nexport type UserData = {\n  authToken: string,\n  userId: string,\n  name: string,\n  email: string,\n};\n\nexport interface AuthContext {\n  authState: AuthState;\n  globalLogInDispatch: (props: UserData) =\u003e void;\n  globalLogOutDispatch: () =\u003e void;\n}\n\n// Auth ì»¨í…ìŠ¤íŠ¸\nconst authCtx =\n  createContext \u003c\n  AuthContext \u003e\n  {\n    authState: defaultAuthState,\n    globalLogInDispatch: () =\u003e {},\n    globalLogOutDispatch: () =\u003e {},\n  };\n\nexport const AuthContextProvider = (props: AuthProviderProps) =\u003e {\n  const { children } = props;\n\n  const [authState, authDispatch] = useReducer(authReducer, defaultAuthState);\n  const navigate = useNavigate();\n\n  // ì‚¬ìš©ì ì„¸ë¶€ ì •ë³´ê°€ ì§€ì†ë˜ëŠ”ì§€ í™•ì¸, ëŒ€ë¶€ë¶„ ë¸Œë¼ìš°ì € ìƒˆë¡œ ê³ ì¹¨ì— ëŒ€ì‘\n  useEffect(() =\u003e {\n    const user = localStorage.getItem(\"user\");\n    if (user) {\n      const userData: UserData = JSON.parse(user);\n      authDispatch({ type: AuthActionEnum.LOG_IN, payload: userData });\n    }\n  }, []);\n\n  const globalLogInDispatch = useCallback(\n    (props: UserData) =\u003e {\n      const { authToken, email, name, userId } = props;\n      authDispatch({\n        type: AuthActionEnum.LOG_IN,\n        payload: {\n          authToken,\n          userId,\n          name,\n          email,\n        },\n      });\n      navigate(\"/resource\");\n    },\n    [navigate]\n  );\n\n  const globalLogOutDispatch = useCallback(() =\u003e {\n    authDispatch({ type: AuthActionEnum.LOG_OUT, payload: null });\n    navigate(\"/user/login\");\n  }, [navigate]);\n\n  // í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•  ì»¨í…ìŠ¤íŠ¸ ê°’\n  const ctx = {\n    authState,\n    globalLogInDispatch,\n    globalLogOutDispatch,\n  };\n\n  return \u003cauthCtx.Provider value={ctx}\u003e{children}\u003c/authCtx.Provider\u003e;\n};\n\nexport default authCtx;\n```\n\nAuthContextProvider ì»´í¬ë„ŒíŠ¸ëŠ” authState ë° ê´€ë ¨ ë””ìŠ¤íŒ¨ì¹˜ ë©”ì„œë“œë¥¼ authCtx ì»¨í…ìŠ¤íŠ¸ ë‚´ì˜ ëª¨ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì œê³µí•˜ëŠ” Higher Order Component (HOC)ì…ë‹ˆë‹¤. globalLogInDispatchì™€ globalLogOutDispatch í•¨ìˆ˜ëŠ” ê°ê° LOG_IN ë° LOG_OUT ì•¡ì…˜ì„ ë¦¬ë“€ì„œì— ë””ìŠ¤íŒ¨ì¹˜í•˜ì—¬ ì¸ì¦ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì¸ì¦ ì•¡ì…˜ì´ ë””ìŠ¤íŒ¨ì¹˜ë  ë•Œ í•´ë‹¹ ê²½ë¡œë¡œ ì´ë™í•˜ê¸° ìœ„í•´ react-router-domë„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ì´ì „ì— ë¡œê·¸ì¸í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³  í•„ìš”í•  ê²½ìš° localStorageì— ì €ì¥ëœ ì •ë³´ë¥¼ ì°¾ì•„ LOG_IN ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•˜ëŠ” useEffect í›…ì„ ì •ì˜í–ˆìŠµë‹ˆë‹¤.\n\në§ˆì§€ë§‰ ë‹¨ê³„ëŠ” index.tsxì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ AuthContextProviderë¡œ ë˜í•‘í•˜ì—¬ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n```js\n/* index.tsx */\n\nimport ReactDOM from 'react-dom/client';\nimport React from 'react';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { AuthContextProvider } from './store/auth/AuthContextProvider';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  \u003cReact.StrictMode\u003e\n    \u003cBrowserRouter\u003e\n      \u003cAuthContextProvider\u003e\n        \u003cApp /\u003e\n      \u003c/AuthContextProvider\u003e\n    \u003c/BrowserRouter\u003e\n  \u003c/React.StrictMode\u003e\n);\n```\n\n## 2.3 ì„œë²„ì™€ í†µì‹ í•˜ê¸°\n\nì¸ì¦ ìƒíƒœ ê´€ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìœ¼ë‹ˆ ì´ì œ ë‚´ë¶€ ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ê²€ìƒ‰í•´ì•¼ í•˜ëŠ” ì„œë²„ì™€ì˜ í†µì‹ ì— ì§‘ì¤‘í•´ ë´…ì‹œë‹¤. ì´ë¥¼ ìœ„í•´ React ì»´í¬ë„ŒíŠ¸ì—ì„œ ì„œë²„ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ëŠ” ë…¼ë¦¬ë¥¼ ëª¨ë‘ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ useApië¼ëŠ” ì»¤ìŠ¤í…€ í›…ì„ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. ui/src ë‚´ë¶€ì— ì½”ë“œë¥¼ í˜¸ìŠ¤íŒ…í•  ìˆ˜ ìˆëŠ” ê´€ë ¨ íŒŒì¼ì´ ìˆëŠ” hooks í´ë”ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤:\n\n```js\ncd ui/src \u0026\u0026 mkdir hooks \u0026\u0026 cd hooks \u0026\u0026\\\nmkdir api \u0026\u0026 cd api \u0026\u0026\\\ntouch apiData.ts useApi.ts\n```\n\napiData.ts íŒŒì¼ì—ëŠ” ì‚¬ìš©ì ë¡œê·¸ì¸ ë° ë“±ë¡ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì„œë²„ì—ì„œ ë°˜í™˜ë  ë°ì´í„° êµ¬ì¡°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n```js\n/* ui/src/hooks/api/apiData.ts */\n\nexport type AuthData = {\n  success: boolean,\n  user: {\n    user_id: string,\n    email: string,\n    name: string,\n    auth_token: string,\n  },\n};\n```\n\nuseApi.ts íŒŒì¼ì—ëŠ” ì„œë²„ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ ì»¤ìŠ¤í…€ í›…ì´ ë“¤ì–´ ìˆì–´ìš”:\n\n```js\n/* ui/src/hooks/api/useApi.ts */\n\n// ì „ì—­ ì˜ì¡´ì„±\nimport { useState, useCallback, useContext } from \"react\";\n\n// í”„ë¡œì íŠ¸ ì˜ì¡´ì„±\nimport AuthContext from \"../../store/auth/AuthContextProvider\";\n\nconst BASE_URL = \"http://localhost:8000\";\n\nconst useApi = () =\u003e {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { authState, globalLogOutDispatch } = useContext(AuthContext);\n\n  const request = useCallback(\n    async (\n      endpoint: string,\n      params: { [key: string]: any },\n      handleSuccessResponse: (data: any) =\u003e void,\n      handleErrorResponse?: (error: Error) =\u003e void\n    ) =\u003e {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // NOTE: ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ì¤‘ì´ë©´ ìš”ì²­ í—¤ë”ì— auth í† í° ì‚½ì…\n        if (authState.isLoggedIn) {\n          params.headers[\"x-access-token\"] = authState.authToken;\n        }\n\n        const response = await fetch(BASE_URL + endpoint, { ...params });\n        if (!response.ok) {\n          const data = await response.json(); // í•­ìƒ json ì‘ë‹µì„ ê°€ì •\n          throw new Error(data.error);\n        }\n        const data = await response.json(); // í•­ìƒ json ì‘ë‹µì„ ê°€ì •\n\n        // ì‘ë‹µì´ ì •ìƒì ì´ê³  ì˜¤ë¥˜ê°€ ì—†ëŠ” ê²½ìš°, ì„±ê³µ ì‘ë‹µ ì²˜ë¦¬\n        handleSuccessResponse \u0026\u0026 (await handleSuccessResponse(data));\n      } catch (error: any) {\n        // NOTE: ê¶Œí•œì´ ì—†ëŠ” ì˜¤ë¥˜ì¸ ê²½ìš° ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ\n        if (error \u0026\u0026 error.message \u0026\u0026 error.message === \"Unauthorized\") {\n          globalLogOutDispatch();\n        }\n\n        // ì§€ì •ëœ ì˜¤ë¥˜ ì²˜ë¦¬\n        if (handleErrorResponse) {\n          handleErrorResponse(error.message || error.error || error);\n        } else {\n          setError(error.message || error.error || error);\n        }\n      }\n\n      setLoading(false);\n    },\n\n    [authState.isLoggedIn, authState.authToken, globalLogOutDispatch]\n  );\n\n  return {\n    loading: loading,\n    error: error,\n    request: request,\n    setError: setError,\n  };\n};\n\nexport default useApi;\n```\n\nuseApi í›…ì€ request í•¨ìˆ˜ ë‚´ì—ì„œ fetch ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì„ ë‹´ë‹¹í•˜ê³  ìˆì–´ìš”. ì „ì—­ ì¸ì¦ ìƒíƒœë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í–ˆëŠ”ì§€ ë¨¼ì € í™•ì¸í•˜ê³ , ì‚¬ìš©ìê°€ ì¸ì¦ë˜ë©´ ìš”ì²­ í—¤ë” x-access-tokenì— authTokenì„ ì²¨ë¶€í•©ë‹ˆë‹¤. ì´ í† í°ì€ ìš”ì²­ê³¼ í•¨ê»˜ ì „ì†¡ë˜ì–´ ì„œë²„ê°€ ì‚¬ìš©ìê°€ íŠ¹ì • ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ë˜í•œ, ì»¤ìŠ¤í…€ í›…ì€ ìš”ì²­-ì‘ë‹µ ì‚¬ì´í´ ë° ì˜¤ë¥˜ ì²˜ë¦¬ì˜ ìƒíƒœ ê´€ë¦¬ë„ ê´€ë¦¬í•©ë‹ˆë‹¤. ì„œë²„ì—ì„œ ì„±ê³µì ì¸ ì‘ë‹µì„ ë°›ì•˜ë‹¤ë©´ handleSuccessResponse ì½œë°±ì„ í†µí•´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³ , ì‘ë‹µì´ ì‹¤íŒ¨í•œ ê²½ìš° handleErrorResponse ì½œë°±ì„ í†µí•´ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì‘ë‹µ ì˜¤ë¥˜ì— \"Unauthorized\" ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ globalLogOutDispatch í•¨ìˆ˜ë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦ ìƒíƒœë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤.\n\n## 2.4 ì¸ì¦ êµ¬ì„± ìš”ì†Œ\n\nìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™„ë£Œí–ˆê³ , ì´ì œ í™”ë©´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‘ì—…í•  ì°¨ë¡€ì…ë‹ˆë‹¤. ë¨¼ì € React ì»´í¬ë„ŒíŠ¸ë¥¼ í˜¸ìŠ¤íŒ…í•  í´ë”ë¥¼ ë§Œë“¤ì–´ë´…ì‹œë‹¤:\n\n```js\ncd ui/src \u0026\u0026 mkdir components \u0026\u0026\\\ncd components \u0026\u0026 mkdir auth \u0026\u0026\\\ntouch Auth.tsx LogInForm.tsx RegisterForm.tsx validations.ts\n```\n\në¨¼ì €, LogInForm.tsxì™€ RegisterForm.tsxì—ì„œ ê°ê° ë¡œê·¸ì¸ ë° ì‚¬ìš©ì ë“±ë¡ì„ ìœ„í•œ ì–‘ì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤:\n\n```js\n/* ui/src/components/auth/LoginForm.tsx */\n\nimport { FormEventHandler } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Auth.module.css\";\n\ntype Props = {\n  onSubmit: FormEventHandler\u003cHTMLFormElement\u003e,\n};\n\nconst LoginForm = (props: Props) =\u003e {\n  const { onSubmit } = props;\n  return (\n    \u003cform onSubmit={onSubmit} className={styles.Form}\u003e\n      \u003cdiv className={styles.Input}\u003e\n        \u003clabel htmlFor=\"email\"\u003eì´ë©”ì¼\u003c/label\u003e\n        \u003cinput id=\"email\" name=\"email\" type=\"email\" required placeholder=\"ì´ë©”ì¼ ì£¼ì†Œ\" /\u003e\n      \u003c/div\u003e\n      \u003cdiv className={styles.Input}\u003e\n        \u003clabel htmlFor=\"password\"\u003eë¹„ë°€ë²ˆí˜¸\u003c/label\u003e\n        \u003cinput id=\"password\" name=\"password\" type=\"password\" required placeholder=\"ë¹„ë°€ë²ˆí˜¸\" /\u003e\n      \u003c/div\u003e\n      \u003cbutton type=\"submit\"\u003eì œì¶œ\u003c/button\u003e\n      \u003cLink className={styles.Link} to={\"/user/register\"}\u003e\n        ì•„ì§ ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? ê°€ì…í•˜ê¸°\n      \u003c/Link\u003e\n    \u003c/form\u003e\n  );\n};\n\nexport default LoginForm;\n```\n\n```js\n/* ui/src/components/auth/RegisterForm.tsx */\n\nimport { FormEventHandler } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Auth.module.css\";\n\ntype Props = {\n  onSubmit: FormEventHandler\u003cHTMLFormElement\u003e,\n};\n\nconst RegisterForm = (props: Props) =\u003e {\n  const { onSubmit } = props;\n  return (\n    \u003cform onSubmit={onSubmit} className={styles.Form}\u003e\n      \u003cdiv className={styles.Input}\u003e\n        \u003clabel htmlFor=\"name\"\u003eì´ë¦„\u003c/label\u003e\n        \u003cinput id=\"name\" name=\"name\" type=\"text\" required placeholder=\"ì „ì²´ ì´ë¦„\" /\u003e\n      \u003c/div\u003e\n      \u003cdiv className={styles.Input}\u003e\n        \u003clabel htmlFor=\"email\"\u003eì´ë©”ì¼\u003c/label\u003e\n        \u003cinput id=\"email\" name=\"email\" type=\"email\" required placeholder=\"ì´ë©”ì¼ ì£¼ì†Œ\" /\u003e\n      \u003c/div\u003e\n      \u003cdiv className={styles.Input}\u003e\n        \u003clabel htmlFor=\"password\"\u003eë¹„ë°€ë²ˆí˜¸\u003c/label\u003e\n        \u003cinput id=\"password\" name=\"password\" type=\"password\" required placeholder=\"ë¹„ë°€ë²ˆí˜¸\" /\u003e\n      \u003c/div\u003e\n      \u003cbutton type=\"submit\"\u003eì œì¶œ\u003c/button\u003e\n      \u003cLink className={styles.Link} to={\"/user/login\"}\u003e\n        ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ë¡œê·¸ì¸í•˜ê¸°\n      \u003c/Link\u003e\n    \u003c/form\u003e\n  );\n};\n\nexport default RegisterForm;\n```\n\në‘ ì–‘ì‹ì€ ê°ê° ì´ë¦„, ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ì†ì„±ì„ í¬í•¨í•œ í¼ ì œì¶œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ì½œë°± í”„ë¡­ì¸ onSubmitì„ ì „ë‹¬ë°›ìŠµë‹ˆë‹¤.\n\nê·¸ ë‹¤ìŒìœ¼ë¡œ, Auth.tsxì—ì„œ ì‚¬ìš©ì ë¸Œë¼ìš°ì € ë‚´ì˜ ë„¤ë¹„ê²Œì´ì…˜ ê²½ë¡œì— ë”°ë¼ LogInForm ë˜ëŠ” RegisterForm êµ¬ì„± ìš”ì†Œ ì¤‘ í•˜ë‚˜ë¥¼ í‘œì‹œí•  ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤:\n\n```js\n/* ui/src/components/auth/Auth.tsx */\n\n// ì „ì—­ imports\nimport { useEffect, useState, useContext, FormEventHandler } from \"react\";\n\n// í”„ë¡œì íŠ¸ ì˜ì¡´ì„±\nimport useApi from \"../../hooks/api/useApi\";\nimport AuthContext from \"../../store/auth/AuthContextProvider\";\nimport { validatePasswordLength, validateEmailFormat } from \"./validations\";\nimport { AuthData } from \"../../hooks/api/apiData\";\nimport { useLocation } from \"react-router-dom\";\nimport LoginForm from \"./LoginForm\";\nimport RegisterForm from \"./RegisterForm\";\n\nconst Auth = () =\u003e {\n  const [authData, setAuthData] = useState\u003cAuthData\u003e();\n  const { request, setError } = useApi();\n  const { globalLogInDispatch } = useContext(AuthContext);\n  const location = useLocation();\n  const currentPathArray = location.pathname.split('/');\n  const isLogin = currentPathArray[currentPathArray.length - 1] === 'login';\n\n  // ë¡œê·¸ì¸ ì‚¬ìš©ìì— ëŒ€í•œ api ì‘ë‹µ ì„±ê³µ ì‹œ, ì „ì—­ auth LOG_IN ì´ë²¤íŠ¸ë¥¼ ë””ìŠ¤íŒ¨ì¹˜í•©ë‹ˆë‹¤\n  useEffect(() =\u003e {\n    if (authData \u0026\u0026 \"success\" in authData) {\n      globalLogInDispatch({\n        authToken: authData.user.auth_token,\n        userId: authData.user.user_id,\n        name: authData.user.name,\n        email: authData.user.email,\n      });\n    }\n  }, [authData, globalLogInDispatch]);\n\n  const authHandler: FormEventHandler\u003cHTMLFormElement\u003e = async (event) =\u003e {\n    event.preventDefault();\n    const data = new FormData(event.currentTarget);\n    // ë¨¼ì € ìœ íš¨ì„± ê²€ì‚¬!\n    const userEmail = data.get(\"email\");\n    const userPassword = data.get(\"password\");\n    const userName = data.get(\"name\");\n    try {\n      if (\n        !validateEmailFormat(userEmail?.toString() || \"\") ||\n        !validatePasswordLength(userPassword?.toString() || \"\")\n      ) {\n        throw new Error(\"ì˜ëª»ëœ ìê²© ì¦ëª… í˜•ì‹ì…ë‹ˆë‹¤!\");\n      }\n      const params = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          email: userEmail,\n          password: userPassword,\n          name: userName,\n        }),\n      };\n\n      const endpoint = `/user/${isLogin ? 'login' : 'register'}`\n      await request(endpoint, params, setAuthData);\n    } catch (error: any) {\n      setError(error.message || error);\n    }\n  };\n\n  return (\n    \u003c\u003e\n      \u003ch2\u003e{isLogin ? 'ë¡œê·¸ì¸' : 'ê°€ì…í•˜ê¸°'}\u003c/h2\u003e\n      {\n        isLogin\n          ? \u003cLoginForm onSubmit={authHandler} /\u003e\n          : \u003cRegisterForm onSubmit={authHandler} /\u003e\n      }\n    \u003c/\u003e\n  );\n};\n\nexport default Auth;\n```\n\nìš°ë¦¬ëŠ” react-router-domì—ì„œ ì œê³µí•˜ëŠ” useLocationì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ì—ì„œ ì–´ë–¤ ê²½ë¡œì— ìˆëŠ”ì§€ ì¶”ì¶œí•©ë‹ˆë‹¤. ê²½ë¡œì— ë”°ë¼, LoginForm ë˜ëŠ” RegisterFormì„ í‘œì‹œí•˜ë„ë¡ ì„ íƒí•©ë‹ˆë‹¤. ê° í¼ì— ëŒ€í•œ onSubmit í•¸ë“¤ëŸ¬ëŠ” authHandlerì— ì •ì˜ëœ ëŒ€ë¡œ ì‘ë™í•˜ë©°, ì´ í•¸ë“¤ëŸ¬ëŠ” ì–‘ì‹ ì œì¶œ ì´ë²¤íŠ¸ì—ì„œ ëª¨ë“  ì…ë ¥ í¼ ì†ì„±ì„ ì¶”ì¶œí•˜ê³  ì„œë²„ì—ì„œ ì‚¬ìš©ì/ë¡œê·¸ì¸ ë˜ëŠ” ì‚¬ìš©ì/ë“±ë¡ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ê¸° ì „ì— ì´ë¥¼ ìœ íš¨ì„± ê²€ì‚¬í•©ë‹ˆë‹¤.\n\nì–‘ì‹ ì œì¶œ ì´ë²¤íŠ¸ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§ì€ ê¸°ë³¸ì ì´ë©° ì•„ë˜ validation.tsì—ì„œ ë³´ì—¬ì§„ ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n```js\n/* ui/src/components/auth/validations.ts */\n\nexport const validatePasswordLength = (password: string) =\u003e {\n  return !!password \u0026\u0026 password.length \u003e 7;\n};\n\nexport const validateEmailFormat = (email: string) =\u003e {\n  const re =\n    /^(([^\u003c\u003e()[\\]\\\\.,;:\\s@\"]+(\\.[^\u003c\u003e()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return !!email \u0026\u0026 re.test(String(email).toLowerCase());\n};\n```\n\n## 2.5 Resource component\n\në§ˆì§€ë§‰ìœ¼ë¡œ ë§Œë“¤ ì¸í„°í˜ì´ìŠ¤ êµ¬ì„± ìš”ì†ŒëŠ” ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ ê²½ë¡œë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë”ë¯¸ í˜ì´ì§€ì…ë‹ˆë‹¤. ì½”ë“œë¥¼ í˜¸ìŠ¤íŒ…í•  í´ë”ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë¨¼ì € ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:\n\n```js\ncd ui/src/components \u0026\u0026\\\nmkdir resource \u0026\u0026\\\ncd resource \u0026\u0026\\\ntouch Resource.tsx\n```\n\nResource.tsx íŒŒì¼ ë‚´ë¶€ì— ì•„ë˜ì™€ ê°™ì´ êµ¬ì„± ìš”ì†Œë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤:\n\n```js\n/* ui/src/components/resource/Resource.tsx */\n\nimport { useCallback, useContext, useEffect, useState } from \"react\";\nimport useApi from \"../../hooks/api/useApi\";\nimport authCtx from \"../../store/auth/AuthContextProvider\";\nimport styles from \"./Resource.module.css\";\n\nconst Resource = () =\u003e {\n  const [data, setData] = useState();\n  const { request, setError } = useApi();\n  const { globalLogOutDispatch } = useContext(authCtx);\n\n  const fetchData = useCallback(async () =\u003e {\n    try {\n      const params = {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n      await request(\"/resource\", params, (result) =\u003e {\n        setData(result.data);\n      });\n    } catch (error: any) {\n      setError(error.message || error);\n    }\n  }, [request, setError]);\n\n  useEffect(() =\u003e {\n    fetchData();\n  }, [fetchData]);\n\n  return (\n    \u003cdiv className={styles.Resource}\u003e\n      \u003ch1\u003e{data}\u003c/h1\u003e\n      \u003cbutton onClick={globalLogOutDispatch}\u003eë¡œê·¸ì•„ì›ƒ\u003c/button\u003e\n    \u003c/div\u003e\n  );\n};\n\nexport default Resource;\n```\n\nì´ ì»´í¬ë„ŒíŠ¸ëŠ” ê°„ë‹¨í•˜ë©° useEffect í›…ì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì˜ /resource ì—”ë“œí¬ì¸íŠ¸ë¡œ í˜¸ì¶œí•˜ëŠ” ë¡œì§ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ í˜¸ì¶œì—ëŠ” pre-existing auth í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°˜í™˜ëœ ë°ì´í„°ëŠ” í˜ì´ì§€ì— í‘œì‹œë˜ë©° ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ auth ì»¨í…ìŠ¤íŠ¸ì—ì„œ globalLogOutDispatchë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ì „ì—­ auth ìƒíƒœë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤.\n\n## 2.6 ëª¨ë“  ê²ƒì„ ì—°ê²°í•˜ê¸°\n\nì¸í„°í˜ì´ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í–ˆìœ¼ë‹ˆ, App.tsxì—ì„œ react-router-domì„ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œ ë¼ìš°íŒ…ì„ í†µí•´ ëª¨ë“  ê²ƒì„ ì—°ê²°í•´ë³´ê² ìŠµë‹ˆë‹¤ :\n\n```js\n/* ui/src/App.tsx */\n\nimport \"./App.css\";\nimport { Route, Routes, Navigate, useLocation } from \"react-router-dom\";\nimport AuthContext from \"./store/auth/AuthContextProvider\";\nimport { useContext } from \"react\";\nimport Resource from \"./components/resource/Resource\";\nimport Auth from \"./components/auth/Auth\";\n\nfunction App() {\n  const { authState } = useContext(AuthContext);\n  const location = useLocation();\n\n  return (\n    \u003cdiv className=\"App\"\u003e\n      \u003cRoutes\u003e\n        \u003cRoute path=\"/\" element={\u003cNavigate to={authState.isLoggedIn ? location.pathname : \"/user/login\"} /\u003e} /\u003e\n        {!authState.isLoggedIn \u0026\u0026 (\n          \u003cRoute path=\"user\"\u003e\n            \u003cRoute path=\"register\" element={\u003cAuth /\u003e} /\u003e\n            \u003cRoute path=\"login\" element={\u003cAuth /\u003e} /\u003e\n          \u003c/Route\u003e\n        )}\n        {authState.isLoggedIn \u0026\u0026 \u003cRoute path=\"resource\" element={\u003cResource /\u003e} /\u003e}\n      \u003c/Routes\u003e\n    \u003c/div\u003e\n  );\n}\n\nexport default App;\n```\n\nApp.tsx íŒŒì¼ ë‚´ì—ì„œëŠ” ì§€ê¸ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë¼ìš°íŒ…ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. /user/register, /user/login ë° /resourceë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì œê³µëœ ì „ì—­ ì¸ì¦ ìƒíƒœê°€ ì‚¬ìš©ìê°€ ì¸ì¦ëœ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ë©´ ì‚¬ìš©ìì—ê²Œ /resource ê²½ë¡œì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ì—¬ í•´ë‹¹ ì„œë²„ì˜ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì´ë™í•˜ì—¬ 'protected' ë°ì´í„°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\n\n# ê²°ë¡ \n\nì´ ê¸€ì—ì„œëŠ” í’€ìŠ¤íƒ ì¸ì¦ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ëŠ” ë° í•„ìš”í•œ ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì¸ì¦ ë°©ë²•ì€ í† í° ê¸°ë°˜ ë°©ì‹ìœ¼ë¡œ, ì´ëŠ” ì´ íŠœí† ë¦¬ì–¼ ì‹œë¦¬ì¦ˆì˜ ì²« ë²ˆì§¸ ê¸€ì—ì„œ ë…¼ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê° êµ¬ì„± ìš”ì†Œì— ëŒ€í•´ ë§ì€ ì„¸ë¶€ ì •ë³´ë¥¼ ë‹¤ë¤˜ì§€ë§Œ, ì•„ì§ í•  ì¼ì´ ë§ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìŠ¤íƒ€ì¼ë§ ê°œì„ , ì´ ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ì„¤ì •í•œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ë§ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í”„ë¡ íŠ¸ì—”ë“œ ë° ë°±ì—”ë“œì—ì„œ ì ì ˆí•œ ì‚¬ìš©ì ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬, SQL ì¸ì ì…˜ ë°©ì§€ ë˜ëŠ” ë°ì´í„° ìœ í˜• ìœ íš¨ì„± ê²€ì‚¬ì™€ ê°™ì€ ì‘ì—….\n- ì˜ëª»ëœ ìê²© ì¦ëª…ì„ ì œì¶œí–ˆì„ ë•Œ ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ ì—ëŸ¬ ì²˜ë¦¬.\n- ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ì—¬ ì‚¬ìš©ì ë°ì´í„° ì €ì¥.\n- AWS ë˜ëŠ” GCPì™€ ê°™ì€ í´ë¼ìš°ë“œ ì œê³µ ì—…ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆí™”í•˜ê³  ë°°í¬.\n\në‚˜ë¨¸ì§€ëŠ” ë„¤ê°€ ì•Œì•„ì„œ í•´ì£¼ë©´ ë¼! ê·¸ë¦¬ê³  ì–¸ì œë“ ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œì„ í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ì œì•ˆì´ ìˆë‹¤ë©´ ëŒ“ê¸€ì„ ë‚¨ê²¨ì¤˜! ì´ íŠœí† ë¦¬ì–¼ì˜ ìµœì¢… ì½”ë“œëŠ” ì—¬ê¸°ì„œ í™•ì¸í•  ìˆ˜ ìˆì–´.\n","ogImage":{"url":"/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_0.png"},"coverImage":"/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_0.png","tag":["Tech"],"readingTime":39},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    img: \"img\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(\"img\", {\n      src: \"/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_0.png\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ì†Œê°œ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ê²ƒì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œì„ êµ¬í˜„í•˜ëŠ” ë‘ ë¶€ë¶„ íŠœí† ë¦¬ì–¼ì˜ ë‘ ë²ˆì§¸ ê¸°ì‚¬ì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"íŠœí† ë¦¬ì–¼ì˜ ì²« ë²ˆì§¸ ë¶€ë¶„ì€ í˜„ëŒ€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ì¸ì¦ ë° ê¶Œí•œì˜ ê°œë…ì„ ì„¤ëª…í•˜ëŠ” ë° ì „ë…ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ì§ ë³´ì§€ ì•Šì•˜ë‹¤ë©´, ì§„í–‰í•˜ê¸° ì „ì— ì²« ë²ˆì§¸ ë¶€ë¶„ì„ í™•ì¸í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê¸°ì´ˆë¥¼ ë‹¤ë£¬ ê¸°ì´ˆë¥¼ ë°”íƒ•ìœ¼ë¡œ, React, Node.js ë° TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ í† í° ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ë¥¼ í•˜ëŠ” í’€ ìŠ¤íƒ ì‹œìŠ¤í…œì„ ë‹¨ê³„ë³„ë¡œ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤. ì´ íŠœí† ë¦¬ì–¼ì˜ ì™„ì „í•œ ì½”ë“œë² ì´ìŠ¤ë¥¼ ì´ GitHub ì €ì¥ì†Œì—ì„œ ì°¾ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ë¨¼ì € ë‹¤ìŒ ì„¹ì…˜ì—ì„œ í”„ë¡œì íŠ¸ êµ¬ì¡°ì— ìµìˆ™í•´ì ¸ ë´…ì‹œë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"í”„ë¡œì íŠ¸ êµ¬ì¡°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_1.png\",\n        alt: \"í”„ë¡œì íŠ¸ êµ¬ì¡°\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ì˜ ê·¸ë¦¼ 1ì—ì„œ ì „ì²´ í’€ ìŠ¤íƒ í”„ë¡œì íŠ¸ êµ¬ì¡°ê°€ ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤. ì„œë²„ ë° ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤(UI) ë‚´ ê° êµ¬ì„± ìš”ì†Œì˜ ëª©ì ì— ëŒ€í•´ ë…¼ì˜í•´ ë´…ì‹œë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ëŠ” ë§¤ìš° ê¸°ë³¸ì ì´ë©°, í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´ì˜ Auth ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì´ëŸ¬í•œ ì»´í¬ë„ŒíŠ¸ì™€ ìƒí˜¸ì‘ìš©í•˜ì—¬ ì‚¬ìš©ì ì§€ì • í›„í¬ useApi ë° ApiProvider í´ë˜ìŠ¤ë¥¼ í†µí•´ ì„œë²„ì— ì¸ì¦ì„ ìš”ì²­í•©ë‹ˆë‹¤. ì„œë²„ê°€ ì‚¬ìš©ìê°€ ì œì¶œí•œ ìê²© ì¦ëª…ì„ ìœ íš¨ì„± ê²€ì‚¬í•˜ë©´ ì‘ë‹µ ë‚´ì—ì„œ JWT í† í°ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ìœ íš¨í•œ ì„œë²„ ì‘ë‹µì‹œ, ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° AuthReducerë¡œ ì‘ì—…ì´ ë””ìŠ¤íŒ¨ì¹˜ë©ë‹ˆë‹¤. ë””ìŠ¤íŒ¨ì¹˜ëœ ì‘ì—…ì€ ê´€ë ¨ AuthStateë¡œ ì¤„ì–´ë“¤ê³ , AuthContextë¥¼ í†µí•´ ì „ì²´ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì¸í„°í˜ì´ìŠ¤ì— ì œê³µë©ë‹ˆë‹¤. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ëŠ” React ë° TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ë  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"ì„œë²„\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì„œë²„ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ìê²© ì¦ëª… ë°ì´í„°ì™€ í•¨ê»˜ ìš”ì²­ì„ ë°›ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì € Cors(Cross-Origin-Resource-Sharing) ê·œì¹™ì„ ìœ„ë°˜í•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•˜ê³  ì œì¶œëœ ì…ë ¥ ë°ì´í„°ê°€ ìœ íš¨í•œì§€ë¥¼ ê²€ì¦í•  ê²ƒì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ë‹¨ê³„ ì¤‘ í•˜ë‚˜ë¼ë„ í†µê³¼í•˜ì§€ ëª»í•˜ë©´ ì˜¤ë¥˜ ì‘ë‹µì´ ë°˜í™˜ë©ë‹ˆë‹¤. ì‚¬ìš©ì ì¸ì¦ì€ ì‚¬ìš©ì/ê°€ì… routeì—ì„œ ìƒˆë¡œìš´ ì‚¬ìš©ìê°€ ìƒì„±ë˜ê±°ë‚˜ ì‚¬ìš©ì/ë¡œê·¸ì¸ routeì—ì„œ ê¸°ì¡´ ì‚¬ìš©ìê°€ ì¸ì¦ë©ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” InMemoryDataProviderê°€ êµ¬í˜„ë˜ë©° ì‚¬ìš©ì ë°ì´í„°ëŠ” ê°„ë‹¨í•œ ê°ì²´ì— ì €ì¥ë©ë‹ˆë‹¤. ì´ëŠ” íŠœí† ë¦¬ì–¼ì´ ë³µì¡í•´ì§€ì§€ ì•Šë„ë¡ ì˜ë„ëœ ê²ƒì´ë©° ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ì— ì¤‘ì ì„ ë‘ì—ˆìŠµë‹ˆë‹¤. DataProviderInterfaceëŠ” ë°ì´í„° ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì¶”ìƒí™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ë©°, ë‚˜ì¤‘ì— ì´ë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¤ë¥¸ ì œê³µìë¡œ ì‰½ê²Œ ì „í™˜í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ê°€ì… ë˜ëŠ” ë¡œê·¸ì¸ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí•˜ë©´ ì„œëª…ëœ ì„œë²„ì™€ í•¨ê»˜ ë§Œë£Œ ê°€ëŠ¥í•œ JWT(JSON Web Token)ê°€ ìƒì„±ë˜ì–´ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤. ì´ í† í°, ì¼ë°˜ì ìœ¼ë¡œ ì¸ì¦ í† í°ìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìœ¼ë©°, ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì—ì„œ /resource ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ ë³´í˜¸ëœ ì„œë²„ ì¸¡ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ ìš”ì²­ì— í¬í•¨ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ íŠœí† ë¦¬ì–¼ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí•˜ê¸° ìœ„í•œ ì „ì œ ì¡°ê±´ ëª©ë¡ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"í•´ë‹¹ íŠœí† ë¦¬ì–¼ì„ ì™„ë£Œí•˜ë ¤ë©´ ì»´í“¨í„°ì— Node.jsê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Node Package Manager (NPM)ì€ Node.jsê°€ ì„¤ì¹˜ë˜ì–´ ìˆìœ¼ë©´ì„œ Yarnì„ ì„ í˜¸í•˜ë©° í”„ë¡œì íŠ¸ ì¢…ì†ì„± ê´€ë¦¬ì—ëŠ” Yarnì´ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ì›¹ì´ ì‘ë™í•˜ëŠ” ë°©ì‹ì— ëŒ€í•œ ì•Œë§ì€ ì§€ì‹ì´ ìˆì–´ì•¼ í•˜ë©° ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ ì‹œìŠ¤í…œì„ êµ¬í˜„í•œ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ê±°ë‚˜ ë³¸ì ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë³¸ ë¬¸ì„œ ì´ì „ì— Node.js, React ë° Typescriptì™€ í•¨ê»˜ ì‘ì—…í•œ ê²½í—˜ì´ ìˆì–´ì•¼ í•˜ì§€ë§Œ, ì½”ë“œ ì•ˆë‚´ë¥¼ ë°›ì„ ì˜ˆì •ì´ë¯€ë¡œ ì‹¬ì¸µì ì¸ ì§€ì‹ì€ ì„ íƒ ì‚¬í•­ì…ë‹ˆë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì, ì†Œê°œëŠ” ì´ì œ ëë‚´ê³  ì‹¤ì œ í”„ë¡œì íŠ¸ êµ¬í˜„ìœ¼ë¡œ ë„˜ì–´ê°€ ë´…ì‹œë‹¤. ë©‹ì§€ë„¤ìš”! ğŸ˜\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"1. ì„œë²„ ì„¤ì •\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"1.1 ì˜ì¡´ì„± ì„¤ì¹˜\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë¨¼ì € ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  ì„œë²„ ì½”ë“œ ê¸°ë°˜ì„ ì„¤ì •í•´ë³´ê² ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"mkdir authentication-and-authorization \u0026\u0026\\\\\\ncd authentication-and-authorization \u0026\u0026\\\\\\nmkdir server \u0026\u0026\\\\\\ncd server \u0026\u0026 mkdir src\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‹œì‘ ì„œë²„ í´ë” êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-bash\",\n        children: \"/authentication-and-authorization\\n  |__ /server\\n      |__ /src\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"/server í´ë” ì•ˆì— ìˆëŠ” í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ë…¸ë“œ í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-bash\",\n        children: \"npm init -y\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ ì„œë²„ í”„ë¡œì íŠ¸ì˜ ì‹œì‘ì ì´ ìˆìœ¼ë‹ˆ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Typescript í”„ë¡œì íŠ¸ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"yarn add typescript @types/node --dev \u0026\u0026 npx tsc --init\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ ëª…ë ¹ì€ /server í´ë” ì•ˆì— tsconfig.json íŒŒì¼ì„ ìƒì„±í–ˆì„ ê²ë‹ˆë‹¤. í•´ë‹¹ íŒŒì¼ì˜ ë‚´ìš©ì„ ì•„ë˜ ì½”ë“œì™€ ê°™ì´ ë³€ê²½í•´ì£¼ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"{\\n  \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"compilerOptions\\\"\"\n        }), \": {\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"target\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"es2016\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"module\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"commonjs\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"rootDir\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./src\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"sourceMap\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"outDir\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./dist\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"esModuleInterop\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"forceConsistentCasingInFileNames\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"strict\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"skipLibCheck\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \"\\n  }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê°€ì¥ ì¤‘ìš”í•œ ì„¤ì •ì€ rootDirì…ë‹ˆë‹¤. ì´ ì„¤ì •ì€ TypeScript ì»´íŒŒì¼ëŸ¬ì—ê²Œ .ts íŒŒì¼ì„ ì–´ë””ì—ì„œ ì°¾ì•„ .js íŒŒì¼ë¡œ ë³€í™˜í•˜ê³  outDirë¡œ ì§€ì •ëœ ë””ë ‰í† ë¦¬ì— ë°°ì¹˜í•´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ ì„œë²„ì— í•„ìš”í•œ ì´ˆê¸° íŒ¨í‚¤ì§€ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ê² ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"yarn add express dotenv cors \u0026\u0026\\\\\\nyarn add @types/express @types/dotenv @types/cors --dev\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"3rd party íŒ¨í‚¤ì§€ì— ëŒ€í•œ íƒ€ì… ì •ì˜ íŒŒì¼ë„ ê°œë°œ ì¢…ì†ì„±ìœ¼ë¡œ ì„¤ì¹˜í–ˆë‹¤ëŠ” ê²ƒì— ìœ ì˜í•˜ì„¸ìš”.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"1.2 Express ì„œë²„ ë§Œë“¤ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë¨¼ì € Express ì„œë²„ì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ìƒì„±í•˜ê³  ë³¸ ê°•ì¢Œë¥¼ í†µí•´ ì´ë¥¼ í™•ì¥í•´ ë‚˜ê°ˆ ê²ƒì…ë‹ˆë‹¤. /server/src ë””ë ‰í† ë¦¬ ì•ˆì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ app.tsì™€ index.tsë¥¼ ìƒì„±í•˜ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"touch app.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \" \u0026\u0026 touch index.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"app.ts ì•ˆì—ëŠ” ì„œë²„ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•˜ê³  ê´€ë ¨ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Express ì•± ê°ì²´ë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. app.tsì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤ (ì´ê²ƒì€ í•´ë‹¹ íŒŒì¼ì˜ ìµœì¢… ì½”ë“œê°€ ì•„ë‹™ë‹ˆë‹¤):\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* app.ts */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì „ì—­ ì¢…ì†ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" * \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" dotenv \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"dotenv\\\"\"\n        }), \";\\ndotenv.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"config\"\n        }), \"(); \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¡œì»¬ .env íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" routes \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./routes\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// express ì•± ì„¤ì •\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" express \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"express\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" app = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"express\"\n        }), \"();\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¯¸ë“¤ì›¨ì–´\"\n        }), \"\\napp.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(express.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"());\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¼ìš°íŠ¸\"\n        }), \"\\napp.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(routes);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" app;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"index.tsì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ SERVER_PORT í™˜ê²½ ë³€ìˆ˜ë¡œ ì§€ì •ëœ í¬íŠ¸ì—ì„œ express ì„œë²„ë¥¼ ì‹¤í–‰í•  ê²ƒì…ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* index.ts */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" app \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./app\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"SERVER_PORT\"\n        }), \" } = process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì•±ì´ listeningì¤‘\"\n        }), \"\\napp.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"listen\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"SERVER_PORT\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"info\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`ì•±ì´ í¬íŠ¸ \", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"${SERVER_PORT}\"\n          }), \"ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤`\"]\n        }), \");\\n});\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Gitì—ì„œ ë¬´ì‹œë  ìˆ˜ ìˆëŠ” .env íŒŒì¼ì— í”„ë¡œì íŠ¸ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ê´€í–‰ì…ë‹ˆë‹¤. ì´ íŒŒì¼ì€ /serverí´ë”ì— ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤:```\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"# .\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"SERVER_PORT\"\n        }), \"=\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"8000\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìµìŠ¤í”„ë ˆìŠ¤ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ /server í´ë” ë‚´ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"rm -rf ./dist \u0026\u0026 npx tsc \u0026\u0026 cp .\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \" ./dist/.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \" \u0026\u0026 cd ./dist \u0026\u0026 node index.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"js\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ ëª…ë ¹ì€ ë¨¼ì € ./dist ë””ë ‰í† ë¦¬ë¥¼ ì œê±°í•˜ê³ , ./src ë””ë ‰í† ë¦¬ì— ìˆëŠ” ëª¨ë“  ì½”ë“œë¥¼ íƒ€ì… í™•ì¸í•˜ê³  ./dist ë””ë ‰í† ë¦¬ ë‚´ì˜ JavaScriptë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì»´íŒŒì¼ ë‹¨ê³„ê°€ ì™„ë£Œë˜ë©´ .env íŒŒì¼ì´ ./dist ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬ë˜ì–´ ì„œë²„ë¥¼ node index.jsë¡œ ì‹¤í–‰í•  ë•Œ í™˜ê²½ ë³€ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. ë§¤ë²ˆ ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì€ ì§€ë£¨í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ server/package.json ë‚´ì— ëª‡ ê°€ì§€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ì–´ í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¨ìˆœí™”í•˜ê² ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"\\n\\n\\n```json\\n{\\n  \\\"name\\\": \\\"server\\\",\\n  \\\"version\\\": \\\"1.0.0\\\",\\n  \\\"description\\\": \\\"\\\",\\n  \\\"main\\\": \\\"index.js\\\",\\n  \\\"scripts\\\": {\\n    \\\"build\\\": \\\"npx tsc \u0026\u0026 cp .env ./dist/.env\\\",\\n    \\\"start\\\": \\\"rm -rf ./dist \u0026\u0026 yarn build \u0026\u0026 cd ./dist \u0026\u0026 node index.js\\\"\\n  },\\n  \\\"author\\\": \\\"\\\",\\n  \\\"license\\\": \\\"ISC\\\",\\n  \\\"devDependencies\\\": {\\n    \\\"@types/cors\\\": \\\"^2.8.13\\\",\\n    \\\"@types/dotenv\\\": \\\"^8.2.0\\\",\\n    \\\"@types/express\\\": \\\"^4.17.15\\\",\\n    \\\"@types/node\\\": \\\"^18.11.18\\\",\\n    \\\"typescript\\\": \\\"^4.9.4\\\"\\n  },\\n  \\\"dependencies\\\": {\\n    \\\"cors\\\": \\\"^2.8.5\\\",\\n    \\\"dotenv\\\": \\\"^16.0.3\\\",\\n    \\\"express\\\": \\\"^4.18.2\\\"\\n  }\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ start ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì„œë²„ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-bash\",\n        children: \"yarn start\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2_2.png\",\n        alt: \"ì´ë¯¸ì§€\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"\\n\\n\\nì„œë²„ í”„ë¡œì íŠ¸ê°€ ì´ì œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ë°±ì—”ë“œ ì¸ì¦ ë° ê¶Œí•œ ì‹œìŠ¤í…œ ì„¤ì • ê³¼ì •ì„ ë³´ì—¬ë“œë¦´ ê²ƒì…ë‹ˆë‹¤.\\n\\n## 1.3 ì‚¬ìš©ì ë°ì´í„° ì œê³µì\\n\\në°ì´í„° ì €ì¥ ë ˆì´ì–´ëŠ” ì¸ì¦ ì‹œìŠ¤í…œì— í•„ìˆ˜ì ì…ë‹ˆë‹¤. ìƒˆ ì‚¬ìš©ìê°€ ìƒì„±ë  ë•Œ, ê·¸ë“¤ì˜ ë°ì´í„°ëŠ” ìœ ì§€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ë‚˜ì¤‘ì— ë¡œê·¸ì¸í•  ë•Œ ì‚¬ìš©ìê°€ ì œì¶œí•œ ìê²© ì¦ëª…ì„ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´ì„œ, ì‚¬ìš©ì ë°ì´í„° ì €ì¥ì„ ìœ„í•´ ì¸ë©”ëª¨ë¦¬ ì €ì¥ì„ êµ¬í˜„í•  ê²ƒì´ì§€ë§Œ, ë‚˜ì¤‘ì— ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¡œ êµ¬í˜„ì„ êµì²´í•˜ëŠ” ê²ƒì´ ì‰½ë„ë¡ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.\\n\\n/server/src/data_providers í´ë”ë¥¼ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ ì¸í„°í˜ì´ìŠ¤ IDataProviderë¥¼ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.\\n\\n\\n\\n```js\\n// server/src/data_providers/IDataProvider.ts\\n\\nexport default interface IDataProvider\u003cResource\u003e {\\n  createData: (resource: Resource) =\u003e Promise\u003cvoid\u003e;\\n  readData: (args: {id: string, matchField: string}) =\u003e Promise\u003cResource\u003e;\\n  updateData: (args: {id: string, resource: Resource}) =\u003e Promise\u003cvoid\u003e;\\n  deleteData: (id: string) =\u003e Promise\u003cvoid\u003e;\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ì¸í„°í˜ì´ìŠ¤ëŠ” ì¼ë°˜ì ì¸ CRUD ì‘ì—…ì„ ë‚˜íƒ€ë‚´ëŠ” ë„¤ ê°€ì§€ ë©”ì„œë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ë©”ì„œë“œë“¤ì€ Resource íƒ€ì…ì˜ ì¼ë°˜ì ì¸ ê°’ì„ ì†Œë¹„í•˜ê±°ë‚˜ ë°˜í™˜í•©ë‹ˆë‹¤. IDataProviderì˜ InMemoryDataProvider êµ¬í˜„ì€ ì•„ë˜ì™€ ê°™ì´ ë³´ì—¬ì§‘ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// server/src/data_providers/InMemoryDataProvider.ts\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"IDataProvider\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./IDataProvider\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"InMemoryDataProvider\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Resource\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"extends\"\n        }), \" {\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"id\"\n        }), \": string, \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"data\"\n        }), \": any}\u003e implements \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"IDataProvider\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Resource\"\n        }), \"\u003e {\\n  private \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"_data\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Resource\"\n        }), \"[];\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"constructor\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_data\"\n        }), \" = [];\\n  };\\n\\n  public \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"createData\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"resource: Resource\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"push\"\n        }), \"(resource);\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \";\\n  }\\n\\n  public \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"readData\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"args: {id: string, matchField: string}\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"filter\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"x\"\n          }), \" =\u003e\"]\n        }), \" x.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \"[args.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"matchField\"\n        }), \"] === args.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"id\"\n        }), \")[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"];\\n  };\\n\\n  public \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"updateData\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"props: { id: string; resource: Resource; }\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" {id, resource} = props;\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" datum \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"of\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_data\"\n        }), \") {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \"(datum.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"id\"\n        }), \" === id) {\\n        datum.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \" = resource.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \";\\n      }\\n    }\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \";\\n  };\\n\\n  public \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"deleteData\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"id: string\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_data\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"filter\"\n        }), \"(\", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"datum\"\n          }), \" =\u003e\"]\n        }), \" datum.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"id\"\n        }), \" !== id);\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \";\\n  };\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"InMemoryDataProviderëŠ” IDataProviderì—ì„œ ì •ì˜ëœ ê³µê°œ ë©”ì„œë“œë¥¼ ì—„ê²©í•˜ê²Œ êµ¬í˜„í•©ë‹ˆë‹¤. ì‹¤ì œ ë°ì´í„° ì €ì¥ì†ŒëŠ” InMemoryDataProvider í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì— íŠ¹ì •í•œ private _data ë°°ì—´ ì†ì„±ì…ë‹ˆë‹¤. InMemoryDataProviderì˜ generic íƒ€ì…ì€ Resourceì´ë©° 'id: string, data: any'ë¥¼ í™•ì¥í•˜ì˜€ê¸° ë•Œë¬¸ì— ì…ë ¥ ìì›ì€ id ë° ë°ì´í„°ë¥¼ í¬í•¨í•˜ê³  ê¸°íƒ€ ì†ì„±ì„ ì¶”ê°€ë¡œ ê°€ì ¸ì•¼í•©ë‹ˆë‹¤. TypeScriptì˜ ì´ ì¸í„°í˜ì´ìŠ¤ ì¤‘ì‹¬ì  ì ‘ê·¼ì˜ ì¥ì ì€ IDataProvider ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¤€ìˆ˜í•œë‹¤ë©´ ë°ì´í„° ì €ì¥ì†Œë¥¼ ë‹¤ë¥¸ êµ¬í˜„ì²´ë¡œ ì‰½ê²Œ êµì²´í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤(ì˜ˆ: SQL ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©).```\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‚¬ìš©ì ê´€ë ¨ ë°ì´í„°ì—ì„œ CRUD ì‘ì—…ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë°ì´í„° ì•¡ì„¸ìŠ¤ ê³„ì¸µì—ì„œ ë¶„ë¦¬í•˜ëŠ” ì‚¬ìš©ì ì €ì¥ì†Œë¥¼ ì¶”ê°€ë¡œ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì €, ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ëœ ì¶”ìƒí™” Repositoryë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ RepositoryëŠ” ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ ìœ í˜•ì—ì„œ í™•ì¥ë  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// server/src/repositories/Repository.ts\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"IDataProvider\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../data_providers/IDataProvider\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Repository\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Resource\"\n        }), \"\u003e {\\n  protected \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"_provider\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"IDataProvider\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Resource\"\n        }), \"\u003e;\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"constructor\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"args: {provider: IDataProvider\u003cResource\u003e}\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_provider\"\n        }), \" = args.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"provider\"\n        }), \";\\n  };\\n\\n  public \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"get\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"provider\"\n        }), \"(): \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"IDataProvider\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Resource\"\n        }), \"\u003e {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_provider\"\n        }), \";\\n  }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Repositoryì—ì„œ íŒŒìƒëœ í´ë˜ìŠ¤ëŠ” ë°ì´í„° ì•¡ì„¸ìŠ¤ ê³„ì¸µì„ í˜•ì„±í•˜ëŠ” IDataProviderë¥¼ êµ¬í˜„í•˜ëŠ” ì œê³µì(provider)ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  UserRepository í´ë˜ìŠ¤ëŠ” Repositoryë¥¼ í™•ì¥í•˜ê³  ì‚¬ìš©ì ë°ì´í„°ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ìì²´ public ë©”ì„œë“œë¥¼ ê°–ìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ ìì„¸íˆ ì‚´í´ë´…ì‹œë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// server/src/repositories/UserRepository.ts\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"IDataProvider\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../data_providers/IDataProvider\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Repository\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./Repository\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { randomUUID } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"crypto\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"InMemoryDataProvider\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../data_providers/InMemoryDataProvider\\\"\"\n        }), \";\\n\\ntype \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserData\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": string,\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": string,\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"password\"\n        }), \": string,\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"createdAt\"\n        }), \": string,\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"updatedAt\"\n        }), \": string\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserResource\"\n        }), \" {\\n  private \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"_id\"\n        }), \": string;\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"constructor\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"private _data: UserData\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_id\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"randomUUID\"\n        }), \"();\\n  };\\n\\n  public \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"get\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"id\"\n        }), \"(): string {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_id\"\n        }), \";\\n  }\\n\\n  public \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"get\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"data\"\n        }), \"(): \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserData\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"_data\"\n        }), \";\\n  }\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserRepository\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"extends\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_ inherited__\",\n          children: \"Repository\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserResource\"\n        }), \"\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"constructor\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"args: {provider: IDataProvider\u003cUserResource\u003e}\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"super\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"provider\"\n        }), \": args.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"provider\"\n        }), \"});\\n  }\\n\\n  public \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"createUser\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"user: UserResource\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"provider\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"createData\"\n        }), \"(user);\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \";\\n  }\\n\\n  public \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getUserBy\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"args: {id: string, matchField: string}\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"provider\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"readData\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"id\"\n        }), \": args.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"id\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"matchField\"\n        }), \": args.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"matchField\"\n        }), \"});\\n  }\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" dataProvider = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"InMemoryDataProvider\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserResource\"\n        }), \"\u003e();\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" userRepository = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserRepository\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"provider\"\n        }), \": dataProvider});\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" userRepository;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‚¬ìš©ì ë°ì´í„°ì˜ êµ¬ì¡°ëŠ” UserData ìœ í˜•ì— ì˜í•´ ì •ì˜ë˜ë©°, ë¦¬ì†ŒìŠ¤ êµ¬ì¡°ëŠ” UserResource í´ë˜ìŠ¤ì— ì˜í•´ ì •ì˜ë©ë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ëŠ” id ë° data ê³µê°œ ì†ì„±ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, creatUser ë° getUserBy ë©”ì„œë“œëŠ” ë°ì´í„° ì•¡ì„¸ìŠ¤ ë ˆì´ì–´ì™€ ìƒí˜¸ ì‘ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ê³  ì“°ê¸° ìœ„í•´ IDataProviderì˜ êµ¬í˜„ì„ í†µí•´ ì‚¬ìš©ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì°¸ê³ : ìš°ë¦¬ëŠ” InMemoryDataProviderì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ UserRepositoryì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë‚˜ì¤‘ì— ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ë ¤ë©´, InMemoryDataProvider ëŒ€ì‹  IDataProvider ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ì œ UserRepositoryë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ API ì—”ë“œí¬ì¸íŠ¸ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë…¼ë¦¬ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì„¤ëª…ë  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"1.3 ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ì„ ìœ„í•œ ë¼ìš°íŠ¸\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‹¤ìŒìœ¼ë¡œ, express ë¼ìš°íŠ¸ë¥¼ ëª¨ë‘ ë³´ê´€í•  í´ë”ë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"yarn add bcrypt jwt \u0026\u0026\\\\\\nyarn add @types/bcrypt @types/jwt --dev \u0026\u0026\\\\\\ncd server/src \u0026\u0026\\\\\\nmkdir routes \u0026\u0026\\\\\\ncd ./routes \u0026\u0026\\\\\\ntouch index.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \" user.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì•Œë¦¼: ì¶”ê°€ì ìœ¼ë¡œ npm íŒ¨í‚¤ì§€ bcrypt ë° jwtë¥¼ ì„œë²„ í”„ë¡œì íŠ¸ ë‚´ì— ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•”í˜¸í™”í•˜ëŠ” ë° bcryptë¥¼ ì‚¬ìš©í•˜ê³ , ì„±ê³µì ì¸ ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì— ë°˜í™˜ë  ì¸ì¦ í† í°ì„ ìƒì„±í•˜ê¸° ìœ„í•´ jwtë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. /server ë‚´ë¶€ì˜ í´ë” êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"/server\\n  |__ /src\\n      |__ ...\\n      |__ /routes\\n        |__ index.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n        |__ user.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"index.ts ë‚´ì—ì„œëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ëª¨ë“  ê°€ëŠ¥í•œ ê²½ë¡œë¥¼ í¬í•¨í•˜ëŠ” ì¤‘ì•™ ë¼ìš°í„°ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤. í˜„ì¬ëŠ” ë“±ë¡ ë° ë¡œê·¸ì¸ì„ ìœ„í•œ íŠ¹ì • /user ê²½ë¡œë§Œ ê°€ì§ˆ ê²ƒì…ë‹ˆë‹¤.```\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// server/src/routes/index.ts\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì „ì—­ ì¢…ì†ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Router\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"express\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" router = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Router\"\n        }), \"();\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" userRoute \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./user\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// APIì— ëŒ€í•œ ëª¨ë“  ë¼ìš°íŠ¸\"\n        }), \"\\nrouter.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/user\\\"\"\n        }), \", userRoute);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" router;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"userRouteëŠ” ë‹¤ìŒê³¼ ê°™ì´ user.tsì— êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// server/src/routes/user.ts\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì „ì—­ ì¢…ì†ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"ENCRYPTION_KEY\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AUTH_TOKEN_KEY\"\n        }), \" } = process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" {\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Router\"\n        }), \"} \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'express'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" userRoute = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Router\"\n        }), \"();\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" bcrypt \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'bcrypt'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" jwt \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'jsonwebtoken'\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" {\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserResource\"\n        }), \"} \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'../repositories/UserRepository'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { validateHasParameters, validateEmailFormat, validatePasswordLength } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../middleware/validation\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" userRepository \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'../repositories/UserRepository'\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/**\\n * ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ë° ì´ë¦„ì„ ì…ë ¥í•˜ì—¬ ì‚¬ìš©ì ë“±ë¡\\n */\"\n        }), \"\\nuserRoute.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"post\"\n        }), \"(\\n  \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/register\\\"\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validateHasParameters\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"email\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"password\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"name\\\"\"\n        }), \"),\\n  validateEmailFormat,\\n  validatePasswordLength,\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (req, res) =\u003e {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { name, email, password } = req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \";\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" userExist = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" userRepository.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getUserBy\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"id\"\n        }), \": email, \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"matchField\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'email'\"\n        }), \"});\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (userExist) {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"409\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"User already exist\\\"\"\n        }), \" });\\n      }\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" date = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Date\"\n        }), \"().\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toISOString\"\n        }), \"();\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" passwordHash = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" bcrypt.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"hash\"\n        }), \"(password, \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"ENCRYPTION_KEY\"\n        }), \"!);\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì‚¬ìš©ì ì •ë³´ì™€ ë§Œë£Œ ë‚ ì§œë¡œ ì¸ì¦ í† í° ìƒì„±\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" userData = {\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": name,\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": email,\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"password\"\n        }), \": passwordHash,\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"createdAt\"\n        }), \": date,\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"updatedAt\"\n        }), \": date,\\n      };\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" newUser = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserResource\"\n        }), \"(userData);\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì‚¬ìš©ì ë°ì´í„° ì €ì¥\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" userRepository.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"createUser\"\n        }), \"(newUser);\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" jwtOptions = {\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"expiresIn\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'24h'\"\n        }), \",  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 24ì‹œê°„ í›„ í† í° ë§Œë£Œ\"\n        }), \"\\n      };\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" authToken = jwt.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"sign\"\n        }), \"(newUser.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AUTH_TOKEN_KEY\"\n        }), \"!, jwtOptions);\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"200\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"success\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \",\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user\"\n        }), \": {\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user_id\"\n        }), \": newUser.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"id\"\n        }), \",\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": newUser.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"email\"\n        }), \",\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": newUser.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"name\"\n        }), \",\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"auth_token\"\n        }), \": authToken,\\n        },\\n      });\\n    } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (error) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(error);\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"500\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"`ë‚´ë¶€ ì˜¤ë¥˜`\"\n        }), \" });\\n    }\\n  }\\n);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/**\\n * ì…ë ¥ëœ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ë¡œê·¸ì¸ ì„¸ì…˜ ì¸ì¦\\n */\"\n        }), \"\\nuserRoute.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"post\"\n        }), \"(\\n  \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/login\\\"\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validateHasParameters\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"email\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"password\\\"\"\n        }), \"),\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (req, res) =\u003e {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { email, password } = req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \";\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì‚¬ìš©ì ì¡´ì¬ ì—¬ë¶€ ë° ì œê³µëœ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸\"\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" user = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" userRepository.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getUserBy\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"id\"\n        }), \": email, \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"matchField\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'email'\"\n        }), \"});\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" userExists = !!user;\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" passwordCorrect = userExists \u0026\u0026 (\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" bcrypt.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"compare\"\n        }), \"(password, user.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"password\"\n        }), \"));\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \"(userExists \u0026\u0026 passwordCorrect) {\\n\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" jwtOptions = {\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"expiresIn\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'24h'\"\n        }), \",  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// 24ì‹œê°„ í›„ í† í° ë§Œë£Œ\"\n        }), \"\\n        };\\n\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" authToken = jwt.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"sign\"\n        }), \"(user.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AUTH_TOKEN_KEY\"\n        }), \"!, jwtOptions);\\n\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"200\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"success\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \",\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user\"\n        }), \": {\\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user_id\"\n        }), \": user.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"id\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": user.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"email\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": user.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"name\"\n        }), \",\\n            \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"auth_token\"\n        }), \": authToken,\\n          },\\n        });\\n      }\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"400\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'ì˜ëª»ëœ ì¸ì¦ ì •ë³´'\"\n        }), \"});\\n    } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (error) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"console\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"error\"\n        }), \"(error);\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"500\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"`ì„œë²„ ì˜¤ë¥˜`\"\n        }), \" });\\n    }\\n  }\\n);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" userRoute;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"POST /user/register ì—”ë“œí¬ì¸íŠ¸ì—ì„œëŠ” ìš”ì²­ ë³¸ë¬¸ì— ì´ë¦„, ì´ë©”ì¼ ë° ë¹„ë°€ë²ˆí˜¸ ì„¸ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì´ë©”ì¼ì„ í†µí•´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œ í›„, ì°¸ì´ë©´ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì €ì¥ì„ ìœ„í•´ ì‚¬ìš©ì ê´€ë ¨ ë°ì´í„° userDataë¥¼ ìƒì„±í•˜ë©°, ì œê³µëœ ë¹„ë°€ë²ˆí˜¸ëŠ” ì´ì „ì— ì„¤ì¹˜í•œ bcryptë¥¼ ì‚¬ìš©í•˜ì—¬ ENCRYPTION_KEYë¡œ ì•”í˜¸í™”ë©ë‹ˆë‹¤. ì‚¬ìš©ì ë°ì´í„°ì˜ ì§€ì†ì„±ì€ userRepository.createUserë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•˜ë©°, ì‚¬ìš©ì ìƒì„±ì´ ì„±ê³µí•˜ë©´ 24ì‹œê°„ ë§Œë£Œ ê¸°ê°„ì´ ìˆëŠ” JWT í† í°ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. JWT í† í°ì€ ì´ì „ì— ì„¤ì¹˜í•œ jwtë¥¼ ì‚¬ìš©í•˜ì—¬ AUTH_TOKEN_KEYë¡œ ì„œëª…ë˜ë©° ì‚¬ìš©ì ê´€ë ¨ ë°ì´í„°ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ê°€ ì„œë²„ ì‘ë‹µì„ ë°›ìœ¼ë©´ ì´ JWT í† í°ì´ í”„ë¡ íŠ¸ì—”ë“œì— ì €ì¥ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"\\n\\n\\nPOST /user/login ì—”ë“œí¬ì¸íŠ¸ì—ì„œëŠ” ìš”ì²­ ë³¸ë¬¸ ë‚´ emailê³¼ password ì„¸ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë¨¼ì € ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì œê³µëœ ë¹„ë°€ë²ˆí˜¸ê°€ í•´ë‹¹ ì‚¬ìš©ì ì´ë©”ì¼ì— ëŒ€í•´ ì°¾ì€ ë³µí˜¸í™”ëœ ë¹„ë°€ë²ˆí˜¸ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì„±ê³µì ì¸ ì‚¬ìš©ì ìœ íš¨ì„± ê²€ì‚¬ í›„, ë™ì¼í•œ JWT ì„œëª… í”„ë¡œì„¸ìŠ¤ê°€ ë°˜ë³µë©ë‹ˆë‹¤.\\n\\n/register ë° /login ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ì‚¬ìš©ì ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬ìš© ë¯¸ë“¤ì›¨ì–´ë„ êµ¬í˜„í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ì„ ê²ë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ /middleware ë””ë ‰í† ë¦¬ì™€ ê·¸ ì•ˆì— validation.ts íŒŒì¼ì„ ìƒì„±í•´ ë³´ì„¸ìš”.\\n\\n```js\\ncd server/src \u0026\u0026\\\\\\nmkdir middleware \u0026\u0026\\\\\\ntouch validation.ts\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"validation.ts íŒŒì¼ì—ì„œëŠ” ì‚¬ìš©ì ì…ë ¥ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ë“¤ì„ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// server/src/middleware/validation.ts\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"NextFunction\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Request\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Response\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"express\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validateHasParameters\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"...args: string[]\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"req: Request, res: Response, next: NextFunction\"\n          }), \") =\u003e\"]\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" body = req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \";\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"let\"\n        }), \" valid = \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \";\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" arg \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"of\"\n        }), \" args) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (body[arg] === \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"undefined\"\n        }), \") {\\n        res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"403\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": arg + \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\" not specified\\\"\"\n        }), \" });\\n        valid = \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \";\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"break\"\n        }), \";\\n      }\\n    }\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (valid) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"next\"\n        }), \"();\\n    }\\n  };\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validatePasswordLength\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"req: Request, res: Response, next: NextFunction\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { password } = req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \";\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (!!password \u0026\u0026 password.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"length\"\n        }), \" \u003e \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"7\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"next\"\n        }), \"();\\n  } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" {\\n    res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"403\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"The password provided is not valid\\\"\"\n        }), \" });\\n  }\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validateEmailFormat\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"req: Request, res: Response, next: NextFunction\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { email } = req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"body\"\n        }), \";\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" re =\\n    \", _jsx(_components.span, {\n          className: \"hljs-regexp\",\n          children: \"/^(([^\u003c\u003e()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+(\\\\.[^\u003c\u003e()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+)*)|(\\\".+\\\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$/\"\n        }), \";\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (!!email \u0026\u0026 re.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"test\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"String\"\n        }), \"(email).\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toLowerCase\"\n        }), \"())) {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"next\"\n        }), \"();\\n  } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" {\\n    res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"403\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"The email provided is not valid\\\"\"\n        }), \" });\\n  }\\n};\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"validateHasParameterì€ ëª¨ë“  POST ìš”ì²­ì— ì‚¬ìš©ë˜ë©° íŠ¹ì • ë§¤ê°œë³€ìˆ˜ê°€ ì œì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. validatePasswordLength ë° validateEmailFormat ë¯¸ë“¤ì›¨ì–´ëŠ” /user/register ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ìš”ì²­ì— ëŒ€í•´ ìœ íš¨í•œ ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´ì™€ ì´ë©”ì¼ í˜•ì‹ì„ ë³´ì¥í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§ˆì§€ë§‰ìœ¼ë¡œ, app.tsì—ì„œ routesë¥¼ ì‚¬ìš©í•˜ì—¬ ë£¨í„°ë¥¼ express ì•±ì— ì—°ê²°í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ì— í‘œì‹œëœëŒ€ë¡œ routesë¥¼ íŒŒì¼ ë§¨ ìœ„ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì— ìœ ì˜í•˜ì‹­ì‹œì˜¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* app.ts */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì „ì—­ ì¢…ì†ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" * \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" dotenv \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"dotenv\\\"\"\n        }), \";\\ndotenv.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"config\"\n        }), \"(); \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¡œì»¬ .env íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ ì´ˆê¸°í™”\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" routes \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./routes\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// express ì•± ì„¤ì •\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" express \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"express\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" app = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"express\"\n        }), \"();\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¯¸ë“¤ì›¨ì–´\"\n        }), \"\\napp.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(express.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"());\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¼ìš°í„°\"\n        }), \"\\napp.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(routes);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" app;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ ì‚¬ìš©ìê°€ ë°©ê¸ˆ ë§Œë“  ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë“±ë¡í•˜ê³  ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ì„œë²„ ì¸¡ì—ì„œ ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì‚¬ìš©ì ê¶Œí•œ ì¶”ì ì„ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"1.4 ì‚¬ìš©ì ê¶Œí•œ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‚¬ìš©ì ê¶Œí•œì€ ì¸ì¦ëœ ì‚¬ìš©ìê°€ ë³´í˜¸ëœ ì„œë²„ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ê³  ì‹œë„í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ” ì‚¬ìš©ì ë“±ë¡ ë˜ëŠ” ë¡œê·¸ì¸ ì´ë²¤íŠ¸ì—ì„œ ìƒì„±ëœ í† í°ì´ ì‚¬ìš©ì ë¸Œë¼ìš°ì € ì„¸ì…˜ì—ì„œ ì‹œì‘ëœ ëª¨ë“  ìš”ì²­ì— ì²¨ë¶€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. í† í°ì€ ê° ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì € ì„¸ì…˜ì—ì„œ ì‚¬ìš©ëœ AUTH_TOKEN_KEYì™€ ê°™ì€ ê²ƒìœ¼ë¡œ í™•ì¸ë  ê²ƒì…ë‹ˆë‹¤. ì•ìœ¼ë¡œ í† í°ì´ ìš”ì²­ê³¼ í•¨ê»˜ ì „ë‹¬ë˜ëŠ” ë°©ë²•ì„ ë‚˜ì¤€ì— ë‹¤ë£° ê²ƒì´ë©°, ì§€ê¸ˆì€ ì„œë²„ ì¸¡ì—ì„œ ë¯¸ë“¤ì›¨ì–´ ì‚¬ìš©ì ê¶Œí•œì„ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì„œë²„/src/middleware ë””ë ‰í† ë¦¬ ì•ˆì— auth.tsë¼ëŠ” ì¶”ê°€ íŒŒì¼ì„ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"cd server/src/middleware \u0026\u0026 touch auth.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"auth.ts íŒŒì¼ ì•ˆì—ëŠ” ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ê°€ë¡œì±„ê³  í† í° ìœ íš¨ì„± ê²€ì‚¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ìˆ˜í–‰í•˜ëŠ” checkAuthToken ë¯¸ë“¤ì›¨ì–´ë¥¼ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// server/src/middleware/auth.ts\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì „ì—­ ì˜ì¡´ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" jwt, { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"JwtPayload\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'jsonwebtoken'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AUTH_TOKEN_KEY\"\n        }), \" } = process.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"env\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í”„ë¡œì íŠ¸ ì˜ì¡´ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" userRepository \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'../repositories/UserRepository'\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"checkAuthToken\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"req: any, res: any, next: any\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" auth_token = req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"headers\"\n        }), \"[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"x-access-token\\\"\"\n        }), \"] \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" string;\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (!auth_token) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"throw\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Unauthorized'\"\n        }), \");\\n    }\\n\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" decodedUserInfo = jwt.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"verify\"\n        }), \"(auth_token, \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"AUTH_TOKEN_KEY\"\n        }), \"!) \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"JwtPayload\"\n        }), \";\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" user = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" userRepository.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getUserBy\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"id\"\n        }), \": decodedUserInfo.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"email\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"matchField\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'email'\"\n        }), \" });\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \"(!user) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"throw\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Unauthorized'\"\n        }), \");\\n    }\\n\\n    req.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"user\"\n        }), \" = {...user.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \", ...decodedUserInfo};\\n  } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (error) {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"403\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Unauthorized'\"\n        }), \"});\\n  }\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"next\"\n        }), \"();\\n};\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"í™•ì¸í•  í† í°ì€ ìš”ì²­ í—¤ë” X-ACCESS-TOKEN ì•ˆì— í¬í•¨ë  ê²ƒì…ë‹ˆë‹¤. ì¶”ì¶œëœ í† í°ì€ AUTH_TOKEN_KEYë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ì¦ë˜ë©°, í•´ë‹¹ ë°ì´í„° í˜ì´ë¡œë“œëŠ” decodedUserInfoì— í• ë‹¹ë  ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì œì¶œëœ í† í°ì˜ ìœ íš¨ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ë°ì´í„° ì €ì¥ì†Œì— ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ ì¶”ê°€ë¡œ í™•ì¸í•  ê²ƒì…ë‹ˆë‹¤. í† í° ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•˜ë©´ 403 ì˜¤ë¥˜ 'Unauthorized' ë©”ì‹œì§€ë¡œ ì‘ë‹µí•  ê²ƒì…ë‹ˆë‹¤.```\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¸ì¦ ë…¼ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ë³´í˜¸ëœ ì„œë²„ ë¦¬ì†ŒìŠ¤ë¥¼ í‰ë‚´ ë‚´ëŠ” ë”ë¯¸ /resource API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¨¼ì € ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ resource.ts íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"cd server/src/routes \u0026\u0026 touch resource.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"resource.ts íŒŒì¼ì˜ ë‚´ìš©ì€ ê°„ë‹¨í•˜ë©° ë‹¨ì¼ GET ì—”ë“œí¬ì¸íŠ¸ë¡œ êµ¬ì„±ë˜ì–´ ì¼ë¶€ ì •ì  HTMLì„ ë°˜í™˜í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// server/src/routes/resource.ts\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Router\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"express\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" resourceRoute = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Router\"\n        }), \"();\\n\\nresourceRoute.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (req, res) =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" res.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"status\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"200\"\n        }), \").\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"send\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"\u003ch1\u003eYou have successfully access resource!\u003c/h1\u003e\\\"\"\n        }), \");\\n});\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" resourceRoute;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"server/src/routes/index.ts íŒŒì¼ ì•ˆì— /resource ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// server/src/routes/index.ts\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì „ì—­ ì˜ì¡´ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Router\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"express\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" router = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Router\"\n        }), \"();\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" userRoute \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./user\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" resourceRoute \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./resource\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { checkAuthToken } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../middleware/auth\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// APIì— ëŒ€í•œ ëª¨ë“  ë¼ìš°íŠ¸\"\n        }), \"\\nrouter.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/user\\\"\"\n        }), \", userRoute);\\nrouter.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/resource\\\"\"\n        }), \", checkAuthToken, resourceRoute);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" router;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë˜í•œ checkAuthToken ë¯¸ë“¤ì›¨ì–´ë¥¼ importí•˜ê³  /resource ì—”ë“œí¬ì¸íŠ¸ì™€ ì—°ê²°í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í•´ë‹¹ ì—”ë“œí¬ì¸íŠ¸ë¡œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ìš”ì²­ì´ í† í° ê¶Œí•œ ë¶€ì—¬ë¥¼ ìœ„í•´ ìœ íš¨ì„±ì„ ê²€ì‚¬ë°›ë„ë¡ ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"1.5 CORS êµ¬í˜„\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì•ì„œ ë§í•œ íŠœí† ë¦¬ì–¼ì˜ ì œ1ë¶€ì—ì„œëŠ” CORS ê·œì¹™ì´ ì„œë²„ì— ì˜í•´ ì§€ì •ë˜ì–´ íŠ¹ì • ì¶œì²˜ ë„ë©”ì¸ìœ¼ë¡œë¶€í„°ì˜ ìš”ì²­ì„ í—ˆìš©í•  ìˆ˜ ìˆë„ë¡í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì™¸ë¶€ íŒ¨í‚¤ì§€ì¸ corsë¥¼ ì‚¬ìš©í•  ê²ƒì´ë©°, ë”°ë¼ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë¨¼ì € ì„œë²„ í”„ë¡œì íŠ¸ì— ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"cd server \u0026\u0026 yarn add cors \u0026\u0026 yarn add @types/cors --dev\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‹¤ì œ CORS ê·œì¹™ì€ ë‹¤ìŒê³¼ ê°™ì´ ì„œë²„/src/app.tsì—ì„œ ë¯¸ë“¤ì›¨ì–´ë¡œ ì§€ì •ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* app.ts */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// global dependencies\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" * \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" dotenv \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"dotenv\\\"\"\n        }), \";\\ndotenv.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"config\"\n        }), \"(); \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¡œì»¬ .env íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" cors \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"cors\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// project dependencies\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" routes \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./routes\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// express ì•± ì„¤ì •\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" express \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"express\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" app = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"express\"\n        }), \"();\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// CORS ì„¤ì •\"\n        }), \"\\napp.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(\\n  \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/\\\"\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"cors\"\n        }), \"({\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"origin\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì°¸ê³ : ì—¬ê¸°ì„œ ëª¨ë“  ì¶œì²œì„ í—ˆìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"optionsSuccessStatus\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"200\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"preflightContinue\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"methods\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"GET,POST,OPTIONS\\\"\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"credentials\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \",\\n  })\\n);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¯¸ë“¤ì›¨ì–´\"\n        }), \"\\napp.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(express.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"());\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¼ìš°íŠ¸\"\n        }), \"\\napp.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"use\"\n        }), \"(routes);\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" app;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê°€ì¥ ì¤‘ìš”í•œ ì„¤ì •ì€ origin: trueë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì„¤ì •ì€ ëª¨ë“  ë„ë©”ì¸ì—ì„œì˜ ìš”ì²­ì„ í—ˆìš©í•©ë‹ˆë‹¤. ì´ ì„¤ì •ì€ ë¡œì»¬ ê°œë°œì— ì¶©ë¶„í•˜ì§€ë§Œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” í”„ë¡œì íŠ¸ë³„ ë„ë©”ì¸ ëª©ë¡ì—ì„œ ìš”ì²­ì„ í—ˆìš©í•´ì•¼ í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ ì„œë²„ì— í•„ìš”í•œ ëª¨ë“  ì‘ì—…ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒì—ëŠ” ì‚¬ìš©ìê°€ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ í”„ë¡ íŠ¸ì—”ë“œ ë¡œê·¸ì¸ í¼ì„ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"2. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì„¤ì •\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"2.1 ì¢…ì†ì„± ì„¤ì¹˜\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ ìš°ë¦¬ëŠ” React ì½”ë“œë¥¼ í˜¸ìŠ¤íŒ…í•˜ê¸° ìœ„í•´ ./authentication-and-authorization í´ë”ì— ë³„ë„ì˜ í´ë”ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"mkdir ui \u0026\u0026 cd ui\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"/ui ë””ë ‰í† ë¦¬ ë‚´ì—ì„œ Typescriptë¥¼ í™œì„±í™”í•œ React í”„ë¡œì íŠ¸ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-js\",\n        children: \"yarn create react-app ./ --template typescript\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì„¤ì¹˜ í”„ë¡œì„¸ìŠ¤ê°€ ì™„ë£Œë˜ë©´ '/ui' í´ë” ë‚´ ë¶ˆí•„ìš”í•œ íŒŒì¼ë“¤ì„ ì •ë¦¬í•˜ê³  ì•„ë˜ì— í‘œì‹œëœ ë””ë ‰í† ë¦¬ì™€ ë™ì¼í•˜ê²Œ ë³´ì´ë„ë¡ ì¡°ì •í•  ê²ƒì…ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"/ui\\n  |__ /node_modules\\n      |__ ...\\n  |__ /public\\n      |__ favicon.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ico\"\n        }), \"\\n      |__ index.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"html\"\n        }), \"\\n      |__ logo192.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"png\"\n        }), \"\\n      |__ logo512.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"png\"\n        }), \"\\n      |__ manifest.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"json\"\n        }), \"\\n      |__robots.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"txt\"\n        }), \"\\n  |__ /src\\n      |__ \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"App\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"css\"\n        }), \"\\n      |__ \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"App\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \"\\n      |__ index.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"css\"\n        }), \"\\n      |__ index.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \"\\n      |__ react-app-env.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"d\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n  |__ .\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"gitignore\"\n        }), \"\\n  |__ package.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"json\"\n        }), \"\\n  |-- \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"README\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"md\"\n        }), \"\\n  |__ tsconfig.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"json\"\n        }), \"\\n  |__ yarn.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"lock\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"index.tsxì™€ App.tsxì—ì„œ ë¶ˆí•„ìš”í•œ ì½”ë“œì™€ ì˜ëª»ëœ importë¥¼ ì œê±°í•˜ì—¬ ì•„ë˜ì— í‘œì‹œëœ íŒŒì¼ê³¼ ë™ì¼í•˜ê²Œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* index.tsx */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ReactDOM\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react-dom/client'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'./index.css'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"App\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'./App'\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" root = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ReactDOM\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"createRoot\"\n        }), \"(\\n  \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getElementById\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'root'\"\n        }), \") \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"HTMLElement\"\n        }), \"\\n);\\nroot.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"render\"\n        }), \"(\\n  \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"React.StrictMode\"\n            }), \"\u003e\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"App\"\n            }), \" /\u003e\"]\n          }), \"\\n  \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"React.StrictMode\"\n            }), \"\u003e\"]\n          })]\n        }), \"\\n);\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* App.tsx */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./App.css\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"App\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"App\\\"\"\n            }), \"\u003e\"]\n          }), \"ì•ˆë…•\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \"\u003e\"]\n          })]\n        }), \";\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"App\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¢‹ì€ ì†Œì‹ì€ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ëª¨ë“  ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìœ¼ë©° ì´ì œ ì‹¤ì œ ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤!\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"2.2 ì „ì—­ ì¸ì¦ ìƒíƒœ ê´€ë¦¬\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì‘í•˜ë ¤ë©´ ì¸í„°í˜ì´ìŠ¤ê°€ ì‚¬ìš©ìì˜ ì¸ì¦ ìƒíƒœì— ëŒ€í•´ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ React Contextì™€ useReducer í›…ì„ ì‚¬ìš©í•˜ì—¬ ì „ì—­ ìƒíƒœë¡œ ê´€ë¦¬í•  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì € ui/src/ ì•ˆì— ì „ì—­ ì¸ì¦ ìƒíƒœë¥¼ ìœ„í•œ ìŠ¤í† ì–´ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"\\n\\n\\n```js\\ncd ui/src \u0026\u0026\\\\\\nmkdir store \u0026\u0026\\\\\\ncd store \u0026\u0026 mkdir auth \u0026\u0026\\\\\\ntouch authAction.ts AuthContextProvier.tsx authReducer.ts\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"authAction.tsëŠ” ì‚¬ìš©ìê°€ ì¸í„°í˜ì´ìŠ¤ ë‚´ì—ì„œ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥í•œ ì•¡ì…˜ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/store/auth/authActions.ts */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" enum \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthActionEnum\"\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"LOG_IN\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'LOG_IN'\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"LOG_OUT\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'LOG_OUT'\"\n        }), \",\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" type \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthAction\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"type\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthActionEnum\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"LOG_IN\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"payload\"\n        }), \": {\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"authToken\"\n        }), \": string;\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"userId\"\n        }), \": string;\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": string;\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": string;\\n  }\\n} | {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"type\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthActionEnum\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"LOG_OUT\"\n        }), \",\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"payload\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \",\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"authReducer.ts ë‚´ë¶€ì—ì„œëŠ” ì¸ì¦ ê´€ë ¨ ì•¡ì…˜ì„ í•´ë‹¹ ìƒíƒœë¡œ ë§¤í•‘í•˜ëŠ” ë¦¬ë“€ì„œë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/store/auth/authReducer.ts */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Reducer\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthAction\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./authActions\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" interface \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthState\"\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"isLoggedIn\"\n        }), \": boolean;\\n  authToken?: string;\\n  userId?: string;\\n  name?: string;\\n  email?: string;\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"defaultAuthState\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthState\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"isLoggedIn\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \",\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"authReducer\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Reducer\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthState\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthAction\"\n        }), \"\u003e = \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"state, action\"\n          }), \") =\u003e\"]\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì‚¬ìš©ìê°€ ì„±ê³µì ìœ¼ë¡œ ì¸ì¦ë˜ë©´\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (action.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"type\"\n        }), \" === \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"LOG_IN\\\"\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"localStorage\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setItem\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"user\\\"\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"JSON\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"stringify\"\n        }), \"(action.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"payload\"\n        }), \"));\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" {\\n      ...state,\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"isLoggedIn\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \",\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"authToken\"\n        }), \": action.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"payload\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"authToken\"\n        }), \",\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"userId\"\n        }), \": action.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"payload\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"userId\"\n        }), \",\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": action.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"payload\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"name\"\n        }), \",\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": action.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"payload\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"email\"\n        }), \",\\n    };\\n  }\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (action.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"type\"\n        }), \" === \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"LOG_OUT\\\"\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"localStorage\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"removeItem\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"user\\\"\"\n        }), \");\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" defaultAuthState;\\n  }\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" defaultAuthState;\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" authReducer;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê¸°ë³¸ ìƒíƒœëŠ” falseë¡œ ì„¤ì •ëœ í•˜ë‚˜ì˜ í•„ë“œì¸ isLoggedInìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì¸ì¦ì„ í•œ ë²ˆí•˜ë©´ ë¦¬ë“€ì„œëŠ” LOG_IN ì•¡ì…˜ì„ ì²˜ë¦¬í•˜ê³  ì‚¬ìš©ì ê´€ë ¨ ì •ë³´ë¥¼ localStorageì— ìœ ì§€í•˜ë©° ìƒˆ ì¸ì¦ ìƒíƒœë¥¼ ë°˜í™˜í•˜ì—¬ ë™ì¼í•œ ì •ë³´ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. ì‚¬ìš©ì ì •ë³´ë¥¼ ê³„ì† ìœ ì§€í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ë‚˜ê°€ê³  ë‚˜ì¤‘ì— ë°©ë¬¸í•  ë•Œ ì¸ì¦ ìƒíƒœê°€ ìœ ì§€ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. LOG_OUT ì•¡ì…˜ì€ ë¦¬ë“€ì„œì— ì˜í•´ ì²˜ë¦¬ë˜ì–´ ëª¨ë“  ìƒíƒœ ë° ì €ì¥ëœ ì‚¬ìš©ì ì •ë³´ê°€ ê¸°ë³¸ ê°’ìœ¼ë¡œ ì¬ì„¤ì •ë©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ì œ ì•¡ì…˜ê³¼ ë¦¬ë“€ì„œê°€ ì •ì˜ë˜ì—ˆìœ¼ë¯€ë¡œ AuthContextProvider.tsxì—ì„œ ì „ì²´ ì‘ìš© í”„ë¡œê·¸ë¨ì— ì¸ì¦ ìƒíƒœë¥¼ ì œê³µí•˜ëŠ” ì»¨í…ìŠ¤íŠ¸ ì œê³µì êµ¬ì„± ìš”ì†Œë¥¼ ë§Œë“­ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/store/auth/AuthContextProvider.tsx */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì „ì—­ ê°€ì ¸ì˜¤ê¸°\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \", { createContext, useReducer, useCallback, useEffect } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useNavigate } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react-router-dom\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í”„ë¡œì íŠ¸ ì¢…ì†ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthActionEnum\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./authActions\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" authReducer, { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthState\"\n        }), \", defaultAuthState } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./authReducer\\\"\"\n        }), \";\\n\\ntype \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthProviderProps\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"children\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ReactElement\"\n        }), \",\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" type \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserData\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"authToken\"\n        }), \": string,\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"userId\"\n        }), \": string,\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": string,\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": string,\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" interface \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthContext\"\n        }), \" {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"authState\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthState\"\n        }), \";\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"globalLogInDispatch\"\n        }), \": \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"props: UserData\"\n          }), \") =\u003e\"]\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"void\"\n        }), \";\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"globalLogOutDispatch\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"void\"\n        }), \";\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// Auth ì»¨í…ìŠ¤íŠ¸\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" authCtx =\\n  createContext \u003c\\n  \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthContext\"\n        }), \" \u003e\\n  {\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"authState\"\n        }), \": defaultAuthState,\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"globalLogInDispatch\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" {},\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"globalLogOutDispatch\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" {},\\n  };\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"AuthContextProvider\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"props: AuthProviderProps\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { children } = props;\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [authState, authDispatch] = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useReducer\"\n        }), \"(authReducer, defaultAuthState);\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" navigate = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useNavigate\"\n        }), \"();\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì‚¬ìš©ì ì„¸ë¶€ ì •ë³´ê°€ ì§€ì†ë˜ëŠ”ì§€ í™•ì¸, ëŒ€ë¶€ë¶„ ë¸Œë¼ìš°ì € ìƒˆë¡œ ê³ ì¹¨ì— ëŒ€ì‘\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useEffect\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" user = \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"localStorage\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getItem\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"user\\\"\"\n        }), \");\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (user) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"userData\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"UserData\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"JSON\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"parse\"\n        }), \"(user);\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"authDispatch\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"type\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthActionEnum\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"LOG_IN\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"payload\"\n        }), \": userData });\\n    }\\n  }, []);\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" globalLogInDispatch = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useCallback\"\n        }), \"(\\n    \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"props: UserData\"\n          }), \") =\u003e\"]\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { authToken, email, name, userId } = props;\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"authDispatch\"\n        }), \"({\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"type\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthActionEnum\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"LOG_IN\"\n        }), \",\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"payload\"\n        }), \": {\\n          authToken,\\n          userId,\\n          name,\\n          email,\\n        },\\n      });\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"navigate\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/resource\\\"\"\n        }), \");\\n    },\\n    [navigate]\\n  );\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" globalLogOutDispatch = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useCallback\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"authDispatch\"\n        }), \"({ \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"type\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthActionEnum\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"LOG_OUT\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"payload\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \" });\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"navigate\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/user/login\\\"\"\n        }), \");\\n  }, [navigate]);\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•  ì»¨í…ìŠ¤íŠ¸ ê°’\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" ctx = {\\n    authState,\\n    globalLogInDispatch,\\n    globalLogOutDispatch,\\n  };\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"authCtx.Provider\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"value\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{ctx}\"\n            }), \"\u003e\"]\n          }), \"{children}\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"authCtx.Provider\"\n            }), \"\u003e\"]\n          })]\n        }), \";\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" authCtx;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"AuthContextProvider ì»´í¬ë„ŒíŠ¸ëŠ” authState ë° ê´€ë ¨ ë””ìŠ¤íŒ¨ì¹˜ ë©”ì„œë“œë¥¼ authCtx ì»¨í…ìŠ¤íŠ¸ ë‚´ì˜ ëª¨ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì œê³µí•˜ëŠ” Higher Order Component (HOC)ì…ë‹ˆë‹¤. globalLogInDispatchì™€ globalLogOutDispatch í•¨ìˆ˜ëŠ” ê°ê° LOG_IN ë° LOG_OUT ì•¡ì…˜ì„ ë¦¬ë“€ì„œì— ë””ìŠ¤íŒ¨ì¹˜í•˜ì—¬ ì¸ì¦ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì¸ì¦ ì•¡ì…˜ì´ ë””ìŠ¤íŒ¨ì¹˜ë  ë•Œ í•´ë‹¹ ê²½ë¡œë¡œ ì´ë™í•˜ê¸° ìœ„í•´ react-router-domë„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ì´ì „ì— ë¡œê·¸ì¸í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³  í•„ìš”í•  ê²½ìš° localStorageì— ì €ì¥ëœ ì •ë³´ë¥¼ ì°¾ì•„ LOG_IN ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•˜ëŠ” useEffect í›…ì„ ì •ì˜í–ˆìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” index.tsxì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ AuthContextProviderë¡œ ë˜í•‘í•˜ì—¬ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* index.tsx */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ReactDOM\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react-dom/client'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"React\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'./index.css'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"App\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'./App'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"BrowserRouter\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'react-router-dom'\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthContextProvider\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'./store/auth/AuthContextProvider'\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" root = \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ReactDOM\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"createRoot\"\n        }), \"(\\n  \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"document\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"getElementById\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'root'\"\n        }), \") \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"HTMLElement\"\n        }), \"\\n);\\nroot.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"render\"\n        }), \"(\\n  \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"React.StrictMode\"\n            }), \"\u003e\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"BrowserRouter\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"AuthContextProvider\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"App\"\n            }), \" /\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"AuthContextProvider\"\n            }), \"\u003e\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"BrowserRouter\"\n            }), \"\u003e\"]\n          }), \"\\n  \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"React.StrictMode\"\n            }), \"\u003e\"]\n          })]\n        }), \"\\n);\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"2.3 ì„œë²„ì™€ í†µì‹ í•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¸ì¦ ìƒíƒœ ê´€ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìœ¼ë‹ˆ ì´ì œ ë‚´ë¶€ ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ê²€ìƒ‰í•´ì•¼ í•˜ëŠ” ì„œë²„ì™€ì˜ í†µì‹ ì— ì§‘ì¤‘í•´ ë´…ì‹œë‹¤. ì´ë¥¼ ìœ„í•´ React ì»´í¬ë„ŒíŠ¸ì—ì„œ ì„œë²„ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ëŠ” ë…¼ë¦¬ë¥¼ ëª¨ë‘ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ useApië¼ëŠ” ì»¤ìŠ¤í…€ í›…ì„ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. ui/src ë‚´ë¶€ì— ì½”ë“œë¥¼ í˜¸ìŠ¤íŒ…í•  ìˆ˜ ìˆëŠ” ê´€ë ¨ íŒŒì¼ì´ ìˆëŠ” hooks í´ë”ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"cd ui/src \u0026\u0026 mkdir hooks \u0026\u0026 cd hooks \u0026\u0026\\\\\\nmkdir api \u0026\u0026 cd api \u0026\u0026\\\\\\ntouch apiData.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \" useApi.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"apiData.ts íŒŒì¼ì—ëŠ” ì‚¬ìš©ì ë¡œê·¸ì¸ ë° ë“±ë¡ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì„œë²„ì—ì„œ ë°˜í™˜ë  ë°ì´í„° êµ¬ì¡°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/hooks/api/apiData.ts */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" type \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthData\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"success\"\n        }), \": boolean,\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user\"\n        }), \": {\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"user_id\"\n        }), \": string,\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": string,\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": string,\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"auth_token\"\n        }), \": string,\\n  },\\n};\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"useApi.ts íŒŒì¼ì—ëŠ” ì„œë²„ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ ì»¤ìŠ¤í…€ í›…ì´ ë“¤ì–´ ìˆì–´ìš”:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/hooks/api/useApi.ts */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì „ì—­ ì˜ì¡´ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useState, useCallback, useContext } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í”„ë¡œì íŠ¸ ì˜ì¡´ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthContext\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../../store/auth/AuthContextProvider\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"BASE_URL\"\n        }), \" = \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"http://localhost:8000\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useApi\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [loading, setLoading] = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useState\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \");\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [error, setError] = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useState\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \");\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { authState, globalLogOutDispatch } = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useContext\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthContext\"\n        }), \");\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" request = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useCallback\"\n        }), \"(\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"endpoint\"\n        }), \": string,\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"params\"\n        }), \": { [\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"key\"\n        }), \": string]: any },\\n      \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"handleSuccessResponse\"\n        }), \": \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"data: any\"\n          }), \") =\u003e\"]\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"void\"\n        }), \",\\n      handleErrorResponse?: \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsxs(_components.span, {\n            className: \"hljs-params\",\n            children: [\"error: \", _jsx(_components.span, {\n              className: \"hljs-built_in\",\n              children: \"Error\"\n            })]\n          }), \") =\u003e\"]\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"void\"\n        }), \"\\n    ) =\u003e {\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setLoading\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"true\"\n        }), \");\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \");\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n        \", _jsxs(_components.span, {\n          className: \"hljs-comment\",\n          children: [\"// \", _jsx(_components.span, {\n            className: \"hljs-doctag\",\n            children: \"NOTE:\"\n          }), \" ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ì¤‘ì´ë©´ ìš”ì²­ í—¤ë”ì— auth í† í° ì‚½ì…\"]\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (authState.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"isLoggedIn\"\n        }), \") {\\n          params.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"headers\"\n        }), \"[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"x-access-token\\\"\"\n        }), \"] = authState.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"authToken\"\n        }), \";\\n        }\\n\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" response = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"fetch\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-variable constant_\",\n          children: \"BASE_URL\"\n        }), \" + endpoint, { ...params });\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (!response.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ok\"\n        }), \") {\\n          \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" data = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" response.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"(); \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í•­ìƒ json ì‘ë‹µì„ ê°€ì •\"\n        }), \"\\n          \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"throw\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Error\"\n        }), \"(data.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"error\"\n        }), \");\\n        }\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" data = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" response.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"json\"\n        }), \"(); \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í•­ìƒ json ì‘ë‹µì„ ê°€ì •\"\n        }), \"\\n\\n        \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì‘ë‹µì´ ì •ìƒì ì´ê³  ì˜¤ë¥˜ê°€ ì—†ëŠ” ê²½ìš°, ì„±ê³µ ì‘ë‹µ ì²˜ë¦¬\"\n        }), \"\\n        handleSuccessResponse \u0026\u0026 (\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handleSuccessResponse\"\n        }), \"(data));\\n      } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": any) {\\n        \", _jsxs(_components.span, {\n          className: \"hljs-comment\",\n          children: [\"// \", _jsx(_components.span, {\n            className: \"hljs-doctag\",\n            children: \"NOTE:\"\n          }), \" ê¶Œí•œì´ ì—†ëŠ” ì˜¤ë¥˜ì¸ ê²½ìš° ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ\"]\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (error \u0026\u0026 error.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"message\"\n        }), \" \u0026\u0026 error.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"message\"\n        }), \" === \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Unauthorized\\\"\"\n        }), \") {\\n          \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"globalLogOutDispatch\"\n        }), \"();\\n        }\\n\\n        \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì§€ì •ëœ ì˜¤ë¥˜ ì²˜ë¦¬\"\n        }), \"\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (handleErrorResponse) {\\n          \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"handleErrorResponse\"\n        }), \"(error.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"message\"\n        }), \" || error.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"error\"\n        }), \" || error);\\n        } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"else\"\n        }), \" {\\n          \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(error.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"message\"\n        }), \" || error.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"error\"\n        }), \" || error);\\n        }\\n      }\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setLoading\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"false\"\n        }), \");\\n    },\\n\\n    [authState.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"isLoggedIn\"\n        }), \", authState.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"authToken\"\n        }), \", globalLogOutDispatch]\\n  );\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"loading\"\n        }), \": loading,\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": error,\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"request\"\n        }), \": request,\\n    \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"setError\"\n        }), \": setError,\\n  };\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" useApi;\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"useApi í›…ì€ request í•¨ìˆ˜ ë‚´ì—ì„œ fetch ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì„ ë‹´ë‹¹í•˜ê³  ìˆì–´ìš”. ì „ì—­ ì¸ì¦ ìƒíƒœë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í–ˆëŠ”ì§€ ë¨¼ì € í™•ì¸í•˜ê³ , ì‚¬ìš©ìê°€ ì¸ì¦ë˜ë©´ ìš”ì²­ í—¤ë” x-access-tokenì— authTokenì„ ì²¨ë¶€í•©ë‹ˆë‹¤. ì´ í† í°ì€ ìš”ì²­ê³¼ í•¨ê»˜ ì „ì†¡ë˜ì–´ ì„œë²„ê°€ ì‚¬ìš©ìê°€ íŠ¹ì • ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ë˜í•œ, ì»¤ìŠ¤í…€ í›…ì€ ìš”ì²­-ì‘ë‹µ ì‚¬ì´í´ ë° ì˜¤ë¥˜ ì²˜ë¦¬ì˜ ìƒíƒœ ê´€ë¦¬ë„ ê´€ë¦¬í•©ë‹ˆë‹¤. ì„œë²„ì—ì„œ ì„±ê³µì ì¸ ì‘ë‹µì„ ë°›ì•˜ë‹¤ë©´ handleSuccessResponse ì½œë°±ì„ í†µí•´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³ , ì‘ë‹µì´ ì‹¤íŒ¨í•œ ê²½ìš° handleErrorResponse ì½œë°±ì„ í†µí•´ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì‘ë‹µ ì˜¤ë¥˜ì— \\\"Unauthorized\\\" ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ globalLogOutDispatch í•¨ìˆ˜ë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦ ìƒíƒœë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"2.4 ì¸ì¦ êµ¬ì„± ìš”ì†Œ\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™„ë£Œí–ˆê³ , ì´ì œ í™”ë©´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‘ì—…í•  ì°¨ë¡€ì…ë‹ˆë‹¤. ë¨¼ì € React ì»´í¬ë„ŒíŠ¸ë¥¼ í˜¸ìŠ¤íŒ…í•  í´ë”ë¥¼ ë§Œë“¤ì–´ë´…ì‹œë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"cd ui/src \u0026\u0026 mkdir components \u0026\u0026\\\\\\ncd components \u0026\u0026 mkdir auth \u0026\u0026\\\\\\ntouch \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Auth\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"LogInForm\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"RegisterForm\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \" validations.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"ts\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë¨¼ì €, LogInForm.tsxì™€ RegisterForm.tsxì—ì„œ ê°ê° ë¡œê·¸ì¸ ë° ì‚¬ìš©ì ë“±ë¡ì„ ìœ„í•œ ì–‘ì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/components/auth/LoginForm.tsx */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"FormEventHandler\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Link\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react-router-dom\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" styles \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./Auth.module.css\\\"\"\n        }), \";\\n\\ntype \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Props\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"onSubmit\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"FormEventHandler\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"HTMLFormElement\"\n        }), \"\u003e,\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"LoginForm\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"props: Props\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { onSubmit } = props;\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"form\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onSubmit\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{onSubmit}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Form}\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Input}\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"htmlFor\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"email\\\"\"\n            }), \"\u003e\"]\n          }), \"ì´ë©”ì¼\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"input\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"id\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"email\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"name\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"email\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"type\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"email\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"required\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"placeholder\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"ì´ë©”ì¼ ì£¼ì†Œ\\\"\"\n            }), \" /\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Input}\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"htmlFor\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"password\\\"\"\n            }), \"\u003e\"]\n          }), \"ë¹„ë°€ë²ˆí˜¸\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"input\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"id\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"password\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"name\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"password\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"type\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"password\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"required\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"placeholder\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"ë¹„ë°€ë²ˆí˜¸\\\"\"\n            }), \" /\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"type\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"submit\\\"\"\n            }), \"\u003e\"]\n          }), \"ì œì¶œ\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Link\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Link}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"to\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{\"\n            }), \"\\\"/\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"user\"\n            }), \"/\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"register\"\n            }), \"\\\"}\u003e\"]\n          }), \"\\n        ì•„ì§ ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? ê°€ì…í•˜ê¸°\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Link\"\n            }), \"\u003e\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"form\"\n            }), \"\u003e\"]\n          })]\n        }), \"\\n  );\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"LoginForm\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/components/auth/RegisterForm.tsx */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"FormEventHandler\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Link\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react-router-dom\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" styles \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./Auth.module.css\\\"\"\n        }), \";\\n\\ntype \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Props\"\n        }), \" = {\\n  \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"onSubmit\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"FormEventHandler\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"HTMLFormElement\"\n        }), \"\u003e,\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"RegisterForm\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"props: Props\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { onSubmit } = props;\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"form\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onSubmit\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{onSubmit}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Form}\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Input}\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"htmlFor\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"name\\\"\"\n            }), \"\u003e\"]\n          }), \"ì´ë¦„\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"input\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"id\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"name\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"name\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"name\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"type\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"text\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"required\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"placeholder\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"ì „ì²´ ì´ë¦„\\\"\"\n            }), \" /\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Input}\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"htmlFor\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"email\\\"\"\n            }), \"\u003e\"]\n          }), \"ì´ë©”ì¼\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"input\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"id\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"email\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"name\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"email\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"type\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"email\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"required\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"placeholder\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"ì´ë©”ì¼ ì£¼ì†Œ\\\"\"\n            }), \" /\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Input}\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"htmlFor\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"password\\\"\"\n            }), \"\u003e\"]\n          }), \"ë¹„ë°€ë²ˆí˜¸\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"label\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"input\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"id\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"password\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"name\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"password\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"type\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"password\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"required\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"placeholder\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"ë¹„ë°€ë²ˆí˜¸\\\"\"\n            }), \" /\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"type\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"submit\\\"\"\n            }), \"\u003e\"]\n          }), \"ì œì¶œ\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Link\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Link}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"to\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{\"\n            }), \"\\\"/\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"user\"\n            }), \"/\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"login\"\n            }), \"\\\"}\u003e\"]\n          }), \"\\n        ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ë¡œê·¸ì¸í•˜ê¸°\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Link\"\n            }), \"\u003e\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"form\"\n            }), \"\u003e\"]\n          })]\n        }), \"\\n  );\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"RegisterForm\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‘ ì–‘ì‹ì€ ê°ê° ì´ë¦„, ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ì†ì„±ì„ í¬í•¨í•œ í¼ ì œì¶œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ì½œë°± í”„ë¡­ì¸ onSubmitì„ ì „ë‹¬ë°›ìŠµë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ê·¸ ë‹¤ìŒìœ¼ë¡œ, Auth.tsxì—ì„œ ì‚¬ìš©ì ë¸Œë¼ìš°ì € ë‚´ì˜ ë„¤ë¹„ê²Œì´ì…˜ ê²½ë¡œì— ë”°ë¼ LogInForm ë˜ëŠ” RegisterForm êµ¬ì„± ìš”ì†Œ ì¤‘ í•˜ë‚˜ë¥¼ í‘œì‹œí•  ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/components/auth/Auth.tsx */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ì „ì—­ imports\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useEffect, useState, useContext, \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"FormEventHandler\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// í”„ë¡œì íŠ¸ ì˜ì¡´ì„±\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" useApi \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../../hooks/api/useApi\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthContext\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../../store/auth/AuthContextProvider\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { validatePasswordLength, validateEmailFormat } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./validations\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthData\"\n        }), \" } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../../hooks/api/apiData\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useLocation } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react-router-dom\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"LoginForm\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./LoginForm\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"RegisterForm\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./RegisterForm\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"Auth\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [authData, setAuthData] = useState\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthData\"\n        }), \"\u003e();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { request, setError } = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useApi\"\n        }), \"();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { globalLogInDispatch } = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useContext\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthContext\"\n        }), \");\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" location = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useLocation\"\n        }), \"();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" currentPathArray = location.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"pathname\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"split\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'/'\"\n        }), \");\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" isLogin = currentPathArray[currentPathArray.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"length\"\n        }), \" - \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"] === \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'login'\"\n        }), \";\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¡œê·¸ì¸ ì‚¬ìš©ìì— ëŒ€í•œ api ì‘ë‹µ ì„±ê³µ ì‹œ, ì „ì—­ auth LOG_IN ì´ë²¤íŠ¸ë¥¼ ë””ìŠ¤íŒ¨ì¹˜í•©ë‹ˆë‹¤\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useEffect\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (authData \u0026\u0026 \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"success\\\"\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" authData) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"globalLogInDispatch\"\n        }), \"({\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"authToken\"\n        }), \": authData.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"user\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"auth_token\"\n        }), \",\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"userId\"\n        }), \": authData.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"user\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"user_id\"\n        }), \",\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": authData.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"user\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"name\"\n        }), \",\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": authData.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"user\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"email\"\n        }), \",\\n      });\\n    }\\n  }, [authData, globalLogInDispatch]);\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"authHandler\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"FormEventHandler\"\n        }), \"\u003c\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"HTMLFormElement\"\n        }), \"\u003e = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" (event) =\u003e {\\n    event.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"preventDefault\"\n        }), \"();\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" data = \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"FormData\"\n        }), \"(event.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"currentTarget\"\n        }), \");\\n    \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"// ë¨¼ì € ìœ íš¨ì„± ê²€ì‚¬!\"\n        }), \"\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" userEmail = data.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"email\\\"\"\n        }), \");\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" userPassword = data.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"password\\\"\"\n        }), \");\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" userName = data.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"get\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"name\\\"\"\n        }), \");\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (\\n        !\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validateEmailFormat\"\n        }), \"(userEmail?.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toString\"\n        }), \"() || \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"\\\"\"\n        }), \") ||\\n        !\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validatePasswordLength\"\n        }), \"(userPassword?.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toString\"\n        }), \"() || \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"\\\"\"\n        }), \")\\n      ) {\\n        \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"throw\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Error\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"ì˜ëª»ëœ ìê²© ì¦ëª… í˜•ì‹ì…ë‹ˆë‹¤!\\\"\"\n        }), \");\\n      }\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" params = {\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"method\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"POST\\\"\"\n        }), \",\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"headers\"\n        }), \": {\\n          \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Content-Type\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"application/json\\\"\"\n        }), \",\\n        },\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"body\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"JSON\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"stringify\"\n        }), \"({\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"email\"\n        }), \": userEmail,\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"password\"\n        }), \": userPassword,\\n          \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"name\"\n        }), \": userName,\\n        }),\\n      };\\n\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" endpoint = \", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"`/user/\", _jsxs(_components.span, {\n            className: \"hljs-subst\",\n            children: [\"${isLogin ? \", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"'login'\"\n            }), \" : \", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"'register'\"\n            }), \"}\"]\n          }), \"`\"]\n        }), \"\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"request\"\n        }), \"(endpoint, params, setAuthData);\\n    } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": any) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(error.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"message\"\n        }), \" || error);\\n    }\\n  };\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-tag\",\n            children: \"\u003c\u003e\"\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"h2\"\n            }), \"\u003e\"]\n          }), \"{isLogin ? 'ë¡œê·¸ì¸' : 'ê°€ì…í•˜ê¸°'}\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"h2\"\n            }), \"\u003e\"]\n          }), \"\\n      {\\n        isLogin\\n          ? \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"LoginForm\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onSubmit\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{authHandler}\"\n            }), \" /\u003e\"]\n          }), \"\\n          : \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"RegisterForm\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onSubmit\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{authHandler}\"\n            }), \" /\u003e\"]\n          }), \"\\n      }\\n    \", _jsx(_components.span, {\n            className: \"hljs-tag\",\n            children: \"\u003c/\u003e\"\n          })]\n        }), \"\\n  );\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Auth\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ìš°ë¦¬ëŠ” react-router-domì—ì„œ ì œê³µí•˜ëŠ” useLocationì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ì—ì„œ ì–´ë–¤ ê²½ë¡œì— ìˆëŠ”ì§€ ì¶”ì¶œí•©ë‹ˆë‹¤. ê²½ë¡œì— ë”°ë¼, LoginForm ë˜ëŠ” RegisterFormì„ í‘œì‹œí•˜ë„ë¡ ì„ íƒí•©ë‹ˆë‹¤. ê° í¼ì— ëŒ€í•œ onSubmit í•¸ë“¤ëŸ¬ëŠ” authHandlerì— ì •ì˜ëœ ëŒ€ë¡œ ì‘ë™í•˜ë©°, ì´ í•¸ë“¤ëŸ¬ëŠ” ì–‘ì‹ ì œì¶œ ì´ë²¤íŠ¸ì—ì„œ ëª¨ë“  ì…ë ¥ í¼ ì†ì„±ì„ ì¶”ì¶œí•˜ê³  ì„œë²„ì—ì„œ ì‚¬ìš©ì/ë¡œê·¸ì¸ ë˜ëŠ” ì‚¬ìš©ì/ë“±ë¡ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìš”ì²­í•˜ê¸° ì „ì— ì´ë¥¼ ìœ íš¨ì„± ê²€ì‚¬í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì–‘ì‹ ì œì¶œ ì´ë²¤íŠ¸ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§ì€ ê¸°ë³¸ì ì´ë©° ì•„ë˜ validation.tsì—ì„œ ë³´ì—¬ì§„ ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/components/auth/validations.ts */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validatePasswordLength\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"password: string\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" !!password \u0026\u0026 password.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"length\"\n        }), \" \u003e \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"7\"\n        }), \";\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"validateEmailFormat\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"email: string\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" re =\\n    \", _jsx(_components.span, {\n          className: \"hljs-regexp\",\n          children: \"/^(([^\u003c\u003e()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+(\\\\.[^\u003c\u003e()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+)*)|(\\\".+\\\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$/\"\n        }), \";\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" !!email \u0026\u0026 re.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"test\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"String\"\n        }), \"(email).\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toLowerCase\"\n        }), \"());\\n};\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"2.5 Resource component\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë§ˆì§€ë§‰ìœ¼ë¡œ ë§Œë“¤ ì¸í„°í˜ì´ìŠ¤ êµ¬ì„± ìš”ì†ŒëŠ” ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ ê²½ë¡œë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë”ë¯¸ í˜ì´ì§€ì…ë‹ˆë‹¤. ì½”ë“œë¥¼ í˜¸ìŠ¤íŒ…í•  í´ë”ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë¨¼ì € ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"cd ui/src/components \u0026\u0026\\\\\\nmkdir resource \u0026\u0026\\\\\\ncd resource \u0026\u0026\\\\\\ntouch \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Resource\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"tsx\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Resource.tsx íŒŒì¼ ë‚´ë¶€ì— ì•„ë˜ì™€ ê°™ì´ êµ¬ì„± ìš”ì†Œë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/components/resource/Resource.tsx */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useCallback, useContext, useEffect, useState } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" useApi \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../../hooks/api/useApi\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" authCtx \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"../../store/auth/AuthContextProvider\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" styles \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./Resource.module.css\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"Resource\"\n        }), \" = (\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") =\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" [data, setData] = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useState\"\n        }), \"();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { request, setError } = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useApi\"\n        }), \"();\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { globalLogOutDispatch } = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useContext\"\n        }), \"(authCtx);\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" fetchData = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useCallback\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"async\"\n        }), \" () =\u003e {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"try\"\n        }), \" {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" params = {\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"method\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"GET\\\"\"\n        }), \",\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"headers\"\n        }), \": {\\n          \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"Content-Type\\\"\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"application/json\\\"\"\n        }), \",\\n        },\\n      };\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"await\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"request\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/resource\\\"\"\n        }), \", params, \", _jsxs(_components.span, {\n          className: \"hljs-function\",\n          children: [\"(\", _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"result\"\n          }), \") =\u003e\"]\n        }), \" {\\n        \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setData\"\n        }), \"(result.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \");\\n      });\\n    } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"catch\"\n        }), \" (\", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"error\"\n        }), \": any) {\\n      \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"setError\"\n        }), \"(error.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"message\"\n        }), \" || error);\\n    }\\n  }, [request, setError]);\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useEffect\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-function\",\n          children: \"() =\u003e\"\n        }), \" {\\n    \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"fetchData\"\n        }), \"();\\n  }, [fetchData]);\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{styles.Resource}\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"h1\"\n            }), \"\u003e\"]\n          }), \"{data}\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"h1\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"onClick\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{globalLogOutDispatch}\"\n            }), \"\u003e\"]\n          }), \"ë¡œê·¸ì•„ì›ƒ\", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"button\"\n            }), \"\u003e\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \"\u003e\"]\n          })]\n        }), \"\\n  );\\n};\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Resource\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ê°„ë‹¨í•˜ë©° useEffect í›…ì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì˜ /resource ì—”ë“œí¬ì¸íŠ¸ë¡œ í˜¸ì¶œí•˜ëŠ” ë¡œì§ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ í˜¸ì¶œì—ëŠ” pre-existing auth í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°˜í™˜ëœ ë°ì´í„°ëŠ” í˜ì´ì§€ì— í‘œì‹œë˜ë©° ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ auth ì»¨í…ìŠ¤íŠ¸ì—ì„œ globalLogOutDispatchë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ì „ì—­ auth ìƒíƒœë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"2.6 ëª¨ë“  ê²ƒì„ ì—°ê²°í•˜ê¸°\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì¸í„°í˜ì´ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í–ˆìœ¼ë‹ˆ, App.tsxì—ì„œ react-router-domì„ ì‚¬ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œ ë¼ìš°íŒ…ì„ í†µí•´ ëª¨ë“  ê²ƒì„ ì—°ê²°í•´ë³´ê² ìŠµë‹ˆë‹¤ :\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"/* ui/src/App.tsx */\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./App.css\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Route\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Routes\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Navigate\"\n        }), \", useLocation } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react-router-dom\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthContext\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./store/auth/AuthContextProvider\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" { useContext } \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"react\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Resource\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./components/resource/Resource\\\"\"\n        }), \";\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Auth\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"./components/auth/Auth\\\"\"\n        }), \";\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"function\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"App\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\"\n        }), \") {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" { authState } = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useContext\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"AuthContext\"\n        }), \");\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" location = \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"useLocation\"\n        }), \"();\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" (\\n    \", _jsxs(_components.span, {\n          className: \"xml\",\n          children: [_jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"className\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"App\\\"\"\n            }), \"\u003e\"]\n          }), \"\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Routes\"\n            }), \"\u003e\"]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Route\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"path\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"/\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"element\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{\"\n            }), \"\u003c\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"Navigate\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"to\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{authState.isLoggedIn\"\n            }), \" ? \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"location.pathname\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \":\"\n            }), \" \\\"/\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"user\"\n            }), \"/\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"login\"\n            }), \"\\\"} /\u003e\"]\n          }), \"} /\u003e\\n        {!authState.isLoggedIn \u0026\u0026 (\\n          \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Route\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"path\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"user\\\"\"\n            }), \"\u003e\"]\n          }), \"\\n            \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Route\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"path\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"register\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"element\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{\"\n            }), \"\u003c\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"Auth\"\n            }), \" /\u003e\"]\n          }), \"} /\u003e\\n            \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Route\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"path\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"login\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"element\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{\"\n            }), \"\u003c\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"Auth\"\n            }), \" /\u003e\"]\n          }), \"} /\u003e\\n          \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Route\"\n            }), \"\u003e\"]\n          }), \"\\n        )}\\n        {authState.isLoggedIn \u0026\u0026 \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Route\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"path\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"\\\"resource\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"element\"\n            }), \"=\", _jsx(_components.span, {\n              className: \"hljs-string\",\n              children: \"{\"\n            }), \"\u003c\", _jsx(_components.span, {\n              className: \"hljs-attr\",\n              children: \"Resource\"\n            }), \" /\u003e\"]\n          }), \"} /\u003e}\\n      \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"Routes\"\n            }), \"\u003e\"]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"hljs-tag\",\n            children: [\"\u003c/\", _jsx(_components.span, {\n              className: \"hljs-name\",\n              children: \"div\"\n            }), \"\u003e\"]\n          })]\n        }), \"\\n  );\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"default\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"App\"\n        }), \";\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"App.tsx íŒŒì¼ ë‚´ì—ì„œëŠ” ì§€ê¸ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë¼ìš°íŒ…ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. /user/register, /user/login ë° /resourceë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì œê³µëœ ì „ì—­ ì¸ì¦ ìƒíƒœê°€ ì‚¬ìš©ìê°€ ì¸ì¦ëœ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ë©´ ì‚¬ìš©ìì—ê²Œ /resource ê²½ë¡œì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ì—¬ í•´ë‹¹ ì„œë²„ì˜ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì´ë™í•˜ì—¬ 'protected' ë°ì´í„°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"ê²°ë¡ \"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ì´ ê¸€ì—ì„œëŠ” í’€ìŠ¤íƒ ì¸ì¦ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ëŠ” ë° í•„ìš”í•œ ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì¸ì¦ ë°©ë²•ì€ í† í° ê¸°ë°˜ ë°©ì‹ìœ¼ë¡œ, ì´ëŠ” ì´ íŠœí† ë¦¬ì–¼ ì‹œë¦¬ì¦ˆì˜ ì²« ë²ˆì§¸ ê¸€ì—ì„œ ë…¼ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê° êµ¬ì„± ìš”ì†Œì— ëŒ€í•´ ë§ì€ ì„¸ë¶€ ì •ë³´ë¥¼ ë‹¤ë¤˜ì§€ë§Œ, ì•„ì§ í•  ì¼ì´ ë§ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìŠ¤íƒ€ì¼ë§ ê°œì„ , ì´ ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ì„¤ì •í•œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ë§ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"í”„ë¡ íŠ¸ì—”ë“œ ë° ë°±ì—”ë“œì—ì„œ ì ì ˆí•œ ì‚¬ìš©ì ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬, SQL ì¸ì ì…˜ ë°©ì§€ ë˜ëŠ” ë°ì´í„° ìœ í˜• ìœ íš¨ì„± ê²€ì‚¬ì™€ ê°™ì€ ì‘ì—….\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ì˜ëª»ëœ ìê²© ì¦ëª…ì„ ì œì¶œí–ˆì„ ë•Œ ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ ì—ëŸ¬ ì²˜ë¦¬.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ì—¬ ì‚¬ìš©ì ë°ì´í„° ì €ì¥.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"AWS ë˜ëŠ” GCPì™€ ê°™ì€ í´ë¼ìš°ë“œ ì œê³µ ì—…ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆí™”í•˜ê³  ë°°í¬.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ë‚˜ë¨¸ì§€ëŠ” ë„¤ê°€ ì•Œì•„ì„œ í•´ì£¼ë©´ ë¼! ê·¸ë¦¬ê³  ì–¸ì œë“ ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œì„ í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ì œì•ˆì´ ìˆë‹¤ë©´ ëŒ“ê¸€ì„ ë‚¨ê²¨ì¤˜! ì´ íŠœí† ë¦¬ì–¼ì˜ ìµœì¢… ì½”ë“œëŠ” ì—¬ê¸°ì„œ í™•ì¸í•  ìˆ˜ ìˆì–´.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-12-AuthenticationandAuthorizationwithNodejsReactandTypescriptPart2"},"buildId":"7rKODeu6chWTLgXf6auoL","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>