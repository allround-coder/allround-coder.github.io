<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>플러터에서 최고의 Bloc 상태 관리 파트 2 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-05-20-BestBlocstatehandlinginFlutterpart2" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="플러터에서 최고의 Bloc 상태 관리 파트 2 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="플러터에서 최고의 Bloc 상태 관리 파트 2 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-20-BestBlocstatehandlinginFlutterpart2_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-05-20-BestBlocstatehandlinginFlutterpart2" data-gatsby-head="true"/><meta name="twitter:title" content="플러터에서 최고의 Bloc 상태 관리 파트 2 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-20-BestBlocstatehandlinginFlutterpart2_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-20 23:15" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cd012fc8787133d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cd012fc8787133d0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/551-3069cf29fe274aab.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-a8eda6c93e0b14fe.js" defer=""></script><script src="/_next/static/7rKODeu6chWTLgXf6auoL/_buildManifest.js" defer=""></script><script src="/_next/static/7rKODeu6chWTLgXf6auoL/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">플러터에서 최고의 Bloc 상태 관리 파트 2</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="플러터에서 최고의 Bloc 상태 관리 파트 2" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/assets/profile.jpg"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 20, 2024</span><span class="posts_reading_time__f7YPP">5<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-20-BestBlocstatehandlinginFlutterpart2&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><p>안녕하세요, 친구들,
첫 번째 파트에 대한 좋은 피드백에 기쁩니다.
이번 파트에서는 디자인에서 EventStatus를 사용하는 방법을 가르치고 디자인의 모든 상태를 다루는 것을 알려드리고 싶어요.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:580/1*wL6d8JPLeO4MbkwBPLHwcA.gif" alt="이미지"/></p>
<p>지난 파트에서는 Bloc_state에서 상태를 다루기위해 EventStatus 클래스를 사용했었습니다.</p>
<p>https://medium.com/@moeinmoradi.dev/best-bloc-state-handling-in-flutter-0f95a8e89e40</p>
<div class="content-ad"></div>
<p>제 친구 한 명의 제안에 따라, EventStatus 클래스에 대해 좀 더 나은 컨셉을 제안하고 그 이름을 StateStatus로 변경해보겠습니다. 다음과 같이 변경해주세요.</p>
<pre><code class="hljs language-js">@immutable
abstract <span class="hljs-keyword">class</span> <span class="hljs-title class_">StateStatus</span>&lt;T&gt; {
  final int? itemId;
  final T? data;
  final <span class="hljs-title class_">ErrorModel</span>? message;

  <span class="hljs-keyword">const</span> <span class="hljs-title class_">StateStatus</span>({
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemId</span>,
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>,
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>,
  });
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">StateLoading</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">StateStatus</span>&lt;T&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-title class_">StateLoading</span>({<span class="hljs-variable language_">super</span>.<span class="hljs-property">itemId</span>});
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">StateCompleted</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">StateStatus</span>&lt;T&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-title class_">StateCompleted</span>({required <span class="hljs-variable language_">super</span>.<span class="hljs-property">data</span>});
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">StateInitial</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">StateStatus</span>&lt;T&gt; {}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">StateError</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">StateStatus</span>&lt;T&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-title class_">StateError</span>({required <span class="hljs-variable language_">super</span>.<span class="hljs-property">message</span>});
}
</code></pre>
<p>좋아요, StateStatusLayout를 위한 클래스를 만들어봅시다.</p>
<h1>StateStatusLayout</h1>
<div class="content-ad"></div>
<p>StateStatus에 따라 다른 디자인 상태를 표시하는 클래스가 필요합니다. 이 클래스는 각 상태와 해당 위젯을 표시할 수 있어야 합니다.</p>
<p>이 클래스에서 BlocBuilder로부터 StateStatus를 받고 States에 따라 위젯을 반환했습니다 :</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StateStatusLayout</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">StatelessWidget</span> {
  final <span class="hljs-title class_">StateStatus</span>&lt;T&gt; status;
  final <span class="hljs-title class_">Widget</span> onErrorStatus;
  final <span class="hljs-keyword">void</span> <span class="hljs-title class_">Function</span>(<span class="hljs-title class_">ErrorModel</span> error)? onErrorListener;
  final <span class="hljs-title class_">Widget</span> <span class="hljs-title class_">Function</span>(<span class="hljs-title class_">BuildContext</span> context, T? data) onCompletedStatus;
  final <span class="hljs-title class_">Widget</span> onInitialStatus;
  final <span class="hljs-title class_">Widget</span> onLoadingStatus;
  <span class="hljs-keyword">const</span> <span class="hljs-title class_">StateStatusLayout</span>({
    <span class="hljs-variable language_">super</span>.<span class="hljs-property">key</span>,
    required <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span>,
    required <span class="hljs-variable language_">this</span>.<span class="hljs-property">onCompletedStatus</span>,
    required <span class="hljs-variable language_">this</span>.<span class="hljs-property">onErrorStatus</span>,
    required <span class="hljs-variable language_">this</span>.<span class="hljs-property">onInitialStatus</span>,
    required <span class="hljs-variable language_">this</span>.<span class="hljs-property">onLoadingStatus</span>,
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">onErrorListener</span>,
  });

  @override
  <span class="hljs-title class_">Widget</span> <span class="hljs-title function_">build</span>(<span class="hljs-params">BuildContext context</span>) {
    <span class="hljs-keyword">if</span> (status is <span class="hljs-title class_">StateError</span>) {
      <span class="hljs-keyword">if</span> (onErrorListener != <span class="hljs-literal">null</span>) {
        onErrorListener!(status.<span class="hljs-property">message</span>!);
      }
    }
    <span class="hljs-keyword">if</span> (status is <span class="hljs-title class_">StateCompleted</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">StreamBuilder</span>(
        <span class="hljs-attr">stream</span>: <span class="hljs-title class_">Stream</span>.<span class="hljs-title function_">value</span>(status),
        <span class="hljs-attr">builder</span>: (context, snapshot) {
          <span class="hljs-title function_">log</span>(status.<span class="hljs-property">data</span>!.<span class="hljs-title function_">toString</span>());
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">onCompletedStatus</span>(context, status.<span class="hljs-property">data</span>);
        },
      );
    }
    <span class="hljs-keyword">if</span> (status is <span class="hljs-title class_">StateError</span>) {
      <span class="hljs-keyword">return</span> onErrorStatus;
    }
    <span class="hljs-keyword">if</span> (status is <span class="hljs-title class_">StateInitial</span>) {
      <span class="hljs-keyword">return</span> onInitialStatus;
    }
    <span class="hljs-keyword">if</span> (status is <span class="hljs-title class_">StateLoading</span>) {
      <span class="hljs-keyword">return</span> onLoadingStatus;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Container</span>();
  }
}
</code></pre>
<p>그런데, StateCompleted 조건을 살펴보세요. 데이터를 표시하기 위해 StreamBuilder를 사용했습니다. 이것에 대해 어떻게 생각하시나요?</p>
<div class="content-ad"></div>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*I6k_gZJ0KRZYR4KU22Okig.gif" alt="image"/></p>
<p>가끔 블록 쪽에서 데이터를 페이지네이션하거나 스트리밍해야 할 때, 위젯은 반드시 모든 상황에서 업데이트되어야 합니다. 그리고 위젯에서 오류가 발생하지 않도록하기 위해 이러한 가능한 상황을 고려하기 위해 StreamBuilder를 사용합니다.</p>
<p>간단한 샘플 코드를 보여드리겠습니다. StateStatusLayout을 사용한 코드입니다:</p>
<pre><code class="hljs language-dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShowLayout</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> ShowLayout({Key? key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> BlocBuilder&lt;ShowBloc, ShowState&gt;(
        builder: (context, state) {
          <span class="hljs-keyword">return</span> StateStatusLayout(
            status: state.showsStatus,
            onCompletedStatus: (context, data) {
              <span class="hljs-keyword">return</span> GridView.count(
                shrinkWrap: <span class="hljs-keyword">true</span>,
                padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">10</span>),
                physics: <span class="hljs-keyword">const</span> ClampingScrollPhysics(),
                crossAxisSpacing: <span class="hljs-number">10</span>,
                mainAxisSpacing: <span class="hljs-number">20</span>,
                crossAxisCount: <span class="hljs-number">4</span>,
                childAspectRatio: <span class="hljs-number">9</span> / <span class="hljs-number">16</span>,
                children: <span class="hljs-built_in">List</span>.generate(data!.shows!.length, (index) {
                  ShowModel item = data.shows![index];
                  <span class="hljs-keyword">return</span> ShowCard(
                      <span class="hljs-keyword">show</span>: item,
                      onSelected: () {
                        <span class="hljs-comment">/// <span class="markdown">do Somethigs...</span></span>
                      },
                    );
                }),
              );
            },
            onErrorStatus: <span class="hljs-keyword">const</span> SizedBox(),
            onInitialStatus: <span class="hljs-keyword">const</span> SizedBox(),
            onLoadingStatus: Padding(
              padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">48.0</span>),
              child: SizedBox(
                width: <span class="hljs-number">50</span>,
                height: <span class="hljs-number">50</span>,
                child: SpinKitRipple(
                  color: themeData.colorScheme.secondary,
                  size: <span class="hljs-number">40</span>,
                ),
              ),
            ),
          );
        },
      );
  }
}
</code></pre>
<div class="content-ad"></div>
<p>이 샘플 코드에서는 Bloc이 emit() 함수로 갱신될 때 showsStatus 상태에 대한 onCompletedStatus 및 onLoadingStatus를 처리했습니다.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1280/1*XwwugAFY35KNciVoDHThEw.gif" alt="이미지"/></p>
<h2>지금까지 함께 해주셔서 감사합니다</h2>
<p>나와 함께 계속 이야기를 공유해주시고 피드백을 기다리고 있습니다. 분들의 소중한 의견을 기다리고 있습니다. 🙏</p></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"플러터에서 최고의 Bloc 상태 관리 파트 2","description":"","date":"2024-05-20 23:15","slug":"2024-05-20-BestBlocstatehandlinginFlutterpart2","content":"\n\n안녕하세요, 친구들,\n첫 번째 파트에 대한 좋은 피드백에 기쁩니다.\n이번 파트에서는 디자인에서 EventStatus를 사용하는 방법을 가르치고 디자인의 모든 상태를 다루는 것을 알려드리고 싶어요.\n\n![이미지](https://miro.medium.com/v2/resize:fit:580/1*wL6d8JPLeO4MbkwBPLHwcA.gif)\n\n지난 파트에서는 Bloc_state에서 상태를 다루기위해 EventStatus 클래스를 사용했었습니다.\n\nhttps://medium.com/@moeinmoradi.dev/best-bloc-state-handling-in-flutter-0f95a8e89e40\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n제 친구 한 명의 제안에 따라, EventStatus 클래스에 대해 좀 더 나은 컨셉을 제안하고 그 이름을 StateStatus로 변경해보겠습니다. 다음과 같이 변경해주세요.\n\n```js\n@immutable\nabstract class StateStatus\u003cT\u003e {\n  final int? itemId;\n  final T? data;\n  final ErrorModel? message;\n\n  const StateStatus({\n    this.itemId,\n    this.data,\n    this.message,\n  });\n}\n\nclass StateLoading\u003cT\u003e extends StateStatus\u003cT\u003e {\n  const StateLoading({super.itemId});\n}\n\nclass StateCompleted\u003cT\u003e extends StateStatus\u003cT\u003e {\n  const StateCompleted({required super.data});\n}\n\nclass StateInitial\u003cT\u003e extends StateStatus\u003cT\u003e {}\n\nclass StateError\u003cT\u003e extends StateStatus\u003cT\u003e {\n  const StateError({required super.message});\n}\n```\n\n좋아요, StateStatusLayout를 위한 클래스를 만들어봅시다.\n\n# StateStatusLayout\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nStateStatus에 따라 다른 디자인 상태를 표시하는 클래스가 필요합니다. 이 클래스는 각 상태와 해당 위젯을 표시할 수 있어야 합니다.\n\n이 클래스에서 BlocBuilder로부터 StateStatus를 받고 States에 따라 위젯을 반환했습니다 :\n\n```js\nclass StateStatusLayout\u003cT\u003e extends StatelessWidget {\n  final StateStatus\u003cT\u003e status;\n  final Widget onErrorStatus;\n  final void Function(ErrorModel error)? onErrorListener;\n  final Widget Function(BuildContext context, T? data) onCompletedStatus;\n  final Widget onInitialStatus;\n  final Widget onLoadingStatus;\n  const StateStatusLayout({\n    super.key,\n    required this.status,\n    required this.onCompletedStatus,\n    required this.onErrorStatus,\n    required this.onInitialStatus,\n    required this.onLoadingStatus,\n    this.onErrorListener,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    if (status is StateError) {\n      if (onErrorListener != null) {\n        onErrorListener!(status.message!);\n      }\n    }\n    if (status is StateCompleted) {\n      return StreamBuilder(\n        stream: Stream.value(status),\n        builder: (context, snapshot) {\n          log(status.data!.toString());\n          return onCompletedStatus(context, status.data);\n        },\n      );\n    }\n    if (status is StateError) {\n      return onErrorStatus;\n    }\n    if (status is StateInitial) {\n      return onInitialStatus;\n    }\n    if (status is StateLoading) {\n      return onLoadingStatus;\n    }\n    return Container();\n  }\n}\n```\n\n그런데, StateCompleted 조건을 살펴보세요. 데이터를 표시하기 위해 StreamBuilder를 사용했습니다. 이것에 대해 어떻게 생각하시나요?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](https://miro.medium.com/v2/resize:fit:700/1*I6k_gZJ0KRZYR4KU22Okig.gif)\n\n가끔 블록 쪽에서 데이터를 페이지네이션하거나 스트리밍해야 할 때, 위젯은 반드시 모든 상황에서 업데이트되어야 합니다. 그리고 위젯에서 오류가 발생하지 않도록하기 위해 이러한 가능한 상황을 고려하기 위해 StreamBuilder를 사용합니다.\n\n간단한 샘플 코드를 보여드리겠습니다. StateStatusLayout을 사용한 코드입니다:\n\n```dart\nimport 'package:flutter/material.dart';\n\nclass ShowLayout extends StatelessWidget {\n  const ShowLayout({Key? key});\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocBuilder\u003cShowBloc, ShowState\u003e(\n        builder: (context, state) {\n          return StateStatusLayout(\n            status: state.showsStatus,\n            onCompletedStatus: (context, data) {\n              return GridView.count(\n                shrinkWrap: true,\n                padding: const EdgeInsets.all(10),\n                physics: const ClampingScrollPhysics(),\n                crossAxisSpacing: 10,\n                mainAxisSpacing: 20,\n                crossAxisCount: 4,\n                childAspectRatio: 9 / 16,\n                children: List.generate(data!.shows!.length, (index) {\n                  ShowModel item = data.shows![index];\n                  return ShowCard(\n                      show: item,\n                      onSelected: () {\n                        /// do Somethigs...\n                      },\n                    );\n                }),\n              );\n            },\n            onErrorStatus: const SizedBox(),\n            onInitialStatus: const SizedBox(),\n            onLoadingStatus: Padding(\n              padding: const EdgeInsets.all(48.0),\n              child: SizedBox(\n                width: 50,\n                height: 50,\n                child: SpinKitRipple(\n                  color: themeData.colorScheme.secondary,\n                  size: 40,\n                ),\n              ),\n            ),\n          );\n        },\n      );\n  }\n}\n```\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 샘플 코드에서는 Bloc이 emit() 함수로 갱신될 때 showsStatus 상태에 대한 onCompletedStatus 및 onLoadingStatus를 처리했습니다.\n\n![이미지](https://miro.medium.com/v2/resize:fit:1280/1*XwwugAFY35KNciVoDHThEw.gif)\n\n## 지금까지 함께 해주셔서 감사합니다\n나와 함께 계속 이야기를 공유해주시고 피드백을 기다리고 있습니다. 분들의 소중한 의견을 기다리고 있습니다. 🙏","ogImage":{"url":"/assets/img/2024-05-20-BestBlocstatehandlinginFlutterpart2_0.png"},"coverImage":"/assets/img/2024-05-20-BestBlocstatehandlinginFlutterpart2_0.png","tag":["Tech"],"readingTime":5},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    img: \"img\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    h1: \"h1\",\n    h2: \"h2\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"안녕하세요, 친구들,\\n첫 번째 파트에 대한 좋은 피드백에 기쁩니다.\\n이번 파트에서는 디자인에서 EventStatus를 사용하는 방법을 가르치고 디자인의 모든 상태를 다루는 것을 알려드리고 싶어요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://miro.medium.com/v2/resize:fit:580/1*wL6d8JPLeO4MbkwBPLHwcA.gif\",\n        alt: \"이미지\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"지난 파트에서는 Bloc_state에서 상태를 다루기위해 EventStatus 클래스를 사용했었습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"https://medium.com/@moeinmoradi.dev/best-bloc-state-handling-in-flutter-0f95a8e89e40\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"제 친구 한 명의 제안에 따라, EventStatus 클래스에 대해 좀 더 나은 컨셉을 제안하고 그 이름을 StateStatus로 변경해보겠습니다. 다음과 같이 변경해주세요.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [\"@immutable\\nabstract \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateStatus\"\n        }), \"\u003cT\u003e {\\n  final int? itemId;\\n  final T? data;\\n  final \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ErrorModel\"\n        }), \"? message;\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateStatus\"\n        }), \"({\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"itemId\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"message\"\n        }), \",\\n  });\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateLoading\"\n        }), \"\u003cT\u003e \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"extends\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateStatus\"\n        }), \"\u003cT\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateLoading\"\n        }), \"({\", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"super\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"itemId\"\n        }), \"});\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateCompleted\"\n        }), \"\u003cT\u003e \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"extends\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateStatus\"\n        }), \"\u003cT\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateCompleted\"\n        }), \"({required \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"super\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \"});\\n}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateInitial\"\n        }), \"\u003cT\u003e \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"extends\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateStatus\"\n        }), \"\u003cT\u003e {}\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateError\"\n        }), \"\u003cT\u003e \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"extends\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateStatus\"\n        }), \"\u003cT\u003e {\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateError\"\n        }), \"({required \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"super\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"message\"\n        }), \"});\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"좋아요, StateStatusLayout를 위한 클래스를 만들어봅시다.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"StateStatusLayout\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"StateStatus에 따라 다른 디자인 상태를 표시하는 클래스가 필요합니다. 이 클래스는 각 상태와 해당 위젯을 표시할 수 있어야 합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 클래스에서 BlocBuilder로부터 StateStatus를 받고 States에 따라 위젯을 반환했습니다 :\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-js\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"class\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateStatusLayout\"\n        }), \"\u003cT\u003e \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"extends\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StatelessWidget\"\n        }), \" {\\n  final \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateStatus\"\n        }), \"\u003cT\u003e status;\\n  final \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Widget\"\n        }), \" onErrorStatus;\\n  final \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"void\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"ErrorModel\"\n        }), \" error)? onErrorListener;\\n  final \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Widget\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Function\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"BuildContext\"\n        }), \" context, T? data) onCompletedStatus;\\n  final \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Widget\"\n        }), \" onInitialStatus;\\n  final \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Widget\"\n        }), \" onLoadingStatus;\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateStatusLayout\"\n        }), \"({\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"super\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"key\"\n        }), \",\\n    required \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"status\"\n        }), \",\\n    required \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"onCompletedStatus\"\n        }), \",\\n    required \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"onErrorStatus\"\n        }), \",\\n    required \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"onInitialStatus\"\n        }), \",\\n    required \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"onLoadingStatus\"\n        }), \",\\n    \", _jsx(_components.span, {\n          className: \"hljs-variable language_\",\n          children: \"this\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"onErrorListener\"\n        }), \",\\n  });\\n\\n  @override\\n  \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Widget\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"build\"\n        }), \"(\", _jsx(_components.span, {\n          className: \"hljs-params\",\n          children: \"BuildContext context\"\n        }), \") {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (status is \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateError\"\n        }), \") {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (onErrorListener != \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"null\"\n        }), \") {\\n        onErrorListener!(status.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"message\"\n        }), \"!);\\n      }\\n    }\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (status is \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateCompleted\"\n        }), \") {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StreamBuilder\"\n        }), \"(\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"stream\"\n        }), \": \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Stream\"\n        }), \".\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"value\"\n        }), \"(status),\\n        \", _jsx(_components.span, {\n          className: \"hljs-attr\",\n          children: \"builder\"\n        }), \": (context, snapshot) {\\n          \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"log\"\n        }), \"(status.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \"!.\", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"toString\"\n        }), \"());\\n          \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title function_\",\n          children: \"onCompletedStatus\"\n        }), \"(context, status.\", _jsx(_components.span, {\n          className: \"hljs-property\",\n          children: \"data\"\n        }), \");\\n        },\\n      );\\n    }\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (status is \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateError\"\n        }), \") {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" onErrorStatus;\\n    }\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (status is \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateInitial\"\n        }), \") {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" onInitialStatus;\\n    }\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" (status is \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"StateLoading\"\n        }), \") {\\n      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" onLoadingStatus;\\n    }\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-title class_\",\n          children: \"Container\"\n        }), \"();\\n  }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그런데, StateCompleted 조건을 살펴보세요. 데이터를 표시하기 위해 StreamBuilder를 사용했습니다. 이것에 대해 어떻게 생각하시나요?\"\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://miro.medium.com/v2/resize:fit:700/1*I6k_gZJ0KRZYR4KU22Okig.gif\",\n        alt: \"image\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"가끔 블록 쪽에서 데이터를 페이지네이션하거나 스트리밍해야 할 때, 위젯은 반드시 모든 상황에서 업데이트되어야 합니다. 그리고 위젯에서 오류가 발생하지 않도록하기 위해 이러한 가능한 상황을 고려하기 위해 StreamBuilder를 사용합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"간단한 샘플 코드를 보여드리겠습니다. StateStatusLayout을 사용한 코드입니다:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-dart\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'package:flutter/material.dart'\"\n        }), \";\\n\\n\", _jsxs(_components.span, {\n          className: \"hljs-class\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title\",\n            children: \"ShowLayout\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"extends\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title\",\n            children: \"StatelessWidget\"\n          }), \" \"]\n        }), \"{\\n  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" ShowLayout({Key? key});\\n\\n  \", _jsx(_components.span, {\n          className: \"hljs-meta\",\n          children: \"@override\"\n        }), \"\\n  Widget build(BuildContext context) {\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" BlocBuilder\u003cShowBloc, ShowState\u003e(\\n        builder: (context, state) {\\n          \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" StateStatusLayout(\\n            status: state.showsStatus,\\n            onCompletedStatus: (context, data) {\\n              \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" GridView.count(\\n                shrinkWrap: \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"true\"\n        }), \",\\n                padding: \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" EdgeInsets.all(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"10\"\n        }), \"),\\n                physics: \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" ClampingScrollPhysics(),\\n                crossAxisSpacing: \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"10\"\n        }), \",\\n                mainAxisSpacing: \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"20\"\n        }), \",\\n                crossAxisCount: \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"4\"\n        }), \",\\n                childAspectRatio: \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"9\"\n        }), \" / \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"16\"\n        }), \",\\n                children: \", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"List\"\n        }), \".generate(data!.shows!.length, (index) {\\n                  ShowModel item = data.shows![index];\\n                  \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"return\"\n        }), \" ShowCard(\\n                      \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"show\"\n        }), \": item,\\n                      onSelected: () {\\n                        \", _jsxs(_components.span, {\n          className: \"hljs-comment\",\n          children: [\"/// \", _jsx(_components.span, {\n            className: \"markdown\",\n            children: \"do Somethigs...\"\n          })]\n        }), \"\\n                      },\\n                    );\\n                }),\\n              );\\n            },\\n            onErrorStatus: \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" SizedBox(),\\n            onInitialStatus: \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" SizedBox(),\\n            onLoadingStatus: Padding(\\n              padding: \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"const\"\n        }), \" EdgeInsets.all(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"48.0\"\n        }), \"),\\n              child: SizedBox(\\n                width: \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"50\"\n        }), \",\\n                height: \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"50\"\n        }), \",\\n                child: SpinKitRipple(\\n                  color: themeData.colorScheme.secondary,\\n                  size: \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"40\"\n        }), \",\\n                ),\\n              ),\\n            ),\\n          );\\n        },\\n      );\\n  }\\n}\\n\"]\n      })\n    }), \"\\n\", _jsx(\"div\", {\n      class: \"content-ad\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 샘플 코드에서는 Bloc이 emit() 함수로 갱신될 때 showsStatus 상태에 대한 onCompletedStatus 및 onLoadingStatus를 처리했습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://miro.medium.com/v2/resize:fit:1280/1*XwwugAFY35KNciVoDHThEw.gif\",\n        alt: \"이미지\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"지금까지 함께 해주셔서 감사합니다\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"나와 함께 계속 이야기를 공유해주시고 피드백을 기다리고 있습니다. 분들의 소중한 의견을 기다리고 있습니다. 🙏\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-20-BestBlocstatehandlinginFlutterpart2"},"buildId":"7rKODeu6chWTLgXf6auoL","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>