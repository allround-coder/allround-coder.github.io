<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>NextJS에서 Node Cron을 사용해 예약 작업 실행하기 | allround-coder</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///post/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="NextJS에서 Node Cron을 사용해 예약 작업 실행하기 | allround-coder" data-gatsby-head="true"/><meta property="og:title" content="NextJS에서 Node Cron을 사용해 예약 작업 실행하기 | allround-coder" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///post/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron" data-gatsby-head="true"/><meta name="twitter:title" content="NextJS에서 Node Cron을 사용해 예약 작업 실행하기 | allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 01:35" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b088bc509ff5c497.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_buildManifest.js" defer=""></script><script src="/_next/static/t9N7vwmpvBMQnO2PSctoH/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">NextJS에서 Node Cron을 사용해 예약 작업 실행하기</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="NextJS에서 Node Cron을 사용해 예약 작업 실행하기" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Allround Coder</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">3<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p><img src="/assets/img/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron_0.png" alt="2024-06-20-RunningaScheduledjobinNextJSwithNodeCron"></p>
<p>Next.js에서 Cron 작업을 소개합니다. Vercel Cron과 같은 외부 서비스를 의존하지 않고 Next.js 프레임워크 내에서 예약된 작업을 통합하는 주제입니다. Cron 작업은 데이터 가져오기, 이메일 알림, 또는 웹 애플리케이션에서 시스템 유지보수와 같은 반복적인 작업을 자동화하는 데 중요한 역할을 합니다. Vercel은 내장된 cron과 유사한 기능을 제공하지만 Next.js 내에서 cron 작업을 직접 구현하는 방법을 이해하면 애플리케이션의 예약된 작업에 더 많은 유연성과 제어를 제공할 수 있습니다. 이 블로그 포스트에서는 cron 작업의 기본 원리를 살펴보고 Node.js를 사용하여 Next.js 프로젝트에 이를 원활하게 통합하는 방법을 보여드리겠습니다. 함께 알아보겠습니다!</p>
<p><strong>단계 1</strong></p>
<p>필요한 패키지를 설치하세요.</p>
<pre><code class="hljs language-js">npm i node-cron
</code></pre>
<p>단계 2</p>
<p>서버.js 설정</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> next = <span class="hljs-built_in">require</span>(<span class="hljs-string">'next'</span>);
<span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">'axios'</span>);

<span class="hljs-keyword">const</span> dev = process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> !== <span class="hljs-string">'production'</span>;
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">next</span>({ dev });
<span class="hljs-keyword">const</span> handle = app.<span class="hljs-title function_">getRequestHandler</span>();

<span class="hljs-comment">//</span>
<span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">const</span> socketIO = <span class="hljs-built_in">require</span>(<span class="hljs-string">'socket.io'</span>);
<span class="hljs-comment">//</span>

app.<span class="hljs-title function_">prepare</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> () => {
    <span class="hljs-keyword">const</span> server = <span class="hljs-title function_">express</span>();
    <span class="hljs-keyword">const</span> httpServer = http.<span class="hljs-title function_">createServer</span>(server);

    <span class="hljs-comment">// 스케줄러</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">runScheduler</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) => {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(<span class="hljs-string">`<span class="hljs-subst">${당신의_기본_URL}</span>/api/services/scheduler`</span>,
                {
                    <span class="hljs-attr">headers</span>: {
                        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
                    }
                }
            )
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)
        }
    }

    server.<span class="hljs-title function_">all</span>(<span class="hljs-string">'*'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =></span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">handle</span>(req, res);
    });

    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PORT</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">PORT</span> || <span class="hljs-number">3000</span>;
    httpServer.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>, <span class="hljs-function">() =></span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`서버가 http://localhost:<span class="hljs-subst">${PORT}</span>에서 실행 중입니다.`</span>);

        <span class="hljs-title function_">runScheduler</span>();
    });
});
</code></pre>
<p>스텝 3</p>
<p>'api/services/scheduler' 경로에 라우트를 생성하세요.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"next/server"</span>;

<span class="hljs-keyword">var</span> cron = <span class="hljs-built_in">require</span>(<span class="hljs-string">'node-cron'</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">POST</span>(<span class="hljs-params">req, res</span>) {

    <span class="hljs-keyword">try</span> {

        cron.<span class="hljs-title function_">schedule</span>(<span class="hljs-string">'*/20 * * * *'</span>, <span class="hljs-keyword">async</span> () => {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">''</span>)
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'######################################'</span>)
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'#                                    #'</span>)
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'# 매 20분마다 스케줄러 실행됨              #'</span>)
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'#                                    #'</span>)
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'######################################'</span>)
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">''</span>)

            <span class="hljs-comment">// 여기에서 작업을 수행하세요</span>
        });

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">data</span>: <span class="hljs-string">'성공'</span>, <span class="hljs-attr">status</span>: <span class="hljs-number">200</span> });

    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: error }, { <span class="hljs-attr">status</span>: <span class="hljs-number">500</span> })
    }

}
</code></pre>
<ul>
<li>크론 타이밍은 Crontab.guru를 통해 설정할 수 있습니다. — 크론 스케줄 표현식 생성기</li>
</ul>
<p>Next.js에서 cron 작업을 구현하는 것을 살펴봐 주셔서 감사합니다. 이 가이드가 Next.js 애플리케이션에서 예약 작업을 활용하는 데 유용한 통찰을 제공했기를 바랍니다. 궁금한 점이 있거나 도전에 직면하거나 단순히 생각을 공유하고 싶다면 망설이지 말고 연락해 주세요. 귀하의 피드백은 저희에게 매우 소중합니다. 귀하와 같은 개발자들을 위해 콘텐츠를 만들어 가는 데 큰 영감을 받습니다. 즐거운 코딩하세요!</p>
<p>참고 자료</p>
<ul>
<li>node-cron — npm (npmjs.com)</li>
</ul>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"NextJS에서 Node Cron을 사용해 예약 작업 실행하기","description":"","date":"2024-06-20 01:35","slug":"2024-06-20-RunningaScheduledjobinNextJSwithNodeCron","content":"\n\n![2024-06-20-RunningaScheduledjobinNextJSwithNodeCron](/assets/img/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron_0.png)\n\nNext.js에서 Cron 작업을 소개합니다. Vercel Cron과 같은 외부 서비스를 의존하지 않고 Next.js 프레임워크 내에서 예약된 작업을 통합하는 주제입니다. Cron 작업은 데이터 가져오기, 이메일 알림, 또는 웹 애플리케이션에서 시스템 유지보수와 같은 반복적인 작업을 자동화하는 데 중요한 역할을 합니다. Vercel은 내장된 cron과 유사한 기능을 제공하지만 Next.js 내에서 cron 작업을 직접 구현하는 방법을 이해하면 애플리케이션의 예약된 작업에 더 많은 유연성과 제어를 제공할 수 있습니다. 이 블로그 포스트에서는 cron 작업의 기본 원리를 살펴보고 Node.js를 사용하여 Next.js 프로젝트에 이를 원활하게 통합하는 방법을 보여드리겠습니다. 함께 알아보겠습니다!\n\n**단계 1**\n\n필요한 패키지를 설치하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nnpm i node-cron\n```\n\n단계 2\n\n서버.js 설정\n\n```js\nconst express = require('express');\nconst next = require('next');\nconst axios = require('axios');\n\nconst dev = process.env.NODE_ENV !== 'production';\nconst app = next({ dev });\nconst handle = app.getRequestHandler();\n\n//\nconst http = require('http');\nconst socketIO = require('socket.io');\n//\n\napp.prepare().then(async () =\u003e {\n    const server = express();\n    const httpServer = http.createServer(server);\n\n    // 스케줄러\n    const runScheduler = async () =\u003e {\n        try {\n            const response = await axios.post(`${당신의_기본_URL}/api/services/scheduler`,\n                {\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                }\n            )\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    server.all('*', (req, res) =\u003e {\n        return handle(req, res);\n    });\n\n    const PORT = process.env.PORT || 3000;\n    httpServer.listen(PORT, () =\u003e {\n        console.log(`서버가 http://localhost:${PORT}에서 실행 중입니다.`);\n\n        runScheduler();\n    });\n});\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n스텝 3\n\n'api/services/scheduler' 경로에 라우트를 생성하세요.\n\n```js\nimport { NextResponse } from \"next/server\";\n\nvar cron = require('node-cron');\n\nexport async function POST(req, res) {\n\n    try {\n\n        cron.schedule('*/20 * * * *', async () =\u003e {\n\n            console.log('')\n            console.log('######################################')\n            console.log('#                                    #')\n            console.log('# 매 20분마다 스케줄러 실행됨              #')\n            console.log('#                                    #')\n            console.log('######################################')\n            console.log('')\n\n            // 여기에서 작업을 수행하세요\n        });\n\n        return NextResponse.json({ data: '성공', status: 200 });\n\n    } catch (error) {\n        console.log(error)\n        return NextResponse.json({ error: error }, { status: 500 })\n    }\n\n}\n```\n\n- 크론 타이밍은 Crontab.guru를 통해 설정할 수 있습니다. — 크론 스케줄 표현식 생성기\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nNext.js에서 cron 작업을 구현하는 것을 살펴봐 주셔서 감사합니다. 이 가이드가 Next.js 애플리케이션에서 예약 작업을 활용하는 데 유용한 통찰을 제공했기를 바랍니다. 궁금한 점이 있거나 도전에 직면하거나 단순히 생각을 공유하고 싶다면 망설이지 말고 연락해 주세요. 귀하의 피드백은 저희에게 매우 소중합니다. 귀하와 같은 개발자들을 위해 콘텐츠를 만들어 가는 데 큰 영감을 받습니다. 즐거운 코딩하세요!\n\n참고 자료\n\n- node-cron — npm (npmjs.com)","ogImage":{"url":"/assets/img/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron_0.png"},"coverImage":"/assets/img/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron_0.png","tag":["Tech"],"readingTime":3},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-RunningaScheduledjobinNextJSwithNodeCron_0.png\" alt=\"2024-06-20-RunningaScheduledjobinNextJSwithNodeCron\"\u003e\u003c/p\u003e\n\u003cp\u003eNext.js에서 Cron 작업을 소개합니다. Vercel Cron과 같은 외부 서비스를 의존하지 않고 Next.js 프레임워크 내에서 예약된 작업을 통합하는 주제입니다. Cron 작업은 데이터 가져오기, 이메일 알림, 또는 웹 애플리케이션에서 시스템 유지보수와 같은 반복적인 작업을 자동화하는 데 중요한 역할을 합니다. Vercel은 내장된 cron과 유사한 기능을 제공하지만 Next.js 내에서 cron 작업을 직접 구현하는 방법을 이해하면 애플리케이션의 예약된 작업에 더 많은 유연성과 제어를 제공할 수 있습니다. 이 블로그 포스트에서는 cron 작업의 기본 원리를 살펴보고 Node.js를 사용하여 Next.js 프로젝트에 이를 원활하게 통합하는 방법을 보여드리겠습니다. 함께 알아보겠습니다!\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e단계 1\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e필요한 패키지를 설치하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm i node-cron\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e단계 2\u003c/p\u003e\n\u003cp\u003e서버.js 설정\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'express'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e next = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'next'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e axios = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'axios'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e dev = process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eNODE_ENV\u003c/span\u003e !== \u003cspan class=\"hljs-string\"\u003e'production'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003enext\u003c/span\u003e({ dev });\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e handle = app.\u003cspan class=\"hljs-title function_\"\u003egetRequestHandler\u003c/span\u003e();\n\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e http = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'http'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e socketIO = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'socket.io'\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\n\napp.\u003cspan class=\"hljs-title function_\"\u003eprepare\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e () =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e server = \u003cspan class=\"hljs-title function_\"\u003eexpress\u003c/span\u003e();\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e httpServer = http.\u003cspan class=\"hljs-title function_\"\u003ecreateServer\u003c/span\u003e(server);\n\n    \u003cspan class=\"hljs-comment\"\u003e// 스케줄러\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erunScheduler\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n            \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e response = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e axios.\u003cspan class=\"hljs-title function_\"\u003epost\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${당신의_기본_URL}\u003c/span\u003e/api/services/scheduler`\u003c/span\u003e,\n                {\n                    \u003cspan class=\"hljs-attr\"\u003eheaders\u003c/span\u003e: {\n                        \u003cspan class=\"hljs-string\"\u003e\"Content-Type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"application/json\"\u003c/span\u003e\n                    }\n                }\n            )\n        } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(error)\n        }\n    }\n\n    server.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'*'\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) =\u003e\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandle\u003c/span\u003e(req, res);\n    });\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e = process.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ePORT\u003c/span\u003e || \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e;\n    httpServer.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003ePORT\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n        \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`서버가 http://localhost:\u003cspan class=\"hljs-subst\"\u003e${PORT}\u003c/span\u003e에서 실행 중입니다.`\u003c/span\u003e);\n\n        \u003cspan class=\"hljs-title function_\"\u003erunScheduler\u003c/span\u003e();\n    });\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e스텝 3\u003c/p\u003e\n\u003cp\u003e'api/services/scheduler' 경로에 라우트를 생성하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eNextResponse\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"next/server\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e cron = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'node-cron'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ePOST\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ereq, res\u003c/span\u003e) {\n\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n\n        cron.\u003cspan class=\"hljs-title function_\"\u003eschedule\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'*/20 * * * *'\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e () =\u003e {\n\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e)\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'######################################'\u003c/span\u003e)\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'#                                    #'\u003c/span\u003e)\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'# 매 20분마다 스케줄러 실행됨              #'\u003c/span\u003e)\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'#                                    #'\u003c/span\u003e)\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'######################################'\u003c/span\u003e)\n            \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e)\n\n            \u003cspan class=\"hljs-comment\"\u003e// 여기에서 작업을 수행하세요\u003c/span\u003e\n        });\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eNextResponse\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003edata\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'성공'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e });\n\n    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n        \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(error)\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eNextResponse\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003eerror\u003c/span\u003e: error }, { \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e })\n    }\n\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e크론 타이밍은 Crontab.guru를 통해 설정할 수 있습니다. — 크론 스케줄 표현식 생성기\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNext.js에서 cron 작업을 구현하는 것을 살펴봐 주셔서 감사합니다. 이 가이드가 Next.js 애플리케이션에서 예약 작업을 활용하는 데 유용한 통찰을 제공했기를 바랍니다. 궁금한 점이 있거나 도전에 직면하거나 단순히 생각을 공유하고 싶다면 망설이지 말고 연락해 주세요. 귀하의 피드백은 저희에게 매우 소중합니다. 귀하와 같은 개발자들을 위해 콘텐츠를 만들어 가는 데 큰 영감을 받습니다. 즐거운 코딩하세요!\u003c/p\u003e\n\u003cp\u003e참고 자료\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003enode-cron — npm (npmjs.com)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-RunningaScheduledjobinNextJSwithNodeCron"},"buildId":"t9N7vwmpvBMQnO2PSctoH","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>