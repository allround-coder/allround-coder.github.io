<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>allround-coder</title><meta name="description" content="I develop websites, games and apps with HTML, CSS and JS."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///posts/65" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="allround-coder" data-gatsby-head="true"/><meta property="og:title" content="allround-coder" data-gatsby-head="true"/><meta property="og:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta property="og:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///posts/65" data-gatsby-head="true"/><meta name="twitter:title" content="allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta name="twitter:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="next-head-count" content="18"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a22d13b8e6bc8203.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a22d13b8e6bc8203.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/873-ec7535a55e788b31.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpage%5D-cd321dee6458c228.js" defer=""></script><script src="/_next/static/OFpTzInQeZKWBaqJEukNX/_buildManifest.js" defer=""></script><script src="/_next/static/OFpTzInQeZKWBaqJEukNX/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="posts_container__s9Z_H posts_-list__bsl0U"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><div class="posts_inner__HIBjT"><article><h2 class="SectionTitle_section_title__HS_xr">Posts</h2><div class="posts_project_list__oDV_y"><div class="PostList_post_list__or0rl"><a class="PostList_post_item__gAdVi" aria-label="Angular를 사용하여 단일 SPA로 마이크로 프론트엔드를 만드는 방법" href="/post/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Angular를 사용하여 단일 SPA로 마이크로 프론트엔드를 만드는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Angular를 사용하여 단일 SPA로 마이크로 프론트엔드를 만드는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">Angular를 사용하여 단일 SPA로 마이크로 프론트엔드를 만드는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="AI 에이전트들이 어디를 찾아야 하는지 알고 있어요 교차 지식 베이스 검색 아키텍처" href="/post/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="AI 에이전트들이 어디를 찾아야 하는지 알고 있어요 교차 지식 베이스 검색 아키텍처" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="AI 에이전트들이 어디를 찾아야 하는지 알고 있어요 교차 지식 베이스 검색 아키텍처" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">AI 에이전트들이 어디를 찾아야 하는지 알고 있어요 교차 지식 베이스 검색 아키텍처</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">8<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="NestJS 전반적인 내용 정리" href="/post/2024-05-20-NestJSBestPracticesPart0"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="NestJS 전반적인 내용 정리" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-NestJSBestPracticesPart0_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="NestJS 전반적인 내용 정리" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">NestJS 전반적인 내용 정리</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">2<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="TypeScript, Nodejs, 그리고 PostgreSQL과 함께 Sequelize를 사용하는 방법" href="/post/2024-05-20-HowtoUseSequelizewithTypeScriptNodejsandPostgreSQL"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="TypeScript, Nodejs, 그리고 PostgreSQL과 함께 Sequelize를 사용하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-HowtoUseSequelizewithTypeScriptNodejsandPostgreSQL_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="TypeScript, Nodejs, 그리고 PostgreSQL과 함께 Sequelize를 사용하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">TypeScript, Nodejs, 그리고 PostgreSQL과 함께 Sequelize를 사용하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">12<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="백엔드에서 Server-Sent EventsSSE로 실시간 알림을 전달하는 방법" href="/post/2024-05-20-HowWeUsedServer-SentEventsSSEtoDeliverReal-TimeNotificationsonOurBackend"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="백엔드에서 Server-Sent EventsSSE로 실시간 알림을 전달하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-HowWeUsedServer-SentEventsSSEtoDeliverReal-TimeNotificationsonOurBackend_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="백엔드에서 Server-Sent EventsSSE로 실시간 알림을 전달하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">백엔드에서 Server-Sent EventsSSE로 실시간 알림을 전달하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">7<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="앵귤러에서 let 구문을 사용해 타입 축소하는 방법" href="/post/2024-05-20-EleganttypenarrowingwithletsyntaxinAngular"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="앵귤러에서 let 구문을 사용해 타입 축소하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-EleganttypenarrowingwithletsyntaxinAngular_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="앵귤러에서 let 구문을 사용해 타입 축소하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">앵귤러에서 let 구문을 사용해 타입 축소하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="리액트 컴파일러, 리액트의 새로운 방식" href="/post/2024-05-20-ReactCompileranewwaytoReact"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="리액트 컴파일러, 리액트의 새로운 방식" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-ReactCompileranewwaytoReact_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="리액트 컴파일러, 리액트의 새로운 방식" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">리액트 컴파일러, 리액트의 새로운 방식</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="리액트 컨퍼런스 2024 내용 정리" href="/post/2024-05-20-ReactConf2024Highlights"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="리액트 컨퍼런스 2024 내용 정리" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-ReactConf2024Highlights_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="리액트 컨퍼런스 2024 내용 정리" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">리액트 컨퍼런스 2024 내용 정리</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="윈도우 IIS 서버에 NextJs 애플리케이션을 배포하는 방법" href="/post/2024-05-20-DeployingNextJsApplicationonWindowsIISServer"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="윈도우 IIS 서버에 NextJs 애플리케이션을 배포하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-DeployingNextJsApplicationonWindowsIISServer_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="윈도우 IIS 서버에 NextJs 애플리케이션을 배포하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">윈도우 IIS 서버에 NextJs 애플리케이션을 배포하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">7<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="리액트, Framer 연동해서 사용하기" href="/post/2024-05-20-ReactFramersequences"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="리액트, Framer 연동해서 사용하기" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-05-20-ReactFramersequences_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="리액트, Framer 연동해서 사용하기" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">리액트, Framer 연동해서 사용하기</strong><div class="PostList_meta__VCFLX"><span class="date">May 20, 2024</span><span class="PostList_reading_time__6CBMQ">6<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a></div></div></article><div class="posts_pagination__R_03T"><button type="button" class="page_button -prev">&lt;</button><a class="link" href="/posts/61">61</a><a class="link" href="/posts/62">62</a><a class="link" href="/posts/63">63</a><a class="link" href="/posts/64">64</a><a class="link posts_-active__YVJEi" href="/posts/65">65</a><a class="link" href="/posts/66">66</a><a class="link" href="/posts/67">67</a><a class="link" href="/posts/68">68</a><a class="link" href="/posts/69">69</a><a class="link" href="/posts/70">70</a><a class="link" href="/posts/71">71</a><a class="link" href="/posts/72">72</a><a class="link" href="/posts/73">73</a><a class="link" href="/posts/74">74</a><a class="link" href="/posts/75">75</a><a class="link" href="/posts/76">76</a><a class="link" href="/posts/77">77</a><a class="link" href="/posts/78">78</a><a class="link" href="/posts/79">79</a><a class="link" href="/posts/80">80</a><button type="button" class="page_button -prev">&gt;</button></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"Angular를 사용하여 단일 SPA로 마이크로 프론트엔드를 만드는 방법","description":"","date":"2024-05-20 22:23","slug":"2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA","content":"\n\nANGULAR 17을 사용한 마이크로프론트엔드 애플리케이션 (독립형).\n\nSingle SPA는 마이크로프론트엔드(MF) 애플리케이션을 만드는 데 도움이 되는 JavaScript 라이브러리입니다. (node.js v18. 13 또는 그 이상)\n\n# Single SPA를 사용하여 Angular 마이크로프론트엔드를 생성하는 방법은?\n\n시작하기 전에 single SPA CLI를 글로벌로 설치해야 합니다. —\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nnpm i -g create-single-spa\n```\n\n설치가 완료되면 첫 번째 마이크로 프론트엔드를 만들 준비가 된 것입니다. JavaScript 라이브러리 중에 사용할 수 있는 MFs 를 만들 수 있습니다. 그러나 여기서는 Angular MFs 를 만들 것입니다. 터미널에서 다음 명령어를 입력하세요.\n\n```js\ncreate-single-spa\n```\n\n싱글 스파 프로젝트를 생성하기 위해 아래 데이터를 요청합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n새 프로젝트의 디렉토리 (.): testProject\n\n생성할 유형 선택: 프로젝트를 처음 생성하기 때문에 목록에서 single-spa 루트 구성 옵션을 선택해야 합니다.\n\n어떤 패키지 매니저를 사용하시겠습니까?: Angular 프로젝트를 생성하고 npm 패키지를 사용하므로 매니저로 npm을 선택해야 합니다.\n\n이 프로젝트에서 TypeScript를 사용합니까? (y/N): 당연히 yes\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n`프로젝트를 시작할 때 single-spa 레이아웃 엔진을 사용하시겠습니까? (Y/n) -` single-spa 레이아웃 엔진을 사용하려면 Y를 선택하세요. 그렇지 않다면 N을 입력하세요.\n\n`조직 이름 (영문자, 숫자, 대시 또는 언더바 사용 가능) -` 조직 이름을 입력해주세요. 아무 이름이나 상관 없습니다. 루트 구성이 생성 중이며 완료되면 루트 디렉토리에서 npm install을 입력하고 npm start를 실행해주세요.\n\n프로젝트 실행 정보는 터미널 화면에 나타납니다. 대부분의 경우 9000 포트에서 실행되므로 브라우저에서 http://localhost:9000/을 열어서 확인해주세요. 화면에 다음과 같은 내용이 표시됩니다.\n\n![이미지](/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_0.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n축하합니다! 앱 루트가 잘 작동하고 있어요. 다음 단계는 Angular MFs를 만드는 것입니다.\n\n만들어진 디렉토리로 이동해서 다음 단계를 따르세요. Angular 앱을 만들기 위해서는 루트 구성 생성 시 묻는 몇 군데의 옵션을 변경해야 합니다.\n\n마이크로프론트엔드를 생성하려면 새 터미널을 열고 아래 명령어를 실행하세요.\n\n```js\ncreate-single-spa\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래 제공된 단계를 따라주세요.\n\n```js\n? 새 프로젝트를 위한 디렉토리를 지정하세요.\n? 단일-SPA 애플리케이션 / 패럴 생성 유형을 선택하세요.\n? 어떤 프레임워크를 사용하시겠습니까? angular\n? 프로젝트 이름 (문자, 숫자, 대시 또는 밑줄 사용 가능) login\n? 어떤 스타일시트 포맷을 사용하시겠습니까? Sass (SCSS)     [https://sass-lang.com/documentation/syntax#scss]\n? 서버 측 렌더링 (SSR) 및 정적 사이트 생성(SSG/프리랜더링)을 활성화하시겠습니까? \n아니요\n```\n\n성공적으로 실행되면, 뼈대 파일이 생성될 것입니다. 그런 다음\n\n앵귤러의 분석 활성화 여부를 물을 것입니다. (귀하는 요구에 따라 선택하십시오)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n? 이 프로젝트에 대한 익명의 사용 데이터를 구글의 개인정보 보호 정책인 Google의 개인정보 처리방침에 따라 구글 Angular 팀과 공유하시겠습니까? 자세한 내용 및 이 설정을 변경하는 방법은 https://angular.io/analytics를 참조하십시오. 예\n```\n\n그런 다음 single-spa-angular가 설치됩니다.\n\n```js\nsingle-spa-angular@9.1.2 패키지가 설치되고 실행됩니다.\n계속 진행하시겠습니까? 예\n```\n\n그런 다음 라우팅 및 포트를 요청합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n```js\n? Does your application use Angular routing? Yes\n? What port should your project run on? 4200\n```\n\n다음 단계는 기능을 활성화하는 것입니다 —\n\n단계 -1 → 루트 디렉토리 내의 src/index.ejs 파일을 열어 앱이 호스팅된 위치를 import 맵 내에 추가합니다. 현재는 로컬 호스트이지만 앞으로는 배포된 서버 위치가 될 것입니다.\n\n![How to create an angular micro frontend using single SPA](/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_1.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nStep-2 → Angular 앱을 실행하려면 index.ejs 파일에서 아래 이미지에 표시된 대로 zone 스크립트를 활성화해야 합니다.\n\n![Zone Script](/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_2.png)\n\nStep -3 → microfrontend-layout.html 파일을 열고 다음 사항을 변경하세요 -\n\nroute 태그 내부에 새로 생성한 MF의 경로를 라우트 경로로 추가하세요 —\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![image](/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_3.png)\n\nStep -4 → login 폴더 내 angular.json 파일에서 다음 변경 사항을 수행합니다.\n\n![image](/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_4.png)\n\nStep -5 → login/src/main.single-spa.ts로 이동하여 라이프사이클이 AppModule와 구성되어 있는 것을 볼 수 있지만, Angular 17에서는 더 이상 AppModule을 사용하지 않습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![image](/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_5.png)\n\n그래서 아래 필요한 변경사항을 처리해야 합니다.\n\n- 일단 환경 파일을 제거하고 프로덕션을 활성화하는 조건을 제거합니다. (만약 프로덕션, 개발 및 스테이징을 위해 환경이 필요하다면, login/src/environment에 환경 파일을 생성하고 환경 설정을 해 주세요.)\n- AppModule 대신에 AppComponent와 몇 가지 프로바이더 구성을 사용할 것입니다.\n\n![image](/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_6.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n최종 단계 -\n\n이제 새로 생성된 앱 터미널에 다음 명령어를 입력해 주세요 —\n\n```js\nnpm run serve:single-spa:login\n```\n\n만약 오류가 발생한다면 npm i를 입력한 뒤 위 명령어를 실행해 주세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n지금 브라우저를 열고 microfrontend-layout.html 파일에서 언급된 URL 경로를 변경해주세요. (저희 경우에는 루트 파일의 경우 http://localhost:9000 및 로그인 페이지의 경우 http://localhost:9000/login을 엽니다).\n\n![이미지](/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_7.png)\n\n다시 한번 축하드립니다. Angular 17에서 MF를 성공적으로 생성하였으며 스탠드얼론 애플리케이션에서도 작동 중입니다.","ogImage":{"url":"/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_0.png"},"coverImage":"/assets/img/2024-05-20-HowtocreateanangularmicrofrontendsusingsingleSPA_0.png","tag":["Tech"],"readingTime":5},{"title":"AI 에이전트들이 어디를 찾아야 하는지 알고 있어요 교차 지식 베이스 검색 아키텍처","description":"","date":"2024-05-20 22:21","slug":"2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture","content":"\n\n## 대화형 챗봇을 만들기 위해 여러 AI 에이전트를 활용하는 방법에 도전해 봅시다! 🔎📚\n\n요즘 AI 기술이 핫하죠. 다양한 응용 프로그램을 보고, 나도 한번 시도해 보고 싶었어요!\n\n이 기사에서는 AI 에이전트를 활용하여 다중 지식 베이스 QnA 챗봇을 만드는 아키텍처를 살펴보겠습니다. 우리는 선택 로직, 요약, 집계 및 이전 대화 내역을 기반으로 질문을 정제하는 여러 에이전트를 결합할 것입니다. 이를 통해 이전 상호작용 내용을 추적하면서 여러 지식 베이스의 질문에 대처할 수 있는 챗봇을 만들 수 있게 될 거예요.\n\n이 기사를 끝까지 읽으면, AI 에이전트가 복잡한 작업을 보다 쉽게 처리하고 다양한 정보 소스로부터 가치 있는 통찰을 얻는 데 얼마나 큰 잠재력을 가지고 있는지에 대해 더 잘 이해하게 될 거에요. 기사가 너무 길어서 걱정이 된다면, 최종 아키텍처에 대한 간략한 미리보기를 제공해 드리겠습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![이미지](/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_0.png)\n\n# 아이디어와 문제\n\n이미 기본 챗봇을 구현해놓아서 질문 시맨틱 검색을 할 수 있어요. 이 앱은 특정 텍스트와 대화할 수 있게 해줘요. OpenAI의 유용한 튜토리얼을 확인해볼 수 있어요! 놀랍도록 좋아요 — 어떤 세부사항이든 큰 텍스트와 대화할 수 있어요!\n\n![이미지](/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_1.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n하지만 문제는... 여러 조각의 텍스트와 대화할 수 있게 하는 방법이 무엇인가요? 다섯 권의 책이 있다고 가정해보세요. 질문이 있습니다. 각 \"책\"에 동일한 질문을 하되, 네 권이 별도로 \"모르겠어\"라고 대답하는 번거로운 과정일텐데요.\n\n당신의 컬렉션 안에 속하는 여러 권의 책에 관한 질문이 있다면서요, 그리고 하나의 일관된 대답을 원한다면 어떨까요? 현재 내 간단한 앱은 한 번에 한 지식 베이스만과 상호 작용할 수 있습니다. 따라서 각 책에게 묻는다면, 각각 독립적인 대답을 얻게 됩니다!\n\n여기에서 발생하는 또 다른 문제는... 만약 많은 양의 책이 있다면 어떻게 할까요? 주어진 질문을 기반으로 어떤 책이 관련이 있는지 어떻게 알 수 있을까요? 모든 책에 대해 사용자/인공지능 간의 교환을 하기에는 서버 호출이 많이 필요합니다.\n\n그래서 아이디어는... 여러 지식 베이스에 관련이 있을 수 있는 단일 질문을 어떻게 하고 하나의 답변을 받을 수 있을까요? 그건 실제로 가능한 건지요?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 기본 시맨틱 검색 앱\n\n아래 다이어그램을 통해 기본 시맨틱 검색 앱의 구조를 살펴보겠습니다.\n\n![다이어그램](/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_2.png)\n\n여기서 사용자는 두 가지 입력을 기대합니다: 질문 자체와 질문할 관련 지식 베이스의 이름입니다. 일반적인 질문뿐만 아니라 관련 정보가 포함된 지식 베이스가 어느 것인지 알아야 합니다! 알고 계시면 좋지만, 모르겠다면 어떨까요? 어느 지식 베이스를 살펴볼 지 모르는 상태에서 간단한 질문을 하면 좋겠죠?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# Selector Logic에 집중하기\n\n![Selector Logic](/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_3.png)\n\nSelector Logic은 꽤 간단합니다. 네임스페이스는 텍스트 말뭉치의 \"벡터화\"된 버전을 포함하는 데이터베이스와 연결됩니다. 이것은 코드에게 어떤 데이터베이스에서 의미론적 검색을 수행해야 하는지 알려줍니다.\n\n하지만 질문 자체를 기반으로 네임스페이스를 \"추론\"할 수 있다면 어떨까요? 그게 가능할까요? 단순한 일처럼 들리지 않나요? 다행히도, 이 힘든 작업을 AI에게 위임할 방법이 있을 수 있습니다!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 해결책: AI 에이전트!\n\nAI 에이전트란 무엇을 의미할까요? 이러한 대규모 언어 모델을 챗봇으로 생각하는 대신, 함수로 생각할 수 있습니다! 입력과 출력이 있는 함수입니다! 이 개념을 설명하기 위해 간단한 예제를 사용해보겠습니다.\n\naddTwoNumbers 함수가 있다고 상상해 보세요. 이 함수는 다음과 같이 작성되었을 것입니다:\n\n```js\nconst addTwoNumbers = (a, b) =\u003e {\n  return a + b\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n간단하죠. 그런데 이렇게도 해볼까요?\n\n```js\nconst addTwoNumbers = async (a, b) =\u003e {\n  const aiAgent = new openai(\"계산기 에이전트로서...\");\n  return (await aiAgent.chat(`add ${a} + ${b}`)).toNumber();\n}\n```\n\n너무 과한 느낌일 수도 있지만 😆, 이 개념은 여기서도 잘 적용됩니다. 함수의 논리를 작성하지 않았고, 단지 AI 프롬프트에 정보 몇 개를 제공했을 뿐이에요:\n\n- 시스템 프롬프트 - \"계산기 에이전트로서...\"\n- 질문 - \"a와 b를 더하세요\".\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n보다 복잡한 함수가 있다고 상상해 보세요! 사실 코드에서 어려운 결정을 내리는 것을 대규모 언어 모델에 맡기고 있다는 거죠.\n\n우리는 어떤 네임스페이스가 하나의 질문을 받을지 선택하는 복잡한 로직을 위임하고 싶었었죠. 이러한 작업을 AI에게 맡길 수 있습니다!\n\n# AI 에이전트로 선택 로직 대체하기!\n\n![이미지](/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_4.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위의 다이어그램을보면 선택기 로직이 AI 에이전트로 대체되었음을 알 수 있습니다!\n\n이 경우, 선택 에이전트는 입력 메시지에 기반하여 관련 지식 베이스를 선택하기 위한 시스템 프롬프트를 받습니다. 에이전트는 지식 베이스 각각에 대한 정보 요약을 포함한 knowledgebaseConstant를 받습니다. 보통 여기에는 지식 베이스에 대한 중요한 키워드를 넣어서 선택기 에이전트가 이후 검색을 위해 지식 베이스를 선택할 수 있도록 돕습니다.\n\n이를 통해 적절한 지식 베이스를 선택하는 어려운 작업을 대규모 언어 모델에 위임할 수 있습니다! 이렇게 하면 생활이 훨씬 쉬워집니다. 수백 개의 지식 베이스가 있다고 상상해보세요. 도메인에 대한 합리적인 요약을 제공할 수 있다면, 선택기 에이전트가 직접 찾아낼 수 있어야 합니다!\n\n아래에서 에이전트에 공급한 원본 시스템 프롬프트를 볼 수 있습니다!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nconst systemPrompt = `당신은 주어진 질문에 대한 지식 베이스의 관련성을 결정하는 선택 요원입니다.\n\n고유한 네임스페이스와 해당 정보 범주에 대한 간단한 설명을 포함하는 지식 베이스 목록이 제공됩니다.\n\n각 질문에 대해 키워드, 엔티티 또는 다른 관련 기준에 따라 관련 지식 베이스를 선택할 것입니다. 그런 다음 질문에 관련이 있다고 생각하는 네임스페이스 목록을 반환합니다. 어떤 지식 베이스도 관련이 없다고 생각하는 경우 빈 목록을 반환합니다.\n\n다음은 관련 지식 베이스입니다:\n\n지식 베이스:\n${namespaceDescriptionMap\n  .map((obj) =\u003e {\n    return `- 네임스페이스: \"${obj.namespace}\"\\\\n  설명: \"${obj.description}\"`;\n  })\n  .join(\"\\\\n\")}\n\n당신의 응답은 관련 있는 네임스페이스 목록만 제공해야 합니다.\n`;\n```\n\n# 새로운 아키텍처\n\n이제 아래 다이어그램에서 새로운 아키텍처를 살펴봅시다!\n\n![다이어그램](/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_5.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n더 많은 에이전트들을 추가해봐요! 간단히 소개해볼게요.\n\n# 요약 에이전트\n\n![에이전트 다이어그램](/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_6.png)\n\n위 다이어그램에서, 선택자 에이전트가 특정 지식베이스를 관련이 있다고 판단하면, 벡터 데이터베이스에 대한 의미 검색이 수행되며 실제 관련 텍스트가 나옵니다. 이 텍스트는 사용자가 제공한 원시 질문 외에도 요약 에이전트에 전달됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이번에는 요약기 에이전트들이 시맨틱 검색으로 추출된 텍스트 조각들을 원문 질문에 대한 것으로 답하는 것처럼 요약하는 과정을 말이죠!\n\n## 집계기 에이전트\n\n![이미지](/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_7.png)\n\n위 다이어그램에 설명된 대로, 이 최종 에이전트는 활성화된 모든 요약기 에이전트들의 요약과 사용자 원문 질문을 받습니다. 이 에이전트의 출력물이 사용자에게 반환되는 정보입니다!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 질문과 대화로!\n\n여기 있어요! 이제 여러 주제에 관한 질문을 하고 여러 지식 베이스를 참조하는 답변을 제공할 수 있는 앱을 만들었어요!\n\n이 앱은 여전히 대화 기록을 기억하지 않는 \"단순한\" Q\u0026A 챗봇이에요. 이를 변경하기 위해 우리는 questionRefiner 에이전트와 대화 기록을 저장하는 캐시를 사용해요.\n\n아래 다이어그램에서 이 아키텍처 내에서 어떻게 위치하는지 확인해보세요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_8.png)\n\nQuestionRefiner agent is placed at the beginning of the pipeline and its main task is to refine the user's input question based on the conversation history stored in the cache. It has two primary inputs:\n\n- The user's input question.\n- The conversation history cache.\n\nThe QuestionRefiner agent uses the conversation history to refine the user's input question by adding context or clarifying the question based on previous exchanges. This refined question is then passed down to the Selector agent and subsequent pipeline.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이전 대화 기록 캐시는 요구 사항에 따라 간단한 인메모리 저장소 또는 더 정교한 데이터 저장 시스템이 될 수 있습니다.\n\nquestionRefiner agent를 아키텍처에 통합함으로써, 이제 여러 지식 베이스를 참조하고 대화 기록을 기억하여 사용자의 질문에 맥락에 맞는 응답을 제공할 수 있는 고급 QnA 챗봇을 보유하게 되었습니다.\n\n에이전트에 공급한 원본 시스템 프롬프트는 아래에서 확인할 수 있습니다!\n\n```js\nconst constructSystemPrompt = (\n  conversationHistory // : { question: string; answer: string }[]\n) =\u003e {\n  return `As a highly skilled AI, your task is to refine the input question considering the conversation history. Follow these steps:\n\n1. Analyze the conversation history, identifying relevant information while ignoring irrelevant parts.\n2. If all conversation history is irrelevant, just preserve the current question.\n3. Otherwise, craft a concise and well-structured question that incorporates relevant context from the conversation history.\n\nIf you can create a more accurate meaningful question, return:\n- the new question\n\nIf the question is irrelevant or you dont know, preserve the question by returning:\n- the current question\n\nConversation History:\n${constructConversationHistoryPrompt(conversationHistory)}`};\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 앱이 동작 중입니다\n\n이 멀티 지식베이스 QnA 챗봇의 구현은 아래의 내 GitHub에서 찾을 수 있습니다 (Typescript, Langchain 및 OpenAI로 구축했습니다):\n\n# 결론\n\n멀티 지식베이스 QnA 챗봇을 만드는 방법을 탐험하는 데 정말 즐거웠어요. 이 글도 즐거웠으면 좋겠어요! 우리는 셀렉터 로직, 요약, 집계, 대화 이력에 따라 질문을 다듬는 데 다양한 AI 에이전트들과 놀았습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n결과는 무엇인가요? 여러 지식 베이스에서의 질문을 다루면서 이전 상호 작용에서의 맥락을 추적할 수 있는 상당히 유연한 챗봇이 탄생했어요. 이 구조는 한 사이즈가 모두에게 맞는 해결책은 아니지만 탐구와 실험을 위한 환상적인 시작점이에요. 게다가 조정하고 더 발전시키기 충분히 간단해서 더 멋진 앱을 만들 수도 있어요! ⚡\n\n개선할 부분은 항상 있지만, 우리의 멀티 지식 베이스 QnA 챗봇은 복잡한 작업을 훨씬 더 효과적으로 만들고 다양한 정보 원천으로부터 가치 있는 통찰을 얻는 인공지능 에이전트의 엄청난 잠재력을 보여주죠. 인공지능 모델이 더욱 강력해지면서 미래에 나타날 놀라운 애플리케이션들을 기대할 수밖에 없네요!","ogImage":{"url":"/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_0.png"},"coverImage":"/assets/img/2024-05-20-AIAgentsKnowWheretoLookACrossKnowledgeBaseSearchArchitecture_0.png","tag":["Tech"],"readingTime":8},{"title":"NestJS 전반적인 내용 정리","description":"","date":"2024-05-20 22:20","slug":"2024-05-20-NestJSBestPracticesPart0","content":"\n\n# 용어\n\n## 피처\n\n컨트롤러를 포함하는 모듈은 \"피처\"라고 부릅니다. 피처는 한 앱에서 다른 앱으로 이동할 수 있는 모듈로, 컨트롤러에 주입된 엔티티를 만족시키기 위해 필요한 모든 종속성을 제공해야 합니다.\n\n![이미지](/assets/img/2024-05-20-NestJSBestPracticesPart0_0.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# @글로벌()\n\n글로벌을 사용하지 마세요! 진지해요; 글로벌을 사용하지 말아주세요. 글로벌은 모듈성을 낮춥니다. 글로벌을 사용할 이유가 없어요. 만약에 무언가를 글로벌로 설정해야 한다면, 아키텍처를 확인해보세요.\n\n## 글로벌 함수\n\n.useGlobal* 함수에도 동일한 규칙이 적용돼요. 이러한 함수들은 글로벌 구성을 e2e 테스트에서 반복해야 할 것을 강요할 거예요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n예를 들어:\n\n```js\nconst app = await NestFactory.create(AppModule);\napp.useGlobalGuards(new RolesGuard()); // \u003c- 좋지 않은 해결책\n```\n\n나는 이러한 구성을 컨트롤러에서 \"재선언\"하는 것을 선호합니다. 이렇게 하면 해당 기능에 모든 종속성을 제공해야 하며 모듈화되고 독립적이게 됩니다.\n\n이 규칙의 유일한 예외는 .setGlobalPrefix 함수입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 친절한 한국어 번역 🚀\n\nIn Plain English 커뮤니티의 일원이 되어 주셔서 감사합니다! 가기 전에:\n\n- 작가를 clapping하고 팔로우 해주세요 ️👏️️\n- 팔로우하기: X | LinkedIn | YouTube | Discord | 뉴스레터\n- 다른 플랫폼 방문하기: Stackademic | CoFeed | Venture | Cubed\n- 알고리즘 콘텐츠를 다루지 않는 블로깅 플랫폼이 필요하신가요? Differ를 시도해보세요\n- PlainEnglish.io에서 더 많은 콘텐츠를 확인하세요","ogImage":{"url":"/assets/img/2024-05-20-NestJSBestPracticesPart0_0.png"},"coverImage":"/assets/img/2024-05-20-NestJSBestPracticesPart0_0.png","tag":["Tech"],"readingTime":2},{"title":"TypeScript, Nodejs, 그리고 PostgreSQL과 함께 Sequelize를 사용하는 방법","description":"","date":"2024-05-20 22:18","slug":"2024-05-20-HowtoUseSequelizewithTypeScriptNodejsandPostgreSQL","content":"\n\n시작 가이드: TypeScript로 Sequelize 구성하기 \n\n모델, 연결 및 데이터베이스 연결을 정의하여 Sequelize를 TypeScript와 함께 설정하는 방법에 대해 알아보겠습니다.\n\n# 소개\n\n이 글에서는 Sequelize를 설정하여 TypeScript Node.js 및 Express를 연동하여 PostgreSQL 데이터베이스에 연결하고, 그 후에 조회용 샘플 모델을 만들어 보겠습니다.\n\nTypeScript, Node.js, Express.js 및 PostgreSQL을 함께 사용하면 견고한 백엔드 개발을 위한 강력한 조합을 제공합니다. Node.js를 위한 인기 있는 ORM인 Sequelize와 TypeScript의 정적 유형 지정 그리고 PostgreSQL의 신뢰성을 활용하여 효율적인 데이터 관리와 확장 가능성을 확보할 수 있습니다. 이 통합은 데이터의 모델링, 쿼리, 그리고 조작을 원활하게 하며 개발 경험을 향상시키면서 코드 무결성과 데이터베이스 무결성을 유지하는 데 도움이 됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n새로운 실시간 Node.js 앱이나 서비스를 시작할 때 가장 먼저 고려해야 할 것은 어디서 시작해야 하는지, 어떤 프레임워크나 ORM을 사용해야 하는지, 그리고 그것이 성능에 어떻게 영향을 미칠지 입니다. 또한, SQL 또는 NoSQL 데이터베이스를 선택하는 것에 따라 이 질문이 달라질 수 있습니다.\n\n# 사전 준비\n\n이 글에서는 TypeScript와 Express를 사용하여 이미 만들어 놓은 Node.js 보일러플레이트 코드를 사용할 것입니다.\n\n우리는 sequelize, pg, pg-hstore이 npm 모듈을 사용하여 어플리케이션을 설정할 것이고, Jest를 사용하여 유닛 테스트 케이스도 추가했습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n// 애플리케이션 복제하기\ngit clone https://github.com/santoshshinde2012/node-boilerplate.git\n\n// 새 디렉토리로 변경\ncd node-boilerplate\n\n// 모든 모듈 설치\nnpm install\n\n// 애플리케이션 시작\nnpm start\n```\n\n# 단계 1: PostgreSQL 설정 및 데이터베이스 생성\n\n아래 스크립트로 폴더 docker/postgresql에 Dockerfile.postgis 파일을 생성합니다.\n\n```js\nFROM postgres:latest\n\n# PostGIS 확장 기능 설치\nRUN apt-get update \\\n    \u0026\u0026 apt-get install -y postgis postgresql-12-postgis-3 \\\n    \u0026\u0026 apt-get clean \\\n    \u0026\u0026 rm -rf /var/lib/apt/lists/*\n\n# 초기 쿼리를 실행하기 위해 init.sql에 쿼리를 작성할 수 있습니다\nCOPY init.sql /docker-entrypoint-initdb.d/\n\n# PostGIS 확장 기능 활성화\nRUN echo \"CREATE EXTENSION IF NOT EXISTS postgis;\" \u003e\u003e /docker-entrypoint-initdb.d/init.sql\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n도커 Compose 파일을 만들어주세요. docker/postgresql 폴더에 아래 스크립트를 작성해주세요.\n\n```js\n# PostgreSQL을 위한 docker-compose.yml\n\nversion: '3.8'\n\nservices:\n  db:\n    build:\n      context: .\n      dockerfile: Dockerfile.postgis  # 커스텀 Dockerfile 사용\n    restart: always\n    environment:\n      POSTGRES_USER: user1\n      POSTGRES_PASSWORD: user1@123\n      POSTGRES_DB: database\n    healthcheck:\n      # 이 명령어는 데이터베이스가 준비되어 있는지 소스 db 서버에서 확인합니다.\n      test: [ \"CMD-SHELL\", \"pg_isready\" ]\n      interval: 5s\n      timeout: 5s\n      retries: 5\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - postgres_data_v:/var/lib/postgresql/data\nvolumes:\n  postgres_data_v:\n```\n\npackage.json 안에 Docker Compose 파일을 실행시키는 명령어를 추가해주세요.\n\n```js\n\"db:up\": \"docker-compose -f docker/postgresql/docker-compose.yml up\",\n\"db:down\": \"docker-compose -f docker/postgresql/docker-compose.yml down\"\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nPostgresql을 실행하고 다음 명령어를 사용하여 데이터베이스를 생성하세요: npm run db:up.\n\n![image](/assets/img/2024-05-20-HowtoUseSequelizewithTypeScriptNodejsandPostgreSQL_0.png)\n\n# 단계 2: Sequelize의 설치 및 구성\n\nSequelize는 npm (또는 yarn)을 통해 사용할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nnpm install --save sequelize\nnpm install --save pg pg-hstore # Postgres\n```\n\n작업을 마치면 코드를 배치할 폴더 구조를 확인해야 합니다. 코드가 깨끗하고 가독성 있게 유지되도록 하기 위해 코드베이스를 여러 폴더로 나누었습니다. 데이터베이스 관련 부분은 database 폴더 아래에 위치해야 합니다.\n\n\u003cimg src=\"/assets/img/2024-05-20-HowtoUseSequelizewithTypeScriptNodejsandPostgreSQL_1.png\" /\u003e\n\nsrc/database/config 폴더의 index.ts 파일에 데이터베이스 연결을 정의하고, .env npm 모듈을 사용하여 환경 변수를 가져옵니다. 환경에 따른 로직은 필요에 따라 수정할 수 있습니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport path from 'path';\nimport dotenv from 'dotenv';\n\ndotenv.config({\n    path: path.join(__dirname, '../../.env'),\n});\n\n타입 DbConnection = {\n    호스트: 문자열;\n    포트: 숫자;\n    사용자: 문자열;\n    비밀번호: 문자열;\n    데이터베이스: 문자열;\n    dbLogging: 부울;\n};\n\nconst connection: DbConnection = {\n    호스트: process.env.DB_HOST,\n    포트: Number(process.env.DB_PORT),\n    사용자: process.env.DB_USER,\n    비밀번호: process.env.DB_PASSWORD,\n    데이터베이스: process.env.DB_NAME,\n    dbLogging:\n        process.env.NODE_ENV === 'development' || process.env.LOG === 'true',\n};\n\nexport default connection;\n```\n\nsrc/database 폴더에 index.ts 파일을 생성하여 sequelize 연결을 만듭니다.\n\n```js\nimport { Dialect, Sequelize } from 'sequelize';\nimport connection from './config';\n\nconst { database, user, password, host, dbLogging } = connection;\n\nconst sequelizeConnection = new Sequelize(database, user, password, {\n    host,\n    logging: dbLogging,\n    dialect: 'postgres' as Dialect,\n});\n\nexport default sequelizeConnection;\n```\n\nsrc/App.ts 또는 서버 응용 프로그램의 진입 파일에 assertDatabaseConnection 메서드를 만들어 데이터베이스 확인을하는 메서드를 호출하세요.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n개인 async assertDatabaseConnection(): Promise\u003cvoid\u003e {\n    try {\n     await database.authenticate();\n     await database.sync();\n     logger.info('연결이 성공적으로 설정되었습니다.');\n    } catch (error) {\n logger.error('데이터베이스에 연결할 수 없습니다:', error);\n    }\n}\n```\n\n# 단계 3: Sequelize를 사용하여 테이블(모델) 생성\n\nsrc/database/models 폴더에 모델을 정의하세요; 여기서는 샘플 모델인 Enquiry.ts를 생성할 것입니다.\n\n```js\nimport { DataTypes, Model, Optional, UUIDV4 } from 'sequelize';\nimport sequelize from '../index';\n\ninterface EnquiryAttributes {\n id: string;\n name: string;\n subject: string;\n body: string;\n email: string;\n country: string;\n}\n\ninterface EnquiryCreationAttributes\n extends Optional\u003cEnquiryAttributes, 'id'\u003e {}\n\nclass Enquiry\n extends Model\u003cEnquiryAttributes, EnquiryCreationAttributes\u003e\n implements EnquiryAttributes\n{\n public id!: string;\n public name!: string;\n public country!: string;\n public subject!: string;\n public body!: string;\n public email!: string;\n\n public readonly createdAt!: Date;\n public readonly updatedAt!: Date;\n}\n\nEnquiry.init(\n {\n  id: {\n   type: DataTypes.UUID,\n   defaultValue: UUIDV4,\n   primaryKey: true,\n  },\n  name: {\n   type: DataTypes.STRING(100),\n   allowNull: false,\n  },\n  country: {\n   type: DataTypes.STRING(100),\n   allowNull: false,\n  },\n  subject: {\n   type: DataTypes.STRING(200),\n   allowNull: false,\n  },\n  email: {\n   type: DataTypes.STRING(100),\n   allowNull: false,\n  },\n  body: {\n   type: DataTypes.STRING(400),\n   allowNull: false,\n  }\n },\n {\n  sequelize,\n  modelName: 'Enquiry',\n  tableName: 'Enquiry',\n  timestamps: true,\n },\n);\n\nexport { Enquiry, EnquiryAttributes, EnquiryCreationAttributes };\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport { 데이터 유형, 모델, 선택적, UUIDV4 } from 'sequelize';\nimport sequelize from '../index';\n\n인터페이스 조회 속성 {\n id: string;\n 이름: string;\n 주제: string;\n 본문: string;\n 이메일: string;\n 국가: string;\n}\n\n인터페이스 EnquiryCreationAttributes 에 이어, EnquiryAttributes의 선택적 해제 {}\n\n클래스 Enquiry은 Model\u003cEnquiryAttributes, EnquiryCreationAttributes\u003e를 확장하며 EnquiryAttributes를 구현합니다 {\n 공공 id!: string;\n 공공 이름!: string;\n 공공 국가!: string;\n 공공 주제!: string;\n 공공 몸통!: string;\n 공공 이메일!: string;\n\n 공공 readonly createdAt!: Date;\n 공공 readonly updatedAt!: Date;\n}\n\nEnquiry.init(\n {\n  아이디: {\n   유형: 데이터 유형.UUID,\n   기본값: UUIDV4,\n   기본 키: 참,\n  },\n  이름: {\n   유형: 데이터 유형.STRING(100),\n   허용하지 않음: 거짓,\n  },\n  국가: {\n   유형: 데이터 유형.STRING(100),\n   허용하지 않음: 거짓,\n  },\n  주제: {\n   유형: 데이터 유형.STRING(200),\n   허용하지 않음: 거짓,\n  },\n  이메일: {\n   유형: 데이터 유형.STRING(100),\n   허용하지 않음: 거짓,\n  },\n  몸통: {\n   유형: 데이터 유형.STRING(400),\n   허용하지 않음: 거짓,\n  }\n },\n {\n  시퀄라이즈,\n  모델 이름: '조회',\n  테이블 이름: '조회',\n  타임 스탬프: 참,\n },\n);\n\n수출 { 조회, EnquiryAttributes, EnquiryCreationAttributes };\n```\n\n\u003cimg src=\"/assets/img/2024-05-20-HowtoUseSequelizewithTypeScriptNodejsandPostgreSQL_2.png\" /\u003e\n\n# 단계 4: 구성 요소에서 서비스 및 컨트롤러 설정\n\n- 구성 요소 구성 요소는 두 부분으로 나뉩니다: 컨트롤러 및 서비스 서비스는 해당 데이터베이스 모델과 통신하는 데 책임이 있습니다.\n- 라우트 — 컨트롤러 및 해당 레스트 엔드포인트의 등록 방법을 등록합니다.\n- 공통 서비스 —이 서비스는 여러 데이터베이스 모델 간의 일반 작업 수행에 책임이 있습니다.\n- 이를 구성 요소 서비스에 주입하고 구성 요소 서비스에서 컨트롤러에서 해당 메서드에 액세스할 수 있습니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n// src/components/enquiry/EnquiryService.ts 파일을 생성하여 sequelize를 사용하여 생성된 모델의 데이터베이스 작업을 처리합니다.\n\nimport {\n Enquiry,\n EnquiryAttributes,\n EnquiryCreationAttributes,\n} from '../../database/models/Enquiry';\nimport logger from '../../lib/logger';\nimport ApiError from '../../abstractions/ApiError';\nimport { StatusCodes } from 'http-status-codes';\n\nexport class EnquiryService {\n\n async getAll(): Promise\u003cEnquiryAttributes[]\u003e {\n  try {\n   const enquiries = await Enquiry.findAll();\n   return enquiries;\n  } catch (error) {\n   logger.error(error);\n   throw error;\n  }\n }\n\n async getById(id: string | number): Promise\u003cEnquiryAttributes\u003e {\n  try {\n   const enquiry = await Enquiry.findByPk(id);\n   if (!enquiry) {\n    throw new ApiError('Enquiry not found', StatusCodes.NOT_FOUND);\n   }\n   return enquiry;\n  } catch (error) {\n   logger.error(error);\n   throw error;\n  }\n }\n\n async update(\n  id: string | number,\n  payload: Partial\u003cEnquiryCreationAttributes\u003e,\n ): Promise\u003cEnquiryAttributes\u003e {\n  try {\n   const enquiry = await Enquiry.findByPk(id);\n   if (!enquiry) {\n    throw new ApiError(\n     'Enquiry not found',\n     StatusCodes.NOT_FOUND,\n    );\n   }\n   const updatedEnquiry = await enquiry.update(payload);\n   return updatedEnquiry;\n  } catch (error) {\n   logger.error(error);\n   throw error;\n  }\n }\n\n async create(\n  payload: EnquiryCreationAttributes,\n ): Promise\u003cEnquiryAttributes\u003e {\n  try {\n   const enquiry = await Enquiry.create(payload);\n   return enquiry;\n  } catch (error) {\n   logger.error(error);\n   throw error;\n  }\n }\n\n async delete(id: string | number): Promise\u003cboolean\u003e {\n  try {\n   const deletedEnquiryCount = await Enquiry.destroy({\n    where: { id },\n   });\n\n   return !!deletedEnquiryCount;\n  } catch (error) {\n   logger.error(error);\n   throw error;\n  }\n }\n}\n```\n\n```js\n// src/components/enquiry/EnquiryController.ts 파일을 생성하여 REST API의 컨트롤러 부분을 처리합니다.\n\nimport { NextFunction, Request, Response, Router } from 'express';\nimport { ReasonPhrases, StatusCodes } from 'http-status-codes';\nimport BaseApi from '../BaseApi';\nimport { EnquiryService } from './EnquiryService';\nimport { EnquiryAttributes } from '../../database/models/Enquiry';\nimport ApiError from '../../abstractions/ApiError';\n\n/**\n * Enquiry controller\n */\nexport default class EnquiryController extends BaseApi {\n private enquiry: EnquiryService;\n public basePath: string = 'enquiries';\n\n constructor() {\n  super();\n  this.enquiry = new EnquiryService();\n }\n\n /**\n  *\n  */\n public routes(): RouteDefinition[] {\n  return [\n   { path: '/', method: 'get', handler: this.getEnquiries.bind(this) },\n   { path: '/:id', method: 'get', handler: this.getEnquiry.bind(this) },\n   { path: '/', method: 'post', handler: this.createEnquiry.bind(this) },\n   { path: '/:id', method: 'put', handler: this.updateEnquiry.bind(this) },\n   { path: '/:id', method: 'delete', handler: this.delete.bind(this) }\n  ];\n }\n\n /**\n  *\n  * @param req\n  * @param res\n  * @param next\n  */\n public async getEnquiries(\n  req: Request,\n  res: Response,\n  next: NextFunction,\n ): Promise\u003cvoid\u003e {\n  try {\n   const enquiries: EnquiryAttributes[] =\n    await this.enquiry.getAll();\n   res.locals.data = enquiries;\n   // call base class method\n   this.send(res);\n  } catch (err) {\n   next(err);\n  }\n }\n\n // 이하 생략\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 단계 5: 구성 요소를 위한 REST API 생성\n\n문의: 문의는 속성 집합을 가진 주요 엔터티입니다.\n\n- GET /v1/enquiries 모든 문의 목록을 가져옵니다.\n- POST /v1/enquiries 새로운 문의를 생성합니다.\n- GET /v1/enquiries/'id' 특정 문의의 세부 정보를 가져옵니다.\n- PUT /v1/enquiries/'id' 특정 문의의 세부 정보를 업데이트합니다.\n- DELETE /v1/enquiries/'id' 특정 문의를 삭제합니다.\n\n우리는 이전에 정의한 경로를 등록해야 합니다. 이를 위해 src/routes.ts에 항목을 만들어야 합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래 링크에서 전체 코드베이스를 찾을 수 있습니다. 초보자를 염두에 두고 설계된 이 저장소는 백엔드 프로젝트를 시작하는 데 튼튼한 출발점을 제공합니다. 단위 테스트 케이스가 포함된 잘 정리된 코드베이스로 깊게 파고들며 학습하고 문제 해결을 쉽게 할 수 있습니다. 게다가 GitHub Actions 워크플로가 통합되어 있어 테스트와 배포를 자동화할 수 있습니다. 학습을 시작하거나 첫 번째 실제 애플리케이션을 구축하려는 경우에도 유용합니다.\n\n읽어 주셔서 감사합니다. 이 블로그가 학습에 가치가 있다고 생각되면 의견을 공유하고 클랩(clap)을 눌러주세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 친절한 언어로 🚀\n\nIn Plain English 커뮤니티에 참여해 주셔서 감사합니다! 떠나시기 전에:\n\n- 작가를 claps하고 팔로우 해주세요 👏️\n- 팔로우하기: X | LinkedIn | YouTube | Discord | 뉴스레터\n- 다른 플랫폼 방문하기: Stackademic | CoFeed | Venture | Cubed\n- PlainEnglish.io에서 더 많은 콘텐츠를 만나보세요","ogImage":{"url":"/assets/img/2024-05-20-HowtoUseSequelizewithTypeScriptNodejsandPostgreSQL_0.png"},"coverImage":"/assets/img/2024-05-20-HowtoUseSequelizewithTypeScriptNodejsandPostgreSQL_0.png","tag":["Tech"],"readingTime":12},{"title":"백엔드에서 Server-Sent EventsSSE로 실시간 알림을 전달하는 방법","description":"","date":"2024-05-20 22:16","slug":"2024-05-20-HowWeUsedServer-SentEventsSSEtoDeliverReal-TimeNotificationsonOurBackend","content":"\n\n판매자 성장팀으로서, 우리의 업무에는 판매자들의 시스템과의 상호작용을 향상시키기 위해 고안된 작업들로 구성된 다양한 도전 과제를 지정, 추적 및 관리하는 것이 포함되어 있습니다.\n\n우리의 최신 목표는 새로운 작업 지정 또는 완료시에 즉각적인 알림을 판매자들에게 제공하는 것입니다. 이를 달성하기 위해 HTTP 폴링, Server-Sent Events (SSE), 그리고 웹 소켓이라는 세 가지 잠재적인 옵션을 탐색했습니다.\n\n이 글에서는 알림 시스템으로 SSE (Server-Sent Events)를 사용하기로 결정한 이유에 대해 논의할 것입니다. 우리가 고려한 다른 옵션들보다 SSE의 장점을 알아보고, NestJS 프레임워크를 사용한 TypeScript 코드의 명확한 예시를 제공할 것입니다.\n\n![이미지](/assets/img/2024-05-20-HowWeUsedServer-SentEventsSSEtoDeliverReal-TimeNotificationsonOurBackend_0.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 사용한 기술 소개\n\n실시간 알림 시스템을 구현하기 위해 다음을 사용했습니다:\n\n- Server-Sent Events (SSE): 실시간 및 일방향 채널을 서버와 클라이언트 간에 수립하는 데 SSE를 사용합니다. 이를 통해 알림을 발생 즉시 전달할 수 있습니다. SSE는 가벼우면서도 직관적인 솔루션이며, 우리의 요구에 맞는 알림을 클라이언트로 푸시할 때 사용합니다.\n- Redis Pub/Sub: Redis pub/sub을 사용하여 다중 발행자가 다중 구독자에게 메시지를 보낼 수 있는 메시징 시스템으로 활용합니다. Redis pub/sub을 사용하여 알림을 다중 파드로 분산 배포함으로써 모든 판매자가 제때 알림을 받을 수 있도록 보장했습니다.\n- Notification Write API: 다른 응용 프로그램에서 알림을 수집하기 위해 알림 쓰기 API를 개발했습니다. 이 API는 알림을 Redis로 전송합니다.\n- Notification Read API: Redis를 구독하고 모든 알림을 수신하는 알림 읽기 API도 개발했습니다. 알림을 수신한 후, 읽기 API는 SSE를 통해 연결된 클라이언트에게 알림을 전송합니다.\n\n## 왜 SSE를 선택했는가\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n신중한 고려 끝에 SSE가 알림 시스템에 최적인 옵션이라고 결정했습니다. 이 결정의 주요 이유 중 하나는 HTTP 폴링이 가능한 옵션이지만 즉각적인 알림 전달을 제공하지 않는다는 것입니다. 폴링은 서버가 새 이벤트를 확인하기 위해 일정 간격마다 터치되어야 하며 많은 사용자가 알림에 구독되어있는 경우에는 자원을 많이 사용하고 비효율적일 수 있습니다.\n\n그에 비해 SSE는 서버와 클라이언트 사이의 실시간 단방향 채널을 제공하여 발생하는 즉시 알림을 즉시 전달할 수 있습니다. 이는 판매자가 즉시 알림을 받을 수 있도록 해야 하는 우리의 사용 사례에 있어서 중요합니다.\n\n웹 소켓이 실시간 통신에 대한 인기 있는 선택지이긴 하지만, SSE에 비해 구현이 더 복잡합니다. 웹 소켓은 서버와 클라이언트 간의 양방향 통신을 제공하여 전체 이중 통신이 가능합니다. 하지만 우리는 클라이언트로 알림을 푸시하는 것만 필요하기 때문에 SSE를 더 간단하고 효율적인 솔루션으로 선택했습니다.\n\n요약하면, 시간당 실시간 알림을 제공하고 웹 소켓에 비해 더 간단하고 가벼운 솔루션인 SSE를 사용하기로 결정했습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## Redis Pub/Sub\n\n여러 응용 프로그램 팟에서 알림을 보내기 위해 Redis pub/sub을 사용했습니다. Redis pub/sub은 여러 발행자가 여러 구독자에게 메시지를 보낼 수 있는 메시징 시스템입니다. Redis pub/sub을 사용하여 알림을 여러 팟에 분산하여, 판매자가 모든 알림을 제때 받을 수 있도록 했습니다.\n\n```js\nimport { Redis } from 'ioredis';\n\n@Injectable()\nexport class RedisService implements OnModuleInit {\n\n  ...\n\n  async onModuleInit() {\n    this.subscriber = new Redis({\n      sentinels: this.redisSentinelConfig.addresses,\n      name: this.redisSentinelConfig.masterName,\n      password: this.redisSentinelConfig.password,\n    });\n    \n    await this.subscriber.subscribe(this.redisSentinelConfig.channelName, async (err, count) =\u003e {\n      if (err) {\n        this.logger.error(`Failed to subscribe: ${err.message}`);\n        return;\n      }\n      this.logger.log(`Subscribed successfully! This client is currently subscribed to ${count} channels`);\n    });\n    \n    this.subscriber.on('message', async (channel, message: string) =\u003e {\n      const liveNotification: LiveNotification = JSON.parse(message);\n      await this.liveNotificationService.emit(liveNotification);\n    });\n  }\n}\n```\n\n# 시스템 디자인\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다른 애플리케이션으로부터 알림을 수집하기 위해 알림 작성 API를 개발했습니다. 이 API는 알림을 Redis로 전송합니다. 알림 읽기 API는 Redis를 구독하고 모든 알림을 수신합니다. 알림을 수신한 후 읽기 API는 SSE를 통해 연결된 클라이언트에게 알림을 전송합니다.\n\n다양한 읽기 API가 서로 다른 애플리케이션 팟에서 실행될 수 있기 때문에 각 읽기 API는 Redis에서 모든 알림을 수신합니다. 그러나 읽기 API는 현재 팟에 연결된 클라이언트에 따라 알림을 필터링합니다. 이렇게 함으로써 연결된 각 클라이언트에게는 관련 알림만 전송되어 네트워크로 전송되는 불필요한 데이터 양을 최소화합니다.\n\n판매자를 위해 Redis pub/sub를 통해 발행된 알림이 모든 읽기 API 인스턴스에 수신됩니다. 그러나 모든 알림이 모든 연결된 클라이언트에게 관련이 있는 것은 아닙니다. 연결된 각 클라이언트에게는 관련 알림만 전송되도록 하기 위해 읽기 API는 클라이언트의 구독에 따라 알림을 필터링합니다.\n\n[2024-05-20-HowWeUsedServer-SentEventsSSEtoDeliverReal-TimeNotificationsonOurBackend_1.png] 를 참고하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ntable 태그를 Markdown 형식으로 변경하십시오.\n\n```js\nimport { AuthGuard } from '@nestjs/passport';\nimport { Controller, Sse, UseGuards } from '@nestjs/common';\n\n@Controller('/live-notification')\nexport class LiveNotificationController {\n  constructor(private readonly liveNotificationService: LiveNotificationService) {}\n\n  @Sse()\n  @ApiBearerAuth()\n  @UseGuards(AuthGuard('jwt'))\n  public getEventsBySeller(@Tracers() tracers: ITracers, @SellerId() sellerId: number) {\n    return this.liveNotificationService.subscribeForSeller(sellerId);\n  }\n}\n```\n\n```js\nimport { EventEmitter } from 'events';\nimport { filter, fromEvent } from 'rxjs';\n\n@Injectable()\nexport class LiveNotificationService implements OnModuleInit {\n  \n  private readonly emitter = new EventEmitter();\n  \n  ...\n  \n  public async emit(data: LiveNotification) {\n    this.emitter.emit('liveNotification', { data });\n  }\n  \n  public subscribeForSeller(sellerId: number) {\n    const source = fromEvent(this.emitter, 'liveNotification');\n    return source.pipe(\n      filter(({ data: liveNotification }) =\u003e \n        liveNotification?.content == 'heartbeat' || \n        liveNotification?.sellerId == sellerId)\n    );\n  }\n}\n```\n\n# 문제점\n\n## 수직 확장 문제\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n우리의 SSE와 Redis 기반 알림 시스템은 연결된 클라이언트에 신속하고 효율적으로 알림을 전달합니다. 그러나 알림이 증가함에 따라 모든 읽기 API가 모든 알림을 구독하기 때문에 시스템에서 잠재적인 수직 확장 문제가 예상됩니다. 이는 시스템에서 잠재적 병목 현상을 일으킬 수 있습니다. 판매자를 위해 Redis pub/sub를 통해 알림이 발행되면 읽기 API의 모든 인스턴스에서 받게 되지만, 모든 알림이 모든 연결된 클라이언트에게 관련이 있는 것은 아닙니다. 각 연결된 클라이언트에게는 관련 있는 알림만 전송되도록 하기 위해 읽기 API에서 고객의 구독에 따라 알림을 필터링합니다. 알림의 수가 많아지면 이 필터링 과정이 느려져 알림 전송이 지연될 수 있습니다.\n\n## 하트비트 메시지\n\n우리 프론트엔드 개발자들은 권한 부여 헤더를 보내기 위해 이벤트 소스 라이브러리를 사용했습니다. 그러나 서버와 브라우저 간 연결이 1분 후에 끊어진다고 보고했습니다. 문제를 조사한 후 라이브러리가 끊김을 감지하기 위해 하트비트 메시지를 보내도록 요구함을 깨닫게 되었습니다. 문제를 해결하기 위해 30초마다 하트비트 메시지를 보내는 기능을 구현하여 문제를 해결했습니다.\n\n```js\nonModuleInit(): any {\n  setInterval(() =\u003e {\n    const emitterListenerCount = this.emitter.listenerCount('liveNotification');\n    this.logger.log(`활성 에미터 리스너 수를 가진 SSE 클라이언트로 하트비트 메시지를 보냈습니다: ${emitterListenerCount}`);\n    this.emitter.emit('liveNotification', { data: { content: 'heartbeat' } });\n  }, 30000);\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 성능\n\n현재 알림 시스템은 90,000개의 동시 연결을 처리하고 있으며, 우리는 15개의 팟을 운영 중이며 부하를 처리하고 있습니다. 각 Kubernetes 팟은 약 800MB의 메모리와 300Mi의 CPU 리소스를 소비합니다.\n\n# 요약\n\n서버-센트 이벤트(SSE)는 실시간 알림 전달 기능을 제공하면서 웹 소켓과 비교해 더 간단하고 가벼운 솔루션으로 입증되었습니다. Redis pub/sub를 사용하여 알림을 여러 팟에 분산하여 모든 클라이언트가 제때 알림을 수신하도록 보장했습니다. SSE 기반의 알림 시스템을 통해 우리는 클라이언트에게 알림을 효과적으로 전달하는 안정적이고 효율적인 솔루션을 성공적으로 구축했습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n프론트엔드 세부 정보와 구현에 대해 좀 더 알고 싶다면, 제 동료가 쓴 기사를 읽어보시기를 추천합니다.","ogImage":{"url":"/assets/img/2024-05-20-HowWeUsedServer-SentEventsSSEtoDeliverReal-TimeNotificationsonOurBackend_0.png"},"coverImage":"/assets/img/2024-05-20-HowWeUsedServer-SentEventsSSEtoDeliverReal-TimeNotificationsonOurBackend_0.png","tag":["Tech"],"readingTime":7},{"title":"앵귤러에서 let 구문을 사용해 타입 축소하는 방법","description":"","date":"2024-05-20 22:15","slug":"2024-05-20-EleganttypenarrowingwithletsyntaxinAngular","content":"\n\n![이미지](/assets/img/2024-05-20-EleganttypenarrowingwithletsyntaxinAngular_0.png)\n\nAngular 18은 아직 릴리즈되지 않았지만, 18.1 버전에 이미 새로운 강력한 추가 기능이 기다리고 있습니다. 바로 템플릿 로컬 변수 또는 @let 구문이라고도 알려진 기능입니다.\n\n간단히 말해서, 이제 템플릿에서 JavaScript 파일과 동일한 방식으로 보조 로컬 변수를 정의할 수 있게 됩니다.\n\n가능한 응용 중 하나는 AsyncPipe를 사용하여 구독하는 스트림에서 값 unwrap하는 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n현재 솔루션\n\n\n```js\n\u003cng-container *ngIf=\"data$ | async as data\"\u003e\n  \u003cp\u003e{ data }\u003c/p\u003e\n\u003c/ng-container\u003e\n```\n\n\n```js\n\u003cng-container *ngIf=\"{ data: data$ | async } as vm\"\u003e\n  \u003cp\u003e{ vm.data }\u003c/p\u003e\n\u003c/ng-container\u003e\n```\n\n새로운 솔루션\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n@let data = data$ | async ;\n\n\u003cp\u003e{ data }\u003c/p\u003e\n```\n\n이것은 '동적' 뷰 모델 속성을 생성할 수도 있게 해줍니다. 특히, 사용자 선택에 따라 변경되는 isActive와 같은 컬렉션을 다룰 때 특히 유용합니다.\n\nEnea Jahollari의 훌륭한 기사에서 새로운 구문의 다양한 사용법에 대해 더 읽어볼 수 있습니다.\n\n언급할 가치가 있는 점은 신호의 값을 템플릿 로컬 변수에 저장할 수 있는 능력입니다. 이것은 타입 좁힘이 매우 중요합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래는 해당 컴포넌트를 고려해봅시다:\n\n```js\ntype AnalysisState =\n  | { status: 'pending' }\n  | { status: 'completed'; result: string };\n  \n@Component({\n  selector: 'app-analysis-card',\n  standalone: true,\n  templateUrl: './analysis-card.component.html',\n  styleUrl: './analysis-card.component.scss',\n})\nexport class AnalysisCardComponent {\n  public analysisState: AnalysisState = { status: 'pending' };\n\n  constructor() {\n    // mock change simulation\n    setTimeout(() =\u003e {\n      this.analysisState = { status: 'completed', result: 'xyz' };\n    }, 5000);\n  }\n}\n```\n\n```js\n@if (analysisState.status === \"pending\") {\n  \u003cp\u003eAnalysis is pending\u003c/p\u003e\n} @else {\n  \u003cp\u003eAnalysis completed with result: { analysisState.result }\u003c/p\u003e\n}\n```\n\n새로운 제어 흐름 구문을 통해 이전의 *ngIf 디렉티브로는 불가능했던 적절한 타입 축소가 가능해졌습니다. 상세 내용은 제 이전 글 중 하나에서 확인하실 수 있어요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n그러나, 컴포넌트 상태를 처리하기 위해 시그널을 사용하는 경우:\n\n```js\n@Component({\n  selector: 'app-analysis-card',\n  standalone: true,\n  templateUrl: './analysis-card.component.html',\n  styleUrl: './analysis-card.component.scss',\n})\nexport class AnalysisCardComponent {\n  public analysisState: WritableSignal\u003cAnalysisState\u003e = signal({\n    status: 'pending',\n  });\n\n  constructor() {\n    // 모의 변경 시뮬레이션\n    setTimeout(() =\u003e {\n      this.analysisState.set({ status: 'completed', result: 'xyz' });\n    }, 5000);\n  }\n}\n```\n\n타입 추론이 작동하지 않습니다:\n\n```js\n@if (analysisState().status === \"pending\") {\n  \u003cp\u003e분석 대기 중\u003c/p\u003e\n} @else {\n  \u003c!-- 'result' 속성이 'AnalysisState' 타입에 존재하지 않습니다. --\u003e\n  \u003cp\u003e분석이 완료되었습니다. 결과: { analysisState().result }\u003c/p\u003e\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n두 가지 해결 방법이 있습니다:\n\n- 시그널 값과 함께 게터를 사용하세요\n\n```js\n@Component({\n  selector: 'app-analysis-card',\n  standalone: true,\n  templateUrl: './analysis-card.component.html',\n  styleUrl: './analysis-card.component.scss',\n})\nexport class AnalysisCardComponent {\n  public _analysisState: WritableSignal\u003cAnalysisState\u003e = signal({\n    status: 'pending',\n  });\n\n  get analysisState() {\n    return this._analysisState();\n  }\n\n  constructor() {\n    // 모의 변경 시뮬레이션\n    setTimeout(() =\u003e {\n      this._analysisState.set({ status: 'completed', result: 'xyz' });\n    }, 5000);\n  }\n}\n```\n\n```js\n@if (analysisState.status === \"pending\") {\n  \u003cp\u003e분석 대기 중\u003c/p\u003e\n} @else {\n  \u003cp\u003e분석 완료 및 결과: { analysisState.result }\u003c/p\u003e\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 보조 if 블록으로 신호의 값 언래핑하기\n\n```js\n@Component({\n  selector: 'app-analysis-card',\n  standalone: true,\n  templateUrl: './analysis-card.component.html',\n  styleUrl: './analysis-card.component.scss',\n})\nexport class AnalysisCardComponent {\n  public analysisState: WritableSignal\u003cAnalysisState\u003e = signal({\n    status: 'pending',\n  });\n\n  constructor() {\n    // mock change simulation\n    setTimeout(() =\u003e {\n      this.analysisState.set({ status: 'completed', result: 'xyz' });\n    }, 5000);\n  }\n}\n```\n\n```js\n@if (analysisState(); as analysisState) {\n  @if (analysisState.status === \"pending\") {\n    \u003cp\u003eAnalysis is pending\u003c/p\u003e\n  } @else {\n    \u003cp\u003eAnalysis completed with result: { analysisState.result }\u003c/p\u003e\n  }\n}\n```\n\n새로운 방법으로 템플릿 지역 변수를 만드는 방법을 소개했으므로 목표를 달성하는 더 우아한 방법이 있습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nanalysisState = analysisState();\n\nif (analysisState.status === \"pending\") {\n  console.log(\"Analysis is pending\");\n} else {\n  console.log(`Analysis completed with result: ${analysisState.result}`);\n}\n```\n\nThe `analysisState` variable now holds the result of the `analysisState()` function call. If the status is \"pending,\" a message saying \"Analysis is pending\" will be logged. If the status is anything else, a message saying \"Analysis completed with result: \" followed by the actual result will be logged.\n\nThank you, and have a great day! 😊\n","ogImage":{"url":"/assets/img/2024-05-20-EleganttypenarrowingwithletsyntaxinAngular_0.png"},"coverImage":"/assets/img/2024-05-20-EleganttypenarrowingwithletsyntaxinAngular_0.png","tag":["Tech"],"readingTime":5},{"title":"리액트 컴파일러, 리액트의 새로운 방식","description":"","date":"2024-05-20 22:13","slug":"2024-05-20-ReactCompileranewwaytoReact","content":"\n\n최근 Meta사에서 React를 위한 새로운 컴파일러를 발표했어요. 이 소식은 생각보다 더 큰 뜻을 가지고 있어요. 이 블로그에서는 React의 새로운 컴파일러에 대한 기본적인 내용을 이해해보려 합니다.\n\n![ReactCompileranewwaytoReact](/assets/img/2024-05-20-ReactCompileranewwaytoReact_0.png)\n\nUI 컴파일러에 대해 간단히 살펴보자면:\nSvelte, Angular, Solid과 같은 UI 프레임워크들은 이미 내장된 컴파일러를 가지고 있어요. 이러한 컴파일러들은 코드를 최적화된 JavaScript로 변환하여 성능을 향상시키고 런타임 오버헤드를 줄여줘요. 따라서 React에 컴파일러를 도입하는 것은 오랜 기간이 지나야 한다고 생각되었던 일이에요. 이러한 조치는 React를 이러한 현대적인 프레임워크들과 동일선상으로 끌어올리는 데 도움이 되며, 코드베이스가 커짐에 따라 발생하는 성능 문제를 해결하는 데 도움이 될 거예요.\n\n컴파일러가 왜 필요한가요?\n여러 이유가 있어요. 대부분의 React 개발자들은 이미 알고 있지만, React 렌더링은 코드베이스의 크기가 커지면 성능이 저하될 수 있는 공격적인 특성을 가지고 있어요. React는 메모이제이션 기술을 제공하지만, 효과적으로 학습하고 구현하기 어려울 수 있어요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nReact 컴파일러 작동 방식에 대해 알아보겠습니다.\n컴파일러가 일관된 최적화를 달성하는 데 사용하는 여러 기술이 있습니다. 이 중 몇 가지를 아래에서 언급해보겠습니다:\n\n자동 의존성 분석: React 컴파일러는 자동 의존성 검출 및 최적화를 도입하여 성능을 향상시킵니다. 변경된 컴포넌트만 재렌더링함으로써 불필요한 렌더링을 최소화하고 애플리케이션 실행 속도를 높입니다. 컴포넌트 의존성을 분석하고 캐싱 메커니즘을 활용하여 React는 불필요한 렌더링을 최소화하고 응용 프로그램을 가속화합니다. 이는 수동 의존성 명시의 필요성을 줄이고 보일러플레이트 코드를 낮춥니다. 컴파일러는 코드베이스 전체에서 일관된 최적화를 보장하며 업데이트를 일괄처리하고 중복 렌더링을 건너뛰는 최적화된 렌더링 전략을 구현합니다.\n\n코드 변환: React 컴파일러는 빌드 시간에 코드를 변환합니다. 클 때 필요한 곳에 메모이제이션 논리를 삽입하여 비용이 많이 드는 계산이나 큰 객체가 변경된 경우에만 다시 계산되거나 재생성되도록 보장합니다. 이 변환은 개발자가 컴포넌트를 최적화하는 데 필요한 수동 노력을 줄입니다.\n\n향상된 Hooks: React 컴파일러는 useMemo와 useCallback과 같은 기존 훅을 개선할 수 있습니다. 적절한 곳에 자동으로 이러한 훅을 삽입하여 컴파일러는 개발자가 수동으로 의존성을 지정하지 않고도 메모이제이션의 이점을 얻을 수 있도록 보장합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n과거 트랜스파일된 코드와 새로운 컴파일된 코드 비교\n코드로 들어가서 컴파일러의 유무에 따라 동일한 코드가 어떻게 다른지 살펴보겠습니다:\n\n간단한 코드 스니펫을 살펴보죠. Hello World 텍스트가 있는 간단한 `div`입니다.\n\n```js\nexport default function Hello() {\n  return \u003cdiv className=\"foo\"\u003eHi There\u003c/div\u003e;\n}\n```\n\n현재 컴파일 없이 트랜스파일된 코드는 이렇게 됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n```js\n// transpiled code (without compiler)\nexport default function Hello() {\n  return __jsx(\"div\", {\n    className: \"foo\"\n  }, \"Hi There\");\n}\n```\n\n```js\n// compiled code (with React compiler)\nimport { c as _c } from \"react/compiler-runtime\";\nexport default function Hello() {\n  const $ = _c(2);\n  if ($[0] !== \"8b8c470796627445ffbcfa7127db0cfba267736e0e4708dfa79d32043c5e5a7c\") {\n    for (let $i = 0; $i \u003c 2; $i += 1) {\n      $[$i] = Symbol.for(\"react.memo_cache_sentinel\");\n    }\n    $[0] = \"8b8c470796627445ffbcfa7127db0cfba267736e0e4708dfa79d32043c5e5a7c\";\n  }\n  let t0;\n  // cached component\n  if ($[1] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t0 = __jsx(\"div\", {\n      className: \"foo\"\n    }, \"Hi There\");\n    $[1] = t0;\n  } else {\n    t0 = $[1];\n  }\n  return t0;\n}\n```\n\nNow there is a lot of compiled code; let's look at the code block by block.\nThe first block is responsible for loading the memo cache, which caches the components.\nThe second `if` statement is where the compiler saves our `div` in a cache. If there is a re-render and nothing in the component has changed, we get the cached component. This is how static content is handled by the compiler.\n\nLet’s look at a more advanced code snippet to see how the compiler manages states in the code.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport { useState } from \"react\";\n\nexport default function Hello() {\n  const [name, setName] = useState(\"Jack\");\n  return (\n    \u003cdiv\u003e\n      \u003cp\u003eHi: {name}\u003c/p\u003e\n      \u003cstrong\u003eStatic Content\u003c/strong\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\n여기에는 코드에 정의된 상태 \"name\"이 있지만 컴포넌트 내에서 상태가 전혀 변경되지 않습니다. 이것이 React 컴파일러의 강점을 볼 때입니다. 변환된 코드와 컴파일된 코드를 비교해 봅시다.\n\n```js\n// 변환된 코드 (컴파일러 미사용)\nimport { useState } from \"react\";\nexport default function Hello() {\n  const [name, setName] = useState(\"Jack\");\n  return __jsx(\"div\", null, __jsx(\"p\", null, \"Hi: \", name), __jsx(\"strong\", null, \"Static Content\"));\n}\n```\n\n지금 변환된 코드를 가져왔습니다. 상태는 최적화 없이 변환됩니다. 이제 컴파일된 코드를 살펴봅시다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport { c as _c } from \"react/compiler-runtime\";\nimport { useState } from \"react\";\nexport default function Hello() {\n  const $ = _c(6);\n  if ($[0] !== \"ff7f138520311a2041bfadf8c5306ca9ddda64020c5c7c91ce7bfd217639da89\") {\n    for (let $i = 0; $i \u003c 6; $i += 1) {\n      $[$i] = Symbol.for(\"react.memo_cache_sentinel\");\n    }\n    $[0] = \"ff7f138520311a2041bfadf8c5306ca9ddda64020c5c7c91ce7bfd217639da89\";\n  }\n  const [name] = useState(\"Jack\");\n  let t0;\n// name is cached\n  if ($[1] !== name) {\n    t0 = __jsx(\"p\", null, \"Hi: \", name);\n    $[1] = name;\n    $[2] = t0;\n  } else {\n    t0 = $[2];\n  }\n  let t1;\n\n  if ($[3] === Symbol.for(\"react.memo_cache_sentinel\")) {\n    t1 = __jsx(\"strong\", null, \"Static Content\");\n    $[3] = t1;\n  } else {\n    t1 = $[3];\n  }\n  let t2;\n  if ($[4] !== t0) {\n    t2 = __jsx(\"div\", null, t0, t1);\n    $[4] = t0;\n    $[5] = t2;\n  } else {\n    t2 = $[5];\n  }\n  return t2;\n}\n```\n\n여기에서 컴파일러에 의해 상태가 자동으로 캐시됩니다. 따라서 다음 렌더링에서는 값이 캐시에서 반환됩니다. 이름의 값을 변경할 때만 if 블록으로 이동하여 향후 렌더링을 위해 캐시에 저장합니다.\n\n결론:\nReact에 컴파일러를 추가하면 프로그래머들이 더 쉽게 최적화된 코드를 작성할 수 있습니다. 이 블로그에서는 React의 컴파일러가 출시되면 기대할 수 있는 기능을 분석하고 이해하기 위한 기본 사용 사례를 탐색했습니다.\nReact 컴파일러의 고급 개념 및 사용 사례에 대해 계속 알아보십시오. 정적 분석, 최적화된 렌더링 및 useMemo와 같은 고급 훅의 사용과 같은 추가 기능을 탐색할 예정입니다.","ogImage":{"url":"/assets/img/2024-05-20-ReactCompileranewwaytoReact_0.png"},"coverImage":"/assets/img/2024-05-20-ReactCompileranewwaytoReact_0.png","tag":["Tech"],"readingTime":5},{"title":"리액트 컨퍼런스 2024 내용 정리","description":"","date":"2024-05-20 22:12","slug":"2024-05-20-ReactConf2024Highlights","content":"\n\n이번년도의 React Conf에서는 React 및 React Native 팀 및 커뮤니티로부터의 흥미로운 발표와 업데이트가 가득했습니다. 컨퍼런스가 종료되면서 React 개발의 미래를 위한 중요한 하이라이트를 살펴보겠습니다.\n\n# React 19이 릴리스 후보로 이동\n\n![ReactConf2024Highlights_0.png](/assets/img/2024-05-20-ReactConf2024Highlights_0.png)\n\n![ReactConf2024Highlights_1.png](/assets/img/2024-05-20-ReactConf2024Highlights_1.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nReact 19가 공식적으로 릴리스 후보 단계에 진입했습니다. 안정적인 릴리스는 다가오는 몇 주 안에 예정되어 있습니다. 새 버전은 향상된 기능, 성능 향상, 그리고 현대적인 개발 관행과 더 잘 호환되는 기능을 약속하고 있습니다. 더 많은 정보를 알고 싶다면 Alexander Savelyev의 기사를 방문해주세요.\n\n# React 컴파일러 오픈 소스화\n\n![이미지](/assets/img/2024-05-20-ReactConf2024Highlights_2.png)\n\n중요한 움직임으로 React 팀이 React 컴파일러를 오픈 소스로 공개했습니다. 이 도구는 React 애플리케이션을 최적화하기 위해 React 코드를 매우 효율적인 JavaScript로 변환하여 애플리케이션의 로드 시간을 줄이고 런타임 성능을 향상시키는 것을 목표로 하고 있습니다. 더 많은 정보를 알고 싶다면 React 컴파일러 워킹 그룹 리포지토리를 방문해주세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# React Native의 새로운 아키텍처가 베타 버전으로 출시되었습니다\n\n![ReactConf2024Highlights_3](/assets/img/2024-05-20-ReactConf2024Highlights_3.png)\n\nReact Native는 새로운 아키텍처를 소개했으며 이제 베타 버전으로 사용할 수 있습니다. 이 아키텍처는 React Native를 더 견고하고 확장 가능한 프레임워크로 강화하여 iOS 및 Android 플랫폼의 모바일 응용 프로그램 성능을 향상시키는 것을 약속합니다. 더 많이 알아보려면 React Native의 새로운 아키텍처 리포지토리를 방문하세요.\n\n# 새로운 React Native 앱을 위해 추천하는 Expo\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![](/assets/img/2024-05-20-ReactConf2024Highlights_4.png)\n\nThe React Native team officially recommends using Expo for all new React Native applications. Expo provides a comprehensive set of tools and services that streamline the development process, making it easier to build, deploy, and quickly iterate on React Native apps. Explore the React Native website to learn more.\n\n# Universal React Server Components\n\n![](/assets/img/2024-05-20-ReactConf2024Highlights_5.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이러한 구성 요소를 사용하면 서버 및 클라이언트 측에서 UI 구성 요소를 렌더링하여 다양한 플랫폼에서 성능 및 리소스 활용을 최적화할 수 있습니다. 자세한 내용은 Universal React Server Components에 대한 내 기사를 방문해 보세요.\n\n# Remix와 React Router 통합\n\n![Image](/assets/img/2024-05-20-ReactConf2024Highlights_6.png)\n\n흥미로운 소식! Remix와 React Router가 통합되었습니다. 이 통합은 React 애플리케이션의 라우팅을 통합하여 React 프로젝트에서 라우트를 효율적이고 간소화된 방법으로 관리하는 것을 목표로 합니다. 더 많은 정보를 원하시면 Shopify의 기사를 방문해 보세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# RedwoodJS가 이제 서버 컴포넌트를 지원합니다\n\n![이미지](/assets/img/2024-05-20-ReactConf2024Highlights_7.png)\n\nRedwoodJS는 React 기반의 의견이 강한 풀 스택 및 서버리스 웹 애플리케이션 프레임워크로 유명한데, 이제 React 서버 컴포넌트를 지원합니다. 이 통합은 동적이고 서버 렌더링된 애플리케이션을 쉽게 구축할 수 있는 기능을 더욱 향상시켰습니다. 더 많은 정보를 알고 싶다면 RedwoodJS의 기사를 방문해주세요.\n\n# Pigment CSS\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![ReactConf2024Highlights_8](/assets/img/2024-05-20-ReactConf2024Highlights_8.png)\n\nPigment CSS는 React 애플리케이션의 스타일링에 대한 새로운 표준을 설정하고 있습니다. 이 혁신적인 CSS-in-JS 라이브러리는 React 생태계와 완벽하게 통합되도록 설계되었으며 성능 및 사용 편의성에 중점을 둔 향상된 스타일링 기능을 제공합니다. 더 많은 정보를 얻으려면 MUI 블로그를 방문해주세요.\n\n# React Native을 이용한 TV, AR 및 VR\n\nReact Native는 TV 애플리케이션 및 공간 컴퓨팅에 대한 향상된 지원으로 거실 및 그 이상으로 그 영역을 확장하고 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n빌드 엑스포 앱들을 TV용으로 만들어 보세요 \n\n리액트 네이티브 visionOS\n\n리액트 네이티브-tvos\n\n# 보너스 발표\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![ReactConf2024Highlights_9](/assets/img/2024-05-20-ReactConf2024Highlights_9.png)\n\n공식 React Conf 앱은 새 React 컴파일러를 활용하여 Google Play 및 App Store에서 사용할 수 있습니다.\n\n![ReactConf2024Highlights_10](/assets/img/2024-05-20-ReactConf2024Highlights_10.png)\n\nReact Native를 위한 새 홈페이지가 론칭되었습니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![ReactConf 2024 Highlights](/assets/img/2024-05-20-ReactConf2024Highlights_11.png)\n\n마이크로소프트는 Windows 시작 메뉴와 오피스 워드 데스크톱을 포함한 주요 제품들에서 React Native를 광범위하게 활용하고 있습니다. 이를 통해 크로스 플랫폼 기능을 활용하여 사용자 경험을 향상시키고 소프트웨어 스위트 전반에 걸쳐 개발을 간소화하고 있습니다.\n\n요약하면, React Conf 2024은 다양한 업데이트와 새로운 기술로 React 및 React Native의 미래에 동적인 방향을 제시했습니다. 생방송 이벤트를 놓친 분들이나 세션을 다시 보고 싶은 분들은 녹화된 컨퍼런스를 시청하여 이 영향력 있는 이벤트에서 공유된 본질과 통찰력을 완전히 경험해보세요.\n\n제 LinkedIn에서 언제든지 연락주시기 바랍니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 친절한 한국어 번역 🚀\n\nIn Plain English 커뮤니티의 일원이 되어 주셔서 감사합니다! 떠나시기 전에:\n\n- 작가를 클랩하고 팔로우해 주세요 👏\n- 팔로우하기: X | LinkedIn | YouTube | Discord | Newsletter\n- 다른 플랫폼 방문하기: Stackademic | CoFeed | Venture | Cubed\n- 알고리즘 콘텐츠와 안 통하는 블로깅 플랫폼에 지친 적이 있나요? Differ를 사용해보세요\n- PlainEnglish.io에서 더 많은 콘텐츠 확인하기","ogImage":{"url":"/assets/img/2024-05-20-ReactConf2024Highlights_0.png"},"coverImage":"/assets/img/2024-05-20-ReactConf2024Highlights_0.png","tag":["Tech"],"readingTime":5},{"title":"윈도우 IIS 서버에 NextJs 애플리케이션을 배포하는 방법","description":"","date":"2024-05-20 22:10","slug":"2024-05-20-DeployingNextJsApplicationonWindowsIISServer","content":"\n\n\n![Deploying Next.js Application on Windows IIS Server](/assets/img/2024-05-20-DeployingNextJsApplicationonWindowsIISServer_0.png)\n\nNextJS는 단일 페이지 애플리케이션을 만들기 위한 서버 측 렌더링된 React 기반 프레임워크입니다. 서버 측 렌더링 기능으로 인해 매우 인기가 높습니다. NextJS를 사용하여 다음 애플리케이션을 작성하는 것은 매우 간단합니다. NextJS를 사용하기 위해 명시적으로 구성할 필요가 없습니다. npm run dev를 실행하고 애플리케이션을 구축하기 시작하면 됩니다.\n\n# 서버 측 렌더링이란?\n\n서버 측 렌더링(SSR)은 프런트엔드 프레임워크가 웹페이지를 준비하기 위해 사용자별 데이터를 서버 측에서 가져와 사용자 화면으로 보내는 능력입니다. 사용자에게 표시하기 위해 클라이언트 측에서 웹페이지를 준비하는 대신에 서버 측에서 웹페이지를 준비합니다.\n \n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nNextJS에서는 서버에서 페이지를 렌더링하거나 일반적인 create-react-app SPA처럼 클라이언트 측에서 렌더링할 수 있는 옵션이 있습니다.\n\n서버 측 렌더링의 장점은 분명히 있습니다. 그래서 NextJS 프레임워크가 인기를 얻은 이유이기도 합니다. SSR 덕분에 초기 페이지 로딩이 빨라져 최종 사용자에게 더 나은 상호작용을 제공합니다. 또한 검색 엔진이 사이트를 크롤링하여 더 나은 검색 엔진 최적화를 제공하는데 도움이 됩니다.\n\n# 만약 NextJS가 프론트엔드 프레임워크라면, 이 프레임워크는 어떻게 서버에서 웹 페이지를 준비하는 것일까요?\n\nNextJS 프레임워크는 NodeJS 기반으로 만들어졌습니다. 아시다시피, NodeJS는 서버 측에서 페이지를 준비하기 위해 사용되는 NextJS 애플리케이션에 강력함을 제공하는 백엔드 JavaScript 런타임 환경입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# NextJS 애플리케이션 배포하기\n\nWindows IIS에서 Next.js 애플리케이션을 호스팅하는 방법을 여러 곳에서 찾아보았어요. 괜찮은 튜토리얼을 몇 개 찾았지만 제 문제를 해결해 주지는 못했어요. Vercel과 Netlify, Heroku 등과 같은 유사한 플랫폼에 호스팅하는 것이 이상적일 것 같아요. 하지만 제 애플리케이션을 로컬에서 호스팅하고 싶어요. 왜냐하면 내 애플리케이션에 대중이 접근하는 것을 원하지 않기 때문이에요. 그건 제 개인적인 용도로 사용할 거거든요. 그래서 여러분이 구글에서 시간을 낭비하지 않고 필요한 정보를 찾을 수 있도록, 간단한 가이드를 제공해 드리겠어요.\n\n하지만 그 전에, 사용하려는 것에 대해 간단히 설명해볼게요.\n\n저희는 iisnode을 사용하려고 해요. iisnode은 C++로 작성된 오픈 소스 네이티브 IIS 모듈로, Node.js를 Windows IIS 내에서 실행할 수 있게 해줘요. 저희는 IIS 서버 배포 방식으로 Node.js를 사용할 거에요. 그러려면 Server.js와 web.config 두 파일이 필요하답니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n지금 application의 진입점인 server.js를 만들어보겠습니다:\n\n```js\nconst { createServer } = require(\"http\");\nconst { parse } = require(\"url\");\nconst next = require(\"next\");\n\nconst dev = process.env.NODE_ENV !== \"production\";\n\nconst port = process.env.PORT || 3000; // 포트를 IIS가 실행 중인 포트로 변경하세요. 기본값은 80이고 개발 중이면 3000입니다.\nconst hostname = \"localhost\";\nconst app = next({ dev, hostname, port });\nconst handle = app.getRequestHandler();\n\napp.prepare().then(() =\u003e {\n  createServer(async (req, res) =\u003e {\n    try {\n      const parsedUrl = parse(req.url, true);\n      const { pathname, query } = parsedUrl;\n\n      if (pathname === \"/a\") {\n        await app.render(req, res, \"/a\", query);\n      } else if (pathname === \"/b\") {\n        await app.render(req, res, \"/b\", query);\n      } else {\n        await handle(req, res, parsedUrl);\n      }\n    } catch (err) {\n      console.error(\"Error occurred handling\", req.url, err);\n      res.statusCode = 500;\n      res.end(\"internal server error\");\n    }\n  })\n    .once(\"error\", (err) =\u003e {\n      console.error(err);\n      process.exit(1);\n    })\n    .listen(port, async () =\u003e {\n      console.log(`\u003e Ready on http://localhost:${port}`);\n    });\n});\n```\n\n웹 구성 파일인 web.config은 IIS 및 ASP.NET Core Module이 응용 프로그램을 구성하는 데 사용하는 파일입니다. 그래서 여기에 우리의 web.config 파일이 있습니다:\n\n```js\n\u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e\n\u003c!--\n     이 구성 파일은 iisnode를 사용하여 IIS 또는 IIS Express에서 노드 프로세스를 실행하는 경우 필요합니다.\n     자세한 내용은 다음을 참조하십시오:\n\n     https://github.com/tjanczuk/iisnode/blob/master/src/samples/configuration/web.config\n--\u003e\n\n\u003cconfiguration\u003e\n  \u003csystem.webServer\u003e\n    \u003c!-- WebSocket 지원에 대한 자세한 정보는 http://blogs.msdn.com/b/windowsazure/archive/2013/11/14/introduction-to-websockets-on-windows-azure-web-sites.aspx에서 확인할 수 있습니다 --\u003e\n    \u003cwebSocket enabled=\"false\" /\u003e\n    \u003chandlers\u003e\n      \u003c!-- server.js 파일이 iisnode 모듈에 의해 처리되는 node.js 사이트임을 나타냄 --\u003e\n      \u003cadd name=\"iisnode\" path=\"server.js\" verb=\"*\" modules=\"iisnode\"/\u003e\n    \u003c/handlers\u003e\n    \u003crewrite\u003e\n      \u003crules\u003e\n        \u003c!-- node-inspector 디버깅을 위한 요청 방해하지 않음 --\u003e\n        \u003crule name=\"NodeInspector\" patternSyntax=\"ECMAScript\" stopProcessing=\"true\"\u003e\n          \u003cmatch url=\"^server.js\\/debug[\\/]?\" /\u003e\n        \u003c/rule\u003e\n\n        \u003c!-- 먼저 /public 폴더의 물리적 파일과 일치하는 들어오는 URL을 고려 --\u003e\n        \u003crule name=\"StaticContent\"\u003e\n          \u003caction type=\"Rewrite\" url=\"public{REQUEST_URI}\"/\u003e\n        \u003c/rule\u003e\n\n        \u003c!-- 모든 다른 URL은 node.js 사이트 진입점으로 매핑됨 --\u003e\n        \u003crule name=\"DynamicContent\"\u003e\n          \u003cconditions\u003e\n            \u003cadd input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"True\"/\u003e\n          \u003c/conditions\u003e\n          \u003caction type=\"Rewrite\" url=\"server.js\"/\u003e\n        \u003c/rule\u003e\n      \u003c/rules\u003e\n    \u003c/rewrite\u003e\n    \n    \u003c!-- 'bin' 디렉토리는 node.js에서 특별한 의미가 없으며, 앱을 그 안에 배치할 수 있음 --\u003e\n    \u003csecurity\u003e\n      \u003crequestFiltering\u003e\n        \u003chiddenSegments\u003e\n          \u003cadd segment=\"node_modules\"/\u003e\n        \u003c/hiddenSegments\u003e\n      \u003c/requestFiltering\u003e\n    \u003c/security\u003e\n\n    \u003c!-- 오류 응답을 변경하지 않도록 함 --\u003e\n    \u003chttpErrors existingResponse=\"PassThrough\" /\u003e\n    \u003ciisnode node_env=\"production\"/\u003e\n\n    \u003c!--\n      다음 옵션을 사용하여 IIS 내에서 Node를 호스트하는 방법을 제어할 수 있습니다:\n        * watchedFiles: 변경 사항을 감지하여 서버를 다시 시작할 파일 목록\n        * node_env: NODE_ENV 환경 변수로 전달될 값\n        * debuggingEnabled - 기본 디버거가 활성화되는지 여부\n\n      모든 옵션 목록은 https://github.com/tjanczuk/iisnode/blob/master/src/samples/configuration/web.config에서 확인 가능합니다\n    --\u003e\n    \u003c!--\u003ciisnode watchedFiles=\"web.config;*.js\"/\u003e--\u003e\n  \u003c/system.webServer\u003e\n\u003c/configuration\u003e\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n웹 구성 파일을 추가한 후에는 package.json을 약간 변경해야 합니다. npm run start가 서버를 시작하도록 설정되어야 하며 next start를 사용하지 않아야 합니다. 다음은 package.json 스크립트가 보이는 방식입니다:\n\n```js\n  \"scripts\": {\n    \"dev\": \"node server.js\",\n    \"build\": \"next build\",\n    \"start\": \"node server.js\",\n    \"lint\": \"next lint\"\n  },\n```\n\nserver.js를 추가하고 web.config를 추가한 후 npm run build를 실행하면 애플리케이션의 루트 폴더가 다음과 같이 보입니다.\n\n![애플리케이션 루트 폴더](/assets/img/2024-05-20-DeployingNextJsApplicationonWindowsIISServer_1.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# IIS에서 NextJS 애플리케이션을 배포하는 방법\n\n배포를 설정하기 전에 IISNode와 URLRewrite를 설치해야 합니다. 그 후, IIS에 새 웹 사이트를 생성하고 물리적 경로를 .next, node_modules, server.js 및 web.config가 포함된 폴더로 지정하세요. 권한 문제나 다른 가능한 문제를 피하려면 해당 폴더를 Windows Server의 루트 사용자 폴더 안에 배치하세요.\n\nIIS에서 웹 서버를 시작하면 자동으로 iisnode이라는 새 폴더가 생성됩니다.\n\n만약 배포 폴더가 C:/ 드라이브의 wwwroot에 있다면 전체 폴더에 대해 IIS_Users에게 읽기/쓰기 권한을 명시적으로 부여해야 할 수 있습니다. 다른 예상치 못한 오류가 발생하는 경우, 댓글을 남기거나 내 Discord @pallepadehat을 추가해주세요. 도와드릴게요!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 Github Repo에서 소스 코드를 확인할 수 있어요.","ogImage":{"url":"/assets/img/2024-05-20-DeployingNextJsApplicationonWindowsIISServer_0.png"},"coverImage":"/assets/img/2024-05-20-DeployingNextJsApplicationonWindowsIISServer_0.png","tag":["Tech"],"readingTime":7},{"title":"리액트, Framer 연동해서 사용하기","description":"","date":"2024-05-20 22:09","slug":"2024-05-20-ReactFramersequences","content":"\n\n웹 애플리케이션용 애니메이션 코드 학습 경험을 공유하려 합니다. 웹 애플리케이션을 위해 애니메이션을 코드로 작성하는 데 사용한 몇 가지 간단하고 빠른 기술을 소개하겠습니다.\n\n## 내용\n\n5분 이내에 만들 수 있는 3가지 기본사항을 살펴보겠습니다.\n\n- 각기 다른 변형 및 staggarChildren으로 간단한 연속 효과\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image 1](https://miro.medium.com/v2/resize:fit:1400/1*RDCcMOuV4CbcB0dhPd-sgQ.gif)\n\n2. Sequencing with useAnimate()\n\n![Image 2](https://miro.medium.com/v2/resize:fit:1400/1*-vqhUfXmPoehZSW8hRd7Lg.gif)\n\n3. Sequence sequences 😄\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*fYmW-ckGVVVdBn1hR23jzA.gif\" /\u003e\n\n## 설정\n\nReact 애플리케이션에 framer-motion을 설치하기만 하면 됩니다.\n\n```js\nnpm install framer-motion\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 이 기사에 대한 링크\n\nFigma 링크, CodeSandbox: 링크 1, 링크 2, 링크 3\n\n# 변형 및 staggerChildren을 사용한 간단한 순차\n\n이것은 간단한 시각적 상태 변경이 있는 요소들에서 순차를 만드는 가장 쉬운 방법입니다. 이에는 두 가지 부분만이 필요합니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 변형을 사용하여 애니메이션 설정하기\n- staggerChildren으로 조정하기\n\n![이미지](https://miro.medium.com/v2/resize:fit:1400/1*RDCcMOuV4CbcB0dhPd-sgQ.gif)\n\n## 단계\n\n- 애니메이션 디자인하기. 글귀가 약간 세로 방향으로 움직이면서 일련의 카드를 흐려지게 만들고 카드를 가로로 가로질러 나누는 선을 그렸습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-05-20-ReactFramersequences_0.png\" /\u003e\n\n2. 컴포넌트와 스타일을 생성합니다.\n\n```js\ntype Props = {\n  label: string;\n  text: string;\n};\n\nexport const Card = ({ label, text }: Props) =\u003e {\n  return (\n    \u003cdiv className={styles.cardContainer}\u003e\n      \u003cdiv className={styles.stepLabel}\u003e{label}\u003c/div\u003e\n      \u003cdiv className={styles.divider}\u003e\u003c/div\u003e\n      \u003cdiv className={styles.text}\u003e{text}\u003c/div\u003e\n    \u003c/div\u003e\n  );\n};\n```\n\n3. 이제 우리는 컴포넌트 내에서 재생하고 싶은 애니메이션을 위해 framer variants를 연결할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*dJC-pf0US95Bjk_16mz6vw.gif\" /\u003e\n\n변형 요소는 애니메이션이 시작하고 끝나는 스타일을 정의합니다. 여기서 텍스트에 대한 fadeIn 애니메이션과 함께 (텍스트가 수직으로도 5px 이동하는) 'start' 및 'end' 속성을 정의하고, 구분선에 대한 drawIn 애니메이션에 대해서도 두 가지 변형을 사용했습니다.\n\n```js\n...\n  const fadeIn = {\n    start: { opacity: \"0%\", y: \"0px\" },\n    end: {\n      opacity: \"100%\",\n      y: \"-5px\",\n      transition: {\n        duration: 1.2,\n        ease: \"easeOut\",\n        delay: 2,\n      },\n    },\n  };\n\n  const drawIn = {\n    start: { width: \"0\" },\n    end: {\n      width: \"100%\",\n      transition: {\n        duration: 1.2,\n        ease: \"easeOut\",\n        delay: 2,\n      },\n    },\n  };\n...\n```\n\n4. 부모 구성 요소에서 일련의 순서를 조율합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![이미지](https://miro.medium.com/v2/resize:fit:1400/1*RDCcMOuV4CbcB0dhPd-sgQ.gif)\n\n부모 'CardContainer'에서 몇 줄의 코드로 자식 카드에 staggerChildren을 사용하여 지연을 둔 애니메이션을 시작할 수 있습니다.\n\n```js\n...\nexport const CardContainer = () =\u003e {\n  const stagger = {\n    start: {},\n    end: {\n      transition: {\n        staggerChildren: 1,\n      },\n    },\n  };\n...\n```\n\n이 샌드박스에서 전체 코드를 확인하세요.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# useAnimate()을 사용한 순차 처리\n\n이 방법은 조금 더 노력이 필요하지만 더 많은 제어를 제공합니다. 각각의 요소를 '선택'하고 서로의 속성 및 타이밍에 관계하여 변경하는 개념입니다.\n\n- 대상으로 지정할 요소들에 대한 범위 추가\n- 요소들을 대상으로 선택하고 애니메이션을 추가합니다\n\n![이미지](https://miro.medium.com/v2/resize:fit:1400/1*-vqhUfXmPoehZSW8hRd7Lg.gif)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 단계\n\n1. 애니메이션을 디자인하세요.\n\n![image](/assets/img/2024-05-20-ReactFramersequences_1.png)\n\n2. 컴포넌트를 생성하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n...\nexport const Card = () =\u003e {\n  return (\n    \u003cdiv className={styles.cardContainer}\u003e\n      \u003cdiv className={styles.textBox}\u003e\n        \u003cdiv className={styles.i}\u003eI\u003c/div\u003e\n        \u003cdiv className={styles.heartTrack}\u003e\n          \u003cdiv className={styles.heart}\u003e\n            \u003cimg src=\"/images/heart.svg\" alt=\"heart\" /\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv className={styles.framer}\u003eFramer\u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n};\n...\n```\n\n![React Framer sequences](/assets/img/2024-05-20-ReactFramersequences_2.png)\n\n3. 사용할 요소에 애니메이션을 정의하여 순차적인 애니메이션을 활성화합니다. 이 경우에는 카드 컴포넌트의 바깥 요소에 범위를 설정하여 '나무 구조 안에서 애니메이션화할 요소를 선택할 수 있습니다.\n\n```js\n...\n\nexport const Card = () =\u003e {\n  const [scope, animate] = useAnimate();\n...\n\n  return (\n    \u003cdiv className={styles.cardContainer} ref={scope}\u003e\n   ...\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n4. 순서를 생성합니다. 하트가 텍스트로 내려오면서 약간 회전하고, 내 텍스트가 만나도록 슬라이드되기를 원합니다. 대상 요소를 참조하는 방법은 여러 가지가 있습니다. 클래스이름을 사용하고, 각 속성에 대한 모든 값을 제공하고 있습니다.\n\n노트할 사항은 제 텍스트 애니메이션에 설정된 ‘`’으로, 연속성을 사용하여 애니메이션이 재생되는 시점을 정의할 수 있습니다. 타임라인에서 요소를 동시에 시작할 수 있는 유용한 방법 중 하나입니다.\n\n```js\nanimate(\n[\n  [\n    `.${styles.heart}`,\n    { rotate: [0, 10, -10, 0], top: [\"-20%\", \"40%\"] },\n    { duration: 3 },\n  ],\n\n  [\n    `.${styles.textBox}`,\n    { gap: [\"250px\", \"24px\"] },\n    { duration: 2, at: \"\u003c\" },\n  ],\n],\n{ delay: 1 }\n);\n}, []);\n```\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*-vqhUfXmPoehZSW8hRd7Lg.gif\" /\u003e\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n해당 샌드박스에서 전체 코드를 확인하세요.\n\n# 시퀀스 하는 시퀀스 😄\n\n마침내, 일련의 시퀀스를 조율하는 방법을 찾고 있었는데, 이것이 문서에서 찾을 수 있는 가장 간단한 방법이었습니다. 만약보다 견고한 해결책이 있다면 공유해주세요.\n\n![image](https://miro.medium.com/v2/resize:fit:1400/1*fYmW-ckGVVVdBn1hR23jzA.gif)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 단계\n\n- 시퀀스에 지연 추가\n\n```js\n  useEffect(() =\u003e {\n    animate(\n      [\n        [\n          scope.current,\n          { backgroundColor: [\"#ED2733\", \"#FF4D98\"] },\n          { duration: 1 },\n        ],\n        [\n          `.${styles.heart}`,\n          { rotate: [0, 10, -10, 0], top: [\"-20%\", \"40%\"] },\n          { duration: 3 },\n        ],\n        [\n          `.${styles.textBox}`,\n          { gap: [\"250px\", \"24px\"] },\n          { duration: 2, at: \"\u003c\" },\n        ],\n      ],\n      { delay: delay }\n    );\n  }, []);\n```\n\n2. Cards에 delay 속성 전달\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위의 코드를 번역하면 다음과 같다.\n\n```javascript\n...\n\u003cCard delay={1} /\u003e\n\u003cCard delay={2} /\u003e\n...\n```\n\n이 샌드박스에서 전체 코드를 확인할 수 있습니다.\n\n읽어 주셔서 감사합니다!","ogImage":{"url":"/assets/img/2024-05-20-ReactFramersequences_0.png"},"coverImage":"/assets/img/2024-05-20-ReactFramersequences_0.png","tag":["Tech"],"readingTime":6}],"page":"65","totalPageCount":156,"totalPageGroupCount":8,"lastPageGroup":20,"currentPageGroup":3},"__N_SSG":true},"page":"/posts/[page]","query":{"page":"65"},"buildId":"OFpTzInQeZKWBaqJEukNX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>