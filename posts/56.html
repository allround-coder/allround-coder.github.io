<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>allround-coder</title><meta name="description" content="I develop websites, games and apps with HTML, CSS and JS."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://allround-coder.github.io///posts/56" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="allround-coder" data-gatsby-head="true"/><meta property="og:title" content="allround-coder" data-gatsby-head="true"/><meta property="og:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta property="og:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://allround-coder.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://allround-coder.github.io///posts/56" data-gatsby-head="true"/><meta name="twitter:title" content="allround-coder" data-gatsby-head="true"/><meta name="twitter:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta name="twitter:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | allround-coder" data-gatsby-head="true"/><meta name="next-head-count" content="18"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFDEQ947R4"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-ZFDEQ947R4');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a22d13b8e6bc8203.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a22d13b8e6bc8203.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/873-ec7535a55e788b31.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpage%5D-cd321dee6458c228.js" defer=""></script><script src="/_next/static/OFpTzInQeZKWBaqJEukNX/_buildManifest.js" defer=""></script><script src="/_next/static/OFpTzInQeZKWBaqJEukNX/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="posts_container__s9Z_H posts_-list__bsl0U"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Allround Coder</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><div class="posts_inner__HIBjT"><article><h2 class="SectionTitle_section_title__HS_xr">Posts</h2><div class="posts_project_list__oDV_y"><div class="PostList_post_list__or0rl"><a class="PostList_post_item__gAdVi" aria-label="íŒ¬ë”ìŠ¤ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ Case-When ë‹¤ì‹œ ì‚´í´ë³´ê¸°" href="/post/2024-06-19-LetsRevisitCase-WheninDifferentLibrariesIncludingtheNewPlayerPandas"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="íŒ¬ë”ìŠ¤ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ Case-When ë‹¤ì‹œ ì‚´í´ë³´ê¸°" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-LetsRevisitCase-WheninDifferentLibrariesIncludingtheNewPlayerPandas_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="íŒ¬ë”ìŠ¤ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ Case-When ë‹¤ì‹œ ì‚´í´ë³´ê¸°" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">íŒ¬ë”ìŠ¤ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ Case-When ë‹¤ì‹œ ì‚´í´ë³´ê¸°</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">6<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Nestjs ì˜¤ë¥˜ ì²˜ë¦¬" href="/post/2024-06-19-NestjsErrorHandling"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Nestjs ì˜¤ë¥˜ ì²˜ë¦¬" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-NestjsErrorHandling_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Nestjs ì˜¤ë¥˜ ì²˜ë¦¬" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">Nestjs ì˜¤ë¥˜ ì²˜ë¦¬</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">7<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ì´ˆë³´ìë¥¼ ìœ„í•œ Nestjs" href="/post/2024-06-19-Nestjsforbeginners"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ì´ˆë³´ìë¥¼ ìœ„í•œ Nestjs" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-Nestjsforbeginners_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ì´ˆë³´ìë¥¼ ìœ„í•œ Nestjs" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">ì´ˆë³´ìë¥¼ ìœ„í•œ Nestjs</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">2<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Nodejsì—ì„œ ì²« ë²ˆì§¸ REST APIë¥¼ ë§Œë“œëŠ” ë°©ë²•" href="/post/2024-06-19-HowtomakeyourfirstRESTAPIinNodejs"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Nodejsì—ì„œ ì²« ë²ˆì§¸ REST APIë¥¼ ë§Œë“œëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-HowtomakeyourfirstRESTAPIinNodejs_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Nodejsì—ì„œ ì²« ë²ˆì§¸ REST APIë¥¼ ë§Œë“œëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">Nodejsì—ì„œ ì²« ë²ˆì§¸ REST APIë¥¼ ë§Œë“œëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">3<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="NestJSì—ì„œ ì˜ì¡´ì„± ì£¼ì…ì€ ì–´ë–»ê²Œ ì²˜ë¦¬ë ê¹Œìš”" href="/post/2024-06-19-HowDoesNestJSHandleDependencyInjection"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="NestJSì—ì„œ ì˜ì¡´ì„± ì£¼ì…ì€ ì–´ë–»ê²Œ ì²˜ë¦¬ë ê¹Œìš”" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-HowDoesNestJSHandleDependencyInjection_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="NestJSì—ì„œ ì˜ì¡´ì„± ì£¼ì…ì€ ì–´ë–»ê²Œ ì²˜ë¦¬ë ê¹Œìš”" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">NestJSì—ì„œ ì˜ì¡´ì„± ì£¼ì…ì€ ì–´ë–»ê²Œ ì²˜ë¦¬ë ê¹Œìš”</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">2<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Golang ëŒ€ Nodejs" href="/post/2024-06-19-GolangvsNodejs"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Golang ëŒ€ Nodejs" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-GolangvsNodejs_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Golang ëŒ€ Nodejs" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">Golang ëŒ€ Nodejs</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">4<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Nodejsë¥¼ ì‚¬ìš©í•œ ì„œë²„ ì¸¡ ë Œë”ë§ ìš´ì˜í™”" href="/post/2024-06-19-OperationalizingNodejsforServerSideRendering"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Nodejsë¥¼ ì‚¬ìš©í•œ ì„œë²„ ì¸¡ ë Œë”ë§ ìš´ì˜í™”" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Nodejsë¥¼ ì‚¬ìš©í•œ ì„œë²„ ì¸¡ ë Œë”ë§ ìš´ì˜í™”" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">Nodejsë¥¼ ì‚¬ìš©í•œ ì„œë²„ ì¸¡ ë Œë”ë§ ìš´ì˜í™”</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">15<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="GraphQL ì´í•´í•˜ê¸° íš¨ê³¼ì ì¸ ì‚¬ìš©, ì¥ë‹¨ì  ë° TypeScriptì™€ Nodejsë¡œ êµ¬í˜„í•œ ì‹¤ìš©ì ì¸ ì‚¬ë¡€" href="/post/2024-06-19-UnderstandingGraphQLEffectivenessProsandConsandaPracticalUseCasewithTypeScriptandNodejs"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="GraphQL ì´í•´í•˜ê¸° íš¨ê³¼ì ì¸ ì‚¬ìš©, ì¥ë‹¨ì  ë° TypeScriptì™€ Nodejsë¡œ êµ¬í˜„í•œ ì‹¤ìš©ì ì¸ ì‚¬ë¡€" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-UnderstandingGraphQLEffectivenessProsandConsandaPracticalUseCasewithTypeScriptandNodejs_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="GraphQL ì´í•´í•˜ê¸° íš¨ê³¼ì ì¸ ì‚¬ìš©, ì¥ë‹¨ì  ë° TypeScriptì™€ Nodejsë¡œ êµ¬í˜„í•œ ì‹¤ìš©ì ì¸ ì‚¬ë¡€" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">GraphQL ì´í•´í•˜ê¸° íš¨ê³¼ì ì¸ ì‚¬ìš©, ì¥ë‹¨ì  ë° TypeScriptì™€ Nodejsë¡œ êµ¬í˜„í•œ ì‹¤ìš©ì ì¸ ì‚¬ë¡€</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="NodeJS ì‘ë™ ë°©ì‹ ë’·ë‹´í™”ë¶€í„° ì „ë‹¬í•©ë‹ˆë‹¤" href="/post/2024-06-19-HowNodeJSWorksBehindtheScenes"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="NodeJS ì‘ë™ ë°©ì‹ ë’·ë‹´í™”ë¶€í„° ì „ë‹¬í•©ë‹ˆë‹¤" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-HowNodeJSWorksBehindtheScenes_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="NodeJS ì‘ë™ ë°©ì‹ ë’·ë‹´í™”ë¶€í„° ì „ë‹¬í•©ë‹ˆë‹¤" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">NodeJS ì‘ë™ ë°©ì‹ ë’·ë‹´í™”ë¶€í„° ì „ë‹¬í•©ë‹ˆë‹¤</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">3<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ this í‚¤ì›Œë“œ ì„¤ëª… ë° í•´ì„í•˜ê¸°" href="/post/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ this í‚¤ì›Œë“œ ì„¤ëª… ë° í•´ì„í•˜ê¸°" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ this í‚¤ì›Œë“œ ì„¤ëª… ë° í•´ì„í•˜ê¸°" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/assets/profile.jpg"/></div><span class="writer">Allround Coder</span></div><strong class="PostList_title__loLkl">ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ this í‚¤ì›Œë“œ ì„¤ëª… ë° í•´ì„í•˜ê¸°</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 19, 2024</span><span class="PostList_reading_time__6CBMQ">10<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a></div></div></article><div class="posts_pagination__R_03T"><button type="button" class="page_button -prev">&lt;</button><a class="link" href="/posts/41">41</a><a class="link" href="/posts/42">42</a><a class="link" href="/posts/43">43</a><a class="link" href="/posts/44">44</a><a class="link" href="/posts/45">45</a><a class="link" href="/posts/46">46</a><a class="link" href="/posts/47">47</a><a class="link" href="/posts/48">48</a><a class="link" href="/posts/49">49</a><a class="link" href="/posts/50">50</a><a class="link" href="/posts/51">51</a><a class="link" href="/posts/52">52</a><a class="link" href="/posts/53">53</a><a class="link" href="/posts/54">54</a><a class="link" href="/posts/55">55</a><a class="link posts_-active__YVJEi" href="/posts/56">56</a><a class="link" href="/posts/57">57</a><a class="link" href="/posts/58">58</a><a class="link" href="/posts/59">59</a><a class="link" href="/posts/60">60</a><button type="button" class="page_button -prev">&gt;</button></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"íŒ¬ë”ìŠ¤ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ Case-When ë‹¤ì‹œ ì‚´í´ë³´ê¸°","description":"","date":"2024-06-19 23:17","slug":"2024-06-19-LetsRevisitCase-WheninDifferentLibrariesIncludingtheNewPlayerPandas","content":"\n\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-19-LetsRevisitCase-WheninDifferentLibrariesIncludingtheNewPlayerPandas_0.png)\n\në°ì´í„° ë¶„ì„, ë°ì´í„° ì •ë¦¬ ë˜ëŠ” ì‹¬ì§€ì–´ í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§ì„ í•  ë•Œ, ë‹¤ë¥¸ ì—´ì˜ ê°’ì— ê¸°ë°˜í•œ ìƒˆë¡œìš´ ì—´ì„ ë§Œë“œëŠ” ê²ƒì€ ìì£¼ ìˆ˜í–‰ë˜ëŠ” ì‘ì—…ì…ë‹ˆë‹¤.\n\në‚˜ëŠ” ë°ì´í„° ì •ë¦¬ ë° ì¡°ì‘ì— ì‚¬ìš©í•œ ëª¨ë“  ë„êµ¬ë“¤ì´ ì´ ì‘ì—…ì„ ìœ„í•œ í•¨ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆì—ˆë‹¤ (ì˜ˆ: SQL, R ë°ì´í„° í…Œì´ë¸”, PySpark). ì´ì œ ìš°ë¦¬ì—ê²Œ ìƒˆë¡œìš´ í”Œë ˆì´ì–´ê°€ ë“±ì¥í–ˆìŠµë‹ˆë‹¤: Pandas.\n\nê·¸ëŸ°ë°, Pandasë¡œ ì¡°ê±´ë¶€ ì—´ì„ ë§Œë“œëŠ” ê²ƒì€ ê°€ëŠ¥í–ˆì§€ë§Œ, ì „ìš© case-when í•¨ìˆ˜ëŠ” ì—†ì—ˆìŠµë‹ˆë‹¤.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\níŒë‹¤ 2.2.0ì—ì„œ case_when í•¨ìˆ˜ê°€ ë„ì…ë˜ì–´ í•œ ê°œ ì´ìƒì˜ ì¡°ê±´ì— ê¸°ë°˜í•œ Series ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ìœ ìš©í•œ ì‘ì—…ì„ ì–´ë–»ê²Œ ìˆ˜í–‰í•˜ëŠ”ì§€ ë‹¤ì‹œ ì‚´í´ë´…ì‹œë‹¤. ì´ê²ƒì€ ë°ì´í„° ë¶„ì„ ë° ì¡°ì‘ ë„êµ¬ë¡œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.\n\në„êµ¬ ê°„ ì°¨ì´ë¥¼ ì‰½ê²Œ ì‹ë³„í•˜ê³  ì¼ê´€ì„± ìˆê²Œ ìœ ì§€í•˜ê¸° ìœ„í•´ ì‘ì€ ë°ì´í„°ì…‹ì„ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.\n\n## SQL\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‹¤ìŒì€ 'mytable'ì´ë¼ëŠ” ì‘ì€ SQL í…Œì´ë¸”ì…ë‹ˆë‹¤.\n\n```js\n|           a |        b |       c |\n|-------------|----------|---------|\n|           0 |        5 |       1 |\n|           1 |       -1 |       0 |\n|           5 |       20 |       0 |\n|           4 |        8 |       1 |\n|           4 |        4 |       1 |\n|          10 |        7 |       0 |\n|           4 |        2 |       1 |\n```\n\nê¸°ì¡´ ì—´ì˜ ê°’ì— ë”°ë¼ ìƒˆë¡œìš´ ì—´ì„ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤. ë‹¤ìŒì€ ì¡°ê±´ì…ë‹ˆë‹¤:\n\n- a ì—´ì´ b ì—´ë³´ë‹¤ í¬ë©´ a ì—´ì˜ ê°’ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n- a ì—´ì´ b ì—´ë³´ë‹¤ ì‘ìœ¼ë©´ a ì—´ê³¼ c ì—´ì˜ ê³±ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n- ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° (ì¦‰, a ì—´ì´ b ì—´ê³¼ ê°™ì€ ê²½ìš°), a ì—´ê³¼ b ì—´ì˜ í•©ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní•„ìš”ì— ë”°ë¼ ì—¬ëŸ¬ ì¡°ê±´ì„ ë§Œë“¤ê³ , ê·¸ê²ƒë“¤ì„ í›¨ì”¬ ë³µì¡í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ, ì´ ì„¸ ê°€ì§€ ì¡°ê±´ì€ ë…¼ë¦¬ë¥¼ ë°°ìš¸ ë•Œ ì¶©ë¶„í•©ë‹ˆë‹¤.\n\nìƒˆ ì—´ì„ \"d\" ë¼ê³  ë¶€ë¥´ê³ , ìœ„ ë‘ ì¡°ê±´ì— ê¸°ë°˜í•œ ì´ ì—´ì„ ìƒì„±í•˜ê¸° ìœ„í•œ SQL ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n```js\nselect \n  (case \n     when a \u003e b then a\n     when a \u003c b then a * c\n     else a + b end\n  ) as d\nfrom mytable\n```\n\nì´ SQL ì½”ë“œëŠ” \"mytable\"ì—ì„œ ì—´ dë§Œ ìƒì„±í•˜ê³  ì„ íƒí•©ë‹ˆë‹¤. ì—´ a, b, cë¥¼ í•¨ê»˜ ë°˜í™˜í•˜ë„ë¡ í•„ìš”í•˜ë‹¤ë©´, select ë¬¸ì— í•´ë‹¹ ì—´ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```R\nselect \n  a,\n  b,\n  c,\n  (case \n     when a \u003e b then a\n     when a \u003c b then a * c\n     else a + b end\n  ) as d\nfrom mytable\n```\n\n## R data table\n\në°ì´í„° í…Œì´ë¸” íŒ¨í‚¤ì§€ëŠ” R í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ìœ„í•œ ë§¤ìš° íš¨ìœ¨ì ì¸ ë°ì´í„° ë¶„ì„ ë° ì¡°ì‘ ë„êµ¬ì…ë‹ˆë‹¤.\n\nì´ì œ ì´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡°ê±´ë¶€ ì—´ dë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ë°°ì›Œë³´ê² ìŠµë‹ˆë‹¤. ë¨¼ì € SQL í…Œì´ë¸”ê³¼ ë™ì¼í•œ ì—´ì„ í¬í•¨í•˜ëŠ” ë°ì´í„° í…Œì´ë¸”ì„ ë§Œë“¤ì–´ë´…ì‹œë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nmytable \u003c- data.table(\n      a=c(0, 1, 5, 4, 4, 10, 4), \n      b=c(5, -1, 20, 8, 4, 7, 2), \n      c=c(1, 0, 0, 1, 1, 0, 1)\n)\n```\n\në°ì´í„° í…Œì´ë¸”ì—ì„œ ì¡°ê±´ì— ë§ëŠ” ê²½ìš° fcase í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¡°ê±´ì„ ì‘ì„±í•˜ê³  í•´ë‹¹í•˜ëŠ” ê°’ë“¤ì„ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¤ìŒì€ ì£¼ì–´ì§„ ì¡°ê±´ì— ë”°ë¼ ì—´ dë¥¼ ë§Œë“œëŠ” ë°©ë²•ì…ë‹ˆë‹¤:\n\n```js\nmytable[, d := (fcase(a \u003e b, a, a \u003c b, a*c, a==b, a+b))]\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nfcase í•¨ìˆ˜ ë‚´ë¶€ì˜ ì²« ë²ˆì§¸ í‘œí˜„ì‹(a ` b)ì€ ì²« ë²ˆì§¸ ì¡°ê±´ì´ë©°, ë‘ ë²ˆì§¸ í‘œí˜„ì‹(a)ì€ í•´ë‹¹ ê°’ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì„¸ ë²ˆì§¸ í‘œí˜„ì‹(a ` b)ì€ ë‘ ë²ˆì§¸ ì¡°ê±´ì´ë©°, ë„¤ ë²ˆì§¸ í‘œí˜„ì‹(a*c)ì€ í•´ë‹¹ ê°’ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ì–´ì„œ ê³„ì†ë©ë‹ˆë‹¤.\n\nì´ì œ ë°ì´í„° í…Œì´ë¸” \"mytable\"ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n```js\n    a  b c  d\n1:  0  5 1  0\n2:  1 -1 0  1\n3:  5 20 0  0\n4:  4  8 1  4\n5:  4  4 1  8\n6: 10  7 0 10\n7:  4  2 1  4\n```\n\n## PySpark\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\níŒŒì´ìŠ¤íŒŒí¬ëŠ” ëŒ€ê·œëª¨ ë°ì´í„° ì²˜ë¦¬ì— ì‚¬ìš©ë˜ëŠ” ë¶„ì„ ì—”ì§„ì¸ Sparkë¥¼ ìœ„í•œ Python APIì…ë‹ˆë‹¤. ìˆ˜ì‹­ì–µ ê°œì˜ í–‰ì„ ê°€ì§„ ë°ì´í„°ì…‹ ì‘ì—…ì—ëŠ” ë³´í†µ Sparkê°€ ì„ í˜¸ë˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.\n\nPySpark APIëŠ” ë§¤ìš° ì§ê´€ì ì´ë©° ì´í•´í•˜ê¸° ì‰¬ìš´ êµ¬ë¬¸ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë¨¼ì € ì´ì „ê³¼ ë™ì¼í•œ ì—´ê³¼ ê°’ì´ í¬í•¨ëœ Spark DataFrameì„ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.\n\n```python\nfrom pyspark.sql import SparkSession\nfrom pyspark.sql import functions as F\nspark = SparkSession.builder.getOrCreate()\n\ndata = [\n    {\"a\": 0, \"b\": 5, \"c\": 1},\n    {\"a\": 1, \"b\": -1, \"c\": 0},\n    {\"a\": 5, \"b\": 20, \"c\": 0},\n    {\"a\": 4, \"b\": 8, \"c\": 1},\n    {\"a\": 4, \"b\": 4, \"c\": 1},\n    {\"a\": 10, \"b\": 7, \"c\": 0},\n    {\"a\": 4, \"b\": 2, \"c\": 1}\n]\n\nmytable = spark.createDataFrame(data)\n```\n\nìš°ë¦¬ëŠ” ë¨¼ì € spark ì„¸ì…˜ì„ ì‹œì‘í•˜ê³  ê·¸ í›„ì— DataFrameì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. Databricksì™€ ê°™ì€ ê°œë°œ í™˜ê²½ì—ì„œ ì‘ì—…í•˜ëŠ” ê²½ìš°ì—ëŠ” ëª…ì‹œì ìœ¼ë¡œ spark ì„¸ì…˜ì„ ìƒì„±í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ì ì— ìœ ì˜í•˜ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nwithColumn í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆ ì—´ì„ ìƒì„±í•˜ê³  ì—¬ëŸ¬ ì¡°ê±´ì— ë”°ë¼ ê°’ì„ ê²°ì •í•˜ê¸° ìœ„í•´ when í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nmytable = (\n    mytable\n    .withColumn(\"d\",\n                F.when(F.col(\"a\") \u003e F.col(\"b\"), F.col(\"a\"))\n                 .when(F.col(\"a\") \u003c F.col(\"b\"), F.col(\"a\") * F.col(\"c\"))\n                 .otherwise(F.col(\"a\") + F.col(\"b\")))\n)\n\nmytable.show()\n\n+---+---+---+---+\n|  a|  b|  c|  d|\n+---+---+---+---+\n|  0|  5|  1|  0|\n|  1| -1|  0|  1|\n|  5| 20|  0|  0|\n|  4|  8|  1|  4|\n|  4|  4|  1|  8|\n| 10|  7|  0| 10|\n|  4|  2|  1|  4|\n+---+---+---+---+\n```\n\nì´ì „ ë„êµ¬ì™€ ë§ˆì°¬ê°€ì§€ë¡œ í•„ìš”í•œë§Œí¼ ë§ì€ ì¡°ê±´ì„ ê²°í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ì¡°ê±´ì€ ìì²´ when í•¨ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆê³  ìµœì¢… ì¡°ê±´ì˜ ê°’ (ì´ì „ ì¡°ê±´ ì¤‘ ì–´ëŠ ê²ƒë„ ì¶©ì¡±ë˜ì§€ ì•Šì„ ê²½ìš°)ì€ otherwise í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì§€ì •ë©ë‹ˆë‹¤.\n\n## íŒë‹¤ìŠ¤\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\níŒ¬ë”ìŠ¤ëŠ” ë°ì´í„° ë¶„ì„ ë° ì¡°ì‘ ì‘ì—… ì¤‘ ê°€ì¥ ìì£¼ ì‚¬ìš©ë˜ëŠ” ë„êµ¬ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë²„ì „ 2.2.0 ì´ì „ì—ëŠ” íŒ¬ë”ìŠ¤ì— case_when í•¨ìˆ˜ê°€ ì—†ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë‹¤ë¥¸ í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©í•˜ì—¬ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, íŒ¬ë”ìŠ¤ì˜ where í•¨ìˆ˜ë‚˜ NumPyì˜ where ë° select í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì§€ê¸ˆì€ íŒ¬ë”ìŠ¤ì— case_when í•¨ìˆ˜ê°€ ìˆìœ¼ë‹ˆ ë‹¤ë¥¸ ë„êµ¬ë“¤ë¡œ ì‘ì—…í•˜ë˜ ê²ƒì„ ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³´ê² ìŠµë‹ˆë‹¤.\n\në¨¼ì € íŒ¬ë”ìŠ¤ ë°ì´í„°í”„ë ˆì„ì„ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n```python\nimport pandas as pd\n\nmytable = pd.DataFrame(\n    {\n        \"a\": [0, 1, 5, 4, 4, 10, 4],\n        \"b\": [5, -1, 20, 8, 4, 7, 2],\n        \"c\": [1, 0, 0, 1, 1, 0, 1]\n    }\n)\n```\n\ncase_when í•¨ìˆ˜ëŠ” ì¡°ê±´ ë° í•´ë‹¹ ê°’ì„ íŠœí”Œë¡œ í¬í•¨í•˜ëŠ” ì¼€ì´ìŠ¤ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¸ìˆ˜ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\ncaselist = [\n    (mytable[\"a\"] \u003e mytable[\"b\"], mytable[\"a\"]),\n    (mytable[\"a\"] \u003c mytable[\"b\"], mytable[\"a\"] * mytable[\"c\"]),\n    (mytable[\"a\"] == mytable[\"b\"], mytable[\"a\"] + mytable[\"b\"])\n]\n\nmytable.loc[:, \"d\"] = mytable[\"a\"].case_when(caselist)\n\nmytable\n\n    a  b  c  d\n0   0  5  1  0\n1   1 -1  0  1\n2   5 20  0  0\n3   4  8  1  4\n4   4  4  1  8\n5  10  7  0 10\n6   4  2  1  4\n```\n\ncaselistì˜ ê° íŠœí”Œì€ ì¡°ê±´ê³¼ í•´ë‹¹í•˜ëŠ” ê°’ì´ í¬í•¨ë˜ì–´ ìˆì–´ìš”. DataFrameì˜ ì—´ì— ëŒ€í•´ case_when í•¨ìˆ˜ë¥¼ ì ìš©í•  ë•Œ ì¤‘ìš”í•œ ì ì´ì—ìš”. ì£¼ì–´ì§„ ì¡°ê±´ ì¤‘ ì–´ëŠ ì¡°ê±´ë„ ì¶©ì¡±ë˜ì§€ ì•ŠëŠ” í–‰ì´ ìˆëŠ” ê²½ìš°, ìƒˆ ì—´ì˜ í•´ë‹¹ í–‰ì€ ì›ë˜ ì—´ì˜ ê°’ì„ ê°€ì ¸ì™€ìš”.\n\nìœ„ì˜ ì˜ˆì‹œì—ì„œ, ë§Œì•½ ê·¸ëŸ¬í•œ í–‰ì´ ìˆë‹¤ë©´, ì—´ dì˜ í•´ë‹¹ ê°’ì€ ì—´ aì—ì„œ ê°€ì ¸ì˜¤ê²Œ ë  ê±°ì—ìš”. caselistì˜ ë§ˆì§€ë§‰ ì¡°ê±´ì„ ì œê±°í•˜ì—¬ ì‹œë„í•´ë³´ê² ì–´ìš”.\n\n```js\ncaselist = [\n    (mytable[\"a\"] \u003e mytable[\"b\"], mytable[\"a\"]),\n    (mytable[\"a\"] \u003c mytable[\"b\"], mytable[\"a\"] * mytable[\"c\"])\n]\n\nmytable.loc[:, \"d\"] = mytable[\"a\"].case_when(caselist)\n\nmytable\n\n    a  b  c  d\n0   0  5  1  0\n1   1 -1  0  1\n2   5 20  0  0\n3   4  8  1  4\n4   4  4  1  4\n5  10  7  0 10\n6   4  2  1  4\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n4ë²ˆ í–‰ì˜ ê°’ë“¤ì„ í™•ì¸í•´ ë³´ì„¸ìš”. ì—´ dì˜ ê°’ì€ ì—´ aì˜ ê°’ê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n## ë§ˆì§€ë§‰ìœ¼ë¡œ\n\në°ì´í„° ì •ë¦¬, ë¶„ì„ ë° ì¡°ì‘ì„ ìœ„í•œ ë§ì€ ë„êµ¬ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì‚¬ìš©í•  ë„êµ¬ëŠ” ì„ íƒì˜ ë¬¸ì œì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ë„êµ¬ë“¤ì€ ì¼ë°˜ì ì¸ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ì „íˆ ë‹¤ì–‘í•œ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œê³  ìˆëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\nì´ ê¸€ì—ì„œëŠ” SQL, PySpark, R ë°ì´í„° í…Œì´ë¸” ë° Pandasë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡°ê±´ë¶€ ì—´ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë°°ì› ìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. í”¼ë“œë°±ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ì•Œë ¤ì£¼ì„¸ìš”!","ogImage":{"url":"/assets/img/2024-06-19-LetsRevisitCase-WheninDifferentLibrariesIncludingtheNewPlayerPandas_0.png"},"coverImage":"/assets/img/2024-06-19-LetsRevisitCase-WheninDifferentLibrariesIncludingtheNewPlayerPandas_0.png","tag":["Tech"],"readingTime":6},{"title":"Nestjs ì˜¤ë¥˜ ì²˜ë¦¬","description":"","date":"2024-06-19 23:16","slug":"2024-06-19-NestjsErrorHandling","content":"\n\n\u003cimg src=\"/assets/img/2024-06-19-NestjsErrorHandling_0.png\" /\u003e\n\n# 1. ì†Œê°œ\n\nNestJsëŠ” ë°±ì—”ë“œ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. ì´ í”„ë ˆì„ì›Œí¬ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ë ˆì´ì–´ì—ì„œ ì˜¤ë¥˜ ì²˜ë¦¬ì— ëŒ€í•œ ê·œì¹™ì„ ì •ì˜í–ˆì§€ë§Œ, ì´ëŠ” ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ëŠ” ì¶©ë¶„í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³¸ ë¬¸ì„œì—ì„œëŠ” ì˜¤ë¥˜ë¥¼ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬í•˜ê³  ì‹ ì¤‘í•˜ê²Œ ëŒ€ìš°í•˜ëŠ” ë” íš¨ê³¼ì ì´ê³  êµ¬ì¡°í™”ëœ ì ‘ê·¼ ë°©ì‹ì„ ì†Œê°œí•©ë‹ˆë‹¤.\n\n# 2. ì˜¤ë¥˜ ì²˜ë¦¬ ì „ëµ\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ì—ëŸ¬ ìœ í˜•\n\nì½”ë“œì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì—ëŸ¬ ìœ í˜•ì„ ì •ì˜í•´ë³´ê² ìŠµë‹ˆë‹¤:\n\n- ìœ íš¨ì„± ê²€ì‚¬ ì—ëŸ¬\n- ì œì‚¼ì ì—ëŸ¬\n- ë°ì´í„°ë² ì´ìŠ¤ ì—ëŸ¬\n- ì¼ë°˜(ì˜ˆê¸°ì¹˜ ì•Šì€) ì—ëŸ¬\n\nì–¸ê¸‰ëœ ëª¨ë“  ì¢…ë¥˜ì˜ ì—ëŸ¬ì— íŠ¹íˆ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\níŠ¹ì • ì˜¤ë¥˜, ì˜ˆë¥¼ ë“¤ì–´ ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜ì™€ ê°™ì€ ê²½ìš° ì ì ˆí•œ ì‘ë‹µì´ë‚˜ ìƒíƒœ ì½”ë“œë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì¼ë°˜ ì˜¤ë¥˜ì™€ ê°™ì€ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ì˜¤ë¥˜ì˜ ê²½ìš°, ìœ ì§€ë³´ìˆ˜ìì—ê²Œ ì•Œë¦¬ê±°ë‚˜ ë†’ì€ ìš°ì„ ìˆœìœ„ë¡œ í‹°ì¼“ì„ ìƒì„±í•˜ëŠ” ë“±ì˜ ì¶”ê°€ ì¡°ì¹˜ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜ ë‹¤ë¥¸ ì˜¤ë¥˜ ìœ í˜•ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜ëŠ” ë³µêµ¬ì™€ ë³µì› ë…¼ë¦¬ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# 3. ë‹¤ë¥¸ ê³„ì¸µì—ì„œì˜ ì˜¤ë¥˜ ì²˜ë¦¬\n\nì €ëŠ” ìš°ë¦¬ì˜ ì‘ìš©í”„ë¡œê·¸ë¨ ê³„ì¸µì„ ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¥˜í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•©ë‹ˆë‹¤:\n\n- ìš”ì²­ ê³„ì¸µ\n- ì¸í„°ì…‰í„°\n- ê°€ë“œ\n- ì»¨íŠ¸ë¡¤ëŸ¬ ê³„ì¸µ(*)\n- ì„œë¹„ìŠ¤ ê³„ì¸µ\n- ëª¨ë¸\n- ë°ì´í„°ë² ì´ìŠ¤\n- ì˜ˆì™¸ ì²˜ë¦¬ ê³„ì¸µ\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì»¨íŠ¸ë¡¤ëŸ¬ ë ˆì´ì–´ ì•„ë˜ì˜ ëª¨ë“  ë ˆì´ì–´ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ìƒìœ„ ë ˆì´ì–´ë¡œ throwí•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:\n\n- ë°ì´í„°ë² ì´ìŠ¤ CRUD í•¨ìˆ˜(ORM í•¨ìˆ˜ ë“±)ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ Database Error ìœ í˜•ì„ throwí•´ì•¼ í•©ë‹ˆë‹¤.\n- ì„œë“œíŒŒí‹° í˜¸ì¶œ(Stripe ë“±)ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ Third-party ì—ëŸ¬ ìœ í˜•ì„ throwí•´ì•¼ í•©ë‹ˆë‹¤.\n- ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ Generic ì—ëŸ¬ ìœ í˜•ìœ¼ë¡œ ê°„ì£¼í•´ì•¼ í•©ë‹ˆë‹¤.\n- ë“±ë“±\n\n```js\nasync sampleFucntion(@AuthenticatedUser() jwtPayload: JwtDto) {\n        try {\n            return this.utilsService.apiResponse(200, await this.sampleService.sampleServiceFucntion(jwtPayload.id))\n        } catch (error) {\n            this.utilsService.handleError(error, jwtPayload, {}, 'description')\n        }\n    }\n```\n\nì–¸ê¸‰í•œ ëª¨ë“  ì˜¤ë¥˜ëŠ” ìƒìœ„ ë ˆì´ì–´ë¡œ throwë˜ì–´ì•¼ í•˜ë©°, throwëœ ì˜¤ë¥˜ë¥¼ ë°›ì€ í•´ë‹¹ ë ˆì´ì–´ë„ Controller ë ˆì´ì–´ê°€ `try-catch` ë¸”ë¡ì—ì„œ ì˜¤ë¥˜ë¥¼ ë°›ê²Œ ë  ë•Œê¹Œì§€ throwí•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ Controller ë ˆì´ì–´ëŠ” ì¡íŒ ì˜¤ë¥˜ë¥¼ utils ëª¨ë“ˆì´ë‚˜ errors ëª¨ë“ˆì— í¬í•¨ëœ `ErrorHandler` í•¨ìˆ˜ë¡œ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ì˜¤ë¥˜ ì²˜ë¦¬ê¸° í•¨ìˆ˜\n\nì´ í•¨ìˆ˜ëŠ” ë°›ì€ ì˜¤ë¥˜ ìœ í˜•ì„ Switch-case ë˜ëŠ” if-else ë°©ì‹ìœ¼ë¡œ ê°ì§€í•˜ì—¬ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\nhandleError(error, jwt: JwtDto, additionalInfo: any, description: string): void {\n        if (error instanceof CheckingException) {\n            throw new CheckingException(error.message, error.statusCode,error.messageData)\n        } else if (error instanceof DatabaseException) {\n            throw new DatabaseException(error.message, error, error.queryParams, description)\n        } else if (error instanceof StripeErrorException) {\n            throw new StripeErrorException(error as Stripe.errors.StripeError, error.stack, description)\n        } else if (error instanceof HttpException){\n                throw error\n        } else {\n            throw new GenericException(error.message, error, jwt, additionalInfo, description)\n        }\n    }\n```\n\nìœ í˜•ì„ ê°ì§€í•œ í›„, ê° ì˜¤ë¥˜ ìœ í˜•ì— ì í•©í•œ ë§¤ê°œë³€ìˆ˜ë¡œ ì˜¤ë¥˜ ìœ í˜•ì„ ìƒì„±í•˜ê³  í•´ë‹¹ ì˜¤ë¥˜ë¥¼ throwí•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìƒ˜í”Œ Exception í´ë˜ìŠ¤:\n\n```js\nexport class DatabaseException extends Error {\n    queryParams: any\n    description: any\n    stack:any\n    message : string\n    constructor(message: string,error: Error, q: any, description?: string) {\n        super(`ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${message}`)\n        this.queryParams = q\n        this.description = description\n        this.stack = error.stack\n        this.message = error.message\n    }\n}\n```\n\níŠ¹ì • APP_FILTERë¥¼ ì •ì˜í•˜ê³  app.moduleì—ì„œ ë“±ë¡í•´ì•¼ í•©ë‹ˆë‹¤:\n\n```js\nproviders: [\n    {\n        provide: APP_FILTER,\n        useClass: GenericExceptionFilter,\n    },\n    {\n        provide: APP_FILTER,\n        useClass: checkingExceptionFilter,\n    },\n    {\n        provide: APP_FILTER,\n        useClass: DatabaseExceptionFilter,\n    },\n    {\n        provide: APP_FILTER,\n        useClass: StripeExceptionFilter,\n    },\n    AppService,\n    UtilsService,\n    JwtService,\n    LoggerService,\n]\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì˜ˆì™¸ í•„í„°ì—ì„œëŠ” ì´ì œ ì´ëŸ¬í•œ ì˜¤ë¥˜ ì¤‘ í•˜ë‚˜ì— ì™„ë²½í•˜ê²Œ ëŒ€ì‘í•´ì•¼ í•©ë‹ˆë‹¤:\në‹¤ìŒ ì¡°ê±´ì„ ê³ ë ¤í•´ ì£¼ì„¸ìš”:\n\n- ë°ì´í„°ë² ì´ìŠ¤ ë° ì¼ë°˜ì ì¸ ì˜¤ë¥˜ëŠ” ìœ ì§€ë³´ìˆ˜ìì—ê²Œ ì•Œë¦¬ê³  ì²˜ë¦¬ëœ ì˜¤ë¥˜ì— ëŒ€í•œ ì‚¬ìš©ì ì‘ë‹µì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n- Stripe ë° Checking(ìœ íš¨ì„±) ì˜¤ë¥˜ëŠ” ì‚¬ìš©ìì—ê²Œë§Œ ì‘ë‹µí•´ì•¼ í•©ë‹ˆë‹¤.\n\në°ì´í„°ë² ì´ìŠ¤ ë° ì¼ë°˜ì ì¸ ì˜¤ë¥˜ì— ëŒ€í•œ ìƒ˜í”Œ ì˜ˆì™¸ í•„í„°:\n\n```js\n// database.filter.ts\nimport { ArgumentsHost, Catch, ExceptionFilter } from '@nestjs/common'\nimport { LoggerService } from '../../../../logger/logger.service'\nimport { GenericException } from './generic.exception'\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n@Catch(GenericException)\nexport class GenericExceptionFilter implements ExceptionFilter {\n    constructor(private readonly loggerService: LoggerService) {}\n    catch(exception: GenericException, host: ArgumentsHost) {\n        const ctx = host.switchToHttp()\n        const response = ctx.getResponse()\n        const errorData = {\n            description: exception.description,\n            stack: exception.stack,\n            jwtPayload: exception.jwtPayload,\n            additionalInfo: exception.additionalInfo,\n            message: exception.message,\n        }\n        this.loggerService.error(exception.message, errorData)\n        response.status(500).json({\n            statusCode: 500,\n            message: exception.message,\n            error: 'Error',\n        })\n    }\n}\n```\n\nWinston ë¡œê±°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ë¥˜ ìˆ˜ì¤€ ë¡œê·¸ë¥¼ ì†¡ì‹  ë° í‹°ì¼“ ìƒì„±ì„ ìœ„í•´ ë¡œê·¸ ì „ì†¡ê¸°ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤:\n\nthis.loggerService.error(exception.message, errorData)\n\nì¼ë°˜ì ì¸ ì˜¤ë¥˜(ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜)ì— ëŒ€í•œ ê²ƒì…ë‹ˆë‹¤:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport { ArgumentsHost, Catch, ExceptionFilter } from '@nestjs/common'\nimport { CheckingException } from './checking.exception'\n```\n\n```js\n@Catch(CheckingException)\nexport class checkingExceptionFilter implements ExceptionFilter {\n    catch(exception: CheckingException, host: ArgumentsHost) {\n        const ctx = host.switchToHttp()\n        const response = ctx.getResponse()\n        response.status(exception.statusCode).json({\n            statusCode: exception.statusCode,\n            message: exception.messageData,\n            error: exception.message,\n        })\n    }\n}\n```\n\n# ëª¨ë‹ˆí„°ë§ ë„êµ¬\n\në” ë‚˜ì€ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ìœ„í•´ ëª‡ ê°€ì§€ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- Sentry\n- Raygun\n- Winston\n- ë“±\n\nì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” Raygunì„ ì‚¬ìš©í•˜ì—¬ ì˜¤ë¥˜ ëª¨ë‹ˆí„°ë§ ë° ë³´ê³ ë¥¼ í•©ë‹ˆë‹¤.\n\n## Raygun\n\nRaygunì€ ê°œë°œìê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¬¸ì œë¥¼ ì‹ë³„í•˜ê³  ì „ì²´ ì†Œí”„íŠ¸ì›¨ì–´ í’ˆì§ˆì„ í–¥ìƒì‹œí‚¤ëŠ” ì¢…í•© ì˜¤ë¥˜, ì¶©ëŒ ë° ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```typescript\nasync createUser(createUserDto: CreateUserDto): Promise\u003cUser\u003e {\n    try {\n      // ì‚¬ìš©ì ìƒì„±ì„ ìœ„í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§\n    } catch (error) {\n      this.raygunLoggerService.error('ì‚¬ìš©ì ìƒì„± ì‹¤íŒ¨', error.stack);\n      throw new Error('ì‚¬ìš©ì ìƒì„± ì‹¤íŒ¨');\n    }\n```\n\nì„±ëŠ¥ ëª¨ë‹ˆí„°ë§\n\n- Raygunì€ ì„±ëŠ¥ ë©”íŠ¸ë¦­ì„ ì¶”ì í•˜ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ë³‘ëª© í˜„ìƒì„ ì‹ë³„í•˜ëŠ” ì‹¤ì œ ì‚¬ìš©ì ëª¨ë‹ˆí„°ë§ (RUM) ë° ì‘ìš© í”„ë¡œê·¸ë¨ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (APM)ë„ ì œê³µí•©ë‹ˆë‹¤.\n\nRaygun ëŒ€ì‹œë³´ë“œ\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nRaygun ëŒ€ì‹œ ë³´ë“œì— ì•¡ì„¸ìŠ¤í•˜ì—¬ ìì„¸í•œ ì˜¤ë¥˜ ë³´ê³ ì„œë¥¼ í™•ì¸í•˜ê³  ì‘ìš© í”„ë¡œê·¸ë¨ ì„±ëŠ¥ì„ ì¶”ì í•˜ë©° ì¤‘ìš”í•œ ë¬¸ì œì— ëŒ€í•œ ê²½ë³´ ë° ì•Œë¦¼ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nRaygunì„ NestJS ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•˜ë©´ ì˜¤ë¥˜ ë° ì„±ëŠ¥ ë¬¸ì œì— ëŒ€í•œ ê°•ë ¥í•œ í†µì°°ë ¥ì„ ì–»ì–´ ë¬¸ì œë¥¼ ì„ ì œì ìœ¼ë¡œ í•´ê²°í•˜ê³  ì†Œí”„íŠ¸ì›¨ì–´ì˜ ì „ë°˜ì ì¸ ì•ˆì •ì„±ê³¼ ì‹ ë¢°ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.","ogImage":{"url":"/assets/img/2024-06-19-NestjsErrorHandling_0.png"},"coverImage":"/assets/img/2024-06-19-NestjsErrorHandling_0.png","tag":["Tech"],"readingTime":7},{"title":"ì´ˆë³´ìë¥¼ ìœ„í•œ Nestjs","description":"","date":"2024-06-19 23:15","slug":"2024-06-19-Nestjsforbeginners","content":"\n\nNest.jsëŠ” TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ í™•ì¥ ê°€ëŠ¥í•œ ì„œë²„ ì¸¡ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ Node.js í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.\n\n![Nest.js](/assets/img/2024-06-19-Nestjsforbeginners_0.png)\n\n# Nest.jsë¥¼ ì„ íƒí•˜ëŠ” ì´ìœ \n\nì•„ë§ˆ ì´ë¯¸ ì•Œê³  ê³„ì‹œë‹¤ì‹œí”¼, ì¸ê¸° ìˆëŠ” Node.js í”„ë ˆì„ì›Œí¬ ì¤‘ í•˜ë‚˜ëŠ” Expressì…ë‹ˆë‹¤. ë””ìì¸ìƒìœ¼ë¡œ ë§¤ìš° ë¯¸ë‹ˆë©€í•˜ê²Œ ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ëª‡ ê°€ì§€ ê¸°ëŠ¥ì„ ì†Œê°œí•˜ì—¬ ì„œë²„ ì¸¡ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•  ìˆ˜ ìˆì§€ë§Œ, ë°±ì—”ë“œì˜ ì „ë°˜ì ì¸ ì•„í‚¤í…ì²˜ëŠ” ì‚¬ìš©ìì—ê²Œ ë‹¬ë ¤ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Nestjsforbeginners_1](/assets/img/2024-06-19-Nestjsforbeginners_1.png)\n\nExpress ë¬¸ì„œë¥¼ ì‚´í´ë³´ë©´ ë¼ìš°íŒ…, ë¯¸ë“¤ì›¨ì–´, ì¼ë¶€ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ëª‡ ê°€ì§€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ ë³´ë©´ ì´ê²ƒì´ ê±°ì˜ ì „ë¶€ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ì•„í‚¤í…ì²˜ì˜ ë¶€ì¬ëŠ” êµ‰ì¥íˆ ìœ ì—°í•˜ë‹¤ëŠ” ì ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. Expressë¡œ ì›í•˜ëŠ” ëŒ€ë¡œ ê±°ì˜ ë¬´ì—‡ì´ë“  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ í”„ë¡œì íŠ¸ë‚˜ íŒ€ì´ ì„±ì¥í•¨ì— ë”°ë¼ ì—¬ëŸ¬ë¶„ì€ ë§¤ìš° ì‰½ê²Œ ìŠ¤íŒŒê²Œí‹°ë¡œ ë³€í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ë°œê²¬í•  ê²ƒì…ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì€ ì‹¤ì œë¡œ ê·œì¹™ê³¼ êµ¬ì¡°ê°€ í•„ìš”í•©ë‹ˆë‹¤. íŠ¹íˆ GraphQL, REST ë˜ëŠ” Swaggerì™€ ê°™ì€ ê²ƒë“¤ì„ í†µí•©í•´ì•¼ í•  ë•Œ ì´ê²ƒë“¤ì€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\nì´ì œ Nestê°€ ë‚˜ì™€ì„œ ë§í•©ë‹ˆë‹¤: \"ì—ì´, ìš°ë¦¬ê°€ ì„œë²„ ìª½ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì•„í‚¤í…ì²˜ë¥¼ ëŒë³´ê² ë‹¤ê³ . ê·¸ë¦¬ê³  ê°€ì¥ ì¢‹ì€ ë¶€ë¶„ì€ ë¬´ì—‡ì¼ê¹Œìš”? Expressë¥¼ ì—¬ì „íˆ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤!\"\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# Nest.jsê°€ ì‘ë™í•˜ëŠ” ë°©ì‹\n\nNest.jsëŠ” ë¹ ë¥¸ ê°œë°œê³¼ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ê°€ë…ì„± ìˆëŠ” ì½”ë“œë¥¼ ìœ„í•´ express (Fastifyë„ í¬í•¨)ë¥¼ í™œìš©í•˜ëŠ” ë„êµ¬ ëª¨ìŒì„ ì œê³µí•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ REST ë° GraphQL APIë¥¼ ì§€ì›í•˜ê±°ë‚˜ Laravelì´ë‚˜ Ruby on Railsì™€ ê°™ì€ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸-ë·°-ì»¨íŠ¸ë¡¤ëŸ¬(MVC) ì„¤ê³„ íŒ¨í„´ì„ í™œìš©í•˜ì—¬ í’€ ìŠ¤íƒ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê±°ë‚˜ ë³´ì•ˆì„ ë‹¤ë£¨ëŠ” ë“± ì„œë²„ ì¸¡ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì‘ì—…ì„ ìƒìƒí•  ìˆ˜ ìˆëŠ” ëª¨ë“ˆì´ í’ë¶€í•˜ê²Œ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n![Nest.js ì´ë¯¸ì§€](/assets/img/2024-06-19-Nestjsforbeginners_2.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nNest.jsì—ëŠ” í›Œë¥­í•œ ë¬¸ì„œê°€ ìˆì–´ìš”. ëª¨ë“  í•µì‹¬ ê°œë…ì— ëŒ€í•œ ê°œìš”ë¥¼ ì œê³µí•  ë¿ë§Œ ì•„ë‹ˆë¼ í…ŒìŠ¤íŒ…, ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°, ì‘ì—… ìŠ¤ì¼€ì¤„ë§, í, ì´ë²¤íŠ¸, ì›¹ì†Œì¼“, GraphQL ë“± ë‹¤ë¥¸ ì‘ì—… ë°©ë²•ì— ëŒ€í•œ ì§€ì¹¨ë„ ë³¼ ìˆ˜ ìˆì–´ìš”.\n\nê·¸ë¦¬ê³  TypeScriptì— ë§¤ìš° ì¤‘ì ì„ ë‘ê³  ìˆì–´ìš”. OOPì™€ FPì˜ ìš”ì†Œë¥¼ ê²°í•©í–ˆëŠ”ë°, ë°ì½”ë ˆì´í„°ì— í° ë¹„ì¤‘ì„ ë‘ê³  ìˆì–´ìš”. ìŠ¤í”„ë§ë¶€íŠ¸ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•´ë´¤ë‹¤ë©´ ìµìˆ™í•  ìˆ˜ë„ ìˆê² ì£ .\n\n# Nest CLI\n\nNestì—ëŠ” ìì²´ ê°•ë ¥í•œ Command Line Toolì´ ìˆì–´ìš”. nest new ëª…ë ¹ì–´ë¡œ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ì†ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n\u003e nest new server-side-app\n```\n\nì´ ëª…ë ¹ì€ Jestë¥¼ í†µí•´ ë¯¸ë¦¬ êµ¬ì„±ëœ ì½”ë“œë² ì´ìŠ¤ë¥¼ ì œê³µí•˜ê³ , íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì„¤ì •í•˜ì—¬ ë” ê°€ë…ì„±ì´ ìˆê³  ë¯¿ì„ë§Œí•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì´ì œ Nest.jsë¡œ ì‹œì‘í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤!\n\në…ì ì—¬ëŸ¬ë¶„ ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ‰\n","ogImage":{"url":"/assets/img/2024-06-19-Nestjsforbeginners_0.png"},"coverImage":"/assets/img/2024-06-19-Nestjsforbeginners_0.png","tag":["Tech"],"readingTime":2},{"title":"Nodejsì—ì„œ ì²« ë²ˆì§¸ REST APIë¥¼ ë§Œë“œëŠ” ë°©ë²•","description":"","date":"2024-06-19 23:14","slug":"2024-06-19-HowtomakeyourfirstRESTAPIinNodejs","content":"\n\n## 5ë¶„ ì´ë‚´ë¡œ\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-19-HowtomakeyourfirstRESTAPIinNodejs_0.png)\n\nNode.jsì—ì„œ REST API (Representational State Transfer Application Programming Interface)ë¥¼ ë§Œë“œëŠ” ê²ƒì€ í˜„ëŒ€ ì›¹ ê°œë°œìì—ê²Œ í•„ìˆ˜ì ì¸ ê¸°ìˆ ì…ë‹ˆë‹¤. ì´ ìœ í˜•ì˜ APIëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ê°™ì€ ë‹¤ì–‘í•œ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒíƒœë¥¼ ìœ ì§€í•˜ì§€ ì•ŠëŠ” ì¼ë ¨ì˜ ì‘ì—…ì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì™€ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” Node.jsì—ì„œ ê°„ë‹¨í•œ REST APIë¥¼ ì„¤ì •í•˜ëŠ” ê¸°ë³¸ ì‚¬í•­ì„ ì‚´í´ë³´ë©°, ë°ì´í„° ìœ í˜•, í´ë˜ìŠ¤ ë° ë‹¤ì–‘í•œ HTTP ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œ ì½”ë“œ ì˜ˆì œë¥¼ ë‹¤ë£° ê²ƒì…ë‹ˆë‹¤.\n\n# í•„ìˆ˜ ì‚¬í•­\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì‹œì‘í•˜ê¸° ì „ì— ì‹œìŠ¤í…œì— Node.jsê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”. Node.jsëŠ” nodejs.orgì—ì„œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ JavaScript, Node.js, ê·¸ë¦¬ê³  ì¸ê¸° ìˆëŠ” Node.js í”„ë ˆì„ì›Œí¬ Expressì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì´í•´ê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\n# ë‹¨ê³„ 1: í”„ë¡œì íŠ¸ ì„¤ì •í•˜ê¸°\n\në¨¼ì €, í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  ê·¸ ì•ˆì—ì„œ ìƒˆ Node.js í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ì„¸ìš”.\n\n```js\nmkdir my-rest-api\ncd my-rest-api\nnpm init -y\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ ì‘ì—…ì€ ë‹¹ì‹ ì˜ í”„ë¡œì íŠ¸ ì¢…ì†ì„±ì„ ê´€ë¦¬í•  package.json íŒŒì¼ì„ ë””ë ‰í† ë¦¬ì— ìƒì„±í•©ë‹ˆë‹¤.\n\n# ë‹¨ê³„ 2: Express ì„¤ì¹˜í•˜ê¸°\n\nHTTP ìš”ì²­ì„ ì‰½ê²Œ ì²˜ë¦¬í•˜ë ¤ë©´ Expressë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”.\n\n```js\nnpm install express\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ë‹¨ê³„ 3: ì²« ë²ˆì§¸ ì—”ë“œí¬ì¸íŠ¸ ìƒì„±í•˜ê¸°\n\nì´ì œ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì— index.js íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”. ì´ê²ƒì´ ì§„ì…ì ì´ ë  ê²ƒì…ë‹ˆë‹¤.\n\n```js\nconst express = require('express');\nconst app = express();\n\napp.listen(3000, () =\u003e {\n console.log(\"í¬íŠ¸ 3000ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì„œë²„\");\n});\n```\n\nì´ ì½”ë“œëŠ” í¬íŠ¸ 3000ì—ì„œ ìˆ˜ì‹  ëŒ€ê¸°í•˜ëŠ” ê¸°ë³¸ Express ì„œë²„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ë‹¨ê³„ 4: HTTP ë©”ì†Œë“œ ì²˜ë¦¬\n\nREST APIëŠ” ë‹¤ì–‘í•œ HTTP ë©”ì†Œë“œì™€ í•¨ê»˜ ì‘ë™í•©ë‹ˆë‹¤. ê°€ì¥ ì¼ë°˜ì ì¸ ë©”ì†Œë“œëŠ” GET, POST, PUT ë° DELETEì…ë‹ˆë‹¤.\n\n# GET ìš”ì²­\n\nê°„ë‹¨í•œ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•˜ëŠ” GET ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\napp.get(\"/msg\", (req, res, next) =\u003e {\n  res.json({\"message\": \"ì•ˆë…•, ì„¸ê³„!\"});\n});\n```\n\n# POST ìš”ì²­\n\nPOST ìš”ì²­ì„ í•  ë•ŒëŠ” ì¢…ì¢… ë°ì´í„°ë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤. ì˜ˆì‹œë¥¼ ë³´ê² ìŠµë‹ˆë‹¤.\n\n```js\napp.use(express.json()); // for parsing application/json\n\napp.post(\"/msg\", (req, res, next) =\u003e {\n  const message = req.body.message;\n  res.json({\"receivedMessage\": message});\n});\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ë‹¨ê³„ 5: í´ë˜ìŠ¤ì™€ ë°ì´í„° ìœ í˜• ì‚¬ìš©í•˜ê¸°\n\në” ë‚˜ì€ ì½”ë“œ êµ¬ì„±ì„ ìœ„í•´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Message í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.\n\n```js\nclass Message {\n  constructor(content) {\n    this.content = content;\n  }\n\n  getContent() {\n    return this.content;\n  }\n}\n```\n\nì´ì œ ì´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ POST ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë¦¬íŒ©í† ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\napp.post(\"/msg\", (req, res, next) =\u003e {\n  const newMessage = new Message(req.body.message);\n  res.json({\"receivedMessage\": newMessage.getContent()}); \n});\n```\n\n# ë‹¨ê³„ 6: API í…ŒìŠ¤íŠ¸í•˜ê¸°\n\nAPIë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ Postmanì´ë‚˜ cURLê³¼ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. GET ìš”ì²­ì˜ ê²½ìš° ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000/msg ë¡œ ê°„ë‹¨íˆ ë°©ë¬¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ê²°ë¡ \n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nNode.jsì—ì„œ REST APIë¥¼ ë§Œë“œëŠ” ê²ƒì€ ì—°ìŠµì„ í†µí•´ ë” ì§ê´€ì ì¸ ê³¼ì •ì´ ë˜ëŠ” ê°„ë‹¨í•œ ì¼ì…ë‹ˆë‹¤. Expressì˜ ì‚¬ìš©ì€ ë‹¤ì–‘í•œ HTTP ë©”ì†Œë“œë¥¼ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•˜ê²Œ í•´ì£¼ë©°, í´ë˜ìŠ¤ì™€ ì ì ˆí•œ ë°ì´í„° ìœ í˜•ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ ì¡°ì§í™”í•˜ë©´ ìœ ì§€ ê´€ë¦¬ ë° ê°€ë…ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê¸°ì–µí•˜ì„¸ìš”, ì´ê²ƒì€ ì‹œì‘ì ì— ë¶ˆê³¼í•©ë‹ˆë‹¤. ë” í¸ì•ˆí•´ì§€ë©´ APIë¥¼ ë” ë³µì¡í•œ ë¼ìš°íŠ¸ë¡œ í™•ì¥í•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ê±°ë‚˜ ì¸ì¦ì„ êµ¬í˜„í•˜ëŠ” ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³„ì†í•´ì„œ íƒí—˜í•˜ê³  ì‹¤í—˜í•˜ì—¬ ë” ê²¬ê³ í•˜ê³  íš¨ìœ¨ì ì¸ APIë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”!","ogImage":{"url":"/assets/img/2024-06-19-HowtomakeyourfirstRESTAPIinNodejs_0.png"},"coverImage":"/assets/img/2024-06-19-HowtomakeyourfirstRESTAPIinNodejs_0.png","tag":["Tech"],"readingTime":3},{"title":"NestJSì—ì„œ ì˜ì¡´ì„± ì£¼ì…ì€ ì–´ë–»ê²Œ ì²˜ë¦¬ë ê¹Œìš”","description":"","date":"2024-06-19 23:13","slug":"2024-06-19-HowDoesNestJSHandleDependencyInjection","content":"\n\nNestJSì™€ TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ ë°±ì—”ë“œë¥¼ ê°œë°œí•  ë•Œ, NestJSì—ì„œ @Injectable ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤. EmailServiceê°€ @Injectableì´ê³  ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì—ì„œ ì´ë¥¼ ì£¼ì…í•˜ê³  ì‚¬ìš©í•˜ë ¤ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê³ ë ¤í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì•„ë˜ ì½”ë“œë¥¼ ì‚´í´ë³´ì„¸ìš”:\n\n```js\n@Injectable()\nclass MyService {\n  constructor(private readonly emailService: EmailService) {}\n}\n```\n\nì²«ëˆˆì— ë³´ê¸°ì—ëŠ” ëª¨ë“  ê²ƒì´ ì˜ ë™ì‘í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìì„¸íˆ ì‚´í´ë³´ë©´ ì´ ì½”ë“œê°€ ì¡°ê¸ˆ ì´ìƒí•´ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. TypeScript ì½”ë“œê°€ JavaScriptë¡œ ë³€í™˜ë  ë•Œ, íƒ€ì… ì£¼ì„ì´ ì œê±°ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ë¬¸ì œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë°œìƒí•©ë‹ˆë‹¤: NestJSëŠ” EmailServiceì™€ ê°™ì€ íƒ€ì…ë§Œìœ¼ë¡œ ì–´ë–»ê²Œ ì£¼ì…í•  ì„œë¹„ìŠ¤ë¥¼ ê²°ì •í• ê¹Œìš”?\n\n![How Does NestJS Handle Dependency Injection](/assets/img/2024-06-19-HowDoesNestJSHandleDependencyInjection_0.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ì„¤ëª…:\n\nNestJSëŠ” TypeScriptì˜ ë©”íƒ€ë°ì´í„° ë° ë¦¬í”Œë ‰ì…˜ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ëŸ°íƒ€ì„ì—ì„œ ì˜ì¡´ì„±ì— ëŒ€í•œ í•„ìš”í•œ ì •ë³´ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ reflect-metadataë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ NestJSê°€ ì˜ì¡´ì„± ì£¼ì…ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œì— ë©”íƒ€ë°ì´í„°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nNestJSëŠ” ì˜ì¡´ì„± ì£¼ì…ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ìœ„ ì˜ˆì‹œì—ì„œ @Injectable() ë°ì½”ë ˆì´í„°ëŠ” NestJSì— EmailService í´ë˜ìŠ¤ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ë¥¼ ì €ì¥í•˜ë„ë¡ ì•Œë ¤ì¤ë‹ˆë‹¤. ëŸ°íƒ€ì„ì—ì„œ NestJSëŠ” ì´ ë©”íƒ€ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ì˜ì¡´ì„±ì„ ì‹ë³„í•˜ê³  ì£¼ì…í•©ë‹ˆë‹¤.\n\nì´ í”„ë¡œì„¸ìŠ¤ê°€ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ë„ë¡ í•˜ë ¤ë©´ í”„ë¡œì íŠ¸ì— reflect-metadataë¥¼ ì„¤ì¹˜í•˜ê³  ì£¼ íŒŒì¼(ì˜ˆ: main.ts)ì—ì„œ importí•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport 'reflect-metadata';\n```\n\nì´ë ‡ê²Œ í•˜ë©´ NestJSê°€ JavaScriptë¡œ ë³€í™˜ë  ë•Œ íƒ€ì… ì£¼ì„ì´ ì œê±°ë˜ì–´ë„ ë©”íƒ€ë°ì´í„° ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ì¡´ì„±ì„ ì˜¬ë°”ë¥´ê²Œ ì‹ë³„í•˜ê³  ì£¼ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ê²°ë¡ \n\nNestJSëŠ” TypeScriptì—ì„œ ë©”íƒ€ë°ì´í„°ì™€ ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì˜ì¡´ì„±ì„ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì„ í†µí•´ NestJSëŠ” íƒ€ì… ì£¼ì„ì´ ì œê±°ë˜ì–´ë„ ì˜¬ë°”ë¥´ê²Œ ì˜ì¡´ì„±ì„ ì‹ë³„í•˜ê³  ì£¼ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. TypeScriptë¡œ ì„œë²„ ì¸¡ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ê°œë°œí•  ë•Œ NestJSì˜ ê°•ì  ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nNestJSê°€ ë©”íƒ€ë°ì´í„°ì™€ ë¦¬í”Œë ‰ì…˜ì„ í†µí•´ ì˜ì¡´ì„± ì£¼ì…ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì„ ì´í•´í•˜ë©´ TypeScriptì™€ NestJSì˜ í˜ì„ ìµœëŒ€ë¡œ ë°œíœ˜í•˜ë©´ì„œ ë” ê²¬ê³ í•˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‚˜ì˜ Linkedin | ë‚˜ì˜ Github","ogImage":{"url":"/assets/img/2024-06-19-HowDoesNestJSHandleDependencyInjection_0.png"},"coverImage":"/assets/img/2024-06-19-HowDoesNestJSHandleDependencyInjection_0.png","tag":["Tech"],"readingTime":2},{"title":"Golang ëŒ€ Nodejs","description":"","date":"2024-06-19 23:12","slug":"2024-06-19-GolangvsNodejs","content":"\n\nì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìë¡œì„œ, ì–¸ì œë‚˜ ì•±ì„ ê°œë°œí•˜ëŠ” ë° ìµœì í™”ëœ ê°€ì¥ ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ ë„êµ¬ë¥¼ ì°¾ê³  ìˆì–´ìš”. ì†ë„ì™€ ë³µì¡í•œ ì‘ì—… ì²˜ë¦¬ì— ê´€í•œ ê²ƒì´ë¼ë©´, Golangê³¼ Node.jsê°€ ë‘ ê°•ìë¡œ ë½‘íˆì£ . ë‘˜ ë‹¤ ì„±ëŠ¥ ë©´ì—ì„œ ë›°ì–´ë‚œ í‰íŒì„ ìë‘í•˜ì§€ìš”. ê·¸ëŸ°ë° ê³ ë¯¼ê±°ë¦¬ëŠ” ì—¬ì „íˆ ì¡´ì¬í•©ë‹ˆë‹¤ â€” Golangê³¼ Node.js ì¤‘ ì–´ëŠ ìª½ì´ ë” ë¹ ë¥¼ê¹Œìš”? ì´ ë…¼ìŸì„ í•´ê²°í•˜ê¸° ìœ„í•´, ë‚´ê°€ ì´ ë‘ ê¸°ìˆ ì„ ì² ì €íˆ ë¹„êµí•˜ëŠ” ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸ì˜ ì—¬ì •ì— ë‚˜ì„°ì–´ìš”. ìì„¸í•œ ê²°ê³¼ë¥¼ ë¶„ì„í•˜ì—¬, ë¹ ë¥¸ ì†ë„ë©´ì—ì„œ ì–´ë–¤ í”Œë«í¼ì´ ìš°ìœ„ë¥¼ ì°¨ì§€í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²Œ ì œ ëª©í‘œì—ìš”. ë°ì´í„°ë¥¼ í†µí•´ ì–´ëŠ í”Œë«í¼ì´ ê³ ì„±ëŠ¥ ì•±ì„ ê°œë°œí•˜ëŠ” ë° ë¶„ëª…í•œ ì¥ì ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ ë°í˜€ë‚¼ ê±°ì˜ˆìš”.\n\n\u003cimg src=\"/assets/img/2024-06-19-GolangvsNodejs_0.png\" /\u003e\n\n# ì†Œê°œ\n\nìµœê·¼ ëª‡ ë…„ ë™ì•ˆ Golangê³¼ Node.jsëŠ” ì£¼ëª©ì„ ë°›ì•„ì™”ì–´ìš”. ê°ê°ì˜ ê°•ì ê³¼ ì¥ì ì„ ê°€ì§€ê³  ìˆì£ .\nGolang, Goë¡œë„ ì•Œë ¤ì§„, êµ¬ê¸€ì—ì„œ ê°œë°œí•œ ì •ì  íƒ€ì…ì˜ ì»´íŒŒì¼ëœ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì…ë‹ˆë‹¤. Golangì€ ê°„ê²°ì„±, ê³ ë£¨í‹´ì„ í†µí•œ ë™ì‹œì„± ì§€ì›, ê·¸ë¦¬ê³  ë¹ ë¥¸ ì„±ëŠ¥ìœ¼ë¡œ ì¹­ì°¬ì„ ë°›ì•„ì™”ì–´ìš”. ë°˜ë©´ì— Node.jsëŠ” Chromeì˜ V8 JavaScript ì—”ì§„ ìœ„ì— êµ¬ì¶•ëœ ì´ë²¤íŠ¸ ê¸°ë°˜, ë…¼ ë¸”ë¡œí‚¹ I/O í”Œë«í¼ì…ë‹ˆë‹¤. ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ëª¨ë¸, npmì„ í†µí•œ í™•ì¥ íŒ¨í‚¤ì§€ ìƒíƒœê³„, ë¹ ë¥¸ ê°œë°œ ëŠ¥ë ¥ìœ¼ë¡œ ì¸ì •ì„ ë°›ì•˜ì£ .\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ì„±ëŠ¥ í‰ê°€ ë°©ë²•ë¡ \n\në²¤ì¹˜ë§ˆí‚¹ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì‚´í´ë³´ê¸° ì „ì— ê³µì •í•˜ê³  ì •í™•í•œ ë¹„êµë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•´ í‘œì¤€í™”ëœ ë°©ë²•ë¡ ì„ ìˆ˜ë¦½í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì €í¬ì˜ ë²¤ì¹˜ë§ˆí‚¹ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì‘ë‹µ ì‹œê°„, ì²˜ë¦¬ëŸ‰ ë° ë¦¬ì†ŒìŠ¤ ì´ìš©ë¥ ê³¼ ê°™ì€ ì¼ë°˜ì ì¸ ì„±ëŠ¥ ì§€í‘œì— ì§‘ì¤‘í•  ê²ƒì…ë‹ˆë‹¤. ë²¤ì¹˜ë§ˆí‚¹ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” Golang ë° Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•´ ë™ì¼í•œ í•˜ë“œì›¨ì–´ ì‚¬ì–‘ ë° êµ¬ì„±ì„ ì ìš©í•  ê²ƒì…ë‹ˆë‹¤. ë˜í•œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë²¤ì¹˜ë§ˆí‚¹ ë„êµ¬ì™€ í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•˜ì—¬ ëª¨ë“  ì‹¤í—˜ì˜ ì‹ ë¢°ì„±ê³¼ ì¼ê´€ì„±ì„ ë³´ì¥í•  ê²ƒì…ë‹ˆë‹¤.\n\n# ì‘ë‹µ ì‹œê°„ ë¹„êµ\n\nì›¹ ì„œë²„ ì„±ëŠ¥ì„ í‰ê°€í•˜ëŠ” ë° ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì¸ ì‘ë‹µ ì‹œê°„ì€ ìš”ì²­ì„ ë³´ë‚´ê³  ì‘ë‹µì„ ë°›ëŠ” ì§€ì† ì‹œê°„ì„ ì¸¡ì •í•©ë‹ˆë‹¤. ì €í¬ì˜ ë²¤ì¹˜ë§ˆí‚¹ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” Golangê³¼ Node.jsë¡œ ì‘ì„±ëœ ë™ì¼í•œ ì›¹ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ì—¬ ê°ê° ê°„ë‹¨í•œ HTTP ìš”ì²­ì„ ì œê³µí•˜ê³  ì²˜ë¦¬ ì˜¤ë²„í—¤ë“œë¥¼ ìµœì†Œí™”í•  ê²ƒì…ë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ìˆ˜ì¤€ì˜ ë™ì‹œ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê³  í•´ë‹¹ ì‘ë‹µ ì‹œê°„ì„ ë¶„ì„í•¨ìœ¼ë¡œì¨ Golangê³¼ Node.jsì˜ ì„±ëŠ¥ì„ í˜„ì‹¤ì ì¸ ì‘ì—… ë¶€í•˜ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n// Node.js HTTP ì„œë²„\nconst http = require('http');\n\nconst server = http.createServer((req, res) =\u003e {\n  res.writeHead(200);\n  res.end('ì•ˆë…•, ì„¸ìƒì•„!');\n});\n\nserver.listen(3000);\n```\n\n\u003cimg src=\"/assets/img/2024-06-19-GolangvsNodejs_1.png\" /\u003e\n\nì´ˆë‹¹ ìš”ì²­ íšŸìˆ˜\n\n```js\n// Golang HTTP ì„œë²„\npackage main\n\nimport (\n    \"net/http\"\n)\n\nfunc handler(w http.ResponseWriter, r *http.Request) {\n    w.Write([]byte(\"ì•ˆë…•, ì„¸ìƒì•„!\"))\n}\n\nfunc main() {\n    http.HandleFunc(\"/\", handler)\n    http.ListenAndServe(\":3000\", nil)\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ì²˜ë¦¬ëŸ‰ ë¶„ì„\n\nì‘ë‹µ ì‹œê°„ ì™¸ì—ë„ ì²˜ë¦¬ëŸ‰ì€ ì‹œìŠ¤í…œì´ ìˆ˜ì‹  ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì†ë„ë¥¼ ì¸¡ì •í•˜ëŠ” ë˜ ë‹¤ë¥¸ ì¤‘ìš”í•œ ì„±ëŠ¥ ì§€í‘œì…ë‹ˆë‹¤. ë†’ì€ ì²˜ë¦¬ëŸ‰ ê°’ì€ ë™ì‹œ ì—°ê²°ì„ ì²˜ë¦¬í•˜ê³  ì‘ë‹µì„ ì¦‰ì‹œ ì „ë‹¬í•  ëŠ¥ë ¥ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. Golang ë° Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì²˜ë¦¬ëŸ‰ì„ ë¹„êµí•˜ê¸° ìœ„í•´ ë™ì‹œ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ê³  ê° í”Œë«í¼ì˜ ìš”ì²­ ì²˜ë¦¬ ëŠ¥ë ¥ì— ëŒ€í•œ í™•ì¥ì„±ì„ ëª¨ë‹ˆí„°ë§í•  ê²ƒì…ë‹ˆë‹¤.\n\n# ìì› í™œìš©\n\nì‘ë‹µ ì‹œê°„ê³¼ ì²˜ë¦¬ëŸ‰ ì™¸ì—ë„, ë¶€í•˜ í•˜ì—ì„œ Golang ë° Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìì› í™œìš© í‰ê°€ëŠ” ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ëŠ” CPU ì‚¬ìš©ë¥ , ë©”ëª¨ë¦¬ ì†Œë¹„ ë° ë„¤íŠ¸ì›Œí¬ í™œë™ì„ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ì ì¬ì ì¸ ë³‘ëª© í˜„ìƒì´ë‚˜ ë¹„íš¨ìœ¨ì„±ì„ ì°¾ì•„ë‚´ëŠ” ê²ƒì„ í¬í•¨í•©ë‹ˆë‹¤. ìì› í™œìš© ì§€í‘œë¥¼ ë©´ë°€íˆ ì‚´í´ë´„ìœ¼ë¡œì¨ ê° í”Œë«í¼ì˜ ì „ì²´ íš¨ìœ¨ì„±ê³¼ í™•ì¥ì„±ì— ëŒ€í•œ í†µì°°ë ¥ì„ ì–»ì„ ìˆ˜ ìˆìœ¼ë©°, í”„ë¡œì íŠ¸ì— ì í•©í•œ ìµœì  ê¸°ìˆ  ìŠ¤íƒì„ ì„ íƒí•  ë•Œ ê°œë°œìë“¤ì´ ì •ë³´ì— ê¸°ë°˜í•œ ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ìˆê²Œ ë„ì™€ì¤ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# CPU ì‚¬ìš©ëŸ‰:\n\n- Golangì€ ê¸°ê³„ ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ì—¬ CPUë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸ ê²°ê³¼ Golangì€ CPU ìì› í™œìš©ì—ì„œ Node.jsë¥¼ ëŠ¥ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ì§€ì†ì ìœ¼ë¡œ ì¦ëª…ë˜ê³  ìˆìŠµë‹ˆë‹¤.\n- Node.jsëŠ” ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ ì‘ë™í•˜ë©° ë¹„ë™ê¸° I/O í˜¸ì¶œì— ì˜ì¡´í•˜ë¯€ë¡œ CPU ìì›ì„ ë¯¸ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ê³  ì˜¤ë²„í—¤ë“œê°€ ì¦ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰:\n\n- ì •ì  íƒ€ì… ë° ì»´íŒŒì¼ëœ ì„±ê²©ìœ¼ë¡œ ì¸í•´ Golangì€ Node.jsë³´ë‹¤ ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ë³´ì…ë‹ˆë‹¤. ëœ í•„ìš”í•œ ëŸ°íƒ€ì„ ë©”íƒ€ë°ì´í„°ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤.\n- Node.jsëŠ” ë™ì  íƒ€ì… ë° V8 JavaScript ì—”ì§„ì— ì˜ì¡´í•˜ì—¬ ìœ í˜• ì •ë³´ì™€ í™ì„ ì €ì¥í•˜ëŠ” ë° ë” ë§ì€ ë©”ëª¨ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ìŠ¤ë ˆë”© ëª¨ë¸:\n\n- Golangì€ ê²½ëŸ‰ ìŠ¤ë ˆë“œ(ê³ ë£¨í‹´)ë¥¼ í™œìš©í•˜ì—¬ ë™ì‹œì„±ì„ ê°„ë‹¨í•˜ê²Œ ë‹¤ë£¨ê³  ë³‘ë ¬ì„±ì„ ë‹¬ì„±í•©ë‹ˆë‹¤.\n- Node.jsëŠ” ë‹¨ì¼ ìŠ¤ë ˆë“œ, ë…¼ë¸”ë¡œí‚¹ I/O ëª¨ë¸ì„ ì±„íƒí•©ë‹ˆë‹¤. ë™ì‹œì„±ì€ Worker Threadsë¥¼ ì‚¬ìš©í•˜ì—¬ ëª…ì‹œì ìœ¼ë¡œ ì½”ë”©í•´ì•¼ í•©ë‹ˆë‹¤.\n\n# í™•ì¥ì„±:\n\n- ê²½ëŸ‰ ê³ ë£¨í‹´ ìŠ¤ë ˆë“œë¥¼ í†µí•´ Golangì€ ìˆ˜í‰ì ìœ¼ë¡œ ë›°ì–´ë‚œ í™•ì¥ì„±ì„ ê°–ì¶”ì–´ ëŒ€ê·œëª¨ ë™ì‹œ ìš”êµ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- Node.jsëŠ” ë‹¨ì¼ ê¸°ê³„ì—ì„œ ìˆ˜ì§ì ìœ¼ë¡œ í™•ì¥ì„±ì´ ë›°ì–´ë‚˜ì§€ë§Œ, ë‹¨ì¼ ìŠ¤ë ˆë“œ íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ í™•ì¥ì„±ì„ ë„“íˆëŠ” ë™ì•ˆ ë³‘ëª© í˜„ìƒì„ ê²ªì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# ë™ì‹œì„± ì„±ëŠ¥\n\nGolangì˜ íƒì›”í•œ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ëŠ” ê°€ë²¼ìš´ ê³ ë£¨í‹´ê³¼ ì±„ë„ì„ í†µí•œ ë™ì‹œì„±ì„ ë„¤ì´í‹°ë¸Œë¡œ ì§€ì›í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ Golang ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ìˆ˜ì²œ ê°œì˜ ë™ì‹œ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©´ì„œ ì˜¤ë²„í—¤ë“œë¥¼ ìµœì†Œí™”í•  ìˆ˜ ìˆì–´ ì›¹ ì„œë²„, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë° ë¶„ì‚° ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ê°™ì´ ë†’ì€ ë™ì‹œì„± ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ë° ì´ìƒì ì…ë‹ˆë‹¤. ë°˜ë©´ì— Node.jsëŠ” ì´ë²¤íŠ¸ ê¸°ë°˜ ë¹„ì°¨ë‹¨ I/O ëª¨ë¸ì„ í†µí•´ ë™ì‹œì„±ì„ ì²˜ë¦¬í•˜ë©° ë¹„ë™ê¸° í•¨ìˆ˜ì™€ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ í™œìš©í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ë‘ í”Œë«í¼ì—ì„œ ê³ ë„ì˜ ë™ì‹œì„± ì‘ì—…ì„ ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸í•˜ì—¬ ë™ì‹œì„± ì„±ëŠ¥ì„ ë¹„êµí•˜ê³ , ë°˜ì‘ì„±ê³¼ í™•ì¥ì„±ì„ í‰ê°€í•  ê²ƒì…ë‹ˆë‹¤.\n\n# ê²°ë¡ \n\në²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸ ê²°ê³¼ëŠ” Golangê³¼ Node.js ê°„ì˜ ì„±ëŠ¥ ì°¨ì´ë¥¼ ìƒìƒí•˜ê²Œ ë³´ì—¬ì¤ë‹ˆë‹¤. ë‘ í”Œë«í¼ ëª¨ë‘ ì¥ë‹¨ì ì„ ê°€ì§€ê³  ìˆì§€ë§Œ, Golangì€ ìˆœìˆ˜ ì†ë„, ë™ì‹œì„± ë° ìì› íš¨ìœ¨ì„± ë©´ì—ì„œ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë½ë‚´ê³  ìˆìŠµë‹ˆë‹¤. ì»´íŒŒì¼ëœ ì„±ê²©, ê°€ë²¼ìš´ ê³ ë£¨í‹´ ë° íš¨ìœ¨ì ì¸ ëŸ°íƒ€ì„ìœ¼ë¡œ ì¸í•´ ë¹ ë¥¸ ì‘ë‹µ ì‹œê°„ê³¼ í™•ì¥ ê°€ëŠ¥í•œ ë™ì‹œì„±ì„ í•„ìš”ë¡œ í•˜ëŠ” ê³ ì„±ëŠ¥ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë§¤ë ¥ì ì¸ ì„ íƒì´ ë©ë‹ˆë‹¤.\në°˜ë©´ Node.jsëŠ” íƒì›”í•œ ê°œë°œì ìƒì‚°ì„±, ê´‘ë²”ìœ„í•œ ìƒíƒœê³„ ì§€ì› ë° JavaScript í”„ë¡ íŠ¸ì—”ë“œ í”„ë ˆì„ì›Œí¬ì™€ì˜ ì›í™œí•œ í†µí•©ì„ ì œê³µí•©ë‹ˆë‹¤.\nìµœì¢…ì ìœ¼ë¡œ Golangê³¼ Node.js ì¤‘ ì–´ëŠ ê²ƒì„ ì„ íƒí• ì§€ëŠ” í”„ë¡œì íŠ¸ì˜ íŠ¹ì • ìš”êµ¬ì‚¬í•­ê³¼ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ê²°ì •ë©ë‹ˆë‹¤ - ì„±ëŠ¥ ìµœëŒ€í™”, ê¸°ì¡´ JavaScript ì „ë¬¸ì„± í™œìš© ë˜ëŠ” ê°œë°œì íš¨ìœ¨ì„± ìµœì í™” ë“±ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.","ogImage":{"url":"/assets/img/2024-06-19-GolangvsNodejs_0.png"},"coverImage":"/assets/img/2024-06-19-GolangvsNodejs_0.png","tag":["Tech"],"readingTime":4},{"title":"Nodejsë¥¼ ì‚¬ìš©í•œ ì„œë²„ ì¸¡ ë Œë”ë§ ìš´ì˜í™”","description":"","date":"2024-06-19 23:08","slug":"2024-06-19-OperationalizingNodejsforServerSideRendering","content":"\n\n## Airbnbì´ ì„œë²„ ì¸¡ ë Œë”ë§ì„ ì¤‘ì‹¬ìœ¼ë¡œ Frontendë¥¼ ë” ë§ì´ êµ¬ì¶•í•¨ì— ë”°ë¼, ì„œë²„ êµ¬ì„±ì„ ìµœì í™”í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.\n\nAirbnbì—ì„œëŠ” ëª‡ ë…„ ë™ì•ˆ Frontend ì½”ë“œë¥¼ ì¼ê´€ëœ ì•„í‚¤í…ì²˜ë¡œ ì´ì£¼ì‹œì¼œ ì™”ìŠµë‹ˆë‹¤. ì „ì²´ ì›¹ í˜ì´ì§€ê°€ APIì—ì„œ ì œê³µí•˜ëŠ” ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ React êµ¬ì„± ìš”ì†Œì˜ ê³„ì¸µ êµ¬ì¡°ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. Ruby on Railsê°€ ë¸Œë¼ìš°ì €ë¡œ ì›¹ì„ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì—ì„œì˜ ì—­í• ì€ ë§¤ì¼ ì¤„ì–´ë“¤ê³  ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤, ê³§ ìš°ë¦¬ëŠ” ë…¸ë“œ.jsë¡œ ì™„ì „í•œ í˜•íƒœì˜ ì„œë²„ ë Œë”ë§ ì›¹ í˜ì´ì§€ë¥¼ ì œê³µí•  ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ë¡œ ì´í–‰í•  ê²ƒì…ë‹ˆë‹¤. ì´ ì„œë¹„ìŠ¤ëŠ” ëª¨ë“  Airbnb ì œí’ˆì˜ ëŒ€ë¶€ë¶„ì˜ HTMLì„ ë Œë”ë§í•  ê²ƒì…ë‹ˆë‹¤. ì´ ë Œë”ë§ ì—”ì§„ì€ ìš°ë¦¬ê°€ ì‹¤í–‰í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ì™€ëŠ” ë‹¤ë¥´ë©°, ë£¨ë¹„ë‚˜ ìë°”ë¡œ ì‘ì„±ë˜ì§€ ì•Šì•˜ìŒì„ íŠ¹ì§•ìœ¼ë¡œ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë Œë”ë§ ì—”ì§„ì€ ìš°ë¦¬ê°€ ìƒê°í•˜ëŠ” ì¼ë°˜ì ì¸ I/O ì§‘ì¤‘ì ì¸ ë…¸ë“œ.js ì„œë¹„ìŠ¤ì™€ë„ ë‹¤ë¦…ë‹ˆë‹¤.\n\në…¸ë“œ.jsë¥¼ ë– ì˜¬ë ¸ì„ ë•Œ, ì—¬ëŸ¬ë¶„ì€ ê³ ë„ë¡œ ë¹„ë™ê¸°ì‹ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜ë°± ë˜ëŠ” ìˆ˜ì²œ ê°œì˜ ì—°ê²°ì„ ë™ì‹œì— ì²˜ë¦¬í•˜ëŠ” ëª¨ìŠµì„ ìƒìƒí•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ëŠ” ë™ë„¤ ê³³ê³³ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ìƒë‹¹íˆ ê°€ë³ê²Œ ì²˜ë¦¬í•˜ì—¬ ë§ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“­ë‹ˆë‹¤. ì•„ë§ˆë„ ì—¬ëŸ¬ë¶„ì€ ìˆ˜ë§ì€ ì˜¤ëœ ê¸°ê°„ ìœ ì§€ë˜ëŠ” WebSocket ì—°ê²°ì„ ì²˜ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì€ ì´ ì˜ íŠ ëœ ê²½ëŸ‰ ë™ì‹œì„± ëª¨ë¸ë¡œ ì—…ë¬´ì— ì™„ë²½íˆ ì í•©í•˜ë‹¤ëŠ” ì ì— ë§Œì¡±í•˜ê³  í™•ì‹ í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nì„œë²„ ì¸¡ ë Œë”ë§(SSR)ì€ ì´ëŸ¬í•œ ìƒìƒì„ ì¼ë¶€ ê¹¨ëŠ” ì—°ì‚° ì§‘ì•½ì ì¸ ì‘ì—…ì…ë‹ˆë‹¤. ë…¸ë“œ.jsì—ì„œ ì‚¬ìš©ì ì½”ë“œëŠ” ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ ì—°ì‚° ì‘ì—…(ì¦‰, I/Oê°€ ì•„ë‹Œ ì‘ì—…)ì˜ ê²½ìš° ë™ì‹œì— ì‹¤í–‰í•  ìˆ˜ ìˆì§€ë§Œ ë³‘ë ¬ë¡œ ì‹¤í–‰í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. ë…¸ë“œ.jsëŠ” ë§ì€ ì–‘ì˜ ë¹„ë™ê¸° I/Oë¥¼ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ ì—°ì‚°ì— í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. ìš”ì²­ì˜ ì—°ì‚° ë¶€ë¶„ì´ I/Oì— ìƒëŒ€ì ìœ¼ë¡œ ë” ë§ì•„ì§ˆìˆ˜ë¡ ë™ì‹œ ìš”ì²­ì€ CPU ê²½í•©ìœ¼ë¡œ ì¸í•´ ì§€ì—°ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ì¦ê°€í•  ê²ƒì…ë‹ˆë‹¤Â¹.\n\nPromise.all([fn1, fn2])ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”. fn1 ë˜ëŠ” fn2ê°€ I/Oì— ì˜í•´ í•´ê²°ë˜ëŠ” promiseì´ë©´ ì´ì™€ ê°™ì´ ë³‘ë ¬ì„±ì„ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në§Œì•½ fn1ê³¼ fn2ì´ ì—°ì‚°ë˜ë©´, ëŒ€ì‹  ì´ë ‡ê²Œ ì‹¤í–‰ë  ê²ƒì…ë‹ˆë‹¤:\n\n![OperationalizingNodejsforServerSideRendering_1](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_1.png)\n\në‘ ì‘ì—… ì¤‘ í•˜ë‚˜ê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì‹¤í–‰ ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ë¿ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\nì„œë²„ ì¸¡ ë Œë”ë§ì—ì„œëŠ” ì„œë²„ í”„ë¡œì„¸ìŠ¤ê°€ ì—¬ëŸ¬ ë™ì‹œ ìš”ì²­ì„ ì²˜ë¦¬í•  ë•Œ ì´ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤. ë™ì‹œ ìš”ì²­ì´ ì²˜ë¦¬ ì¤‘ì¸ ë‹¤ë¥¸ ìš”ì²­ë“¤ì— ì˜í•´ ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_2.png)\n\ní˜„ì‹¤ì—ì„œëŠ” ìš”ì²­ì´ ì—¬ëŸ¬ ê°€ì§€ ë‹¤ë¥¸ ë¹„ë™ê¸° ë‹¨ê³„ë¡œ êµ¬ì„±ë˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì‹¬ì§€ì–´ ëŒ€ë¶€ë¶„ì´ ê³„ì‚°ì— ëŒ€í•œ ê²½ìš°ë¼ë„ìš”. ì´ëŠ” ë” ë‚˜ìœ êµì°¨ ê²°ê³¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. renderPromise().then(out =\u003e formatResponsePromise(out)).then(body =\u003e res.send(body))ì™€ ê°™ì€ ì²´ì¸ìœ¼ë¡œ ìš”ì²­ì´ êµ¬ì„±ëœ ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì€ ìš”ì²­ êµì°¨ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_3.png)\n\nì´ ê²½ìš°, ë‘ ìš”ì²­ ëª¨ë‘ ë‘ ë°°ë¡œ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì œëŠ” ë™ì‹œì„±ì´ ì¦ê°€í•¨ì— ë”°ë¼ ì‹¬ê°í•´ì§‘ë‹ˆë‹¤.\n\nê²Œë‹¤ê°€ SSRì˜ ì¼ë°˜ì ì¸ ëª©í‘œ ì¤‘ í•˜ë‚˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ëª¨ë‘ì—ì„œ ë™ì¼í•˜ê±°ë‚˜ ìœ ì‚¬í•œ ì½”ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ëŸ¬í•œ í™˜ê²½ ê°„ì˜ í° ì°¨ì´ì  ì¤‘ í•˜ë‚˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì»¨í…ìŠ¤íŠ¸ê°€ ë³¸ì§ˆì ìœ¼ë¡œ ë‹¨ì¼ í…Œë„ŒíŠ¸ì¸ ë°˜ë©´ ì„œë²„ ì»¨í…ìŠ¤íŠ¸ëŠ” ë‹¤ì¤‘ í…Œë„ŒíŠ¸ì…ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì‰½ê²Œ ì‘ë™í•˜ëŠ” ì‹±ê¸€í†¤ì´ë‚˜ ë‹¤ë¥¸ ì „ì—­ ìƒíƒœì™€ ê°™ì€ ê¸°ë²•ì€ ì„œë²„ì—ì„œ ë™ì‹œ ìš”ì²­ ë¶€í•˜í•˜ì— ëŒ€í•´ ë²„ê·¸, ë°ì´í„° ëˆ„ì¶œ ë° ì¼ë°˜ì ì¸ í˜¼ëˆì„ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ë¬¸ì œë“¤ì€ ë³‘í–‰ì„±ì´ ë°œìƒí•  ë•Œë§Œ ë¬¸ì œê°€ ë©ë‹ˆë‹¤. ë‚®ì€ ë¶€í•˜ ìˆ˜ì¤€ì´ê±°ë‚˜ ê°œë°œ í™˜ê²½ì˜ ë…ì ì ì¸ ë‹¨ì¼ í…Œë„Œì‹œì—ì„œëŠ” ëŒ€ë¶€ë¶„ ì˜ ì‘ë™í•©ë‹ˆë‹¤.\n\nì´ëŠ” ë…¸ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „í˜•ì ì¸ ì˜ˆì œë“¤ê³¼ ë§¤ìš° ë‹¤ë¥¸ ìƒí™©ì„ ì´ˆë˜í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” JavaScript ëŸ°íƒ€ì„ì„ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§€ì›ê³¼ ë¸Œë¼ìš°ì €ì˜ íŠ¹ì„±ì„ í™œìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë³‘í–‰ì„± ëª¨ë¸ ëŒ€ì‹  ì´ëŸ¬í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë¹„ë™ê¸° ë³‘í–‰ì„± ëª¨ë¸ì´ ê·¸ ëª¨ë“  ë¹„ìš©ì„ ë¶€ê³¼í•˜ì§€ë§Œ ê·¸ í˜œíƒì€ ë³„ë¡œ ì—†ê±°ë‚˜ ê±°ì˜ ì—†ìŠµë‹ˆë‹¤.\n\n# Hypernovaì—ì„œ ë°°ìš´ ì \n\nì €í¬ì˜ ìƒˆë¡œìš´ ë Œë”ë§ ì„œë¹„ìŠ¤ì¸ Hyperloopì€ Airbnb ì›¹ ì‚¬ì´íŠ¸ ì´ìš©ìê°€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ì£¼ìš” ì„œë¹„ìŠ¤ê°€ ë  ê²ƒì…ë‹ˆë‹¤. ë”°ë¼ì„œ ê·¸ ì‹ ë¢°ì„±ê³¼ ì„±ëŠ¥ì€ ì‚¬ìš©ì ê²½í—˜ì— ì ˆëŒ€ì ìœ¼ë¡œ ì¤‘ìš”í•©ë‹ˆë‹¤. ìƒˆ ì„œë¹„ìŠ¤ë¡œì˜ í”„ë¡œë•ì…˜ ì „í™˜ì— ë”°ë¼ ì´ì œëŠ” ì‚¬ì „ SSR ì„œë¹„ìŠ¤ì¸ Hypernovaì—ì„œ ë°°ìš´ êµí›ˆì„ í†µí•©í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nHypernovaëŠ” ìƒˆ ì„œë¹„ìŠ¤ì™€ ë‹¤ë¥´ê²Œ ì‘ë™í•©ë‹ˆë‹¤. ê·¸ê²ƒì€ ìˆœìˆ˜í•œ ë Œë”ëŸ¬ì…ë‹ˆë‹¤. ìš°ë¦¬ì˜ ë ˆì¼ì¦ˆ ë‹¨ì¼ì²´ Monorailì—ì„œ í˜¸ì¶œë˜ê³ , íŠ¹ì • ë Œë”ë§ëœ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ HTML ì¡°ê°ë§Œ ë°˜í™˜í•©ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš° \"ì¡°ê°\"ì€ í˜ì´ì§€ì˜ ëŒ€ë¶€ë¶„ì´ë©°, ë ˆì¼ì¦ˆëŠ” ë‹¨ì§€ ë°”ê¹¥ ìª½ ë ˆì´ì•„ì›ƒë§Œ ì œê³µí•©ë‹ˆë‹¤. ë ˆê±°ì‹œì˜ ê²½ìš°, í˜ì´ì§€ì˜ êµ¬ì„± ìš”ì†Œë¥¼ ERBë¥¼ ì‚¬ìš©í•˜ì—¬ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì–´ëŠ ê²½ìš°ë“  HypernovaëŠ” ë°ì´í„°ë¥¼ ìì²´ë¡œ ê°€ì ¸ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤. ë°ì´í„°ëŠ” ë ˆì¼ì¦ˆì—ì„œ ì œê³µë©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ì—ì„œ ì–¸ê¸‰í•œëŒ€ë¡œ, Hyperloopê³¼ HypernovaëŠ” ì»´í“¨íŠ¸ì— ê´€í•œ ìœ ì‚¬í•œ ìš´ì˜ íŠ¹ì„±ì„ ê³µìœ í•©ë‹ˆë‹¤. ì‹¤ì œ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ, HypernovaëŠ” ê·¸ ëŒ€ì²´í’ˆì´ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì–´ë–»ê²Œ ë™ì‘í• ì§€ ì´í•´í•˜ëŠ” ë° ì¢‹ì€ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì„ ì œê³µí•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_4.png)\n\nì‚¬ìš©ìë¡œë¶€í„° ìš”ì²­ì´ ì£¼ìš” Rails ì•± Monorailì— ë“¤ì–´ì˜¤ë©°, Monorailì€ React ì»´í¬ë„ŒíŠ¸ë¥¼ í•´ë‹¹ í˜ì´ì§€ì— ë Œë”ë§í•˜ê³ ì í•˜ëŠ” ì†ì„±ì„ ì¡°í•©í•˜ê³  í•´ë‹¹ ì†ì„±ê³¼ ì»´í¬ë„ŒíŠ¸ ì´ë¦„ì„ Hypernovaì— ìš”ì²­í•©ë‹ˆë‹¤. HypernovaëŠ” ì†ì„±ê³¼ í•¨ê»˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ì—¬ Monorailë¡œ ë°˜í™˜í•  HTMLì„ ìƒì„±í•˜ê³ , Monorailì€ í˜ì´ì§€ í…œí”Œë¦¿ì— ë‚´ì¥ì‹œí‚¤ê³  ì „ì²´ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë˜ëŒë ¤ë³´ëƒ…ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_5.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në Œë”ë§ ì¤‘ ì‹¤íŒ¨(ì˜¤ë¥˜ ë˜ëŠ” íƒ€ì„ì•„ì›ƒìœ¼ë¡œ ì¸í•œ) ë°œìƒ ì‹œ, í•˜ì´í¼ë…¸ë°” ë Œë”ë§ì˜ ëŒ€ì²´ ë°©ë²•ì€ ë Œë”ë§ëœ HTML ì—†ì´ í˜ì´ì§€ì— êµ¬ì„± ìš”ì†Œì™€ í•´ë‹¹ ì†ì„±ì„ ì‚½ì…í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ í´ë¼ì´ì–¸íŠ¸ ë Œë”ë§ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ í•˜ì´í¼ë…¸ë°”ë¥¼ ì„ íƒì  ì¢…ì†ì„±ìœ¼ë¡œ ê°„ì£¼í•˜ê³ , ì¼ë¶€ íƒ€ì„ì•„ì›ƒê³¼ ì‹¤íŒ¨ë¥¼ í—ˆìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. í˜¸ì¶œì— ëŒ€í•œ íƒ€ì„ì•„ì›ƒ ì‹œê°„ì€ ì„œë¹„ìŠ¤ì˜ ê´€ì°°ëœ p95 ê°’ê³¼ ìœ ì‚¬í•˜ê²Œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ 5% ë¯¸ë§Œì˜ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•˜ëŠ” ê²ƒì´ ì˜ˆìƒëŒ€ë¡œì˜€ìŠµë‹ˆë‹¤.\n\nìµœëŒ€ ì¼ì¼ íŠ¸ë˜í”½ë¡œë“œ ë°°í¬ ì¤‘ì—ëŠ” ëª¨ë…¸ë ˆì¼ì—ì„œ í•˜ì´í¼ë…¸ë°”ì— ëŒ€í•œ ìš”ì²­ ì¤‘ ìµœëŒ€ 40%ê°€ íƒ€ì„ì•„ì›ƒë˜ëŠ” ê²½ìš°ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. í•˜ì´í¼ë…¸ë°”ë¡œë¶€í„° ë°°í¬ ì¤‘ BadRequestError: Request abortedì˜ ì˜¤ë¥˜ìœ¨ì´ ì¦ê°€í•˜ëŠ” ê²ƒì„ ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì˜¤ë¥˜ëŠ” ë‹¤ë¥¸ ëª¨ë“  ì‘ìš© í”„ë¡œê·¸ë¨/ì½”ë”© ì˜¤ë¥˜ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ìˆ¨ê²¨ë²„ë¦¬ëŠ” ìƒë‹¹í•œ ê¸°ì¤€ ì˜¤ë¥˜ìœ¨ ë˜í•œ ì¡´ì¬í–ˆìŠµë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ë™ì‘ì€ ì„ íƒì  ì¢…ì†ì„±ìœ¼ë¡œ, ë†’ì€ ìš°ì„ ìˆœìœ„ê°€ ì•„ë‹Œ ë²ˆê±°ë¡œì›€ìœ¼ë¡œ ì—¬ê²¨ì¡ŒìŠµë‹ˆë‹¤. ì €í¬ëŠ” íƒ€ì„ì•„ì›ƒ ë° ì˜¤ë¥˜ë¥¼ ì´ˆê¸° GCê°€ ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ì´ˆê¸° ì‹œì‘ ë™ì‘, JIT ë¶€ì¡±, ìºì‹œ ì±„ì›€, ë¹—ë¬¼ê³¼ ê°™ì€ ìš”ì†Œì˜ ì˜ˆìƒìœ¼ë¡œ ì¶©ë¶„íˆ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤ê³  í•©ë¦¬ì ìœ¼ë¡œ ìƒê°í–ˆìŠµë‹ˆë‹¤. React ë˜ëŠ” Nodeì˜ ìƒˆë¡œìš´ ë¦´ë¦¬ìŠ¤ê°€ ëŠë¦° ì‹œì‘ì„ ì™„í™”í•˜ê¸° ìœ„í•œ ì¶©ë¶„í•œ ì„±ëŠ¥ ê°œì„ ì„ ì œê³µí•  ê²ƒì„ í¬ë§í–ˆìŠµë‹ˆë‹¤.\n\nì´ëŠ” ë°°í¬ ì¤‘ì— ë‚˜ìœ ë¡œë“œ ë°¸ëŸ°ì‹±ì´ë‚˜ ìš©ëŸ‰ ë¬¸ì œë¡œ ì¸í•œ í™•ì‹¤í•œ ê²°ê³¼ë¡œ ì˜ì‹¬ë˜ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë™ì¼í•œ í”„ë¡œì„¸ìŠ¤ì—ì„œ ê±°ì˜ 100%ì˜ ê³„ì‚° ìš”ì²­ì„ ë™ì‹œì— ì²˜ë¦¬í•¨ìœ¼ë¡œì¨ ëŠ˜ì–´ë‚œ ëŒ€ê¸° ì‹œê°„ì„ ë³¼ ìˆ˜ ìˆì—ˆê³ , ì—¬ëŸ¬ ìš”ì²­ì´ í•œ ë²ˆì— ì‹¤í–‰ë˜ëŠ” ê²½ìš°ê°€ ìˆì„ ë•Œì—ëŠ” í•´ë‹¹í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì—ì„œ ë™ì‹œì— ì²˜ë¦¬ëœ ìš”ì²­ ìˆ˜ë¥¼ ë¡œê·¸í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìš°ë¦¬ëŠ” ì‹¤ì œë¡œ CPU ì‚¬ìš©ì„ ê¸°ë‹¤ë¦¬ëŠ” ë™ì‹œ ìš”ì²­ ë•Œë¬¸ì— ë°œìƒí•œ ì§€ì—°ì„ ì‹œì‘ ì§€ì—°ìœ¼ë¡œ ì›ë§í–ˆìŠµë‹ˆë‹¤. ìš°ë¦¬ì˜ ì„±ëŠ¥ ì§€í‘œì—ì„œ ë‹¤ë¥¸ ì‹¤í–‰ ì¤‘ì¸ ìš”ì²­ ë•Œë¬¸ì— ì‹¤í–‰ì„ ëŒ€ê¸°í•˜ëŠ” ì‹œê°„ì€ ìš”ì²­ì„ ì‹¤í–‰í•˜ëŠ” ë° ì†Œë¹„ëœ ì‹œê°„ê³¼ êµ¬ë³„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŠ” ë™ì‹œì„±ìœ¼ë¡œ ì¸í•œ ì§€ì—°ì´ ê°œë³„ ìš”ì²­ì˜ ë¹„ìš©ì„ ì‹¤ì œë¡œ ì¦ê°€ì‹œí‚¤ëŠ” ìƒˆë¡œìš´ ì½”ë“œ ê²½ë¡œ ë˜ëŠ” ê¸°ëŠ¥ì—ì„œ ë°œìƒí•˜ëŠ” ì§€ì—°ê³¼ ë™ì¼í•˜ê²Œ ë‚˜íƒ€ë‚  ê²ƒì´ë¼ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\në˜í•œ BadRequestError: Request aborted ì˜¤ë¥˜ê°€ ì¼ë°˜ì ì¸ ëŠë¦° ì‹œì‘ ì„±ëŠ¥ìœ¼ë¡œ ì¶©ë¶„íˆ ì„¤ëª…ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ì´ ì ì  ë” ë¶„ëª…í•´ì§€ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì´ ì˜¤ë¥˜ëŠ” body parserì—ì„œ ë°œìƒí•˜ë©° íŠ¹íˆ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ê°€ ìš”ì²­ ë³¸ë¬¸ì„ ì™„ì „íˆ ì½ê¸° ì „ì— ìš”ì²­ì„ ì¤‘ë‹¨í•œ ê²½ìš°ì— ë°œìƒí•©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ í¬ê¸°í•˜ê³  ì—°ê²°ì„ ëŠì–´ê°€ë©´ ìš°ë¦¬ê°€ ì²˜ë¦¬ë¥¼ ê³„ì†í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì†Œì¤‘í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ê°€ëŠ”ë°, ê°œë³„ ìš”ì²­ì˜ ë¹„ìš©ì„ ì¦ê°€ì‹œí‚¤ëŠ” ê²ƒì´ ì‹¤ì œë¡œ ë” ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.\n\nHypernovaì˜ ìš”ì²­ í˜ì´ë¡œë“œë„ í‰ê· ì ìœ¼ë¡œ ìˆ˜ë°± í‚¬ë¡œë°”ì´íŠ¸ë¡œ ìƒë‹¹íˆ í¬ê¸° ë•Œë¬¸ì— ì´ ë¬¸ì œê°€ ë” ë³µì¡í•´ì§‘ë‹ˆë‹¤.\n\n\u003cimg src=\"/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_7.png\" /\u003e\n\nìš°ë¦¬ëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ìš°ë¦¬ì—ê²Œ ë§ì€ ì–‘ì˜ ìš´ì˜ ê²½í—˜ì„ ì œê³µí•˜ëŠ” ë‘ ê°€ì§€ ì™¸ë¶€ êµ¬ì„± ìš”ì†Œë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤: ì—­ë°©í–¥ í”„ë¡ì‹œ(nginx) ë° ë¡œë“œ ë°¸ëŸ°ì„œ(haproxy).\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# Reverse Proxying ë° ë¡œë“œ ë°¸ëŸ°ì‹±\n\nìš°ë¦¬ì˜ í•˜ì´í¼ë…¸ë°” ì¸ìŠ¤í„´ìŠ¤ì— ì¡´ì¬í•˜ëŠ” ì—¬ëŸ¬ CPU ì½”ì–´ë¥¼ í™œìš©í•˜ê¸° ìœ„í•´ ë…¸ë“œ.js í´ëŸ¬ìŠ¤í„° ëª¨ë“ˆì„ í†µí•´ ì—¬ëŸ¬ í•˜ì´í¼ë…¸ë°” í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ í”„ë¡œì„¸ìŠ¤ë“¤ì€ ë…ë¦½ì ì´ê¸° ë•Œë¬¸ì— ë™ì‹œ ìš”ì²­ì„ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![image](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_8.png)\n\nì—¬ê¸°ì„œ ë¬¸ì œëŠ” ê° ë…¸ë“œ í”„ë¡œì„¸ìŠ¤ê°€ ìš”ì²­ì´ ì™„ë£Œë  ë•Œê¹Œì§€ íš¨ê³¼ì ìœ¼ë¡œ ì ìœ ë˜ë©°, ì´ëŠ” í´ë¼ì´ì–¸íŠ¸(ëª¨ë…¸ë ˆì¼)ë¡œë¶€í„° ìš”ì²­ ë³¸ë¬¸ì„ ì½ëŠ” ì‘ì—…ì„ í¬í•¨í•©ë‹ˆë‹¤. í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë³‘ë ¬ë¡œ ì—¬ëŸ¬ ìš”ì²­ì„ ì½ì„ ìˆ˜ëŠ” ìˆì§€ë§Œ, ì´ëŠ” ì‘ì—…ì„ ë Œë”ë§í•  ë•Œ ì—°ì‚°ì´ êµì°¨ë˜ëŠ” ë¬¸ì œë¡œ ì´ì–´ì§‘ë‹ˆë‹¤. ë…¸ë“œ í”„ë¡œì„¸ìŠ¤ì˜ ì´ìš©ë¥ ì€ í´ë¼ì´ì–¸íŠ¸ ë° ë„¤íŠ¸ì›Œí¬ì˜ ì†ë„ì— ê²°í•©ë©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì†”ë£¨ì…˜ì€ í´ë¼ì´ì–¸íŠ¸ì™€ì˜ í†µì‹ ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë²„í¼ë§ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ nginxë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. NginxëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„°ì˜ ìš”ì²­ì„ ë²„í¼ì— ì½ê³ , ì™„ì „íˆ ì½íŒ í›„ì—ë§Œ ì „ì²´ ìš”ì²­ì„ ë…¸ë“œ ì„œë²„ì— ì „ë‹¬í•©ë‹ˆë‹¤. ì´ ì „ì†¡ì€ ë¨¸ì‹  ë‚´ì—ì„œ ë£¨í”„ë°± ë˜ëŠ” ìœ ë‹‰ìŠ¤ ë„ë©”ì¸ ì†Œì¼“ì„ í†µí•´ ì´ë£¨ì–´ì§€ë©° ì´ëŠ” ë¨¸ì‹  ê°„ í†µì‹ ë³´ë‹¤ ë¹ ë¥´ê³  ì•ˆì •ì ì…ë‹ˆë‹¤.\n\n![image](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_9.png)\n\nnginxê°€ ìš”ì²­ì„ ì½ëŠ” ì‘ì—…ì„ ì²˜ë¦¬í•˜ë©´, ë…¸ë“œ í”„ë¡œì„¸ìŠ¤ì˜ ì‚¬ìš©ë¥ ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n![image](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_10.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìš°ë¦¬ëŠ” ëª‡ ê°€ì§€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ nginxë¥¼ ì‚¬ìš©í•˜ì—¬ Node.js í”„ë¡œì„¸ìŠ¤ë¡œ ì§í–‰í•  í•„ìš” ì—†ì´ ì²˜ë¦¬í•©ë‹ˆë‹¤. ìš°ë¦¬ì˜ ì„œë¹„ìŠ¤ ê²€ìƒ‰ ë° ë¼ìš°íŒ… ë ˆì´ì–´ëŠ” í˜¸ìŠ¤íŠ¸ ê°„ì˜ ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ë‚®ì€ ë¹„ìš©ì˜ /ping ìš”ì²­ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ë¥¼ nginxì—ì„œ ì™„ì „íˆ ì²˜ë¦¬í•¨ìœ¼ë¡œì¨ Node.js í”„ë¡œì„¸ìŠ¤ë¡œì˜ (ë¹„ë¡ ì €ë ´í•˜ì§€ë§Œ) ìƒë‹¹í•œ ì²˜ë¦¬ëŸ‰ ì¶œì²˜ë¥¼ ì œê±°í•©ë‹ˆë‹¤.\n\në‹¤ìŒì€ ë¶€í•˜ ë¶„ì‚°ì…ë‹ˆë‹¤. ì–´ë–¤ Node.js í”„ë¡œì„¸ìŠ¤ê°€ ì–´ë–¤ ìš”ì²­ì„ ë°›ì•„ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ìŠ¤ë§ˆíŠ¸í•œ ê²°ì •ì„ ë‚´ë ¤ì•¼ í•©ë‹ˆë‹¤. í´ëŸ¬ìŠ¤í„° ëª¨ë“ˆì€ ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹ìœ¼ë¡œ ìš”ì²­ì„ ë¶„ë°°í•©ë‹ˆë‹¤. ê° í”„ë¡œì„¸ìŠ¤ëŠ” ì°¨ë¡€ë¡œ ìš”ì²­ì„ ë°›ìŠµë‹ˆë‹¤. ë¼ìš´ë“œ ë¡œë¹ˆì€ ìš”ì²­ ì§€ì—° ì‹œê°„ì— í° ë³€ë™ì´ ì—†ì„ ë•Œ í›Œë¥­í•©ë‹ˆë‹¤. ê·¸ë¦¼ 1ì„ ì°¸ê³ í•˜ì„¸ìš”.\n\në‹¤ë£¨ëŠ” ì‹œê°„ì´ ê·¹ëª…í•˜ê²Œ ë‹¤ë¥¸ ë‹¤ì–‘í•œ ìœ í˜•ì˜ ìš”ì²­ì´ ìˆëŠ” ê²½ìš° ë¼ìš´ë“œ ë¡œë¹ˆì€ ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤. í”„ë¡œì„¸ìŠ¤ì˜ í›„ì† ìš”ì²­ì€ ì´ì „ ìš”ì²­ì´ ëª¨ë‘ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤. ì´ì— ëŒ€ì²˜í•  ìˆ˜ ìˆëŠ” ë˜ ë‹¤ë¥¸ ì²˜ë¦¬ ìš©ëŸ‰ì´ ìˆëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ìˆë”ë¼ë„ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![ë°ì´í„°](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_12.png)\n\nì´ ìš”ì²­ì˜ ë” ë‚˜ì€ ë¶„ë°° ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n![ë°ì´í„°](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_13.png)\n\nëŒ€ê¸° ì‹œê°„ì„ ìµœì†Œí™”í•˜ê³  ì‘ë‹µì„ ë¹ ë¥´ê²Œ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ì‘ì—…ì€ ìš”ì²­ì„ ëŒ€ê¸°ì—´ì— ìœ ì§€í•˜ê³  í”„ë¡œì„¸ìŠ¤ê°€ ë‹¤ë¥¸ ìš”ì²­ìœ¼ë¡œ ì“°ì—¬ì§€ì§€ ì•Šê²Œ ë  ë•Œì—ë§Œ í•´ë‹¹ ìš”ì²­ì„ í”„ë¡œì„¸ìŠ¤ì— í• ë‹¹í•˜ì—¬ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ìš°ë¦¬ëŠ” haproxyë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_14.png)\n\nì´ë¥¼ Hypernovaì— ì ìš©í•˜ë©´ ë°°í¬ì‹œì— íƒ€ì„ì•„ì›ƒ ìŠ¤íŒŒì´í¬ì™€ BadRequestErrorsê°€ ì™„ì „íˆ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤. ë™ì‹œ ìš”ì²­ì€ ì •ìƒ ì‘ë™ ì¤‘ì— ë†’ì€ ë°±ë¶„ìœ„ ì§€ì—°ì˜ ì£¼ìš” ì›ì¸ì´ê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë¡œ ì¸í•´ ê·¸ ì§€ì—°ë„ ê°ì†Œí•˜ì˜€ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ê²°ê³¼ ì¤‘ í•˜ë‚˜ëŠ” êµ¬ì„±ëœ íƒ€ì„ì•„ì›ƒì´ ê°™ë”ë¼ë„ íƒ€ì„ì•„ì›ƒ ë¹„ìœ¨ì´ 5%ì—ì„œ 2%ë¡œ ì¤„ì–´ë“  ê²ƒì…ë‹ˆë‹¤. 40%ì˜ ë°°í¬ ì‹¤íŒ¨ì—ì„œ 2%ë¡œ ê°ì†Œí•œë‹¤ëŠ” ê²ƒì€ ìŠ¹ë¦¬ ê°™ì€ ëŠë‚Œì…ë‹ˆë‹¤. ì˜¤ëŠ˜ë‚  ì‚¬ìš©ìë“¤ì€ ë¡œë”© í™”ë©´ì´ í›¨ì”¬ ëœ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ë‚´ì¼ì€ Hypernovaì˜ ì˜¤ë¥˜ ëŒ€ë¹„ ê¸°ëŠ¥ì´ ì—†ëŠ” ìƒˆ ëœë”ëŸ¬ë¥¼ ìœ„í•´ ìš°ë¦¬ì—ê²Œ ë§¤ìš° ì¤‘ìš”í•œ ë°°í¬ë¥¼ í†µí•œ ì•ˆì •ì„±ì´ ë  ê²ƒì…ë‹ˆë‹¤.\n\n# ìì„¸í•œ ë‚´ìš©ê³¼ ì„¤ì •\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ì„¤ì •ì„ ìœ„í•´ nginx, haproxy ë° ìš°ë¦¬ ë…¸ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì„¤ì •ì„ ì´í•´í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” nginx ë° haproxy êµ¬ì„±ì´ í¬í•¨ëœ ìƒ˜í”Œ ë…¸ë“œ ì•±ì„ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ êµ¬ì„±ì€ ìš°ë¦¬ê°€ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì§€ë§Œ, ë‹¨ìˆœí™”ë˜ê³  ë¹„íŠ¹ê¶Œ ì‚¬ìš©ìë¡œ ì „ê²½ì—ì„œ ì‹¤í–‰ë˜ë„ë¡ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤. í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ëª¨ë“  ê²ƒì„ í”„ë¡œì„¸ìŠ¤ ê°ë…ì(ì €í¬ëŠ” runit ë˜ëŠ” ì ì  ë” ë§ì´ ì‚¬ìš©í•˜ëŠ” kubernetesë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤)ë¡œ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\nNginx êµ¬ì„±ì€ ë§¤ìš° í‘œì¤€ì ì´ë©°, í¬íŠ¸ 9000ì—ì„œ ë“£ëŠ” ì„œë²„ë¥¼ êµ¬ì„±í•˜ì—¬ ìš”ì²­ì„ í¬íŠ¸ 9001(ì €í¬ í™˜ê²½ì—ì„œëŠ” Unix ë„ë©”ì¸ ì†Œì¼“ì„ ì‚¬ìš©)ì— ë“£ëŠ” haproxyë¡œ í”„ë¡ì‹œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë˜í•œ /ping ì—”ë“œí¬ì¸íŠ¸ë¥¼ ê°€ë¡œì±„ì„œ ì—°ê²°ì„± í™•ì¸ì„ ì§ì ‘ ì œê³µí•©ë‹ˆë‹¤. ë‚´ë¶€ í‘œì¤€ nginx êµ¬ì„±ê³¼ì˜ ì°¨ì´ì ì€ worker_processesë¥¼ 1ë¡œ ì¤„ì˜€ë‹¤ëŠ” ê²ƒì¸ë°, ë‹¨ì¼ nginx í”„ë¡œì„¸ìŠ¤ê°€ ë‹¨ì¼ haproxy í”„ë¡œì„¸ìŠ¤ì™€ ë…¸ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¶©ë¶„íˆ í¬í™”ì‹œí‚¤ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë˜í•œ hypernovaë¥¼ ìœ„í•œ ì»´í¬ë„ŒíŠ¸ì˜ ì†ì„±ìœ¼ë¡œ í° ìš”ì²­ ë° ì‘ë‹µ ë²„í¼ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤(ìˆ˜ë°± í‚¬ë¡œë°”ì´íŠ¸ ë‹¨ìœ„). ìì‹ ì˜ ìš”ì²­/ì‘ë‹µ í¬ê¸°ì— ê¸°ë°˜í•˜ì—¬ ë²„í¼ í¬ê¸°ë¥¼ ì¡°ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n\nNodeì˜ í´ëŸ¬ìŠ¤í„° ëª¨ë“ˆì€ ë¡œë“œ ë°¸ëŸ°ì‹±ê³¼ í”„ë¡œì„¸ìŠ¤ ìƒì„±ì„ ëª¨ë‘ ì²˜ë¦¬í•©ë‹ˆë‹¤. ë¡œë“œ ë°¸ëŸ°ì‹±ì„ ìœ„í•´ HAProxyë¡œ ì „í™˜í•˜ë ¤ë©´ í´ëŸ¬ìŠ¤í„°ì˜ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ë¶€ë¶„ì„ ëŒ€ì²´í•´ì•¼ í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” worker í”„ë¡œì„¸ìŠ¤ í’€ì„ ìœ ì§€í•˜ëŠ” ë°ì— ëŒ€í•´ í´ëŸ¬ìŠ¤í„°ë³´ë‹¤ ì•½ê°„ ë” ì˜ê²¬ì„ ê°–ì¶”ëŠ” pool-hallë¡œ êµ¬ì„±ë˜ì—ˆëŠ”ë°, ë¡œë“œ ë°¸ëŸ°ì‹± ê²Œì„ê³¼ëŠ” ì™„ì „íˆ ë¬´ê´€í•©ë‹ˆë‹¤. ì˜ˆì œ ì•±ì€ pool-hallì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ í¬íŠ¸ì—ì„œ ë“£ëŠ” ë„¤ ê°œì˜ worker í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\nHAProxy êµ¬ì„±ì€ í¬íŠ¸ 9001ì—ì„œ ë“£ëŠ” í”„ë¡ì‹œë¥¼ êµ¬ì„±í•˜ì—¬ í¬íŠ¸ 9002ì—ì„œ 9005ê¹Œì§€ ë“£ëŠ” ë„¤ ê°œì˜ workerë¡œ íŠ¸ë˜í”½ì„ ë¼ìš°íŒ…í•©ë‹ˆë‹¤. ê°ê°ì˜ workerì— ëŒ€í•´ ê°€ì¥ ì¤‘ìš”í•œ ì„¤ì •ì€ maxconn 1 ì…ë‹ˆë‹¤. ì´ëŠ” ê° workerê°€ í•œ ë²ˆì— í•˜ë‚˜ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ë„ë¡ ì œí•œí•©ë‹ˆë‹¤. ì´ëŠ” HAProxy í†µê³„ í˜ì´ì§€(í¬íŠ¸ 8999ì—ì„œ ì‹¤í–‰í•˜ë„ë¡ êµ¬ì„±ë¨)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![HAProxy Configuration](/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_15.png)\n\nì•ˆë…•í•˜ì„¸ìš”!\n\nHAProxyëŠ” ê° ì›Œì»¤ì™€ì˜ í˜„ì¬ ì—´ë¦° ì—°ê²° ìˆ˜ë¥¼ ì¶”ì í•©ë‹ˆë‹¤. maxconnì„ í†µí•´ êµ¬ì„±ëœ ì œí•œì´ ìˆìŠµë‹ˆë‹¤. ë¼ìš°íŒ…ì€ static-rr (ì •ì  ë¼ìš´ë“œ ë¡œë¹ˆ)ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ ì¼ë°˜ì ìœ¼ë¡œ ê° ì›Œì»¤ì—ê²Œ ìˆœì„œëŒ€ë¡œ ìš”ì²­ì´ ì œê³µë©ë‹ˆë‹¤. ì œí•œì´ ì„¤ì •ëœ ê²½ìš° ë¼ìš°íŒ…ì€ ë¼ìš´ë“œ ë¡œë¹ˆìœ¼ë¡œ ì§„í–‰ë˜ì§€ë§Œ í˜„ì¬ ìš”ì²­ ì œí•œì— ë„ë‹¬í•œ ì›Œì»¤ëŠ” ê±´ë„ˆë›°ê²Œ ë©ë‹ˆë‹¤. ì—°ê²° ì œí•œ ì´í•˜ì˜ ì›Œì»¤ê°€ ì—†ëŠ” ê²½ìš° ìš”ì²­ì€ ëŒ€ê¸°ì—´ì— ë“¤ì–´ê°€ë©° ê°€ì¥ ë¨¼ì € ì‚¬ìš© ê°€ëŠ¥í•´ì§„ ì›Œì»¤ì—ê²Œ ë°°ë‹¬ë©ë‹ˆë‹¤. ì´ê²ƒì´ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë™ì‘ì…ë‹ˆë‹¤.\n\nì´ êµ¬ì„±ì€ ì•„ë§ˆë„ ì‚¬ìš©í•˜ë ¤ëŠ” ê²ƒê³¼ ë§¤ìš° ê°€ê¹Œìš´ ê²ƒì¼ ê²ƒì…ë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” ë‹¤ë¥¸ í¥ë¯¸ë¡œìš´ ì„¤ì •(ê·¸ë¦¬ê³  í•„ìš”í•œ ë³µì‚¬ ë¶™ì—¬ë„£ê¸°)ì´ ìˆìŠµë‹ˆë‹¤. ì´ êµ¬ì„±ì„ ì¤€ë¹„í•˜ëŠ” ì¼ì•ˆí•˜ë©°, ìš°ë¦¬ëŠ” ì¼ë°˜ì ì´ê³  ì´ìƒì ì¸ ìƒí™©ì—ì„œ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê³  ê·¸ì— ê¸°ë°˜í•˜ì—¬ êµ¬ì„± ê°’ì„ ìœ ë„í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ê¹Šì´ ë“¤ì–´ê°€ëŠ” ë‚´ìš©ìœ¼ë¡œì„œ ì„¤ì •ì„ ì‚¬ìš©í•˜ëŠ” ë°ê¹Œì§€ ê¼­ ì´í•´í•  í•„ìš”ëŠ” ì—†ì§€ë§Œ, ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì œê³µë©ë‹ˆë‹¤.\n\n# HAProxy ì‹¬ì¸µ ë¶„ì„\n\nHAProxy êµ¬ì„±ì´ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ëŒ€ë¡œ ì •í™•íˆ ì‘ë™í•˜ëŠ” ê²ƒì— ë§ì€ ê²ƒì´ ë‹¬ë ¤ ìˆì—ˆìŠµë‹ˆë‹¤. ë™ì‹œ ìš”ì²­ ì œí•œ ë˜ëŠ” ëŒ€ê¸°ì—´ë§¤ í™•ì¸ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì˜ëª»ëœ ê²ƒì…ë‹ˆë‹¤. ë˜í•œ ê°ì¢… ì¢…ë¥˜ì˜ ì‹¤íŒ¨ê°€ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€(ë˜ëŠ” ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ”ì§€)ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í–ˆìŠµë‹ˆë‹¤. í˜„ì¬ í´ëŸ¬ìŠ¤í„° ì„¤ì •ì— ëŒ€í•œ ì í•©í•œ ëŒ€ì²´ë¬¼ì¸ì§€ í™•ì¸í•  í•„ìš”ê°€ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní…ŒìŠ¤íŠ¸ì˜ ì¼ë°˜ì ì¸ í˜•íƒœëŠ” Apache Benchmarkì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ë™ì‹œì„± ìˆ˜ì¤€ì—ì„œ 10,000ê°œì˜ ìš”ì²­ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. \n\n```js\nab -l -c \u003cCONCURRENCY\u003e -n 10000 http://\u003cHOSTNAME\u003e:9000/render\n```\n\nì €í¬ ì„¤ì •ì—ì„œëŠ” ì˜ˆì‹œ ì•±ì˜ 4ê°œ ëŒ€ì‹  15ê°œì˜ ì›Œì»¤ë¥¼ ì‚¬ìš©í–ˆê³ , ë²¤ì¹˜ë§ˆí‚¹ ë° ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ê°„ ê°„ì„­ì„ í”¼í•˜ê¸° ìœ„í•´ ì•±ì„ ì‹¤í–‰í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì™€ ë³„ë„ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ abë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤. ì €í¬ëŠ” ë‚®ì€ ë¶€í•˜ (ë™ì‹œì„±=5), ë†’ì€ ë¶€í•˜ (ë™ì‹œì„±=13), ëŒ€ê¸° ë¶€í•˜ (ë™ì‹œì„±=20)ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤. ëŒ€ê¸° ë¶€í•˜ë¥¼ í†µí•´ haproxyê°€ í•­ìƒ ëŒ€ê¸°ì—´ì„ ì²˜ë¦¬í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.\n\nì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ëŠ” ê·¸ì € ì •ìƒ ì‘ë™ì„ í™•ì¸í•˜ëŠ” ê²ƒì´ì—ˆê³ , ë‹¤ìŒ í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ëŠ” ë°°í¬ ì¤‘ ë°œìƒí•  ìˆ˜ ìˆëŠ” ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì˜ ìš°ì•„í•œ ì¬ì‹œì‘ì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ëŠ” ì œê°€ ì¼ë¶€ í”„ë¡œì„¸ìŠ¤ë¥¼ ë¬´ì‘ìœ„ë¡œ ì¢…ë£Œí•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ë°œìƒí•˜ì§€ ì•Šì€ ì˜ˆì™¸ê°€ í”„ë¡œì„¸ìŠ¤ë¥¼ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œì‹œí‚¤ëŠ” ìƒí™©ì„ ì‹œë®¬ë ˆì´ì…˜í•œ ê²ƒì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì—ì„œ ë¬´í•œ ë£¨í”„ê°€ ë³„ë„ë¡œ ë¬¸ì œê°€ ë˜ì—ˆê¸° ë•Œë¬¸ì— ë¬´í•œ ë£¨í”„ê°€ í¬í•¨ëœ ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•´ ë‹¨ì¼ ìš”ì²­ì„ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.\n\nì´ëŸ¬í•œ í…ŒìŠ¤íŠ¸ëŠ” ìš°ë¦¬ì˜ êµ¬ì„± ë° ì‘ë™ ë°©ì‹ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì¼ë°˜ ì‘ì—…ì—ì„œ maxconn 1ì€ í•œ ë²ˆì— í•˜ë‚˜ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ë„ë¡ ê° í”„ë¡œì„¸ìŠ¤ë¥¼ ì œí•œí•˜ëŠ” ëŒ€ë¡œ ì •í™•íˆ ê¸°ëŒ€í–ˆë˜ ëŒ€ë¡œ ì‘ë™í–ˆìŠµë‹ˆë‹¤. ë°±ì—”ë“œì—ëŠ” HTTP ë˜ëŠ” TCP í—¬ìŠ¤ì²´í¬ë¥¼ êµ¬ì„±í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ëŠ” í˜¼ë€ì„ ì•¼ê¸°í•˜ê³  ê°€ì¹˜ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ë°œê²¬í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í—¬ìŠ¤ì²´í¬ëŠ” maxconnì„ ì¡´ì¤‘í•˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì½”ë“œì—ì„œ ì´ë¥¼ í™•ì¸í•œ ì ì€ ì—†ìŠµë‹ˆë‹¤. ìš°ë¦¬ì˜ ì˜ˆìƒ ë™ì‘ì€ í”„ë¡œì„¸ìŠ¤ê°€ ê±´ê°•í•˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ì´ê±°ë‚˜ ë¦¬ìŠ¤ë‹ ì¤‘ì´ì§€ ì•Šì•„ ì¦‰ì‹œ ì—°ê²° ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¬ ê²ƒì„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤ (ì´ì—ëŠ” í•œ ê°€ì§€ ì£¼ìš” ì˜ˆì™¸ê°€ ìˆìŠµë‹ˆë‹¤). ìš°ë¦¬ëŠ” ì´ëŸ¬í•œ í—¬ìŠ¤ì²´í¬ë¥¼ ìš°ë¦¬ ì‚¬ë¡€ì— ìœ ìš©í•  ì •ë„ë¡œ ì¶©ë¶„íˆ ì œì–´ ê°€ëŠ¥í•˜ì§€ ì•Šì•„ì„œ ë‹¤ë¥¸ í—¬ìŠ¤ì²´í‚¹ regimeì˜ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥ì„±ì„ í”¼í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.\n\nì—°ê²° ì˜¤ë¥˜ëŠ” ë‹¤ë£° ìˆ˜ ìˆëŠ” ë¬¸ì œì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì˜µì…˜ redispatch ë° retries 3ì„ ì„¤ì •í•˜ì—¬ ì—°ê²° ì˜¤ë¥˜ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ìš”ì²­ì„ ë” í˜‘ì¡°ì ì¸ ë‹¤ë¥¸ ë°±ì—”ë“œë¡œ ì „ë‹¬í•  ìˆ˜ ìˆê²Œ í–ˆìŠµë‹ˆë‹¤. ì—°ê²°ì´ ê±°ë¶€ë˜ë©´ ì¦‰ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ ìš°ë¦¬ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ê³„ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nê±°ë¶€ëœ ì—°ê²°ì—ë§Œ ì ìš©ë©ë‹ˆë‹¤. ì§€ê¸ˆì€ ìˆ˜ì‹  ëŒ€ê¸° ì¤‘ì´ ì•„ë‹ˆë¼ëŠ” ì´ìœ ë¡œ ì—°ê²°ì´ ê±°ë¶€ë©ë‹ˆë‹¤. ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ë¥¼ ë‹¤ë£¨ê³  ìˆê¸° ë•Œë¬¸ì— ì—°ê²° ì œí•œ ì‹œê°„ì€ ë³„ë¡œ ìœ ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¬´í•œ ë£¨í”„ì— ê°‡íŒ ì›Œì»¤ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë‚®ì€ ì—°ê²° ì œí•œ ì‹œê°„ì„ ì„¤ì •í•  ìˆ˜ ìˆì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒí–ˆìŠµë‹ˆë‹¤. 100ë°€ë¦¬ì´ˆì˜ íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í–ˆì„ ë•Œ, ì´ë²¤íŠ¸ ë£¨í”„ë¡œ ì œì–´ê°€ ë˜ëŒì•„ê°€ì§€ ì•Šì•˜ìŒì—ë„ í´ë¼ì´ì–¸íŠ¸/ì„œë²„ì—ì„œ ì„¤ì •ëœ 10ì´ˆ íƒ€ì„ì•„ì›ƒ í›„ì— ìš°ë¦¬ ìš”ì²­ì´ íƒ€ì„ì•„ì›ƒë˜ëŠ” ê²ƒì— ë†€ëìŠµë‹ˆë‹¤. ì´ëŠ” ì»¤ë„ì´ ì„œë²„ê°€ ìˆ˜ë½í•˜ê¸° ì „ì— í´ë¼ì´ì–¸íŠ¸ ê´€ì ì—ì„œ ì—°ê²°ì„ ì„¤ì •í•˜ëŠ” ê²ƒì„ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤.\n\nì£¼ëª©í•  ë§Œí•œ ì ìœ¼ë¡œ, ë°±ë¡œê·¸ë¥¼ ì„¤ì •í•˜ì—¬ë„ ë°±ë¡œê·¸ ê¸¸ì´ëŠ” ì„œë²„ê°€ SYN-ACKì— ì‘ë‹µí•œ í›„ì— í‰ê°€ë˜ì–´ ì—°ê²°ì´ ì„¤ì •ë˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ê²°ê³¼ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ (ì‹¤ì œë¡œëŠ” ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ëŒì•„ì˜¨ ACK ì‘ë‹µì„ ë†“ëŠ” ê²ƒì„ êµ¬í˜„/ì²˜ë¦¬). ì´ë¡œ ì¸í•´ ì—°ê²°ì´ ì„¤ì •ëœ ìš”ì²­ì€ ë°±ì—”ë“œê°€ í•´ë‹¹ ìš”ì²­ì„ ì²˜ë¦¬í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ íŒë‹¨í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ì— ë‹¤ì‹œ ë³´ë‚´ê±°ë‚˜ ë‹¤ì‹œ ì‹œë„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\në˜ ë‹¤ë¥¸ í¥ë¯¸ë¡œìš´ ê²°ê³¼ë¡œ, ë¬´í•œ ê³„ì‚° ë£¨í”„ì— ê°‡íŒ í”„ë¡œì„¸ìŠ¤ì—ì„œ ìˆ˜í–‰í•œ í…ŒìŠ¤íŠ¸ì—ì„œ í´ë¼ì´ì–¸íŠ¸/ì„œë²„ íƒ€ì„ì•„ì›ƒì€ ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ì„ í—ˆìš©í•©ë‹ˆë‹¤. ë¬´í•œ ë£¨í”„ì— ë¹ ì§€ê²Œ í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¡œ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ, ë°±ì—”ë“œì˜ ì—°ê²° ê°œìˆ˜ê°€ 1ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. maxconnì˜ ê²½ìš°ì—ëŠ” ìš°ë¦¬ê°€ ì›í•˜ëŠ”ëŒ€ë¡œ ì‘ë™í•˜ì—¬ ë‹¤ë¥¸ ìš”ì²­ì´ ì—°ê²°ë  ìˆ˜ ì—†ê²Œ í•©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸/ì„œë²„ íƒ€ì„ì•„ì›ƒì´ ë§Œë£Œë˜ë©´ ì—°ê²° ê°œìˆ˜ê°€ ë‹¤ì‹œ 0ìœ¼ë¡œ ê°ì†Œë˜ë©°, ìš”ì²­ì²˜ë¦¬ê°€ ì„±ê³µí–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì•Œ ìˆ˜ ì—†ì–´ ìš°ë¦¬ì˜ 1ëŒ€1 ë³´ì¥ì´ ìœ„ë°˜ë˜ê³  ì´ì „ ìš”ì²­ì€ ì‹¤íŒ¨ë¡œ ì´ëŒê²Œ ë©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ íƒ€ì„ì•„ì›ƒì´ë‚˜ ë³€ë• ë•Œë¬¸ì— ì—°ê²°ì„ ë‹«ì„ ë•Œ, ì—°ê²° ê°œìˆ˜ëŠ” ì˜í–¥ì„ ë°›ì§€ ì•Šê³  ë¼ìš°íŒ…ì€ ê³„ì†í•´ì„œ ì‘ë™í•©ë‹ˆë‹¤. abortoncloseë¥¼ ì„¤ì •í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ë‹«ëŠ” ì¦‰ì‹œ ì—°ê²° ê°œìˆ˜ê°€ ê°ì†Œë©ë‹ˆë‹¤. ì´ì— ë”°ë¼ ìµœì„ ì˜ ì¡°ì¹˜ëŠ” ì´ëŸ¬í•œ íƒ€ì„ì•„ì›ƒì— ë†’ì€ ê°’ì„ ì„¤ì •í•˜ê³  abortoncloseë¥¼ í•´ì œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë” ê°•ë ¥í•œ íƒ€ì„ì•„ì›ƒì€ í´ë¼ì´ì–¸íŠ¸ ë˜ëŠ” nginx ì¸¡ì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në˜í•œ ê³ ë¶€í•˜ ì‚¬ë¡€ì—ì„œ ì ìš©ë˜ëŠ” ìƒë‹¹íˆ ë¶ˆí¸í•œ ë§¤ë ¥ ìš”ì†Œë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ë§Œì•½ ì„œë²„ê°€ ì•ˆì •ì ì¸ ëŒ€ê¸°ì—´ì„ ê°–ê³  ìˆëŠ” ìƒíƒœì—ì„œ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ê°€ ì¶©ëŒí•œë‹¤ë©´ (ì´ëŠ” ë§¤ìš° ë“œë¬¸ ê²½ìš°ì—¬ì•¼ í•©ë‹ˆë‹¤), ìš”ì²­ì€ í•´ë‹¹ ë°±ì—”ë“œì—ì„œ ì‹œë„ë  ê²ƒì´ì§€ë§Œ í”„ë¡œì„¸ìŠ¤ê°€ ìˆ˜ì‹  ëŒ€ê¸° ì¤‘ì´ê¸° ë•Œë¬¸ì— ì—°ê²°ì— ì‹¤íŒ¨í•©ë‹ˆë‹¤. ê·¸ëŸ¼ HAProxyëŠ” ê·¸ í›„ ë‹¤ìŒ ì—´ë¦° ì—°ê²° ìŠ¬ë¡¯ì„ ê°€ì§„ ë‹¤ìŒ ë°±ì—”ë“œë¡œ ë‹¤ì‹œ ë°°ë¶„í•˜ì§€ë§Œ, ì‹¤ì œë¡œ ì‘ì—… ì¤‘ì¸ ë‹¤ë¥¸ ë°±ì—”ë“œëŠ” ì—†ê¸° ë•Œë¬¸ì— ì‹¤íŒ¨í–ˆë˜ ì´ì „ ë°±ì—”ë“œë§Œ ë‹¤ì‹œ ì‹œë„ë©ë‹ˆë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ì¬ì‹œë„ê°€ ë¹ ë¥´ê²Œ ì†Œëª¨ë˜ì–´ ì—°ê²° ì˜¤ë¥˜ê°€ HTML ë Œë”ë§ë³´ë‹¤ ë” ë¹ ë¥´ê²Œ ë°œìƒí•˜ì—¬ ì‹¤íŒ¨í•œ ìš”ì²­ìœ¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤. ì´ ê³¼ì •ì€ ëŒ€ê¸°ì—´ì´ ì™„ì „íˆ ì†Œì§„ë  ë•Œê¹Œì§€ ë‚˜ë¨¸ì§€ ìš”ì²­ì— ê³„ì† ë°˜ë³µë©ë‹ˆë‹¤. ì´ëŠ” ì¢‹ì§€ ì•Šì€ ìƒí™©ì´ì§€ë§Œ, í”„ë¡œì„¸ìŠ¤ ì¶©ëŒì´ ë“œë¬¸ ë°ì—, ì§€ì†ì ì¸ ëŒ€ê¸°ì—´ì´ ë“œë¬¸ ë°ì— (ê³„ì†í•´ì„œ ëŒ€ê¸° ì¤‘ì´ë©´ ê³µê¸‰ì´ ë¶€ì¡±í•œ ê²ƒì…ë‹ˆë‹¤) ê·¸ë¦¬ê³  íŠ¹ì •í•œ ê²½ìš°ì—ëŠ” ì„œë¹„ìŠ¤ ê²€ìƒ‰ì˜ ê±´ê°• ê²€ì‚¬ë¥¼ ë¹ ë¥´ê²Œ ë§ˆí‚¹í•˜ë¯€ë¡œ ì „ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê±´ê°•í•˜ì§€ ì•Šê²Œ í‘œì‹œí•˜ê³  ìƒˆ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ê²Œ ë§Œë“­ë‹ˆë‹¤. ì´ëŠ” ì¢‹ì§€ ì•Šì§€ë§Œ ìœ„í—˜ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤. ë¯¸ë˜ì˜ ì‘ì—…ì€ HAProxy í†µí•©ì„ í†µí•´ ì´ë¥¼ í•´ê²°í•  ìˆ˜ ìˆìœ¼ë©°, ê°ë…ì í”„ë¡œì„¸ìŠ¤ê°€ í”„ë¡œì„¸ìŠ¤ì˜ ì¢…ë£Œë¥¼ ê°ì§€í•˜ê³  haproxy stats ì†Œì¼“ì„ í†µí•´ MAINTë¡œ í‘œì‹œí•  ìˆ˜ ìˆëŠ” ê¹Šì€ HAProxy í†µí•©ì„ í†µí•´ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\në‹¤ë¥¸ ë³€ê²½ ì‚¬í•­ ì¤‘ í•˜ë‚˜ëŠ” Nodeì—ì„œ server.closeê°€ ê¸°ì¡´ ìš”ì²­ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ë§Œ HAProxy ëŒ€ê¸°ì—´ì— ìˆëŠ” ê²ƒì€ ì„œë²„ê°€ ì•„ì§ ë°›ì§€ ì•Šì€ ìš”ì²­ì„ ê¸°ë‹¤ë¦´ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ì‹¤íŒ¨í•  ê²ƒì…ë‹ˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ê°€ ìš”ì²­ì„ ë°›ì§€ ì•ŠëŠ” ì‹œê°„ê³¼ ì„œë²„ ì¬ì‹œì‘ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•˜ëŠ” ì‹œê°„ ì‚¬ì´ì— ì¶©ë¶„í•œ ë“œë ˆì¸ ì‹œê°„ì„ ë³´ì¥í•˜ëŠ” ê²ƒì´ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì´ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼ í•©ë‹ˆë‹¤.\n\në˜í•œ, ëŒ€ë¶€ë¶„ì˜ íŠ¸ë˜í”½ì„ ì²˜ìŒì— ì‚¬ìš© ê°€ëŠ¥í•œ ì›Œì»¤ì— ì§€ì‹œí•˜ëŠ” 'balance first'ë¥¼ ì„¤ì •í•˜ë©´ (ê¸°ë³¸ì ìœ¼ë¡œ worker1ì„ í¬í™”ì‹œí‚¤ëŠ”) ì•±ì˜ ì§€ì—° ì‹œê°„ì´ 'balance static-rr'ë³´ë‹¤ 15% ê°ì†Œí–ˆìŠµë‹ˆë‹¤. ì´ íš¨ê³¼ëŠ” í•©ì„± ë° í”„ë¡œë•ì…˜ ë¡œë“œì—ì„œ ì§€ì†ë˜ì—ˆìœ¼ë©°, ì›œ ì—…ìœ¼ë¡œ ì‰½ê²Œ ì„¤ëª…ë˜ì§€ ì•ŠëŠ” ê²°ê³¼ì˜€ìŠµë‹ˆë‹¤. ì´ëŠ” ë°°í¬ í›„ ëª‡ ì‹œê°„ ë™ì•ˆ ì§€ì†ë˜ì—ˆìŠµë‹ˆë‹¤. ì„±ëŠ¥ì€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ (12ì‹œê°„ ë™ì•ˆ) ì ì  ì•…í™”ë˜ì—ˆì§€ë§Œ, ì•„ë§ˆë„ í•« í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë•Œë¬¸ì´ì—ˆì„ ê²ƒì…ë‹ˆë‹¤. ë˜í•œ, ì°¨ê°€ìš´ í”„ë¡œì„¸ìŠ¤ê°€ ë§¤ìš° ì°¨ê°€ì› ê¸° ë•Œë¬¸ì— íŠ¸ë˜í”½ì˜ ê¸‰ì¦ì—ëŠ” ì ì‘ì´ ëœí–ˆìŠµë‹ˆë‹¤. ì´ì— ëŒ€í•œ ì¢‹ì€ ì„¤ëª…ì„ ì•„ì§ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\n\në§ˆì§€ë§‰ìœ¼ë¡œ, Nodeì˜ server.maxConnections ì„¤ì •ì€ ì—¬ê¸°ì—ì„œ ìœ ìš©í•  ê²ƒìœ¼ë¡œ ë³´ì˜€ì§€ë§Œ (ì ì–´ë„ ì €ì—ê²ŒëŠ” ê·¸ë¬ìŠµë‹ˆë‹¤), ì‹¤ì œë¡œëŠ” ë§ì€ íš¨ìš©ì„±ì„ ì œê³µí•˜ì§€ ì•Šì•˜ìœ¼ë©° ë•Œë•Œë¡œ ì˜¤ë¥˜ë¥¼ ì¼ìœ¼ì¼°ìŠµë‹ˆë‹¤. ì´ ì„¤ì •ì€ ì„œë²„ê°€ maxConnections ì´ìƒì˜ ìƒˆ í•¸ë“¤ì„ ë°›ì§€ ì•Šë„ë¡ í•˜ì—¬ ì œí•œì„ ì´ˆê³¼í•œ ê²ƒì„ í™•ì¸í•œ í›„ ìƒˆ í•¸ë“¤ì„ ë‹«ìŠµë‹ˆë‹¤. ì´ í™•ì¸ì€ JavaScriptì—ì„œ ì ìš©ë˜ë¯€ë¡œ ë¬´í•œ ë£¨í”„ ìƒí™©ì— ëŒ€ë¹„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ (ì´ë²¤íŠ¸ ë£¨í”„ë¡œ ëŒì•„ê°€ë©´ ìš”ì²­ì„ ì˜¬ë°”ë¥´ê²Œ ì¤‘ë‹¨í•©ë‹ˆë‹¤...ê¸°ë‹¤ë ¤). ë˜í•œ ìš”ì²­ì´ ì¤‘ë‹¨ë˜ë©´ì„œ ì •ìƒ ì‘ë™ ì¤‘ì—ë„ ì´ë¡œ ì¸í•œ ì—°ê²° ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìœ¼ë©° ë‹¤ë¥¸ ìš”ì²­ì´ ì—¬ëŸ¬ ê°œ ì‹¤í–‰ ì¤‘ì¸ ì¦ê±°ëŠ” ì—†ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì—°ê²°ì´ ì–¸ì œ ì‹œì‘í•˜ê³  ëë‚˜ëŠ”ì§€ì— ëŒ€í•œ ì•½ê°„ì˜ íƒ€ì´ë° ë¬¸ì œ ë˜ëŠ” haproxyì™€ Node ê°„ì˜ ì˜ê²¬ ì°¨ì´ë¡œ ì˜ì‹¬ë©ë‹ˆë‹¤. ìƒí˜¸ ë°°íƒ€ì  ë³´ì¦ì„ ë³´ìœ í•˜ëŠ” ê²ƒì€ ê°œë°œìê°€ ì‹±ê¸€í†¤ ë˜ëŠ” ë‹¤ë¥¸ ì „ì—­ ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì¢‹ì€ ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” ìµìŠ¤í”„ë ˆìŠ¤ ë¯¸ë“¤ì›¨ì–´ë¡œ í”„ë¡œì„¸ìŠ¤ë³„ ëŒ€ê¸°ì—´ì„ êµ¬í˜„í•¨ìœ¼ë¡œì¨ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì„œë²„ ì¸¡ ë Œë”ë§ì€ ì£¼ë¡œ I/O ì›Œí¬ë¡œë“œì™€ëŠ” ë‹¤ë¥¸ ì‘ì—… ë¶€í•˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ëŠ” ë…¸ë“œ(Node)ê°€ ë›°ì–´ë‚œ ë¶€ë¶„ì…ë‹ˆë‹¤. ì´ìƒì ì¸ ë™ì‘ì˜ ì›ì¸ì„ íŒŒì•…í•¨ìœ¼ë¡œì¨, ìš°ë¦¬ëŠ” ê¸°ì¡´ ìš´ì˜ ê²½í—˜ì´ ìˆëŠ” ì œí’ˆì„ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œì— ëŒ€ì²˜í–ˆìŠµë‹ˆë‹¤.\n\nì—ì–´ë¹„ì•¤ë¹„ì—ì„œëŠ” ì„¸ê³„ì  ìˆ˜ì¤€ì˜ í”„ë¡ íŠ¸ì—”ë“œ ê²½í—˜ êµ¬ì¶•ì— í¬ê²Œ íˆ¬ìí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì„ ì½ëŠ” ê²ƒì´ ì¦ê±°ìš°ì…¨ê³  ì´ê²ƒì´ í¥ë¯¸ë¡œìš´ ë„ì „ì´ë¼ê³  ìƒê°í•˜ì…¨ë‹¤ë©´, ìš°ë¦¬ëŠ” í•­ìƒ ì—­ëŸ‰ ìˆëŠ” í˜¸ê¸°ì‹¬ ë§ì€ ë¶„ë“¤ì„ íŒ€ì— ì´ˆëŒ€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì†Œì‹ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤!\n\nì´ ê²Œì‹œë¬¼ì„ ê²€í† í•˜ê³  ìˆ˜ì •í•´ì¤€ Brian Wolfe, Joe Lencioni, Adam Nearyì—ê²Œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.\n\n## ê°ì£¼\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- ë¹„ë™ê¸° ë Œë”ë§ì˜ ê²½ìš° ì—¬ì „íˆ ìì› ê²½í•©ì´ ë°œìƒí•©ë‹ˆë‹¤. ë¹„ë™ê¸° ë Œë”ë§ì€ í”„ë¡œì„¸ìŠ¤ë‚˜ ë¸Œë¼ìš°ì €ì˜ ì‘ë‹µì„±ì— ì¤‘ì ì„ ë‘ì§€ë§Œ ë³‘ë ¬ ì²˜ë¦¬ë‚˜ ì§€ì—°ì„ í•´ê²°í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ëŠ” ìˆœìˆ˜ ì»´í“¨íŒ… ì‘ì—…ì˜ ê°„ë‹¨í•œ ëª¨ë¸ì— ì´ˆì ì„ ë§ì¶œ ê²ƒì…ë‹ˆë‹¤. IO ë° ì»´í“¨íŒ…ì˜ í˜¼í•©ëœ ì‘ì—…ì—ì„œ ìš”ì²­ ë™ì‹œì„±ì´ ì¦ê°€í•˜ë©´ ì§€ì—° ì‹œê°„ì´ ì¦ê°€í•˜ì§€ë§Œ ë” ë†’ì€ ì²˜ë¦¬ëŸ‰ì„ ì–»ì„ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.\n- ìœ ë‹ˆì½˜ ì›¹ ì„œë²„ì—ì„œ ì˜ê°ì„ ë°›ì•„ ìš°ë¦¬ì˜ Rails ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì œê³µí•˜ëŠ” ë° ì‚¬ìš©í•©ë‹ˆë‹¤. ìœ ë‹ˆì½˜ ì² í•™ì€ íŠ¹íˆ ì˜ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n- ëŒ€ë¶€ë¶„ì€ ë°˜ì‘ì´ ì—†ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ìš°íšŒí•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤.\n- í´ëŸ¬ìŠ¤í„°ëŠ” ìš”ì²­ì´ ì•„ë‹ˆë¼ ì—°ê²°ì„ ë¶„ë°°í•˜ë¯€ë¡œ ì˜ˆê¸°ì¹˜ ì•Šì€ ë™ì‘ì„ í•˜ë©°, íŠ¹íˆ ì§€ì†ì ì¸ ì—°ê²°ì„ ì‚¬ìš©í•  ë•Œ ë” ë‚˜ë¹ ì§‘ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„°ì˜ ì§€ì†ì ì¸ ì—°ê²°ì€ íŠ¹ì •í•œ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ì— ë°”ì¸ë”©ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ë¶„ë°°í•˜ê¸°ê°€ ë” ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.","ogImage":{"url":"/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_0.png"},"coverImage":"/assets/img/2024-06-19-OperationalizingNodejsforServerSideRendering_0.png","tag":["Tech"],"readingTime":15},{"title":"GraphQL ì´í•´í•˜ê¸° íš¨ê³¼ì ì¸ ì‚¬ìš©, ì¥ë‹¨ì  ë° TypeScriptì™€ Nodejsë¡œ êµ¬í˜„í•œ ì‹¤ìš©ì ì¸ ì‚¬ë¡€","description":"","date":"2024-06-19 23:06","slug":"2024-06-19-UnderstandingGraphQLEffectivenessProsandConsandaPracticalUseCasewithTypeScriptandNodejs","content":"\n\nAPIì— ëŒ€í•œ ì¿¼ë¦¬ ì–¸ì–´ì¸ GraphQLì€ ë°ì´í„° ìš”ì²­ì„ ê´€ë¦¬í•˜ëŠ” íš¨ìœ¨ì„±ê³¼ ìœ ì—°ì„±ìœ¼ë¡œ ê°œë°œìë“¤ ì‚¬ì´ì—ì„œ ê¸‰ì†íˆ ì¸ê¸°ë¥¼ ì–»ê³  ìˆì–´ìš”. 2012ë…„ Facebookì—ì„œ ê°œë°œë˜ì–´ 2015ë…„ì— ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ë¡œ ê³µê°œëœ GraphQLì€ RESTì— ëŒ€í•œ íš¨ìœ¨ì ì´ê³  ê°•ë ¥í•˜ë©° ìœ ì—°í•œ ëŒ€ì•ˆì„ ì œê³µí•´ìš”. ì´ ê¸€ì—ì„œëŠ” GraphQLì˜ íš¨ê³¼ë¥¼ íƒêµ¬í•˜ê³ , ì¥ë‹¨ì ì„ ì‚´í´ë³´ê³ , TypeScriptì™€ Node.jsë¥¼ ì‚¬ìš©í•œ êµ¬ì²´ì ì¸ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì œì‹œí•  ê±°ì—ìš”.\n\nGraphQLì˜ íš¨ê³¼\n\nGraphQLì˜ íš¨ê³¼ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì •í™•íˆ í•„ìš”í•œ ë°ì´í„°ë§Œ ìš”ì²­í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì— ìˆì–´ìš”. ì´ëŠ” ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ ì „ì†¡ë˜ëŠ” ë°ì´í„° ì–‘ì„ ì¤„ì´ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì„ ìµœì í™”í•´ìš”. ë‹¤ìŒì€ ì´ íš¨ê³¼ë¥¼ ì¦ì§„ì‹œí‚¤ëŠ” ëª‡ ê°€ì§€ ì£¼ìš” ê¸°ëŠ¥ë“¤ì´ì—ìš”:\n\n1. ì •í™•í•œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nGraphQLì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ì‘ë‹µ êµ¬ì¡°ë¥¼ ì§€ì •í•˜ì—¬ í•„ìš”í•œ ë°ì´í„°ë§Œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê³¼ë‹¤ ê²€ìƒ‰(í•„ìš” ì´ìƒì˜ ë°ì´í„° ê²€ìƒ‰) ë° ë¶€ì¡± ê²€ìƒ‰(ì¶©ë¶„í•˜ì§€ ì•Šì€ ë°ì´í„° ê²€ìƒ‰)ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n2. ë‹¨ì¼ ì—”ë“œí¬ì¸íŠ¸\n\nRESTì™€ ë‹¬ë¦¬ ë°ì´í„°ë¥¼ ìœ„í•´ ì—¬ëŸ¬ ì—”ë“œí¬ì¸íŠ¸ê°€ í•„ìš”í•œ ê²½ìš°ê°€ ë§ì€ë°, GraphQLì€ ë‹¤ì–‘í•œ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ ë‹¨ì¼ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ëŠ” APIë¥¼ ë‹¨ìˆœí™”í•˜ê³  ì—¬ëŸ¬ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ë³µì¡ì„±ì„ ì¤„ì—¬ì¤ë‹ˆë‹¤.\n\n3. ê°•ë ¥í•œ ìœ í˜• ì§€ì • ìŠ¤í‚¤ë§ˆ\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nGraphQL APIëŠ” ê°•ë ¥í•œ ìœ í˜• ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤í‚¤ë§ˆë¡œ ì •ì˜ë©ë‹ˆë‹¤. ì´ ìŠ¤í‚¤ë§ˆëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ê³„ì•½ ì—­í• ì„ í•˜ë©° APIì™€ ìƒí˜¸ ì‘ìš©í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.\n\n4. êµ¬ë…ì„ í†µí•œ ì‹¤ì‹œê°„ ë°ì´í„°\n\nGraphQLì€ êµ¬ë…ì„ í†µí•´ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ì§€ì›í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì—ì„œ íŠ¹ì • ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì—…ë°ì´íŠ¸ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ëŠ” ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ ë“±ì´ íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.\n\nGraphQLì˜ ì¥ë‹¨ì \n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nGraphQLì€ ë§ì€ ì´ì ì„ ì œê³µí•˜ì§€ë§Œ ì¼ë¶€ ë„ì „ ê³¼ì œë„ í•¨ê»˜ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ì ê³¼ ë‹¨ì ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\nì¥ì \n\n- íš¨ìœ¨ì ì¸ ë°ì´í„°ë¡œë”©: í´ë¼ì´ì–¸íŠ¸ëŠ” í•„ìš”í•œ ê²ƒë§Œ ìš”ì²­í•  ìˆ˜ ìˆì–´ ëŒ€ì—­í­ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ê³  ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- ìœ ì—°ì„±: GraphQLì€ ë²„ì „ ê´€ë¦¬ ì—†ì´ ë°œì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ìƒˆë¡œìš´ í•„ë“œì™€ íƒ€ì…ì„ ì¿¼ë¦¬í•  ìˆ˜ ìˆìœ¼ë©° ìƒˆë¡œìš´ API ë²„ì „ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nâ€¢ ê°•ë ¥í•œ ìœ í˜•: ìŠ¤í‚¤ë§ˆëŠ” ë°ì´í„° ìœ í˜•ì„ ê°•ì œí•˜ë¯€ë¡œ ì˜¤ë¥˜ë¥¼ ì¤„ì´ê³  APIê°€ ë” ì˜ˆì¸¡ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.\n\nâ€¢ ì¸íŠ¸ë¡œìŠ¤í™ì…˜: GraphQL APIëŠ” ì¸íŠ¸ë¡œìŠ¤í™ì…˜í•  ìˆ˜ ìˆì–´ì„œ ë„êµ¬ê°€ ìë™ìœ¼ë¡œ ë¬¸ì„œì™€ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nâ€¢ ê°œë°œì ê²½í—˜: GraphiQL ë° Apollo Clientì™€ ê°™ì€ ë„êµ¬ëŠ” ì‹¤ì‹œê°„ ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸ ë° ìºì‹±ê³¼ ê°™ì€ ê¸°ëŠ¥ìœ¼ë¡œ ê°œë°œ ê²½í—˜ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.\n\në‹¨ì :\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nâ€¢ ë³µì¡ì„±: GraphQLì˜ ìœ ì—°ì„±ìœ¼ë¡œ ì¸í•´ ë³µì¡í•œ ì¿¼ë¦¬ì™€ ì„œë²„ ì¸¡ ë¦¬ì¡¸ë²„ì˜ ë³µì¡ì„±ì´ ì¦ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nâ€¢ í•™ìŠµ ê³¡ì„ : RESTì— ìµìˆ™í•œ ê°œë°œìë“¤ì€ GraphQLë¡œ ì „í™˜í•  ë•Œ í•™ìŠµ ê³¡ì„ ì— ì§ë©´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nâ€¢ ì„±ëŠ¥: ìµœì í™”ë˜ì§€ ì•Šì€ GraphQL ì¿¼ë¦¬ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì•¡ì„¸ìŠ¤ì˜ N+1 ë¬¸ì œì™€ ê°™ì€ ì„±ëŠ¥ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nâ€¢ ìºì‹± ë„ì „: ì „í†µì ì¸ HTTP ìºì‹± ì „ëµì€ GraphQLì—ì„œ ëœ íš¨ê³¼ì ì´ë©°, ë” ì •êµí•œ ìºì‹± ë©”ì»¤ë‹ˆì¦˜ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì‹¤ìš© ì‚¬ë¡€: TypeScriptì™€ Node.jsë¡œ GraphQL API êµ¬ì¶•í•˜ê¸°\n\nGraphQLì˜ ì‹¤ìš©ì ì¸ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ TypeScriptì™€ Node.jsë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ GraphQL APIë¥¼ êµ¬ì¶•í•  ê²ƒì…ë‹ˆë‹¤. ì´ APIëŠ” ì±…ê³¼ ì €ì ëª©ë¡ì„ ê´€ë¦¬í•  ê²ƒì…ë‹ˆë‹¤.\n\ní”„ë¡œì íŠ¸ ì„¤ì •\n\në¨¼ì €, ìƒˆë¡œìš´ Node.js í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ì„¸ìš”:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nmkdir graphql-api\ncd graphql-api\nnpm init -y\nnpm install express express-graphql graphql typescript ts-node @types/node @types/express\n```\n\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ êµ¬ì„±ì„ ìœ„í•œ tsconfig.json íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”:\n\n```js\nimport { buildSchema } from 'graphql';\n\nconst schema = buildSchema(`\n  type Query {\n    books: [Book]\n    authors: [Author]\n  }\n\n  type Book {\n    id: ID!\n    title: String!\n    author: Author!\n  }\n\n  type Author {\n    id: ID!\n    name: String!\n    books: [Book]\n  }\n`);\n\nexport default schema;\n```\n\në¦¬ì¡¸ë²„ ìƒì„±í•˜ê¸°\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\ninterface Book {\n  id: string;\n  title: string;\n  authorId: string;\n}\n\ninterface Author {\n  id: string;\n  name: string;\n}\n\nconst books: Book[] = [\n  { id: '1', title: '1984', authorId: '1' },\n  { id: '2', title: 'Brave New World', authorId: '2' },\n];\n\nconst authors: Author[] = [\n  { id: '1', name: 'George Orwell' },\n  { id: '2', name: 'Aldous Huxley' },\n];\n\nconst resolvers = {\n  books: () =\u003e books,\n  authors: () =\u003e authors,\n};\n\nexport default resolvers;\n```          \n\nì„œë²„ ì„¤ì •í•˜ê¸°\n\nExpress ì„œë²„ë¥¼ GraphQLê³¼ í•¨ê»˜ ì„¤ì •í•˜ê¸° ìœ„í•´ index.ts íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport express from 'express';\nimport { graphqlHTTP } from 'express-graphql';\nimport schema from './schema';\nimport resolvers from './resolvers';\n\nconst app = express();\n\napp.use('/graphql', graphqlHTTP({\n  schema: schema,\n  rootValue: resolvers,\n  graphiql: true,\n}));\n\napp.listen(4000, () =\u003e console.log('ì„œë²„ê°€ http://localhost:4000/graphql ì£¼ì†Œì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.'));\n```\n\nì„œë²„ ì‹¤í–‰\n\nì„œë²„ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ TypeScript ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ê³  ì„œë²„ë¥¼ ì‹œì‘í•˜ë©´ ë©ë‹ˆë‹¤:\n\n```js\nnpx tsc\nnode dist/index.js\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ì œ http://localhost:4000/graphqlì— ë°©ë¬¸í•˜ì—¬ GraphiQLì„ ì‚¬ìš©í•˜ì—¬ GraphQL APIì™€ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆì–´ìš”.\n\nì˜ˆì‹œ ì¿¼ë¦¬\n\nëª¨ë“  ì±…ê³¼ ì €ìë¥¼ ì¿¼ë¦¬í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\n{\n  books {\n    id\n    title\n    author {\n      name\n    }\n  }\n}\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì•„ë‹ˆë©´ ëª¨ë“  ì‘ê°€ì™€ ê·¸ë“¤ì˜ ì±…ë“¤ì„ ì¡°íšŒí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:\n\n```js\n{\n  authors {\n    id\n    name\n    books {\n      title\n    }\n  }\n}\n```\n\nê²°ë¡ \n\nGraphQLì€ API ë””ìì¸ì— ê°•ë ¥í•˜ê³  ìœ ì—°í•œ ì ‘ê·¼ ë°©ì‹ì„ ì œê³µí•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì •í™•íˆ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³µì¡ì„± ë° ìºì‹± ë¬¸ì œì™€ ê°™ì€ ë„ì „ ê³¼ì œê°€ ìˆì§€ë§Œ, ì´ëŸ¬í•œ ë‹¨ì ì„ ëŠ¥ê°€í•˜ëŠ” ì´ì ì´ ë§ìŠµë‹ˆë‹¤. TypeScriptì™€ Node.jsë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë°œìëŠ” GraphQLì„ í™œìš©í•˜ì—¬ íš¨ìœ¨ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•˜ë©° ê²¬ê³ í•œ APIë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìœ¼ë©° ê°œë°œì ê²½í—˜ê³¼ ì‘ìš© í”„ë¡œê·¸ë¨ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nFynd Node.js.","ogImage":{"url":"/assets/img/2024-06-19-UnderstandingGraphQLEffectivenessProsandConsandaPracticalUseCasewithTypeScriptandNodejs_0.png"},"coverImage":"/assets/img/2024-06-19-UnderstandingGraphQLEffectivenessProsandConsandaPracticalUseCasewithTypeScriptandNodejs_0.png","tag":["Tech"],"readingTime":5},{"title":"NodeJS ì‘ë™ ë°©ì‹ ë’·ë‹´í™”ë¶€í„° ì „ë‹¬í•©ë‹ˆë‹¤","description":"","date":"2024-06-19 23:05","slug":"2024-06-19-HowNodeJSWorksBehindtheScenes","content":"\n\n\n![How Node.js Works Behind the Scenes](/assets/img/2024-06-19-HowNodeJSWorksBehindtheScenes_0.png)\n\nNode.jsëŠ” Googleì˜ ì˜¤í”ˆ ì†ŒìŠ¤ V8 JavaScript ì—”ì§„ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ JavaScript ëŸ°íƒ€ì„ì…ë‹ˆë‹¤. ë˜í•œ ì›¹ ì„œë²„ë¡œ ì‚¬ìš©í•˜ê¸°ì— ì´ìƒì ì´ë©°, ì„œë²„ ì¸¡ ì›¹ ê°œë°œì— JavaScriptë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¥ì ì„ ì œê³µí•©ë‹ˆë‹¤. Node.jsëŠ” V8 JavaScript ì—”ì§„ê³¼ ëŸ°íƒ€ì„ í™˜ê²½ ë‚´ì˜ Libuvì™€ ê°™ì€ ëª‡ ê°€ì§€ í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜ì¡´í•©ë‹ˆë‹¤.\n\n- V8 ì—”ì§„ì€ JavaScript ì½”ë“œë¥¼ ì»´í“¨í„°ê°€ ì‹¤ì œë¡œ ì´í•´í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ ì½”ë“œë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\n- LibuvëŠ” ë¹„ë™ê¸° I/Oì— ê°•ì ì„ ê°€ì§„ ì˜¤í”ˆ ì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì´ ë ˆì´ì–´ë¥¼ í†µí•´ NodeëŠ” ê¸°ë³¸ ì»´í“¨í„° ìš´ì˜ ì²´ì œ, íŒŒì¼ ì‹œìŠ¤í…œ, ë„¤íŠ¸ì›Œí‚¹ ë“±ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ì–»ìŠµë‹ˆë‹¤. ë˜í•œ libuvëŠ” Node.jsì˜ ë‘ ê°€ì§€ ë§¤ìš° ì¤‘ìš”í•œ ê¸°ëŠ¥ì¸ ì´ë²¤íŠ¸ ë£¨í”„ì™€ ìŠ¤ë ˆë“œ í’€ë„ êµ¬í˜„í•©ë‹ˆë‹¤.\n\n# ìŠ¤ë ˆë“œ í’€\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì»´í“¨í„°ì—ì„œ Nodeë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” í•´ë‹¹ ì»´í““ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œê·¸ë¨ì„ ë‚˜íƒ€ë‚´ëŠ” Node í”„ë¡œì„¸ìŠ¤ê°€ ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ Node.jsëŠ” ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ ì‘ë™í•©ë‹ˆë‹¤. ì´ëŠ” Node ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ë•Œ í•´ë‹¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. \n\n- í”„ë¡œê·¸ë¨ì´ ì´ˆê¸°í™”ë  ë•Œ ëª¨ë“  ìµœìƒìœ„ ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ”ë°, ì´ëŠ” ì–´ë– í•œ ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì— ìˆì§€ ì•Šì€ ëª¨ë“  ì½”ë“œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\n- ì¶”ê°€ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì— í•„ìš”í•œ ëª¨ë“  ëª¨ë“ˆì´ ë¡œë“œë˜ê³ , ëª¨ë“  ì½œë°±ì´ ë“±ë¡ë©ë‹ˆë‹¤.\n- ê·¸ ë‹¤ìŒ, ì´ë²¤íŠ¸ ë£¨í”„ê°€ ë§ˆì¹¨ë‚´ ì‹¤í–‰ì„ ì‹œì‘í•©ë‹ˆë‹¤.\n\níŒŒì¼ ì‹œìŠ¤í…œ API, ì•”í˜¸í™”, ì••ì¶• ë° DNS ì¡°íšŒì™€ ê°™ì€ ì¼ë¶€ ì‘ì—…ì€ ì´ë²¤íŠ¸ ë£¨í”„ ë‚´ì—ì„œ ì‹¤í–‰í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ë§ì€ ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í•˜ê±°ë‚˜ ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ì‘ì—…ì´ë¯€ë¡œ ë‹¨ì¼ ìŠ¤ë ˆë“œë¥¼ ì°¨ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ìŠ¤ë ˆë“œ í’€ì´ í•„ìš”í•œ ì´ìœ ì…ë‹ˆë‹¤. ì´ ìŠ¤ë ˆë“œ í’€ì€ ì´ë²¤íŠ¸ ë£¨í”„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ Node.JSì— Libuv ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì œê³µë©ë‹ˆë‹¤.\n\n- ìŠ¤ë ˆë“œ í’€ì€ ë©”ì¸ ë‹¨ì¼ ìŠ¤ë ˆë“œì™€ ì™„ì „íˆ ë¶„ë¦¬ëœ 4ê°œì˜ ì¶”ê°€ ìŠ¤ë ˆë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n- Node.jsë¥¼ ìµœëŒ€ 128ê°œì˜ ìŠ¤ë ˆë“œê¹Œì§€ ì‚¬ìš©í•˜ë„ë¡ êµ¬ì„±í•  ìˆ˜ ìˆì§€ë§Œ, ëŒ€ê°œ 4ê°œì˜ ìŠ¤ë ˆë“œë§Œìœ¼ë¡œ ëŒ€ë¶€ë¶„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì¶©ë¶„í•©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ê¸°ë³¸ ìŠ¤ë ˆë“œ í’€ í¬ê¸° 4ë¥¼ ë‹¤ë¥¸ ìˆ«ìë¡œ ë³€ê²½í•˜ëŠ” ë°©ë²•ì€ ë¬´ì—‡ì¼ê¹Œìš”?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nprocess.env.UV_THREADPOOL_SIZE = 1;\n```\n\n- ê·¸ëŸ° ë‹¤ìŒ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë¬´ê±°ìš´ ì‘ì—…ì„ ìŠ¤ë ˆë“œ í’€ë¡œ ìë™ìœ¼ë¡œ ì˜¤í”„ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ëª¨ë“  ê²ƒì€ ìë™ìœ¼ë¡œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë°œìƒí•©ë‹ˆë‹¤.\n- ê°œë°œìëŠ” ìŠ¤ë ˆë“œ í’€ì— í• ë‹¹í•  í•­ëª©ì„ ê²°ì •í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\n\n# ì´ë²¤íŠ¸ ë£¨í”„\n\nNode.jsì—ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ì¤‘ìš”í•œ ì‚¬ê±´ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ëª…ëª…ëœ ì´ë²¤íŠ¸ë¥¼ ë°©ì¶œí•˜ëŠ” ì´ë²¤íŠ¸ ë°œìƒìë¼ëŠ” íŠ¹ì • ê°œì²´ê°€ ìˆìŠµë‹ˆë‹¤. ì´ ì‚¬ê±´ì—ëŠ” ì„œë²„ì— ìš”ì²­ì´ ë„ì°©í•˜ê±°ë‚˜ íƒ€ì´ë¨¸ê°€ ë§Œë£Œë˜ê±°ë‚˜ íŒŒì¼ì´ ì½ê¸° ì‘ì—…ì„ ì™„ë£Œí•˜ëŠ” ë“±ì˜ ì¤‘ìš”í•œ ì¼ì´ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì´ë²¤íŠ¸ëŠ” ê°œë°œìê°€ ì„¤ì •í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— ì˜í•´ ìˆ˜ì§‘ë˜ë©°, ê° ë¦¬ìŠ¤ë„ˆì— ì²¨ë¶€ëœ ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nconst server = http.createServer(); server.on('request',(req,res) =\u003e { res.end('Request received'); });\n```\n\n- ì„œë²„ë¥¼ ìƒì„±í•˜ë ¤ë©´ createServer() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê³  ì„œë²„ ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.\n- server.on ë©”ì„œë“œëŠ” \"request\" ì´ë²¤íŠ¸ë¥¼ ìœ„í•´ ë¦¬ìŠ¤ë„ˆë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n- ì„œë²„ëŠ” ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ë°œì‹ ì ì—­í• ì„ í•˜ë©° ìš”ì²­ì´ ì„œë²„ì— ë„ë‹¬í•  ë•Œë§ˆë‹¤ \"request\" ì´ë²¤íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ë°œìƒì‹œí‚µë‹ˆë‹¤.\n- ì´ ë¦¬ìŠ¤ë„ˆì— ì—°ê²°ëœ ì½œë°± í•¨ìˆ˜ëŠ” ìë™ìœ¼ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤.\n- í•¨ìˆ˜ëŠ” ê·¸ëŸ° ë‹¤ìŒ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë‹¤ì‹œ ë³´ëƒ…ë‹ˆë‹¤.\n\nJavaScript í”„ë¡œê·¸ë˜ë°ì—ì„œ ì´ë²¤íŠ¸ ë°œìƒì ë…¼ë¦¬ëŠ” ê´€ì°°ì íŒ¨í„´ì´ë¼ê³  í•©ë‹ˆë‹¤. ê²°ë¡ ì ìœ¼ë¡œ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ì½œë°± ì‹¤í–‰ ë° ë„¤íŠ¸ì›Œí‚¹ I/Oì™€ ê°™ì€ ê°„ë‹¨í•œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ë‹´ë‹¹í•˜ë©°, ìŠ¤ë ˆë“œ í’€ì€ íŒŒì¼ ì•¡ì„¸ìŠ¤ë‚˜ ì••ì¶•ê³¼ ê°™ì€ ë” ë§ì€ ì‘ì—…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.","ogImage":{"url":"/assets/img/2024-06-19-HowNodeJSWorksBehindtheScenes_0.png"},"coverImage":"/assets/img/2024-06-19-HowNodeJSWorksBehindtheScenes_0.png","tag":["Tech"],"readingTime":3},{"title":"ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ this í‚¤ì›Œë“œ ì„¤ëª… ë° í•´ì„í•˜ê¸°","description":"","date":"2024-06-19 23:03","slug":"2024-06-19-JavaScriptsthiskeywordexplainedanddemystified","content":"\n\n\u003cimg src=\"/assets/img/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified_0.png\" /\u003e\n\n\"this\" í‚¤ì›Œë“œëŠ” ì–‘ë‚ ì˜ ê²€ì´ì—ìš”. ë³µì¡í•œ ì˜¤ë¥˜ì˜ ì›ì¸ì´ ë  ìˆ˜ë„ ìˆê³ , ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì•Œë©´ ê°œë°œìë¡œì„œ ì—¬ëŸ¬ë¶„ì—ê²Œ ì‚¶ì„ ì‰½ê²Œ ë§Œë“¤ì–´ ì¤„ ìˆ˜ë„ ìˆì–´ìš”. ìš”ì¦˜ì—ëŠ” ì»¤ë®¤ë‹ˆí‹°ê°€ ì–¸ì–´ë¥¼ ë” í•¨ìˆ˜í˜• íŒ¨ëŸ¬ë‹¤ì„ìœ¼ë¡œ ë°€ê³  ìˆì–´ìš”. \"this\" í‚¤ì›Œë“œë¥¼ ê·¸ë ‡ê²Œ ë§ì´ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šì•„ìš”. ê·¸ëŸ°ë° ì—¬ì „íˆ ë¬¸ë§¥ì— ë”°ë¼ ì˜ë¯¸ê°€ ë‹¬ë¼ í˜¼ë€ìŠ¤ëŸ¬ìš¸ ìˆ˜ ìˆì–´ìš”. ê·¸ë˜ì„œ ì´ ê¸€ì—ì„œëŠ” \"this\" í‚¤ì›Œë“œë¥¼ ì„¤ëª…í•´ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì˜ ì´í•´í•˜ë„ë¡ ë„ì™€ë“œë¦´ê²Œìš”.\n\n# ì†Œê°œ\n\nì´ ê¸€ì€ ëª¨ë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°œë°œìë¥¼ ìœ„í•œ ê²ƒì…ë‹ˆë‹¤. ë‹¤ìŒì„ ë°°ìš¸ ìˆ˜ ìˆì„ ê±°ì—ìš”:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ this í‚¤ì›Œë“œë€ ë¬´ì—‡ì¸ê°€ìš”?\n- ë…¸ë“œì—ì„œ this í‚¤ì›Œë“œê°€ ë‚˜íƒ€ë‚´ëŠ” ë°”ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n- ì „ì—­ ë° í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì—ì„œ this í‚¤ì›Œë“œê°€ ì–´ë–»ê²Œ ê²°ì •ë˜ë‚˜ìš”?\n- í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²• ë° ì´ì™€ thisì˜ ê´€ê³„\n- call() ë° apply() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ thisì˜ ê°’ì„ ì œì–´í•˜ëŠ” ë°©ë²•\n- bind() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•\n- í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ thisê°€ ë™ì‘í•˜ëŠ” ë°©ì‹\n\n# this í‚¤ì›Œë“œë€ ë¬´ì—‡ì¸ê°€\n\nthis í‚¤ì›Œë“œëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ê°ì²´ ì°¸ì¡°ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜ì…ë‹ˆë‹¤. this í‚¤ì›Œë“œê°€ ì°¸ì¡°í•˜ê±°ë‚˜ ê°€ë¦¬í‚¤ëŠ” ê°ì²´ëŠ” ì‚¬ìš©ëœ ì»¨í…ìŠ¤íŠ¸ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ê°œë…ì ìœ¼ë¡œ, thisëŠ” ì˜ì–´ ë¬¸ë²•ì˜ ëŒ€ëª…ì‚¬ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤. ëŒ€ëª…ì‚¬ê°€ ëª…ì‚¬ë¥¼ ì°¸ì¡°í•˜ëŠ” ë°©ì‹ì²˜ëŸ¼ thisëŠ” ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´: â€œMary is running fast because she is trying to catch the bus.â€\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ êµ¬ë¬¸ì—ì„œëŠ” ëŒ€ëª…ì‚¬ \"she\"ê°€ ì„ í–‰ì‚¬ \"Mary\"ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ê°œë…ì„ JavaScriptì˜ this í‚¤ì›Œë“œì™€ ì—°ê´€ì‹œì¼œë³´ê² ìŠµë‹ˆë‹¤.\n\n```js\nconst person = { name: \"Mary\",\n                 pronoun: \"she\", \n                 Activity: function () { // this = person\n                     console.log(`${person.name} is running fast because ${this.pronoun} is trying to catch the bus`);\n                 } \n               }\nperson.Activity(); // Mary is running fast because she is trying to catch the bus\n```\n\nìœ„ ì½”ë“œì—ì„œ thisëŠ” person ê°ì²´ì˜ ì°¸ì¡°ê°’ìœ¼ë¡œ ì‚¬ìš©ë˜ë©°, ë§ˆì¹˜ ëŒ€ëª…ì‚¬ \"she\"ê°€ \"Mary\"ë¥¼ ê°€ë¦¬í‚¤ëŠ” ê²ƒì²˜ëŸ¼ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n# thisì˜ ê°’ì€ ì–´ë–»ê²Œ ê²°ì •ë©ë‹ˆê¹Œ?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n`table` íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nê¸€ë¡œë²Œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì—ì„œ this í‚¤ì›Œë“œëŠ” ì›¹ ë¸Œë¼ìš°ì €ì˜ ì°½ ê°ì²´ì¸ ê¸€ë¡œë²Œ ê°ì²´ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.\n\n```js\nconsole.log(window === this ) // true this.color = 'Green' console.log(window.color) // Green\n```\n\nìœ„ ì½”ë“œì—ì„œëŠ” this í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì—­ window ê°ì²´ì— ì†ì„±ì„ ì¶”ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nì°¸ê³ : ì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì—ì„œëŠ” JavaScriptê°€ strict mode ì¸ì§€ ì•„ë‹Œì§€ì— ìƒê´€ì—†ì´ this í‚¤ì›Œë“œê°€ í•­ìƒ ê¸€ë¡œë²Œ ê°ì²´ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## Node.jsì—ì„œì˜ 'this' í‚¤ì›Œë“œ\n\nNode.js ë¬¸ì„œì— ë”°ë¥´ë©´,\n\nìœ„ ë¬¸ì¥ì˜ ì˜ë¯¸ëŠ” 'this' í‚¤ì›Œë“œê°€ Node.jsì—ì„œ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ëŒ€ì‹ , í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ëª¨ë“ˆì„ ê°€ë¦¬í‚¨ë‹¤ëŠ”ë°ìš”. ì¦‰, module.exportsë¥¼ í†µí•´ ë‚´ë³´ë‚¸ ê°ì²´ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, ê°€ìƒì˜ ëª¨ë“ˆì¸ app.jsë¥¼ ì‚´í´ë´…ì‹œë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nâ”£ ğŸ“„ app.js \nconsole.log(this); \nmodule.exports.color = 'Green'; \nconsole.log(this);\n```\n\noutput:\n\n```js\nâ”£ $ node app.js \n{} \n{color: 'Green'}\n```\n\n![JavaScript this keyword explained and demystified](/assets/img/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified_1.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nìœ„ì˜ ì½”ë“œì—ì„œ ë¨¼ì € app.js ëª¨ë“ˆì— module.exportsì— ê°’ì´ ì—†ê¸° ë•Œë¬¸ì— ë¹ˆ ê°ì²´ê°€ ë¡œê¹…ë©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ color ì†ì„±ì´ module.exports ê°ì²´ì— ì¶”ê°€ë˜ê³ , ì´ë¥¼ ë‹¤ì‹œ ë¡œê¹…í•˜ë©´ ì—…ë°ì´íŠ¸ëœ module.exports ê°ì²´ê°€ ë°˜í™˜ë˜ì–´ color ì†ì„±ì´ í¬í•¨ë©ë‹ˆë‹¤.\n\n## ë…¸ë“œ(Node)ì—ì„œ ì „ì—­ ê°ì²´ì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ë°©ë²•\n\nì´ì œ ìš°ë¦¬ëŠ” ë¸Œë¼ìš°ì €ì™€ ë‹¬ë¦¬ ë…¸ë“œì—ì„œëŠ” this í‚¤ì›Œë“œê°€ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ìŠµë‹ˆë‹¤. ë…¸ë“œì—ì„œëŠ” ì „ì—­ ê°ì²´ì— global í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì•¡ì„¸ìŠ¤í•˜ë©°, ì „ì—­ í‚¤ì›Œë“œê°€ ì‚¬ìš©ëœ ìœ„ì¹˜ì™€ ê´€ê³„ì—†ì´ ì „ì—­ ê°ì²´ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nâ”£ ğŸ“„ app.js console.log(global);\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì¶œë ¥:\n\n```js\nâ”£ $ node app.js // ë…¸ë“œ ê¸€ë¡œë²Œ ê°ì²´ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.\n```\n\n\u003cimg src=\"/assets/img/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified_2.png\" /\u003e\n\nê¸€ë¡œë²Œ ê°ì²´ëŠ” ë…¸ë“œ í™˜ê²½ì— ëŒ€í•œ ì—¬ëŸ¬ ìœ ìš©í•œ ì†ì„±ì„ ë…¸ì¶œí•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸\n\ní•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì—ì„œ this í‚¤ì›Œë“œê°€ ì–´ë–»ê²Œ ê²°ì •ë˜ëŠ”ì§€ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë°©ì‹ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.\n\nìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ëŠ” ë„¤ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ í˜¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n- í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ\n- ë©”ì†Œë“œë¡œì„œ í˜¸ì¶œ\n- ìƒì„±ìë¡œì„œ í˜¸ì¶œ\n- apply ë° call ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ì¶œ\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ(ì¦‰, í•¨ìˆ˜ê°€ () ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ì¶œë  ë•Œ) thisëŠ” ë¹„ì—„ê²© ëª¨ë“œì—ì„œ ì „ì—­ ì°½ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê³  ì—„ê²© ëª¨ë“œì—ì„œëŠ” undefinedë¡œ ì„¤ì •ë©ë‹ˆë‹¤.\n\nì˜ˆì‹œ\n\n```js\nfunction A() { console.log(this === window) // true }\nfunction B() { \"use strict\" console.log(this === window) // false } function C() { \"use strict\" console.log(this === undefined) // true}\n\nA(); // true\nB(); // false\nC(); // true\n```\n\ní•¨ìˆ˜ê°€ ë©”ì†Œë“œë¡œ í˜¸ì¶œë  ë•Œ(ì¦‰, ê°ì²´ ì†ì„±ì„ í†µí•´), thisëŠ” ë©”ì†Œë“œì˜ \"ì†Œìœ \" ê°ì²´ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì˜ˆì‹œ\n\n```js\nlet Nigeria = { continent: 'Africa', getContinent: function () { return this.continent; } } \nconsole.log(Nigeria.getContinent()); // Africa\n```\n\ní•¨ìˆ˜ë¥¼ ìƒì„±ìë¡œ í˜¸ì¶œí•˜ë ¤ë©´ í•¨ìˆ˜ í˜¸ì¶œ ì•ì— new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\nì˜ˆì‹œ\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nfunction Context() {return this; } \nnew Context();\n```\n\ní•¨ìˆ˜ê°€ ìƒì„±ìë¡œ í˜¸ì¶œë  ë•Œ(new ì—°ì‚°ìë¥¼ í†µí•´) ëª‡ ê°€ì§€ íŠ¹ë³„í•œ ë™ì‘ì´ ë°œìƒí•©ë‹ˆë‹¤:\n\n- ìƒˆë¡œìš´ ë¹„ì–´ìˆëŠ” ê°ì²´ê°€ ìƒì„±ë©ë‹ˆë‹¤.\n- ì´ ê°ì²´ê°€ ìƒì„±ìì— this ì°¸ì¡° ê°ì²´ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. ì¦‰, í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ thisê°€ ê°€ë¦¬í‚¤ëŠ” ê°ì²´ì…ë‹ˆë‹¤.\n- ìƒˆë¡œ ìƒì„±ëœ ê°ì²´ê°€ new ì—°ì‚°ìì˜ ê°’ìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.\n\nì˜ˆì œ\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nfunction Person() { this.name = 'Mary', this.age = 20 }\nconst person1 = new Person(); \nconsole.log(person1.age) // 20\n```\n\n![Reference Image](/assets/img/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified_3.png)\n\nìœ„ ì½”ë“œì™€ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œëŠ” í•¨ìˆ˜ê°€ ìƒì„±ìë¡œ í˜¸ì¶œë  ë•Œ thisê°€ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ê³  ì„¤ëª…í•©ë‹ˆë‹¤.\n\nnew ì—°ì‚°ì ì—†ì´ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë ¤ê³  í•˜ë©´ thisëŠ” ê°ì²´ê°€ ì•„ë‹ˆë¼ undefinedë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì˜ˆì‹œ\n\n```js\nfunction Person() { this.name = 'Mary', this.age = 20 } const person2 = Person(); console.log(person2.age) // // =\u003e TypeError: Cannot read property 'age' of undefined\n```\n\nPerson() í•¨ìˆ˜ê°€ í•­ìƒ ìƒì„±ì í˜¸ì¶œì„ í†µí•´ ì‹¤í–‰ë˜ë„ë¡ í•˜ê¸° ìœ„í•´ Person() í•¨ìˆ˜ ì‹œì‘ ë¶€ë¶„ì— ì²´í¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:\n\n```js\nfunction Person() { if (!(this instanceof Person)) { throw Error('Must use the new operator to call the function'); } \nthis.name = 'Mary',\nthis.age = 20 } \nconst person2 = Person(); console.log(person2.age) // // =\u003e Must use the new operator to call the function\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nES6ì—ì„œëŠ” ìƒì„±ìë¡œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ë˜ëŠ” ê°„ë‹¨í•˜ê²Œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ë¥¼ íƒì§€í•  ìˆ˜ ìˆëŠ” new.targetì´ë¼ëŠ” ë©”íƒ€ í”„ë¡œí¼í‹°ë¥¼ ë„ì…í–ˆìŠµë‹ˆë‹¤.\n\nPerson() í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì—¬ new.target ë©”íƒ€í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nfunction Person() { \nif (!new.target) { throw Error('Must use the new operator to call the function'); }\n this.name = 'Mary', this.age = 20 }\n const person2 = Person(); \nconsole.log(person2.age)\n // =\u003e Must use the new operator to call the function\n```\n\ní•¨ìˆ˜ëŠ” ê°ì²´ì´ë©°, ëª¨ë“  JavaScript ê°ì²´ì™€ ê°™ì´ ë©”ì†Œë“œê°€ ìˆìŠµë‹ˆë‹¤. ì´ ì¤‘ ë‘ ê°€ì§€ ë©”ì†Œë“œì¸ call()ê³¼ apply()ëŠ” í•¨ìˆ˜ë¥¼ ê°„ì ‘ì ìœ¼ë¡œ í˜¸ì¶œí•©ë‹ˆë‹¤. ì´ ë‘ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í˜¸ì¶œì— ëŒ€í•´ ëª…ì‹œì ìœ¼ë¡œ this ê°’(ê°ì²´ ì°¸ì¡°)ì„ ì§€ì •í•  ìˆ˜ ìˆì–´ ì–´ë–¤ í•¨ìˆ˜ë“  í•´ë‹¹ ê°ì²´ì˜ ë©”ì†Œë“œë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. call()ê³¼ apply()ëŠ” í˜¸ì¶œì— ëŒ€í•œ ì¸ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. call() ë©”ì†Œë“œëŠ” í•¨ìˆ˜ì— ëŒ€í•´ ìì²´ ì¸ìˆ˜ ëª©ë¡ì„ í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ ì‚¬ìš©í•˜ë©°, apply() ë©”ì†Œë“œëŠ” ì¸ìˆ˜ë¡œ ì‚¬ìš©í•  ê°’ì˜ ë°°ì—´ì„ ê¸°ëŒ€í•©ë‹ˆë‹¤. call() ë° apply() ëª¨ë‘ ì²« ë²ˆì§¸ ì¸ìˆ˜ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë  ê°ì²´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” this í‚¤ì›Œë“œì…ë‹ˆë‹¤.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì˜ˆì‹œ\n\n```js\nfunction getContinent(prefix) { console.log(`${prefix} ${this.continent}`); } \nlet nigeria = { continent: 'Africa' };\nlet china = { continent: 'Asia' }; \ngetContinent.call(nigeria, \"ë‚˜ì´ì§€ë¦¬ì•„ëŠ”\"); getContinent.call(china, \"ì¤‘êµ­ì€\");\n```\n\nì¶œë ¥:\n\n```js\në‚˜ì´ì§€ë¦¬ì•„ëŠ” Africa ì¤‘êµ­ì€ Asia\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ì˜ˆì‹œì—ì„œëŠ” getContinent() í•¨ìˆ˜ë¥¼ ê°„ì ‘ì ìœ¼ë¡œ í˜¸ì¶œí•˜ê¸° ìœ„í•´ getContinent() í•¨ìˆ˜ì˜ call() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. call() ë©”ì†Œë“œì˜ ì²« ë²ˆì§¸ ì¸ìë¡œ nigeriaì™€ china ì˜¤ë¸Œì íŠ¸ë¥¼ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— ê° í˜¸ì¶œì—ì„œ í•´ë‹¹ êµ­ê°€ì˜ ëŒ€ë¥™ì„ ì–»ì—ˆìŠµë‹ˆë‹¤.\n\napply() ë©”ì†Œë“œëŠ” call() ë©”ì†Œë“œì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ë‘ ë²ˆì§¸ ì¸ìë¡œ argument ë°°ì—´ì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ì´ë¯¸ ì•Œê³  ê³„ì‹¤ ê²ƒì…ë‹ˆë‹¤.\n\n```js\ngetContinent.apply(nigeria, [\"ë‚˜ì´ì§€ë¦¬ì•„ëŠ”\"]); getContinent.apply(china, [\"ì¤‘êµ­ì€\"]);\n```\n\nOutput:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\në‚˜ì´ì§€ë¦¬ì•„ëŠ” ì•„í”„ë¦¬ì¹´ì— ìˆê³  ì¤‘êµ­ì€ ì•„ì‹œì•„ì— ìˆìŠµë‹ˆë‹¤.\n```\n\ní™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ JavaScriptëŠ” thisë¥¼ ë ‰ì‹œì»¬í•˜ê²Œ ì„¤ì •í•©ë‹ˆë‹¤. ì´ëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì˜ this ê°’ì´ ê°€ì¥ ê°€ê¹Œìš´ \"ë¹„-í™”ì‚´í‘œ\" í•¨ìˆ˜ì— ì˜í•´ ì •ì˜ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ë˜í•œ, í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisì˜ ê°’ì€ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŠ” í•¨ìˆ˜ì˜ ì „ì²´ ìˆ˜ëª… ì£¼ê¸° ë™ì•ˆ ë™ì¼í•œ ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.\n\nëª‡ ê°€ì§€ ì˜ˆì‹œë¥¼ ì‚´í´ë´…ì‹œë‹¤:\n\n```js\nlet getThis = () =\u003e this; console.log(getThis() === window); // true\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ì˜ˆì‹œì—ì„œëŠ” this ê°’ì´ ì „ì—­ ê°ì²´ì¸ ì¦‰, ì›¹ ë¸Œë¼ìš°ì €ì˜ ì°½ ê°ì²´ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ìŠ¤íƒê³¼ í™ì„ ì´ìš©í•´ ì´ì „ ì½”ë“œë¥¼ ë” ìì„¸íˆ ì´í•´í•´ ë´…ì‹œë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified_4.png)\n\n- getThis í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ì „ì—­ window ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” Global() \"non-arrow\" í•¨ìˆ˜ì— ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ë¥¼ ê°–ìŠµë‹ˆë‹¤.\n- getThis í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ì˜ this ê°’ì€ í•´ë‹¹ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” í•¨ìˆ˜ì˜ this ê°’ì´ ë ‰ì‹œì»¬ë¡œ ìŠ¤ì½”í”„ëœ ê²ƒì´ë¯€ë¡œ ì „ì—­ window ê°ì²´ì…ë‹ˆë‹¤.\n\në‹¤ë¥¸ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì£ :\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nfunction confirmThis () { let getThis = () =\u003e this; console.log(getThis() === window); // true } confirmThis();\n```\n\nê²°ê³¼:\n\nì¼ë°˜ í•¨ìˆ˜ì˜ this ê°’ì€ \"ë¹„ ì—„ê²© ëª¨ë“œ\"ì—ì„œ ì „ì—­ window ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤. this ê°’ì€ confirmThis() í•¨ìˆ˜ì˜ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ì— ë°”ì¸ë”©ë˜ë¯€ë¡œ window ê°ì²´ë¥¼ ê°€ë¦¬í‚¬ ê²ƒì´ë‹¤. ê·¸ëŸ¬ë‚˜ \"ì—„ê²©\" ëª¨ë“œì—ì„œëŠ” ìƒí™©ì´ ë‹¤ë¦…ë‹ˆë‹¤.\n\n```js\nfunction confirmThis () { \"use strict\"; let getThis = () =\u003e this; console.log(getThis() === window); // true } confirmThis();\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì•„ë˜ëŠ” strict ëª¨ë“œì—ì„œ confirmThis() í•¨ìˆ˜ì˜ this ê°’ì´ undefinedë¡œ ì„¤ì •ë˜ë©°, getThis í™”ì‚´í‘œ í•¨ìˆ˜ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤.\n\nì˜ˆì‹œ\n\n```js\nconst module = { x: 42, getX: function() { return this.x; } };\nconst unboundGetX = module.getX; console.log(unboundGetX());\n// í•¨ìˆ˜ëŠ” ì „ì—­ ë²”ìœ„ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤\n// ê¸°ëŒ€ ì¶œë ¥: undefined\nconst boundGetX = unboundGetX.bind(module); console.log(boundGetX()); // ê¸°ëŒ€ ì¶œë ¥: 42\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì•ì„  ì½”ë“œì—ì„œëŠ” ëª¨ë“ˆ ê°ì²´ì˜ ë©”ì„œë“œì¸ getX()ì´ ì „ì—­ ë²”ìœ„ì—ì„œ \"í•¨ìˆ˜\"(ëŒ€ì‹  ëª¨ë“ˆì˜ ë©”ì„œë“œë¡œ)ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ì´ ì°¸ì¡°ê°€ ëª¨ë“ˆ ê°ì²´ì—ì„œ ëˆ„ë½ë©ë‹ˆë‹¤. getX ë©”ì„œë“œê°€ \"í•¨ìˆ˜\"ë¡œ í˜¸ì¶œë  ë•Œ ì´ ì°¸ì¡°ê°€ ì—¬ì „íˆ ëª¨ë“ˆ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ê²Œ í•˜ë ¤ë©´ bind() ë©”ì„œë“œë¥¼ í†µí•´ ëª¨ë“ˆ ê°ì²´ì— \"ë°”ì¸ë”©\"ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. - const boundGetX = unboundGetX.bind(module);.\n\n# ê²°ë¡ \n\nì´ì œ ì´ í‚¤ì›Œë“œê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ì™€ ì ìš©ë˜ëŠ” ë‹¤ì–‘í•œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. í•„ìš”í•œ ê²½ìš° í¸ì•ˆí•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\n\n# ìš”ì•½\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nì´ ê¸€ì—ì„œëŠ” ë‹¤ìŒì„ ë°°ì› ìŠµë‹ˆë‹¤:\n\n- JavaScriptì—ì„œ this í‚¤ì›Œë“œê°€ ë¬´ì—‡ì¸ì§€ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n- Nodeì—ì„œ this í‚¤ì›Œë“œê°€ ë¬´ì—‡ì„ ë‚˜íƒ€ë‚´ëŠ”ì§€ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n- ì „ì—­ ë° í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì—ì„œ this í‚¤ì›Œë“œê°€ ì–´ë–»ê²Œ ê²°ì •ë˜ëŠ”ì§€ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n- í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²• ë° thisì™€ì˜ ê´€ë ¨ì„±ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n- call() ë° apply() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ thisì˜ ê°’ì„ ì œì–´í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n- bind() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n- í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ thisì˜ ë™ì‘ ë°©ì‹ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n# ìš©ì–´ í•´ì„¤\n\nStack ë˜ëŠ” CallStack: ìŠ¤íƒì€ í›„ì…ì„ ì¶œ(LIFO) ì›ì¹™ì„ ë”°ë¥´ëŠ” ë°ì´í„° êµ¬ì¡°ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì‹¤í–‰ ìŠ¤íƒì€ ì½”ë“œ ì‹¤í–‰ ì¤‘ì— ìƒì„±ëœ ëª¨ë“  ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¶”ì í•˜ëŠ” ìŠ¤íƒì…ë‹ˆë‹¤. ë˜í•œ ìŠ¤íƒì€ JavaScriptì—ì„œ ì •ì  ë°ì´í„°(ë³€ìˆ˜ ë° ì°¸ì¡° ê°’)ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ní™: í™ì€ JavaScriptì—ì„œ ë™ì  ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë°ì´í„° êµ¬ì¡°ì…ë‹ˆë‹¤. ì´ ê³³ì—ëŠ” ëª¨ë“  JavaScript ê°ì²´ê°€ ì €ì¥ë©ë‹ˆë‹¤. ë” ì•Œì•„ë³´ë ¤ë©´ [ì—¬ê¸°](ë§í¬)ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.\n\në ‰ì‹œì»¬ ìŠ¤ì½”í”„: ë³´ë‹¤ ì˜ ì´í•´í•˜ê¸° ìœ„í•´ [ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš° ë‹µë³€](ë§í¬)ì„ ì°¸ê³ í•˜ì‹­ì‹œì˜¤.\n\nJavaScript ì—„ê²© ëª¨ë“œ: [MDN](ë§í¬)\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified_5.png)","ogImage":{"url":"/assets/img/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified_0.png"},"coverImage":"/assets/img/2024-06-19-JavaScriptsthiskeywordexplainedanddemystified_0.png","tag":["Tech"],"readingTime":10}],"page":"56","totalPageCount":156,"totalPageGroupCount":8,"lastPageGroup":20,"currentPageGroup":2},"__N_SSG":true},"page":"/posts/[page]","query":{"page":"56"},"buildId":"OFpTzInQeZKWBaqJEukNX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>